/*! For license information please see moment.992091e530b3a39c8537.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[230],{22174:function(e,t,n){var r=n(82530);!function(e,t,i){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var s=o(t),u=o(i),l=a(i),c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function f(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var h=function(e){return e&&e.Math==Math&&e},p=h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof c&&c)||function(){return this}()||Function("return this")(),v={},m=function(e){try{return!!e()}catch(e){return!0}},g=!m((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),y={},b={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,E=_&&!b.call({1:2},1);y.f=E?function(e){var t=_(this,e);return!!t&&t.enumerable}:b;var w,S,T=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},k={}.toString,x=function(e){return k.call(e).slice(8,-1)},A=x,P="".split,O=m((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==A(e)?P.call(e,""):Object(e)}:Object,C=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},I=O,L=C,N=function(e){return I(L(e))},D=function(e){return"object"==typeof e?null!==e:"function"==typeof e},R=p,M=function(e,t){return arguments.length<2?"function"==typeof(n=R[e])?n:void 0:R[e]&&R[e][t];var n},j=M("navigator","userAgent")||"",F=p,V=j,U=F.process,B=F.Deno,z=U&&U.versions||B&&B.version,G=z&&z.v8;G?S=(w=G.split("."))[0]<4?1:w[0]+w[1]:V&&(!(w=V.match(/Edge\/(\d+)/))||w[1]>=74)&&(w=V.match(/Chrome\/(\d+)/))&&(S=w[1]);var q=S&&+S,H=q,W=m,K=!!Object.getOwnPropertySymbols&&!W((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&H&&H<41})),Y=K&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,X=M,$=Y?function(e){return"symbol"==typeof e}:function(e){var t=X("Symbol");return"function"==typeof t&&Object(e)instanceof t},Q=D,J=function(e,t){var n,r;if("string"===t&&"function"==typeof(n=e.toString)&&!Q(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!Q(r=n.call(e)))return r;if("string"!==t&&"function"==typeof(n=e.toString)&&!Q(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},Z={exports:{}},ee=p,te=function(e,t){try{Object.defineProperty(ee,e,{value:t,configurable:!0,writable:!0})}catch(n){ee[e]=t}return t},ne=te,re="__core-js_shared__",ie=p[re]||ne(re,{}),oe=ie;(Z.exports=function(e,t){return oe[e]||(oe[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.17.2",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"});var ae=C,se=function(e){return Object(ae(e))},ue=se,le={}.hasOwnProperty,ce=Object.hasOwn||function(e,t){return le.call(ue(e),t)},de=0,fe=Math.random(),he=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++de+fe).toString(36)},pe=p,ve=Z.exports,me=ce,ge=he,ye=K,be=Y,_e=ve("wks"),Ee=pe.Symbol,we=be?Ee:Ee&&Ee.withoutSetter||ge,Se=function(e){return me(_e,e)&&(ye||"string"==typeof _e[e])||(ye&&me(Ee,e)?_e[e]=Ee[e]:_e[e]=we("Symbol."+e)),_e[e]},Te=D,ke=$,xe=J,Ae=Se("toPrimitive"),Pe=function(e,t){if(!Te(e)||ke(e))return e;var n,r=e[Ae];if(void 0!==r){if(void 0===t&&(t="default"),n=r.call(e,t),!Te(n)||ke(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),xe(e,t)},Oe=Pe,Ce=$,Ie=function(e){var t=Oe(e,"string");return Ce(t)?t:String(t)},Le=D,Ne=p.document,De=Le(Ne)&&Le(Ne.createElement),Re=function(e){return De?Ne.createElement(e):{}},Me=Re,je=!g&&!m((function(){return 7!=Object.defineProperty(Me("div"),"a",{get:function(){return 7}}).a})),Fe=g,Ve=y,Ue=T,Be=N,ze=Ie,Ge=ce,qe=je,He=Object.getOwnPropertyDescriptor;v.f=Fe?He:function(e,t){if(e=Be(e),t=ze(t),qe)try{return He(e,t)}catch(e){}if(Ge(e,t))return Ue(!Ve.f.call(e,t),e[t])};var We={},Ke=D,Ye=function(e){if(!Ke(e))throw TypeError(String(e)+" is not an object");return e},Xe=g,$e=je,Qe=Ye,Je=Ie,Ze=Object.defineProperty;We.f=Xe?Ze:function(e,t,n){if(Qe(e),t=Je(t),Qe(n),$e)try{return Ze(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var et=We,tt=T,nt=g?function(e,t,n){return et.f(e,t,tt(1,n))}:function(e,t,n){return e[t]=n,e},rt={exports:{}},it=ie,ot=Function.toString;"function"!=typeof it.inspectSource&&(it.inspectSource=function(e){return ot.call(e)});var at,st,ut,lt=it.inspectSource,ct=lt,dt=p.WeakMap,ft="function"==typeof dt&&/native code/.test(ct(dt)),ht=Z.exports,pt=he,vt=ht("keys"),mt=function(e){return vt[e]||(vt[e]=pt(e))},gt={},yt=ft,bt=D,_t=nt,Et=ce,wt=ie,St=mt,Tt=gt,kt="Object already initialized",xt=p.WeakMap;if(yt||wt.state){var At=wt.state||(wt.state=new xt),Pt=At.get,Ot=At.has,Ct=At.set;at=function(e,t){if(Ot.call(At,e))throw new TypeError(kt);return t.facade=e,Ct.call(At,e,t),t},st=function(e){return Pt.call(At,e)||{}},ut=function(e){return Ot.call(At,e)}}else{var It=St("state");Tt[It]=!0,at=function(e,t){if(Et(e,It))throw new TypeError(kt);return t.facade=e,_t(e,It,t),t},st=function(e){return Et(e,It)?e[It]:{}},ut=function(e){return Et(e,It)}}var Lt={set:at,get:st,has:ut,enforce:function(e){return ut(e)?st(e):at(e,{})},getterFor:function(e){return function(t){var n;if(!bt(t)||(n=st(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Nt=p,Dt=nt,Rt=ce,Mt=te,jt=lt,Ft=Lt.get,Vt=Lt.enforce,Ut=String(String).split("String");(rt.exports=function(e,t,n,r){var i,o=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof t||Rt(n,"name")||Dt(n,"name",t),(i=Vt(n)).source||(i.source=Ut.join("string"==typeof t?t:""))),e!==Nt?(o?!s&&e[t]&&(a=!0):delete e[t],a?e[t]=n:Dt(e,t,n)):a?e[t]=n:Mt(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&Ft(this).source||jt(this)}));var Bt={},zt=Math.ceil,Gt=Math.floor,qt=function(e){return isNaN(e=+e)?0:(e>0?Gt:zt)(e)},Ht=qt,Wt=Math.min,Kt=function(e){return e>0?Wt(Ht(e),9007199254740991):0},Yt=qt,Xt=Math.max,$t=Math.min,Qt=function(e,t){var n=Yt(e);return n<0?Xt(n+t,0):$t(n,t)},Jt=N,Zt=Kt,en=Qt,tn=function(e){return function(t,n,r){var i,o=Jt(t),a=Zt(o.length),s=en(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},nn={includes:tn(!0),indexOf:tn(!1)},rn=ce,on=N,an=nn.indexOf,sn=gt,un=function(e,t){var n,r=on(e),i=0,o=[];for(n in r)!rn(sn,n)&&rn(r,n)&&o.push(n);for(;t.length>i;)rn(r,n=t[i++])&&(~an(o,n)||o.push(n));return o},ln=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],cn=un,dn=ln.concat("length","prototype");Bt.f=Object.getOwnPropertyNames||function(e){return cn(e,dn)};var fn={};fn.f=Object.getOwnPropertySymbols;var hn,pn=Bt,vn=fn,mn=Ye,gn=M("Reflect","ownKeys")||function(e){var t=pn.f(mn(e)),n=vn.f;return n?t.concat(n(e)):t},yn=ce,bn=gn,_n=v,En=We,wn=function(e,t){for(var n=bn(t),r=En.f,i=_n.f,o=0;o<n.length;o++){var a=n[o];yn(e,a)||r(e,a,i(t,a))}},Sn=m,Tn=/#|\.prototype\./,kn=function(e,t){var n=An[xn(e)];return n==On||n!=Pn&&("function"==typeof t?Sn(t):!!t)},xn=kn.normalize=function(e){return String(e).replace(Tn,".").toLowerCase()},An=kn.data={},Pn=kn.NATIVE="N",On=kn.POLYFILL="P",Cn=kn,In=p,Ln=v.f,Nn=nt,Dn=rt.exports,Rn=te,Mn=wn,jn=Cn,Fn=function(e,t){var n,r,i,o,a,s=e.target,u=e.global,l=e.stat;if(n=u?In:l?In[s]||Rn(s,{}):(In[s]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(a=Ln(n,r))&&a.value:n[r],!jn(u?r:s+(l?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Mn(o,i)}(e.sham||i&&i.sham)&&Nn(o,"sham",!0),Dn(n,r,o,e)}},Vn=x,Un=Array.isArray||function(e){return"Array"==Vn(e)},Bn=$,zn=function(e){if(Bn(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)},Gn=un,qn=ln,Hn=Object.keys||function(e){return Gn(e,qn)},Wn=We,Kn=Ye,Yn=Hn,Xn=g?Object.defineProperties:function(e,t){Kn(e);for(var n,r=Yn(t),i=r.length,o=0;i>o;)Wn.f(e,n=r[o++],t[n]);return e},$n=M("document","documentElement"),Qn=Ye,Jn=Xn,Zn=ln,er=gt,tr=$n,nr=Re,rr="prototype",ir="script",or=mt("IE_PROTO"),ar=function(){},sr=function(e){return"<"+ir+">"+e+"</"+ir+">"},ur=function(e){e.write(sr("")),e.close();var t=e.parentWindow.Object;return e=null,t},lr=function(){try{hn=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;lr="undefined"!=typeof document?document.domain&&hn?ur(hn):(t=nr("iframe"),n="java"+ir+":",t.style.display="none",tr.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(sr("document.F=Object")),e.close(),e.F):ur(hn);for(var r=Zn.length;r--;)delete lr[rr][Zn[r]];return lr()};er[or]=!0;var cr=Object.create||function(e,t){var n;return null!==e?(ar[rr]=Qn(e),n=new ar,ar[rr]=null,n[or]=e):n=lr(),void 0===t?n:Jn(n,t)},dr={},fr=N,hr=Bt.f,pr={}.toString,vr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];dr.f=function(e){return vr&&"[object Window]"==pr.call(e)?function(e){try{return hr(e)}catch(e){return vr.slice()}}(e):hr(fr(e))};var mr={},gr=Se;mr.f=gr;var yr=p,br=ce,_r=mr,Er=We.f,wr=function(e){var t=yr.Symbol||(yr.Symbol={});br(t,e)||Er(t,e,{value:_r.f(e)})},Sr=We.f,Tr=ce,kr=Se("toStringTag"),xr=function(e,t,n){e&&!Tr(e=n?e:e.prototype,kr)&&Sr(e,kr,{configurable:!0,value:t})},Ar=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Pr=Ar,Or=function(e,t,n){if(Pr(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},Cr=D,Ir=Un,Lr=Se("species"),Nr=function(e){var t;return Ir(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!Ir(t.prototype)?Cr(t)&&null===(t=t[Lr])&&(t=void 0):t=void 0),void 0===t?Array:t},Dr=function(e,t){return new(Nr(e))(0===t?0:t)},Rr=Or,Mr=O,jr=se,Fr=Kt,Vr=Dr,Ur=[].push,Br=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(u,l,c,d){for(var f,h,p=jr(u),v=Mr(p),m=Rr(l,c,3),g=Fr(v.length),y=0,b=d||Vr,_=t?b(u,g):n||a?b(u,0):void 0;g>y;y++)if((s||y in v)&&(h=m(f=v[y],y,p),e))if(t)_[y]=h;else if(h)switch(e){case 3:return!0;case 5:return f;case 6:return y;case 2:Ur.call(_,f)}else switch(e){case 4:return!1;case 7:Ur.call(_,f)}return o?-1:r||i?i:_}},zr={forEach:Br(0),map:Br(1),filter:Br(2),some:Br(3),every:Br(4),find:Br(5),findIndex:Br(6),filterReject:Br(7)},Gr=Fn,qr=p,Hr=M,Wr=g,Kr=K,Yr=m,Xr=ce,$r=Un,Qr=D,Jr=$,Zr=Ye,ei=se,ti=N,ni=Ie,ri=zn,ii=T,oi=cr,ai=Hn,si=Bt,ui=dr,li=fn,ci=v,di=We,fi=y,hi=nt,pi=rt.exports,vi=Z.exports,mi=gt,gi=he,yi=Se,bi=mr,_i=wr,Ei=xr,wi=Lt,Si=zr.forEach,Ti=mt("hidden"),ki="Symbol",xi="prototype",Ai=yi("toPrimitive"),Pi=wi.set,Oi=wi.getterFor(ki),Ci=Object[xi],Ii=qr.Symbol,Li=Hr("JSON","stringify"),Ni=ci.f,Di=di.f,Ri=ui.f,Mi=fi.f,ji=vi("symbols"),Fi=vi("op-symbols"),Vi=vi("string-to-symbol-registry"),Ui=vi("symbol-to-string-registry"),Bi=vi("wks"),zi=qr.QObject,Gi=!zi||!zi[xi]||!zi[xi].findChild,qi=Wr&&Yr((function(){return 7!=oi(Di({},"a",{get:function(){return Di(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Ni(Ci,t);r&&delete Ci[t],Di(e,t,n),r&&e!==Ci&&Di(Ci,t,r)}:Di,Hi=function(e,t){var n=ji[e]=oi(Ii[xi]);return Pi(n,{type:ki,tag:e,description:t}),Wr||(n.description=t),n},Wi=function(e,t,n){e===Ci&&Wi(Fi,t,n),Zr(e);var r=ni(t);return Zr(n),Xr(ji,r)?(n.enumerable?(Xr(e,Ti)&&e[Ti][r]&&(e[Ti][r]=!1),n=oi(n,{enumerable:ii(0,!1)})):(Xr(e,Ti)||Di(e,Ti,ii(1,{})),e[Ti][r]=!0),qi(e,r,n)):Di(e,r,n)},Ki=function(e,t){Zr(e);var n=ti(t),r=ai(n).concat(Qi(n));return Si(r,(function(t){Wr&&!Yi.call(n,t)||Wi(e,t,n[t])})),e},Yi=function(e){var t=ni(e),n=Mi.call(this,t);return!(this===Ci&&Xr(ji,t)&&!Xr(Fi,t))&&(!(n||!Xr(this,t)||!Xr(ji,t)||Xr(this,Ti)&&this[Ti][t])||n)},Xi=function(e,t){var n=ti(e),r=ni(t);if(n!==Ci||!Xr(ji,r)||Xr(Fi,r)){var i=Ni(n,r);return!i||!Xr(ji,r)||Xr(n,Ti)&&n[Ti][r]||(i.enumerable=!0),i}},$i=function(e){var t=Ri(ti(e)),n=[];return Si(t,(function(e){Xr(ji,e)||Xr(mi,e)||n.push(e)})),n},Qi=function(e){var t=e===Ci,n=Ri(t?Fi:ti(e)),r=[];return Si(n,(function(e){!Xr(ji,e)||t&&!Xr(Ci,e)||r.push(ji[e])})),r};Kr||(Ii=function(){if(this instanceof Ii)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?ri(arguments[0]):void 0,t=gi(e),n=function(e){this===Ci&&n.call(Fi,e),Xr(this,Ti)&&Xr(this[Ti],t)&&(this[Ti][t]=!1),qi(this,t,ii(1,e))};return Wr&&Gi&&qi(Ci,t,{configurable:!0,set:n}),Hi(t,e)},pi(Ii[xi],"toString",(function(){return Oi(this).tag})),pi(Ii,"withoutSetter",(function(e){return Hi(gi(e),e)})),fi.f=Yi,di.f=Wi,ci.f=Xi,si.f=ui.f=$i,li.f=Qi,bi.f=function(e){return Hi(yi(e),e)},Wr&&(Di(Ii[xi],"description",{configurable:!0,get:function(){return Oi(this).description}}),pi(Ci,"propertyIsEnumerable",Yi,{unsafe:!0}))),Gr({global:!0,wrap:!0,forced:!Kr,sham:!Kr},{Symbol:Ii}),Si(ai(Bi),(function(e){_i(e)})),Gr({target:ki,stat:!0,forced:!Kr},{for:function(e){var t=ri(e);if(Xr(Vi,t))return Vi[t];var n=Ii(t);return Vi[t]=n,Ui[n]=t,n},keyFor:function(e){if(!Jr(e))throw TypeError(e+" is not a symbol");if(Xr(Ui,e))return Ui[e]},useSetter:function(){Gi=!0},useSimple:function(){Gi=!1}}),Gr({target:"Object",stat:!0,forced:!Kr,sham:!Wr},{create:function(e,t){return void 0===t?oi(e):Ki(oi(e),t)},defineProperty:Wi,defineProperties:Ki,getOwnPropertyDescriptor:Xi}),Gr({target:"Object",stat:!0,forced:!Kr},{getOwnPropertyNames:$i,getOwnPropertySymbols:Qi}),Gr({target:"Object",stat:!0,forced:Yr((function(){li.f(1)}))},{getOwnPropertySymbols:function(e){return li.f(ei(e))}}),Li&&Gr({target:"JSON",stat:!0,forced:!Kr||Yr((function(){var e=Ii();return"[null]"!=Li([e])||"{}"!=Li({a:e})||"{}"!=Li(Object(e))}))},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(Qr(t)||void 0!==e)&&!Jr(e))return $r(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Jr(t))return t}),i[1]=t,Li.apply(null,i)}}),Ii[xi][Ai]||hi(Ii[xi],Ai,Ii[xi].valueOf),Ei(Ii,ki),mi[Ti]=!0;var Ji=Fn,Zi=g,eo=p,to=ce,no=D,ro=We.f,io=wn,oo=eo.Symbol;if(Zi&&"function"==typeof oo&&(!("description"in oo.prototype)||void 0!==oo().description)){var ao={},so=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof so?new oo(e):void 0===e?oo():oo(e);return""===e&&(ao[t]=!0),t};io(so,oo);var uo=so.prototype=oo.prototype;uo.constructor=so;var lo=uo.toString,co="Symbol(test)"==String(oo("test")),fo=/^Symbol\((.*)\)[^)]+$/;ro(uo,"description",{configurable:!0,get:function(){var e=no(this)?this.valueOf():this,t=lo.call(e);if(to(ao,e))return"";var n=co?t.slice(7,-1):t.replace(fo,"$1");return""===n?void 0:n}}),Ji({global:!0,forced:!0},{Symbol:so})}wr("asyncIterator"),wr("hasInstance"),wr("isConcatSpreadable"),wr("iterator"),wr("match"),wr("matchAll"),wr("replace"),wr("search"),wr("species"),wr("split"),wr("toPrimitive"),wr("toStringTag"),wr("unscopables");var ho=!m((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),po=ce,vo=se,mo=ho,go=mt("IE_PROTO"),yo=Object.prototype,bo=mo?Object.getPrototypeOf:function(e){return e=vo(e),po(e,go)?e[go]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?yo:null},_o=D,Eo=function(e){if(!_o(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e},wo=Ye,So=Eo,To=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return wo(n),So(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),ko={},xo=ko,Ao=Se("iterator"),Po=Array.prototype,Oo=function(e){return void 0!==e&&(xo.Array===e||Po[Ao]===e)},Co={};Co[Se("toStringTag")]="z";var Io="[object z]"===String(Co),Lo=Io,No=x,Do=Se("toStringTag"),Ro="Arguments"==No(function(){return arguments}()),Mo=Lo?No:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Do))?n:Ro?No(t):"Object"==(r=No(t))&&"function"==typeof t.callee?"Arguments":r},jo=Mo,Fo=ko,Vo=Se("iterator"),Uo=function(e){if(null!=e)return e[Vo]||e["@@iterator"]||Fo[jo(e)]},Bo=Ye,zo=Uo,Go=function(e,t){var n=arguments.length<2?zo(e):t;if("function"!=typeof n)throw TypeError(String(e)+" is not iterable");return Bo(n.call(e))},qo=Ye,Ho=function(e,t,n){var r,i;qo(e);try{if(void 0===(r=e.return)){if("throw"===t)throw n;return n}r=r.call(e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return qo(r),n},Wo=Ye,Ko=Oo,Yo=Kt,Xo=Or,$o=Go,Qo=Uo,Jo=Ho,Zo=function(e,t){this.stopped=e,this.result=t},ea=function(e,t,n){var r,i,o,a,s,u,l,c=n&&n.that,d=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),p=Xo(t,c,1+d+h),v=function(e){return r&&Jo(r,"normal",e),new Zo(!0,e)},m=function(e){return d?(Wo(e),h?p(e[0],e[1],v):p(e[0],e[1])):h?p(e,v):p(e)};if(f)r=e;else{if("function"!=typeof(i=Qo(e)))throw TypeError("Target is not iterable");if(Ko(i)){for(o=0,a=Yo(e.length);a>o;o++)if((s=m(e[o]))&&s instanceof Zo)return s;return new Zo(!1)}r=$o(e,i)}for(u=r.next;!(l=u.call(r)).done;){try{s=m(l.value)}catch(e){Jo(r,"throw",e)}if("object"==typeof s&&s&&s instanceof Zo)return s}return new Zo(!1)},ta=Fn,na=bo,ra=To,ia=cr,oa=nt,aa=T,sa=ea,ua=zn,la=function(e,t){var n=this;if(!(n instanceof la))return new la(e,t);ra&&(n=ra(new Error(void 0),na(n))),void 0!==t&&oa(n,"message",ua(t));var r=[];return sa(e,r.push,{that:r}),oa(n,"errors",r),n};la.prototype=ia(Error.prototype,{constructor:aa(5,la),message:aa(5,""),name:aa(5,"AggregateError")}),ta({global:!0},{AggregateError:la});var ca=cr,da=We,fa=Se("unscopables"),ha=Array.prototype;null==ha[fa]&&da.f(ha,fa,{configurable:!0,value:ca(null)});var pa=function(e){ha[fa][e]=!0},va=se,ma=Kt,ga=qt,ya=pa;Fn({target:"Array",proto:!0},{at:function(e){var t=va(this),n=ma(t.length),r=ga(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:t[i]}}),ya("at");var ba=Ie,_a=We,Ea=T,wa=function(e,t,n){var r=ba(t);r in e?_a.f(e,r,Ea(0,n)):e[r]=n},Sa=m,Ta=q,ka=Se("species"),xa=function(e){return Ta>=51||!Sa((function(){var t=[];return(t.constructor={})[ka]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Aa=Fn,Pa=m,Oa=Un,Ca=D,Ia=se,La=Kt,Na=wa,Da=Dr,Ra=xa,Ma=q,ja=Se("isConcatSpreadable"),Fa=9007199254740991,Va="Maximum allowed index exceeded",Ua=Ma>=51||!Pa((function(){var e=[];return e[ja]=!1,e.concat()[0]!==e})),Ba=Ra("concat"),za=function(e){if(!Ca(e))return!1;var t=e[ja];return void 0!==t?!!t:Oa(e)};Aa({target:"Array",proto:!0,forced:!Ua||!Ba},{concat:function(e){var t,n,r,i,o,a=Ia(this),s=Da(a,0),u=0;for(t=-1,r=arguments.length;t<r;t++)if(za(o=-1===t?a:arguments[t])){if(u+(i=La(o.length))>Fa)throw TypeError(Va);for(n=0;n<i;n++,u++)n in o&&Na(s,u,o[n])}else{if(u>=Fa)throw TypeError(Va);Na(s,u++,o)}return s.length=u,s}});var Ga=se,qa=Qt,Ha=Kt,Wa=Math.min,Ka=[].copyWithin||function(e,t){var n=Ga(this),r=Ha(n.length),i=qa(e,r),o=qa(t,r),a=arguments.length>2?arguments[2]:void 0,s=Wa((void 0===a?r:qa(a,r))-o,r-i),u=1;for(o<i&&i<o+s&&(u=-1,o+=s-1,i+=s-1);s-- >0;)o in n?n[i]=n[o]:delete n[i],i+=u,o+=u;return n},Ya=pa;Fn({target:"Array",proto:!0},{copyWithin:Ka}),Ya("copyWithin");var Xa=m,$a=function(e,t){var n=[][e];return!!n&&Xa((function(){n.call(null,t||function(){throw 1},1)}))},Qa=zr.every;Fn({target:"Array",proto:!0,forced:!$a("every")},{every:function(e){return Qa(this,e,arguments.length>1?arguments[1]:void 0)}});var Ja=se,Za=Qt,es=Kt,ts=function(e){for(var t=Ja(this),n=es(t.length),r=arguments.length,i=Za(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:Za(o,n);a>i;)t[i++]=e;return t},ns=pa;Fn({target:"Array",proto:!0},{fill:ts}),ns("fill");var rs=zr.filter;Fn({target:"Array",proto:!0,forced:!xa("filter")},{filter:function(e){return rs(this,e,arguments.length>1?arguments[1]:void 0)}});var is=Fn,os=zr.find,as=pa,ss="find",us=!0;ss in[]&&Array(1)[ss]((function(){us=!1})),is({target:"Array",proto:!0,forced:us},{find:function(e){return os(this,e,arguments.length>1?arguments[1]:void 0)}}),as(ss);var ls=Fn,cs=zr.findIndex,ds=pa,fs="findIndex",hs=!0;fs in[]&&Array(1)[fs]((function(){hs=!1})),ls({target:"Array",proto:!0,forced:hs},{findIndex:function(e){return cs(this,e,arguments.length>1?arguments[1]:void 0)}}),ds(fs);var ps=Un,vs=Kt,ms=Or,gs=function(e,t,n,r,i,o,a,s){for(var u,l=i,c=0,d=!!a&&ms(a,s,3);c<r;){if(c in n){if(u=d?d(n[c],c,t):n[c],o>0&&ps(u))l=gs(e,t,u,vs(u.length),l,o-1)-1;else{if(l>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[l]=u}l++}c++}return l},ys=gs,bs=ys,_s=se,Es=Kt,ws=qt,Ss=Dr;Fn({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=_s(this),n=Es(t.length),r=Ss(t,0);return r.length=bs(r,t,t,n,0,void 0===e?1:ws(e)),r}});var Ts=ys,ks=se,xs=Kt,As=Ar,Ps=Dr;Fn({target:"Array",proto:!0},{flatMap:function(e){var t,n=ks(this),r=xs(n.length);return As(e),(t=Ps(n,0)).length=Ts(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var Os=zr.forEach,Cs=$a("forEach")?[].forEach:function(e){return Os(this,e,arguments.length>1?arguments[1]:void 0)};Fn({target:"Array",proto:!0,forced:[].forEach!=Cs},{forEach:Cs});var Is=Ye,Ls=Ho,Ns=Or,Ds=se,Rs=function(e,t,n,r){try{return r?t(Is(n)[0],n[1]):t(n)}catch(t){Ls(e,"throw",t)}},Ms=Oo,js=Kt,Fs=wa,Vs=Go,Us=Uo,Bs=function(e){var t,n,r,i,o,a,s=Ds(e),u="function"==typeof this?this:Array,l=arguments.length,c=l>1?arguments[1]:void 0,d=void 0!==c,f=Us(s),h=0;if(d&&(c=Ns(c,l>2?arguments[2]:void 0,2)),null==f||u==Array&&Ms(f))for(n=new u(t=js(s.length));t>h;h++)a=d?c(s[h],h):s[h],Fs(n,h,a);else for(o=(i=Vs(s,f)).next,n=new u;!(r=o.call(i)).done;h++)a=d?Rs(i,c,[r.value,h],!0):r.value,Fs(n,h,a);return n.length=h,n},zs=Se("iterator"),Gs=!1;try{var qs=0,Hs={next:function(){return{done:!!qs++}},return:function(){Gs=!0}};Hs[zs]=function(){return this},Array.from(Hs,(function(){throw 2}))}catch(oMe){}var Ws=function(e,t){if(!t&&!Gs)return!1;var n=!1;try{var r={};r[zs]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},Ks=Bs;Fn({target:"Array",stat:!0,forced:!Ws((function(e){Array.from(e)}))},{from:Ks});var Ys=nn.includes,Xs=pa;Fn({target:"Array",proto:!0},{includes:function(e){return Ys(this,e,arguments.length>1?arguments[1]:void 0)}}),Xs("includes");var $s=Fn,Qs=nn.indexOf,Js=$a,Zs=[].indexOf,eu=!!Zs&&1/[1].indexOf(1,-0)<0,tu=Js("indexOf");$s({target:"Array",proto:!0,forced:eu||!tu},{indexOf:function(e){return eu?Zs.apply(this,arguments)||0:Qs(this,e,arguments.length>1?arguments[1]:void 0)}}),Fn({target:"Array",stat:!0},{isArray:Un});var nu,ru,iu,ou=m,au=bo,su=nt,uu=ce,lu=Se("iterator"),cu=!1;[].keys&&("next"in(iu=[].keys())?(ru=au(au(iu)))!==Object.prototype&&(nu=ru):cu=!0);var du=null==nu||ou((function(){var e={};return nu[lu].call(e)!==e}));du&&(nu={}),uu(nu,lu)||su(nu,lu,(function(){return this}));var fu={IteratorPrototype:nu,BUGGY_SAFARI_ITERATORS:cu},hu=fu.IteratorPrototype,pu=cr,vu=T,mu=xr,gu=ko,yu=function(){return this},bu=function(e,t,n){var r=t+" Iterator";return e.prototype=pu(hu,{next:vu(1,n)}),mu(e,r,!1),gu[r]=yu,e},_u=Fn,Eu=bu,wu=bo,Su=To,Tu=xr,ku=nt,xu=rt.exports,Au=ko,Pu=fu.IteratorPrototype,Ou=fu.BUGGY_SAFARI_ITERATORS,Cu=Se("iterator"),Iu="keys",Lu="values",Nu="entries",Du=function(){return this},Ru=function(e,t,n,r,i,o,a){Eu(n,t,r);var s,u,l,c=function(e){if(e===i&&v)return v;if(!Ou&&e in h)return h[e];switch(e){case Iu:case Lu:case Nu:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",f=!1,h=e.prototype,p=h[Cu]||h["@@iterator"]||i&&h[i],v=!Ou&&p||c(i),m="Array"==t&&h.entries||p;if(m&&(s=wu(m.call(new e)),Pu!==Object.prototype&&s.next&&(wu(s)!==Pu&&(Su?Su(s,Pu):"function"!=typeof s[Cu]&&ku(s,Cu,Du)),Tu(s,d,!0))),i==Lu&&p&&p.name!==Lu&&(f=!0,v=function(){return p.call(this)}),h[Cu]!==v&&ku(h,Cu,v),Au[t]=v,i)if(u={values:c(Lu),keys:o?v:c(Iu),entries:c(Nu)},a)for(l in u)(Ou||f||!(l in h))&&xu(h,l,u[l]);else _u({target:t,proto:!0,forced:Ou||f},u);return u},Mu=N,ju=pa,Fu=ko,Vu=Lt,Uu=Ru,Bu="Array Iterator",zu=Vu.set,Gu=Vu.getterFor(Bu),qu=Uu(Array,"Array",(function(e,t){zu(this,{type:Bu,target:Mu(e),index:0,kind:t})}),(function(){var e=Gu(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");Fu.Arguments=Fu.Array,ju("keys"),ju("values"),ju("entries");var Hu=Fn,Wu=N,Ku=[].join,Yu=O!=Object,Xu=$a("join",",");Hu({target:"Array",proto:!0,forced:Yu||!Xu},{join:function(e){return Ku.call(Wu(this),void 0===e?",":e)}});var $u=N,Qu=qt,Ju=Kt,Zu=$a,el=Math.min,tl=[].lastIndexOf,nl=!!tl&&1/[1].lastIndexOf(1,-0)<0,rl=Zu("lastIndexOf"),il=nl||!rl?function(e){if(nl)return tl.apply(this,arguments)||0;var t=$u(this),n=Ju(t.length),r=n-1;for(arguments.length>1&&(r=el(r,Qu(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:tl;Fn({target:"Array",proto:!0,forced:il!==[].lastIndexOf},{lastIndexOf:il});var ol=zr.map;Fn({target:"Array",proto:!0,forced:!xa("map")},{map:function(e){return ol(this,e,arguments.length>1?arguments[1]:void 0)}});var al=wa;Fn({target:"Array",stat:!0,forced:m((function(){function e(){}return!(Array.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)al(n,e,arguments[e++]);return n.length=t,n}});var sl=Ar,ul=se,ll=O,cl=Kt,dl=function(e){return function(t,n,r,i){sl(n);var o=ul(t),a=ll(o),s=cl(o.length),u=e?s-1:0,l=e?-1:1;if(r<2)for(;;){if(u in a){i=a[u],u+=l;break}if(u+=l,e?u<0:s<=u)throw TypeError("Reduce of empty array with no initial value")}for(;e?u>=0:s>u;u+=l)u in a&&(i=n(i,a[u],u,o));return i}},fl={left:dl(!1),right:dl(!0)},hl="process"==x(p.process),pl=fl.left,vl=q,ml=hl;Fn({target:"Array",proto:!0,forced:!$a("reduce")||!ml&&vl>79&&vl<83},{reduce:function(e){return pl(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var gl=fl.right,yl=q,bl=hl;Fn({target:"Array",proto:!0,forced:!$a("reduceRight")||!bl&&yl>79&&yl<83},{reduceRight:function(e){return gl(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var _l=Un,El=[].reverse,wl=[1,2];Fn({target:"Array",proto:!0,forced:String(wl)===String(wl.reverse())},{reverse:function(){return _l(this)&&(this.length=this.length),El.call(this)}});var Sl=Fn,Tl=D,kl=Un,xl=Qt,Al=Kt,Pl=N,Ol=wa,Cl=Se,Il=xa("slice"),Ll=Cl("species"),Nl=[].slice,Dl=Math.max;Sl({target:"Array",proto:!0,forced:!Il},{slice:function(e,t){var n,r,i,o=Pl(this),a=Al(o.length),s=xl(e,a),u=xl(void 0===t?a:t,a);if(kl(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!kl(n.prototype)?Tl(n)&&null===(n=n[Ll])&&(n=void 0):n=void 0,n===Array||void 0===n))return Nl.call(o,s,u);for(r=new(void 0===n?Array:n)(Dl(u-s,0)),i=0;s<u;s++,i++)s in o&&Ol(r,i,o[s]);return r.length=i,r}});var Rl=zr.some;Fn({target:"Array",proto:!0,forced:!$a("some")},{some:function(e){return Rl(this,e,arguments.length>1?arguments[1]:void 0)}});var Ml=Math.floor,jl=function(e,t){var n=e.length,r=Ml(n/2);return n<8?Fl(e,t):Vl(jl(e.slice(0,r),t),jl(e.slice(r),t),t)},Fl=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},Vl=function(e,t,n){for(var r=e.length,i=t.length,o=0,a=0,s=[];o<r||a<i;)o<r&&a<i?s.push(n(e[o],t[a])<=0?e[o++]:t[a++]):s.push(o<r?e[o++]:t[a++]);return s},Ul=jl,Bl=j.match(/firefox\/(\d+)/i),zl=!!Bl&&+Bl[1],Gl=/MSIE|Trident/.test(j),ql=j.match(/AppleWebKit\/(\d+)\./),Hl=!!ql&&+ql[1],Wl=Fn,Kl=Ar,Yl=se,Xl=Kt,$l=zn,Ql=m,Jl=Ul,Zl=$a,ec=zl,tc=Gl,nc=q,rc=Hl,ic=[],oc=ic.sort,ac=Ql((function(){ic.sort(void 0)})),sc=Ql((function(){ic.sort(null)})),uc=Zl("sort"),lc=!Ql((function(){if(nc)return nc<70;if(!(ec&&ec>3)){if(tc)return!0;if(rc)return rc<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)ic.push({k:t+r,v:n})}for(ic.sort((function(e,t){return t.v-e.v})),r=0;r<ic.length;r++)t=ic[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));Wl({target:"Array",proto:!0,forced:ac||!sc||!uc||!lc},{sort:function(e){void 0!==e&&Kl(e);var t=Yl(this);if(lc)return void 0===e?oc.call(t):oc.call(t,e);var n,r,i=[],o=Xl(t.length);for(r=0;r<o;r++)r in t&&i.push(t[r]);for(i=Jl(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:$l(t)>$l(n)?1:-1}}(e)),n=i.length,r=0;r<n;)t[r]=i[r++];for(;r<o;)delete t[r++];return t}});var cc=M,dc=We,fc=g,hc=Se("species"),pc=function(e){var t=cc(e),n=dc.f;fc&&t&&!t[hc]&&n(t,hc,{configurable:!0,get:function(){return this}})};pc("Array");var vc=Fn,mc=Qt,gc=qt,yc=Kt,bc=se,_c=Dr,Ec=wa,wc=xa("splice"),Sc=Math.max,Tc=Math.min;vc({target:"Array",proto:!0,forced:!wc},{splice:function(e,t){var n,r,i,o,a,s,u=bc(this),l=yc(u.length),c=mc(e,l),d=arguments.length;if(0===d?n=r=0:1===d?(n=0,r=l-c):(n=d-2,r=Tc(Sc(gc(t),0),l-c)),l+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=_c(u,r),o=0;o<r;o++)(a=c+o)in u&&Ec(i,o,u[a]);if(i.length=r,n<r){for(o=c;o<l-r;o++)s=o+n,(a=o+r)in u?u[s]=u[a]:delete u[s];for(o=l;o>l-r+n;o--)delete u[o-1]}else if(n>r)for(o=l-r;o>c;o--)s=o+n-1,(a=o+r-1)in u?u[s]=u[a]:delete u[s];for(o=0;o<n;o++)u[o+c]=arguments[o+2];return u.length=l-r+n,i}}),pa("flat"),pa("flatMap");var kc="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,xc=rt.exports,Ac=function(e,t,n){for(var r in t)xc(e,r,t[r],n);return e},Pc=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Oc=qt,Cc=Kt,Ic=function(e){if(void 0===e)return 0;var t=Oc(e),n=Cc(t);if(t!==n)throw RangeError("Wrong length or index");return n},Lc=Math.abs,Nc=Math.pow,Dc=Math.floor,Rc=Math.log,Mc=Math.LN2,jc={pack:function(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,u=(1<<s)-1,l=u>>1,c=23===t?Nc(2,-24)-Nc(2,-77):0,d=e<0||0===e&&1/e<0?1:0,f=0;for((e=Lc(e))!=e||e===1/0?(i=e!=e?1:0,r=u):(r=Dc(Rc(e)/Mc),e*(o=Nc(2,-r))<1&&(r--,o*=2),(e+=r+l>=1?c/o:c*Nc(2,1-l))*o>=2&&(r++,o/=2),r+l>=u?(i=0,r=u):r+l>=1?(i=(e*o-1)*Nc(2,t),r+=l):(i=e*Nc(2,l-1)*Nc(2,t),r=0));t>=8;a[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a},unpack:function(e,t){var n,r=e.length,i=8*r-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=r-1,l=e[u--],c=127&l;for(l>>=7;s>0;c=256*c+e[u],u--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=t;s>0;n=256*n+e[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return n?NaN:l?-1/0:1/0;n+=Nc(2,t),c-=a}return(l?-1:1)*n*Nc(2,c-t)}},Fc=p,Vc=g,Uc=kc,Bc=nt,zc=Ac,Gc=m,qc=Pc,Hc=qt,Wc=Kt,Kc=Ic,Yc=jc,Xc=bo,$c=To,Qc=Bt.f,Jc=We.f,Zc=ts,ed=xr,td=Lt.get,nd=Lt.set,rd="ArrayBuffer",id="DataView",od="prototype",ad="Wrong index",sd=Fc[rd],ud=sd,ld=Fc[id],cd=ld&&ld[od],dd=Object.prototype,fd=Fc.RangeError,hd=Yc.pack,pd=Yc.unpack,vd=function(e){return[255&e]},md=function(e){return[255&e,e>>8&255]},gd=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},yd=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},bd=function(e){return hd(e,23,4)},_d=function(e){return hd(e,52,8)},Ed=function(e,t){Jc(e[od],t,{get:function(){return td(this)[t]}})},wd=function(e,t,n,r){var i=Kc(n),o=td(e);if(i+t>o.byteLength)throw fd(ad);var a=td(o.buffer).bytes,s=i+o.byteOffset,u=a.slice(s,s+t);return r?u:u.reverse()},Sd=function(e,t,n,r,i,o){var a=Kc(n),s=td(e);if(a+t>s.byteLength)throw fd(ad);for(var u=td(s.buffer).bytes,l=a+s.byteOffset,c=r(+i),d=0;d<t;d++)u[l+d]=c[o?d:t-d-1]};if(Uc){if(!Gc((function(){sd(1)}))||!Gc((function(){new sd(-1)}))||Gc((function(){return new sd,new sd(1.5),new sd(NaN),sd.name!=rd}))){for(var Td,kd=(ud=function(e){return qc(this,ud),new sd(Kc(e))})[od]=sd[od],xd=Qc(sd),Ad=0;xd.length>Ad;)(Td=xd[Ad++])in ud||Bc(ud,Td,sd[Td]);kd.constructor=ud}$c&&Xc(cd)!==dd&&$c(cd,dd);var Pd=new ld(new ud(2)),Od=cd.setInt8;Pd.setInt8(0,2147483648),Pd.setInt8(1,2147483649),!Pd.getInt8(0)&&Pd.getInt8(1)||zc(cd,{setInt8:function(e,t){Od.call(this,e,t<<24>>24)},setUint8:function(e,t){Od.call(this,e,t<<24>>24)}},{unsafe:!0})}else ud=function(e){qc(this,ud,rd);var t=Kc(e);nd(this,{bytes:Zc.call(new Array(t),0),byteLength:t}),Vc||(this.byteLength=t)},ld=function(e,t,n){qc(this,ld,id),qc(e,ud,id);var r=td(e).byteLength,i=Hc(t);if(i<0||i>r)throw fd("Wrong offset");if(i+(n=void 0===n?r-i:Wc(n))>r)throw fd("Wrong length");nd(this,{buffer:e,byteLength:n,byteOffset:i}),Vc||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},Vc&&(Ed(ud,"byteLength"),Ed(ld,"buffer"),Ed(ld,"byteLength"),Ed(ld,"byteOffset")),zc(ld[od],{getInt8:function(e){return wd(this,1,e)[0]<<24>>24},getUint8:function(e){return wd(this,1,e)[0]},getInt16:function(e){var t=wd(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=wd(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return yd(wd(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return yd(wd(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return pd(wd(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return pd(wd(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Sd(this,1,e,vd,t)},setUint8:function(e,t){Sd(this,1,e,vd,t)},setInt16:function(e,t){Sd(this,2,e,md,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Sd(this,2,e,md,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Sd(this,4,e,gd,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Sd(this,4,e,gd,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Sd(this,4,e,bd,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Sd(this,8,e,_d,t,arguments.length>2?arguments[2]:void 0)}});ed(ud,rd),ed(ld,id);var Cd={ArrayBuffer:ud,DataView:ld},Id=pc,Ld="ArrayBuffer",Nd=Cd[Ld];Fn({global:!0,forced:p[Ld]!==Nd},{ArrayBuffer:Nd}),Id(Ld);var Dd,Rd,Md,jd=kc,Fd=g,Vd=p,Ud=D,Bd=ce,zd=Mo,Gd=nt,qd=rt.exports,Hd=We.f,Wd=bo,Kd=To,Yd=Se,Xd=he,$d=Vd.Int8Array,Qd=$d&&$d.prototype,Jd=Vd.Uint8ClampedArray,Zd=Jd&&Jd.prototype,ef=$d&&Wd($d),tf=Qd&&Wd(Qd),nf=Object.prototype,rf=nf.isPrototypeOf,of=Yd("toStringTag"),af=Xd("TYPED_ARRAY_TAG"),sf=Xd("TYPED_ARRAY_CONSTRUCTOR"),uf=jd&&!!Kd&&"Opera"!==zd(Vd.opera),lf=!1,cf={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},df={BigInt64Array:8,BigUint64Array:8},ff=function(e){if(!Ud(e))return!1;var t=zd(e);return Bd(cf,t)||Bd(df,t)};for(Dd in cf)(Md=(Rd=Vd[Dd])&&Rd.prototype)?Gd(Md,sf,Rd):uf=!1;for(Dd in df)(Md=(Rd=Vd[Dd])&&Rd.prototype)&&Gd(Md,sf,Rd);if((!uf||"function"!=typeof ef||ef===Function.prototype)&&(ef=function(){throw TypeError("Incorrect invocation")},uf))for(Dd in cf)Vd[Dd]&&Kd(Vd[Dd],ef);if((!uf||!tf||tf===nf)&&(tf=ef.prototype,uf))for(Dd in cf)Vd[Dd]&&Kd(Vd[Dd].prototype,tf);if(uf&&Wd(Zd)!==tf&&Kd(Zd,tf),Fd&&!Bd(tf,of))for(Dd in lf=!0,Hd(tf,of,{get:function(){return Ud(this)?this[af]:void 0}}),cf)Vd[Dd]&&Gd(Vd[Dd],af,Dd);var hf={NATIVE_ARRAY_BUFFER_VIEWS:uf,TYPED_ARRAY_CONSTRUCTOR:sf,TYPED_ARRAY_TAG:lf&&af,aTypedArray:function(e){if(ff(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(Kd&&!rf.call(ef,e))throw TypeError("Target is not a typed array constructor");return e},exportTypedArrayMethod:function(e,t,n){if(Fd){if(n)for(var r in cf){var i=Vd[r];if(i&&Bd(i.prototype,e))try{delete i.prototype[e]}catch(e){}}tf[e]&&!n||qd(tf,e,n?t:uf&&Qd[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(Fd){if(Kd){if(n)for(r in cf)if((i=Vd[r])&&Bd(i,e))try{delete i[e]}catch(e){}if(ef[e]&&!n)return;try{return qd(ef,e,n?t:uf&&ef[e]||t)}catch(e){}}for(r in cf)!(i=Vd[r])||i[e]&&!n||qd(i,e,t)}},isView:function(e){if(!Ud(e))return!1;var t=zd(e);return"DataView"===t||Bd(cf,t)||Bd(df,t)},isTypedArray:ff,TypedArray:ef,TypedArrayPrototype:tf};Fn({target:"ArrayBuffer",stat:!0,forced:!hf.NATIVE_ARRAY_BUFFER_VIEWS},{isView:hf.isView});var pf=Ye,vf=Ar,mf=Se("species"),gf=function(e,t){var n,r=pf(e).constructor;return void 0===r||null==(n=pf(r)[mf])?t:vf(n)},yf=Fn,bf=m,_f=Ye,Ef=Qt,wf=Kt,Sf=gf,Tf=Cd.ArrayBuffer,kf=Cd.DataView,xf=Tf.prototype.slice;yf({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:bf((function(){return!new Tf(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==xf&&void 0===t)return xf.call(_f(this),e);for(var n=_f(this).byteLength,r=Ef(e,n),i=Ef(void 0===t?n:t,n),o=new(Sf(this,Tf))(wf(i-r)),a=new kf(this),s=new kf(o),u=0;r<i;)s.setUint8(u++,a.getUint8(r++));return o}}),Fn({global:!0,forced:!kc},{DataView:Cd.DataView});var Af=Fn,Pf=m((function(){return 120!==new Date(16e11).getYear()})),Of=Date.prototype.getFullYear;Af({target:"Date",proto:!0,forced:Pf},{getYear:function(){return Of.call(this)-1900}}),Fn({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var Cf=Fn,If=qt,Lf=Date.prototype.getTime,Nf=Date.prototype.setFullYear;Cf({target:"Date",proto:!0},{setYear:function(e){Lf.call(this);var t=If(e),n=0<=t&&t<=99?t+1900:t;return Nf.call(this,n)}}),Fn({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString});var Df=qt,Rf=zn,Mf=C,jf=function(e){var t=Rf(Mf(this)),n="",r=Df(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n},Ff=Kt,Vf=zn,Uf=jf,Bf=C,zf=Math.ceil,Gf=function(e){return function(t,n,r){var i,o,a=Vf(Bf(t)),s=a.length,u=void 0===r?" ":Vf(r),l=Ff(n);return l<=s||""==u?a:(i=l-s,(o=Uf.call(u,zf(i/u.length))).length>i&&(o=o.slice(0,i)),e?a+o:o+a)}},qf={start:Gf(!1),end:Gf(!0)},Hf=m,Wf=qf.start,Kf=Math.abs,Yf=Date.prototype,Xf=Yf.getTime,$f=Yf.toISOString,Qf=Hf((function(){return"0385-07-25T07:06:39.999Z"!=$f.call(new Date(-50000000000001))}))||!Hf((function(){$f.call(new Date(NaN))}))?function(){if(!isFinite(Xf.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+Wf(Kf(t),r?6:4,0)+"-"+Wf(e.getUTCMonth()+1,2,0)+"-"+Wf(e.getUTCDate(),2,0)+"T"+Wf(e.getUTCHours(),2,0)+":"+Wf(e.getUTCMinutes(),2,0)+":"+Wf(e.getUTCSeconds(),2,0)+"."+Wf(n,3,0)+"Z"}:$f,Jf=Qf;Fn({target:"Date",proto:!0,forced:Date.prototype.toISOString!==Jf},{toISOString:Jf});var Zf=se,eh=Pe;Fn({target:"Date",proto:!0,forced:m((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=Zf(this),n=eh(t,"number");return"number"!=typeof n||isFinite(n)?t.toISOString():null}});var th=Ye,nh=J,rh=nt,ih=function(e){if(th(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw TypeError("Incorrect hint");return nh(this,e)},oh=Se("toPrimitive"),ah=Date.prototype;oh in ah||rh(ah,oh,ih);var sh=rt.exports,uh=Date.prototype,lh="Invalid Date",ch="toString",dh=uh[ch],fh=uh.getTime;String(new Date(NaN))!=lh&&sh(uh,ch,(function(){var e=fh.call(this);return e==e?dh.call(this):lh}));var hh=zn,ph=/[\w*+\-./@]/,vh=function(e,t){for(var n=e.toString(16);n.length<t;)n="0"+n;return n};Fn({global:!0},{escape:function(e){for(var t,n,r=hh(e),i="",o=r.length,a=0;a<o;)t=r.charAt(a++),ph.test(t)?i+=t:i+=(n=t.charCodeAt(0))<256?"%"+vh(n,2):"%u"+vh(n,4).toUpperCase();return i}});var mh=Ar,gh=D,yh=[].slice,bh={},_h=Function.bind||function(e){var t=mh(this),n=yh.call(arguments,1),r=function(){var i=n.concat(yh.call(arguments));return this instanceof r?function(e,t,n){if(!(t in bh)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";bh[t]=Function("C,a","return new C("+r.join(",")+")")}return bh[t](e,n)}(t,i.length,i):t.apply(e,i)};return gh(t.prototype)&&(r.prototype=t.prototype),r};Fn({target:"Function",proto:!0},{bind:_h});var Eh=D,wh=We,Sh=bo,Th=Se("hasInstance"),kh=Function.prototype;Th in kh||wh.f(kh,Th,{value:function(e){if("function"!=typeof this||!Eh(e))return!1;if(!Eh(this.prototype))return e instanceof this;for(;e=Sh(e);)if(this.prototype===e)return!0;return!1}});var xh=g,Ah=We.f,Ph=Function.prototype,Oh=Ph.toString,Ch=/^\s*function ([^ (]*)/,Ih="name";xh&&!(Ih in Ph)&&Ah(Ph,Ih,{configurable:!0,get:function(){try{return Oh.call(this).match(Ch)[1]}catch(e){return""}}}),Fn({global:!0},{globalThis:p});var Lh=Fn,Nh=m,Dh=M("JSON","stringify"),Rh=/[\uD800-\uDFFF]/g,Mh=/^[\uD800-\uDBFF]$/,jh=/^[\uDC00-\uDFFF]$/,Fh=function(e,t,n){var r=n.charAt(t-1),i=n.charAt(t+1);return Mh.test(e)&&!jh.test(i)||jh.test(e)&&!Mh.test(r)?"\\u"+e.charCodeAt(0).toString(16):e},Vh=Nh((function(){return'"\\udf06\\ud834"'!==Dh("\udf06\ud834")||'"\\udead"'!==Dh("\udead")}));Dh&&Lh({target:"JSON",stat:!0,forced:Vh},{stringify:function(e,t,n){var r=Dh.apply(null,arguments);return"string"==typeof r?r.replace(Rh,Fh):r}}),xr(p.JSON,"JSON",!0);var Uh={exports:{}},Bh=!m((function(){return Object.isExtensible(Object.preventExtensions({}))})),zh=Fn,Gh=gt,qh=D,Hh=ce,Wh=We.f,Kh=Bt,Yh=dr,Xh=Bh,$h=!1,Qh=he("meta"),Jh=0,Zh=Object.isExtensible||function(){return!0},ep=function(e){Wh(e,Qh,{value:{objectID:"O"+Jh++,weakData:{}}})},tp=Uh.exports={enable:function(){tp.enable=function(){},$h=!0;var e=Kh.f,t=[].splice,n={};n[Qh]=1,e(n).length&&(Kh.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===Qh){t.call(r,i,1);break}return r},zh({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Yh.f}))},fastKey:function(e,t){if(!qh(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Hh(e,Qh)){if(!Zh(e))return"F";if(!t)return"E";ep(e)}return e[Qh].objectID},getWeakData:function(e,t){if(!Hh(e,Qh)){if(!Zh(e))return!0;if(!t)return!1;ep(e)}return e[Qh].weakData},onFreeze:function(e){return Xh&&$h&&Zh(e)&&!Hh(e,Qh)&&ep(e),e}};Gh[Qh]=!0;var np=D,rp=To,ip=function(e,t,n){var r,i;return rp&&"function"==typeof(r=t.constructor)&&r!==n&&np(i=r.prototype)&&i!==n.prototype&&rp(e,i),e},op=Fn,ap=p,sp=Cn,up=rt.exports,lp=Uh.exports,cp=ea,dp=Pc,fp=D,hp=m,pp=Ws,vp=xr,mp=ip,gp=function(e,t,n){var r=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",a=ap[e],s=a&&a.prototype,u=a,l={},c=function(e){var t=s[e];up(s,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!fp(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!fp(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!fp(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(sp(e,"function"!=typeof a||!(i||s.forEach&&!hp((function(){(new a).entries().next()})))))u=n.getConstructor(t,e,r,o),lp.enable();else if(sp(e,!0)){var d=new u,f=d[o](i?{}:-0,1)!=d,h=hp((function(){d.has(1)})),p=pp((function(e){new a(e)})),v=!i&&hp((function(){for(var e=new a,t=5;t--;)e[o](t,t);return!e.has(-0)}));p||((u=t((function(t,n){dp(t,u,e);var i=mp(new a,t,u);return null!=n&&cp(n,i[o],{that:i,AS_ENTRIES:r}),i}))).prototype=s,s.constructor=u),(h||v)&&(c("delete"),c("has"),r&&c("get")),(v||f)&&c(o),i&&s.clear&&delete s.clear}return l[e]=u,op({global:!0,forced:u!=a},l),vp(u,e),i||n.setStrong(u,e,r),u},yp=We.f,bp=cr,_p=Ac,Ep=Or,wp=Pc,Sp=ea,Tp=Ru,kp=pc,xp=g,Ap=Uh.exports.fastKey,Pp=Lt.set,Op=Lt.getterFor,Cp={getConstructor:function(e,t,n,r){var i=e((function(e,o){wp(e,i,t),Pp(e,{type:t,index:bp(null),first:void 0,last:void 0,size:0}),xp||(e.size=0),null!=o&&Sp(o,e[r],{that:e,AS_ENTRIES:n})})),o=Op(t),a=function(e,t,n){var r,i,a=o(e),u=s(e,t);return u?u.value=n:(a.last=u={index:i=Ap(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=u),r&&(r.next=u),xp?a.size++:e.size++,"F"!==i&&(a.index[i]=u)),e},s=function(e,t){var n,r=o(e),i=Ap(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return _p(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,xp?e.size=0:this.size=0},delete:function(e){var t=this,n=o(t),r=s(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),xp?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=o(this),r=Ep(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),_p(i.prototype,n?{get:function(e){var t=s(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),xp&&yp(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=Op(t),o=Op(r);Tp(e,t,(function(e,t){Pp(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),kp(t)}};gp("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Cp);var Ip=Math.log,Lp=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Ip(1+e)},Np=Fn,Dp=Lp,Rp=Math.acosh,Mp=Math.log,jp=Math.sqrt,Fp=Math.LN2;Np({target:"Math",stat:!0,forced:!Rp||710!=Math.floor(Rp(Number.MAX_VALUE))||Rp(1/0)!=1/0},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Mp(e)+Fp:Dp(e-1+jp(e-1)*jp(e+1))}});var Vp=Fn,Up=Math.asinh,Bp=Math.log,zp=Math.sqrt;Vp({target:"Math",stat:!0,forced:!(Up&&1/Up(0)>0)},{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Bp(t+zp(t*t+1)):t}});var Gp=Fn,qp=Math.atanh,Hp=Math.log;Gp({target:"Math",stat:!0,forced:!(qp&&1/qp(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:Hp((1+e)/(1-e))/2}});var Wp=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1},Kp=Fn,Yp=Wp,Xp=Math.abs,$p=Math.pow;Kp({target:"Math",stat:!0},{cbrt:function(e){return Yp(e=+e)*$p(Xp(e),1/3)}});var Qp=Fn,Jp=Math.floor,Zp=Math.log,ev=Math.LOG2E;Qp({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-Jp(Zp(e+.5)*ev):32}});var tv=Math.expm1,nv=Math.exp,rv=!tv||tv(10)>22025.465794806718||tv(10)<22025.465794806718||-2e-17!=tv(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:nv(e)-1}:tv,iv=Fn,ov=rv,av=Math.cosh,sv=Math.abs,uv=Math.E;iv({target:"Math",stat:!0,forced:!av||av(710)===1/0},{cosh:function(e){var t=ov(sv(e)-1)+1;return(t+1/(t*uv*uv))*(uv/2)}});var lv=rv;Fn({target:"Math",stat:!0,forced:lv!=Math.expm1},{expm1:lv});var cv=Wp,dv=Math.abs,fv=Math.pow,hv=fv(2,-52),pv=fv(2,-23),vv=fv(2,127)*(2-pv),mv=fv(2,-126),gv=Math.fround||function(e){var t,n,r=dv(e),i=cv(e);return r<mv?i*function(e){return e+1/hv-1/hv}(r/mv/pv)*mv*pv:(n=(t=(1+pv/hv)*r)-(t-r))>vv||n!=n?i*(1/0):i*n};Fn({target:"Math",stat:!0},{fround:gv});var yv=Fn,bv=Math.hypot,_v=Math.abs,Ev=Math.sqrt;yv({target:"Math",stat:!0,forced:!!bv&&bv(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,i=0,o=0,a=arguments.length,s=0;o<a;)s<(n=_v(arguments[o++]))?(i=i*(r=s/n)*r+1,s=n):i+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*Ev(i)}});var wv=Fn,Sv=m,Tv=Math.imul;wv({target:"Math",stat:!0,forced:Sv((function(){return-5!=Tv(4294967295,5)||2!=Tv.length}))},{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}});var kv=Fn,xv=Math.log,Av=Math.LOG10E;kv({target:"Math",stat:!0},{log10:function(e){return xv(e)*Av}}),Fn({target:"Math",stat:!0},{log1p:Lp});var Pv=Fn,Ov=Math.log,Cv=Math.LN2;Pv({target:"Math",stat:!0},{log2:function(e){return Ov(e)/Cv}}),Fn({target:"Math",stat:!0},{sign:Wp});var Iv=Fn,Lv=m,Nv=rv,Dv=Math.abs,Rv=Math.exp,Mv=Math.E;Iv({target:"Math",stat:!0,forced:Lv((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(e){return Dv(e=+e)<1?(Nv(e)-Nv(-e))/2:(Rv(e-1)-Rv(-e-1))*(Mv/2)}});var jv=Fn,Fv=rv,Vv=Math.exp;jv({target:"Math",stat:!0},{tanh:function(e){var t=Fv(e=+e),n=Fv(-e);return t==1/0?1:n==1/0?-1:(t-n)/(Vv(e)+Vv(-e))}}),xr(Math,"Math",!0);var Uv=Fn,Bv=Math.ceil,zv=Math.floor;Uv({target:"Math",stat:!0},{trunc:function(e){return(e>0?zv:Bv)(e)}});var Gv="\t\n\v\f\r                　\u2028\u2029\ufeff",qv=C,Hv=zn,Wv="["+Gv+"]",Kv=RegExp("^"+Wv+Wv+"*"),Yv=RegExp(Wv+Wv+"*$"),Xv=function(e){return function(t){var n=Hv(qv(t));return 1&e&&(n=n.replace(Kv,"")),2&e&&(n=n.replace(Yv,"")),n}},$v={start:Xv(1),end:Xv(2),trim:Xv(3)},Qv=g,Jv=p,Zv=Cn,em=rt.exports,tm=ce,nm=x,rm=ip,im=$,om=Pe,am=m,sm=cr,um=Bt.f,lm=v.f,cm=We.f,dm=$v.trim,fm="Number",hm=Jv[fm],pm=hm.prototype,vm=nm(sm(pm))==fm,mm=function(e){if(im(e))throw TypeError("Cannot convert a Symbol value to a number");var t,n,r,i,o,a,s,u,l=om(e,"number");if("string"==typeof l&&l.length>2)if(43===(t=(l=dm(l)).charCodeAt(0))||45===t){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(a=(o=l.slice(2)).length,s=0;s<a;s++)if((u=o.charCodeAt(s))<48||u>i)return NaN;return parseInt(o,r)}return+l};if(Zv(fm,!hm(" 0o1")||!hm("0b1")||hm("+0x1"))){for(var gm,ym=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof ym&&(vm?am((function(){pm.valueOf.call(n)})):nm(n)!=fm)?rm(new hm(mm(t)),n,ym):mm(t)},bm=Qv?um(hm):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),_m=0;bm.length>_m;_m++)tm(hm,gm=bm[_m])&&!tm(ym,gm)&&cm(ym,gm,lm(hm,gm));ym.prototype=pm,pm.constructor=ym,em(Jv,fm,ym)}Fn({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var Em=p.isFinite;Fn({target:"Number",stat:!0},{isFinite:Number.isFinite||function(e){return"number"==typeof e&&Em(e)}});var wm=D,Sm=Math.floor,Tm=function(e){return!wm(e)&&isFinite(e)&&Sm(e)===e};Fn({target:"Number",stat:!0},{isInteger:Tm}),Fn({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var km=Fn,xm=Tm,Am=Math.abs;km({target:"Number",stat:!0},{isSafeInteger:function(e){return xm(e)&&Am(e)<=9007199254740991}}),Fn({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),Fn({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var Pm=zn,Om=$v.trim,Cm=Gv,Im=p.parseFloat,Lm=1/Im(Cm+"-0")!=-1/0?function(e){var t=Om(Pm(e)),n=Im(t);return 0===n&&"-"==t.charAt(0)?-0:n}:Im,Nm=Lm;Fn({target:"Number",stat:!0,forced:Number.parseFloat!=Nm},{parseFloat:Nm});var Dm=zn,Rm=$v.trim,Mm=Gv,jm=p.parseInt,Fm=/^[+-]?0[Xx]/,Vm=8!==jm(Mm+"08")||22!==jm(Mm+"0x16")?function(e,t){var n=Rm(Dm(e));return jm(n,t>>>0||(Fm.test(n)?16:10))}:jm,Um=Vm;Fn({target:"Number",stat:!0,forced:Number.parseInt!=Um},{parseInt:Um});var Bm=1..valueOf,zm=function(e){return Bm.call(e)},Gm=Fn,qm=qt,Hm=zm,Wm=jf,Km=m,Ym=1..toFixed,Xm=Math.floor,$m=function(e,t,n){return 0===t?n:t%2==1?$m(e,t-1,n*e):$m(e*e,t/2,n)},Qm=function(e,t,n){for(var r=-1,i=n;++r<6;)i+=t*e[r],e[r]=i%1e7,i=Xm(i/1e7)},Jm=function(e,t){for(var n=6,r=0;--n>=0;)r+=e[n],e[n]=Xm(r/t),r=r%t*1e7},Zm=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=String(e[t]);n=""===n?r:n+Wm.call("0",7-r.length)+r}return n};Gm({target:"Number",proto:!0,forced:Ym&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!Km((function(){Ym.call({})}))},{toFixed:function(e){var t,n,r,i,o=Hm(this),a=qm(e),s=[0,0,0,0,0,0],u="",l="0";if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(u="-",o=-o),o>1e-21)if(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(o*$m(2,69,1))-69,n=t<0?o*$m(2,-t,1):o/$m(2,t,1),n*=4503599627370496,(t=52-t)>0){for(Qm(s,0,n),r=a;r>=7;)Qm(s,1e7,0),r-=7;for(Qm(s,$m(10,r,1),0),r=t-1;r>=23;)Jm(s,1<<23),r-=23;Jm(s,1<<r),Qm(s,1,1),Jm(s,2),l=Zm(s)}else Qm(s,0,n),Qm(s,1<<-t,0),l=Zm(s)+Wm.call("0",a);return a>0?u+((i=l.length)<=a?"0."+Wm.call("0",a-i)+l:l.slice(0,i-a)+"."+l.slice(i-a)):u+l}});var eg=m,tg=zm,ng=1..toPrecision;Fn({target:"Number",proto:!0,forced:eg((function(){return"1"!==ng.call(1,void 0)}))||!eg((function(){ng.call({})}))},{toPrecision:function(e){return void 0===e?ng.call(tg(this)):ng.call(tg(this),e)}});var rg=g,ig=m,og=Hn,ag=fn,sg=y,ug=se,lg=O,cg=Object.assign,dg=Object.defineProperty,fg=!cg||ig((function(){if(rg&&1!==cg({b:1},cg(dg({},"a",{enumerable:!0,get:function(){dg(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=cg({},e)[n]||og(cg({},t)).join("")!=r}))?function(e,t){for(var n=ug(e),r=arguments.length,i=1,o=ag.f,a=sg.f;r>i;)for(var s,u=lg(arguments[i++]),l=o?og(u).concat(o(u)):og(u),c=l.length,d=0;c>d;)s=l[d++],rg&&!a.call(u,s)||(n[s]=u[s]);return n}:cg,hg=fg;Fn({target:"Object",stat:!0,forced:Object.assign!==hg},{assign:hg}),Fn({target:"Object",stat:!0,sham:!g},{create:cr});var pg=p,vg=Hl,mg=!m((function(){if(!(vg&&vg<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete pg[e]}})),gg=se,yg=Ar,bg=We;g&&Fn({target:"Object",proto:!0,forced:mg},{__defineGetter__:function(e,t){bg.f(gg(this),e,{get:yg(t),enumerable:!0,configurable:!0})}}),Fn({target:"Object",stat:!0,forced:!g,sham:!g},{defineProperties:Xn}),Fn({target:"Object",stat:!0,forced:!g,sham:!g},{defineProperty:We.f});var _g=se,Eg=Ar,wg=We;g&&Fn({target:"Object",proto:!0,forced:mg},{__defineSetter__:function(e,t){wg.f(_g(this),e,{set:Eg(t),enumerable:!0,configurable:!0})}});var Sg=g,Tg=Hn,kg=N,xg=y.f,Ag=function(e){return function(t){for(var n,r=kg(t),i=Tg(r),o=i.length,a=0,s=[];o>a;)n=i[a++],Sg&&!xg.call(r,n)||s.push(e?[n,r[n]]:r[n]);return s}},Pg={entries:Ag(!0),values:Ag(!1)},Og=Pg.entries;Fn({target:"Object",stat:!0},{entries:function(e){return Og(e)}});var Cg=Fn,Ig=Bh,Lg=m,Ng=D,Dg=Uh.exports.onFreeze,Rg=Object.freeze;Cg({target:"Object",stat:!0,forced:Lg((function(){Rg(1)})),sham:!Ig},{freeze:function(e){return Rg&&Ng(e)?Rg(Dg(e)):e}});var Mg=ea,jg=wa;Fn({target:"Object",stat:!0},{fromEntries:function(e){var t={};return Mg(e,(function(e,n){jg(t,e,n)}),{AS_ENTRIES:!0}),t}});var Fg=Fn,Vg=m,Ug=N,Bg=v.f,zg=g,Gg=Vg((function(){Bg(1)}));Fg({target:"Object",stat:!0,forced:!zg||Gg,sham:!zg},{getOwnPropertyDescriptor:function(e,t){return Bg(Ug(e),t)}});var qg=gn,Hg=N,Wg=v,Kg=wa;Fn({target:"Object",stat:!0,sham:!g},{getOwnPropertyDescriptors:function(e){for(var t,n,r=Hg(e),i=Wg.f,o=qg(r),a={},s=0;o.length>s;)void 0!==(n=i(r,t=o[s++]))&&Kg(a,t,n);return a}});var Yg=Fn,Xg=m,$g=dr.f;Yg({target:"Object",stat:!0,forced:Xg((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:$g});var Qg=se,Jg=bo,Zg=ho;Fn({target:"Object",stat:!0,forced:m((function(){Jg(1)})),sham:!Zg},{getPrototypeOf:function(e){return Jg(Qg(e))}}),Fn({target:"Object",stat:!0},{hasOwn:ce});var ey=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};Fn({target:"Object",stat:!0},{is:ey});var ty=Fn,ny=m,ry=D,iy=Object.isExtensible;ty({target:"Object",stat:!0,forced:ny((function(){iy(1)}))},{isExtensible:function(e){return!!ry(e)&&(!iy||iy(e))}});var oy=Fn,ay=m,sy=D,uy=Object.isFrozen;oy({target:"Object",stat:!0,forced:ay((function(){uy(1)}))},{isFrozen:function(e){return!sy(e)||!!uy&&uy(e)}});var ly=Fn,cy=m,dy=D,fy=Object.isSealed;ly({target:"Object",stat:!0,forced:cy((function(){fy(1)}))},{isSealed:function(e){return!dy(e)||!!fy&&fy(e)}});var hy=se,py=Hn;Fn({target:"Object",stat:!0,forced:m((function(){py(1)}))},{keys:function(e){return py(hy(e))}});var vy=Fn,my=g,gy=mg,yy=se,by=Ie,_y=bo,Ey=v.f;my&&vy({target:"Object",proto:!0,forced:gy},{__lookupGetter__:function(e){var t,n=yy(this),r=by(e);do{if(t=Ey(n,r))return t.get}while(n=_y(n))}});var wy=Fn,Sy=g,Ty=mg,ky=se,xy=Ie,Ay=bo,Py=v.f;Sy&&wy({target:"Object",proto:!0,forced:Ty},{__lookupSetter__:function(e){var t,n=ky(this),r=xy(e);do{if(t=Py(n,r))return t.set}while(n=Ay(n))}});var Oy=Fn,Cy=D,Iy=Uh.exports.onFreeze,Ly=Bh,Ny=m,Dy=Object.preventExtensions;Oy({target:"Object",stat:!0,forced:Ny((function(){Dy(1)})),sham:!Ly},{preventExtensions:function(e){return Dy&&Cy(e)?Dy(Iy(e)):e}});var Ry=Fn,My=D,jy=Uh.exports.onFreeze,Fy=Bh,Vy=m,Uy=Object.seal;Ry({target:"Object",stat:!0,forced:Vy((function(){Uy(1)})),sham:!Fy},{seal:function(e){return Uy&&My(e)?Uy(jy(e)):e}}),Fn({target:"Object",stat:!0},{setPrototypeOf:To});var By=Mo,zy=Io?{}.toString:function(){return"[object "+By(this)+"]"},Gy=Io,qy=rt.exports,Hy=zy;Gy||qy(Object.prototype,"toString",Hy,{unsafe:!0});var Wy=Pg.values;Fn({target:"Object",stat:!0},{values:function(e){return Wy(e)}}),Fn({global:!0,forced:parseFloat!=Lm},{parseFloat:Lm}),Fn({global:!0,forced:parseInt!=Vm},{parseInt:Vm});var Ky,Yy,Xy,$y,Qy=p.Promise,Jy=/(?:ipad|iphone|ipod).*applewebkit/i.test(j),Zy=p,eb=m,tb=Or,nb=$n,rb=Re,ib=Jy,ob=hl,ab=Zy.setImmediate,sb=Zy.clearImmediate,ub=Zy.process,lb=Zy.MessageChannel,cb=Zy.Dispatch,db=0,fb={},hb="onreadystatechange";try{Ky=Zy.location}catch(aMe){}var pb=function(e){if(fb.hasOwnProperty(e)){var t=fb[e];delete fb[e],t()}},vb=function(e){return function(){pb(e)}},mb=function(e){pb(e.data)},gb=function(e){Zy.postMessage(String(e),Ky.protocol+"//"+Ky.host)};ab&&sb||(ab=function(e){for(var t=[],n=arguments.length,r=1;n>r;)t.push(arguments[r++]);return fb[++db]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Yy(db),db},sb=function(e){delete fb[e]},ob?Yy=function(e){ub.nextTick(vb(e))}:cb&&cb.now?Yy=function(e){cb.now(vb(e))}:lb&&!ib?($y=(Xy=new lb).port2,Xy.port1.onmessage=mb,Yy=tb($y.postMessage,$y,1)):Zy.addEventListener&&"function"==typeof postMessage&&!Zy.importScripts&&Ky&&"file:"!==Ky.protocol&&!eb(gb)?(Yy=gb,Zy.addEventListener("message",mb,!1)):Yy=hb in rb("script")?function(e){nb.appendChild(rb("script"))[hb]=function(){nb.removeChild(this),pb(e)}}:function(e){setTimeout(vb(e),0)});var yb,bb,_b,Eb,wb,Sb,Tb,kb,xb={set:ab,clear:sb},Ab=p,Pb=/ipad|iphone|ipod/i.test(j)&&void 0!==Ab.Pebble,Ob=/web0s(?!.*chrome)/i.test(j),Cb=p,Ib=v.f,Lb=xb.set,Nb=Jy,Db=Pb,Rb=Ob,Mb=hl,jb=Cb.MutationObserver||Cb.WebKitMutationObserver,Fb=Cb.document,Vb=Cb.process,Ub=Cb.Promise,Bb=Ib(Cb,"queueMicrotask"),zb=Bb&&Bb.value;zb||(yb=function(){var e,t;for(Mb&&(e=Vb.domain)&&e.exit();bb;){t=bb.fn,bb=bb.next;try{t()}catch(e){throw bb?Eb():_b=void 0,e}}_b=void 0,e&&e.enter()},Nb||Mb||Rb||!jb||!Fb?!Db&&Ub&&Ub.resolve?((Tb=Ub.resolve(void 0)).constructor=Ub,kb=Tb.then,Eb=function(){kb.call(Tb,yb)}):Eb=Mb?function(){Vb.nextTick(yb)}:function(){Lb.call(Cb,yb)}:(wb=!0,Sb=Fb.createTextNode(""),new jb(yb).observe(Sb,{characterData:!0}),Eb=function(){Sb.data=wb=!wb}));var Gb=zb||function(e){var t={fn:e,next:void 0};_b&&(_b.next=t),bb||(bb=t,Eb()),_b=t},qb={},Hb=Ar,Wb=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Hb(t),this.reject=Hb(n)};qb.f=function(e){return new Wb(e)};var Kb,Yb,Xb,$b,Qb=Ye,Jb=D,Zb=qb,e_=function(e,t){if(Qb(e),Jb(t)&&t.constructor===e)return t;var n=Zb.f(e);return(0,n.resolve)(t),n.promise},t_=p,n_=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},r_="object"==typeof window,i_=Fn,o_=p,a_=M,s_=Qy,u_=rt.exports,l_=Ac,c_=To,d_=xr,f_=pc,h_=D,p_=Ar,v_=Pc,m_=lt,g_=ea,y_=Ws,b_=gf,__=xb.set,E_=Gb,w_=e_,S_=function(e,t){var n=t_.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))},T_=qb,k_=n_,x_=Lt,A_=Cn,P_=r_,O_=hl,C_=q,I_=Se("species"),L_="Promise",N_=x_.get,D_=x_.set,R_=x_.getterFor(L_),M_=s_&&s_.prototype,j_=s_,F_=M_,V_=o_.TypeError,U_=o_.document,B_=o_.process,z_=T_.f,G_=z_,q_=!!(U_&&U_.createEvent&&o_.dispatchEvent),H_="function"==typeof PromiseRejectionEvent,W_="unhandledrejection",K_=!1,Y_=A_(L_,(function(){var e=m_(j_),t=e!==String(j_);if(!t&&66===C_)return!0;if(C_>=51&&/native code/.test(e))return!1;var n=new j_((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[I_]=r,!(K_=n.then((function(){}))instanceof r)||!t&&P_&&!H_})),X_=Y_||!y_((function(e){j_.all(e).catch((function(){}))})),$_=function(e){var t;return!(!h_(e)||"function"!=typeof(t=e.then))&&t},Q_=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;E_((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,s,u,l=n[o++],c=i?l.ok:l.fail,d=l.resolve,f=l.reject,h=l.domain;try{c?(i||(2===e.rejection&&tE(e),e.rejection=1),!0===c?a=r:(h&&h.enter(),a=c(r),h&&(h.exit(),u=!0)),a===l.promise?f(V_("Promise-chain cycle")):(s=$_(a))?s.call(a,d,f):d(a)):f(r)}catch(e){h&&!u&&h.exit(),f(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Z_(e)}))}},J_=function(e,t,n){var r,i;q_?((r=U_.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),o_.dispatchEvent(r)):r={promise:t,reason:n},!H_&&(i=o_["on"+e])?i(r):e===W_&&S_("Unhandled promise rejection",n)},Z_=function(e){__.call(o_,(function(){var t,n=e.facade,r=e.value;if(eE(e)&&(t=k_((function(){O_?B_.emit("unhandledRejection",r,n):J_(W_,n,r)})),e.rejection=O_||eE(e)?2:1,t.error))throw t.value}))},eE=function(e){return 1!==e.rejection&&!e.parent},tE=function(e){__.call(o_,(function(){var t=e.facade;O_?B_.emit("rejectionHandled",t):J_("rejectionhandled",t,e.value)}))},nE=function(e,t,n){return function(r){e(t,r,n)}},rE=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Q_(e,!0))},iE=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw V_("Promise can't be resolved itself");var r=$_(t);r?E_((function(){var n={done:!1};try{r.call(t,nE(iE,n,e),nE(rE,n,e))}catch(t){rE(n,t,e)}})):(e.value=t,e.state=1,Q_(e,!1))}catch(t){rE({done:!1},t,e)}}};if(Y_&&(F_=(j_=function(e){v_(this,j_,L_),p_(e),Kb.call(this);var t=N_(this);try{e(nE(iE,t),nE(rE,t))}catch(e){rE(t,e)}}).prototype,(Kb=function(e){D_(this,{type:L_,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=l_(F_,{then:function(e,t){var n=R_(this),r=z_(b_(this,j_));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=O_?B_.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Q_(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),Yb=function(){var e=new Kb,t=N_(e);this.promise=e,this.resolve=nE(iE,t),this.reject=nE(rE,t)},T_.f=z_=function(e){return e===j_||e===Xb?new Yb(e):G_(e)},"function"==typeof s_&&M_!==Object.prototype)){$b=M_.then,K_||(u_(M_,"then",(function(e,t){var n=this;return new j_((function(e,t){$b.call(n,e,t)})).then(e,t)}),{unsafe:!0}),u_(M_,"catch",F_.catch,{unsafe:!0}));try{delete M_.constructor}catch(sMe){}c_&&c_(M_,F_)}i_({global:!0,wrap:!0,forced:Y_},{Promise:j_}),d_(j_,L_,!1),f_(L_),Xb=a_(L_),i_({target:L_,stat:!0,forced:Y_},{reject:function(e){var t=z_(this);return t.reject.call(void 0,e),t.promise}}),i_({target:L_,stat:!0,forced:Y_},{resolve:function(e){return w_(this,e)}}),i_({target:L_,stat:!0,forced:X_},{all:function(e){var t=this,n=z_(t),r=n.resolve,i=n.reject,o=k_((function(){var n=p_(t.resolve),o=[],a=0,s=1;g_(e,(function(e){var u=a++,l=!1;o.push(void 0),s++,n.call(t,e).then((function(e){l||(l=!0,o[u]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=z_(t),r=n.reject,i=k_((function(){var i=p_(t.resolve);g_(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var oE=Ar,aE=qb,sE=n_,uE=ea;Fn({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=aE.f(t),r=n.resolve,i=n.reject,o=sE((function(){var n=oE(t.resolve),i=[],o=0,a=1;uE(e,(function(e){var s=o++,u=!1;i.push(void 0),a++,n.call(t,e).then((function(e){u||(u=!0,i[s]={status:"fulfilled",value:e},--a||r(i))}),(function(e){u||(u=!0,i[s]={status:"rejected",reason:e},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var lE=Ar,cE=M,dE=qb,fE=n_,hE=ea,pE="No one promise resolved";Fn({target:"Promise",stat:!0},{any:function(e){var t=this,n=dE.f(t),r=n.resolve,i=n.reject,o=fE((function(){var n=lE(t.resolve),o=[],a=0,s=1,u=!1;hE(e,(function(e){var l=a++,c=!1;o.push(void 0),s++,n.call(t,e).then((function(e){c||u||(u=!0,r(e))}),(function(e){c||u||(c=!0,o[l]=e,--s||i(new(cE("AggregateError"))(o,pE)))}))})),--s||i(new(cE("AggregateError"))(o,pE))}));return o.error&&i(o.value),n.promise}});var vE=Fn,mE=Qy,gE=m,yE=M,bE=gf,_E=e_,EE=rt.exports;if(vE({target:"Promise",proto:!0,real:!0,forced:!!mE&&gE((function(){mE.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=bE(this,yE("Promise")),n="function"==typeof e;return this.then(n?function(n){return _E(t,e()).then((function(){return n}))}:e,n?function(n){return _E(t,e()).then((function(){throw n}))}:e)}}),"function"==typeof mE){var wE=yE("Promise").prototype.finally;mE.prototype.finally!==wE&&EE(mE.prototype,"finally",wE,{unsafe:!0})}var SE=Fn,TE=Ar,kE=Ye,xE=m,AE=M("Reflect","apply"),PE=Function.apply;SE({target:"Reflect",stat:!0,forced:!xE((function(){AE((function(){}))}))},{apply:function(e,t,n){return TE(e),kE(n),AE?AE(e,t,n):PE.call(e,t,n)}});var OE=Fn,CE=Ar,IE=Ye,LE=D,NE=cr,DE=_h,RE=m,ME=M("Reflect","construct"),jE=RE((function(){function e(){}return!(ME((function(){}),[],e)instanceof e)})),FE=!RE((function(){ME((function(){}))})),VE=jE||FE;OE({target:"Reflect",stat:!0,forced:VE,sham:VE},{construct:function(e,t){CE(e),IE(t);var n=arguments.length<3?e:CE(arguments[2]);if(FE&&!jE)return ME(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(DE.apply(e,r))}var i=n.prototype,o=NE(LE(i)?i:Object.prototype),a=Function.apply.call(e,o,t);return LE(a)?a:o}});var UE=g,BE=Ye,zE=Ie,GE=We;Fn({target:"Reflect",stat:!0,forced:m((function(){Reflect.defineProperty(GE.f({},1,{value:1}),1,{value:2})})),sham:!UE},{defineProperty:function(e,t,n){BE(e);var r=zE(t);BE(n);try{return GE.f(e,r,n),!0}catch(e){return!1}}});var qE=Fn,HE=Ye,WE=v.f;qE({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=WE(HE(e),t);return!(n&&!n.configurable)&&delete e[t]}});var KE=ce,YE=function(e){return void 0!==e&&(KE(e,"value")||KE(e,"writable"))},XE=D,$E=Ye,QE=YE,JE=v,ZE=bo;Fn({target:"Reflect",stat:!0},{get:function e(t,n){var r,i,o=arguments.length<3?t:arguments[2];return $E(t)===o?t[n]:(r=JE.f(t,n))?QE(r)?r.value:void 0===r.get?void 0:r.get.call(o):XE(i=ZE(t))?e(i,n,o):void 0}});var ew=Ye,tw=v;Fn({target:"Reflect",stat:!0,sham:!g},{getOwnPropertyDescriptor:function(e,t){return tw.f(ew(e),t)}});var nw=Ye,rw=bo;Fn({target:"Reflect",stat:!0,sham:!ho},{getPrototypeOf:function(e){return rw(nw(e))}}),Fn({target:"Reflect",stat:!0},{has:function(e,t){return t in e}});var iw=Fn,ow=Ye,aw=Object.isExtensible;iw({target:"Reflect",stat:!0},{isExtensible:function(e){return ow(e),!aw||aw(e)}}),Fn({target:"Reflect",stat:!0},{ownKeys:gn});var sw=M,uw=Ye;Fn({target:"Reflect",stat:!0,sham:!Bh},{preventExtensions:function(e){uw(e);try{var t=sw("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}});var lw=Fn,cw=Ye,dw=D,fw=YE,hw=We,pw=v,vw=bo,mw=T,gw=m((function(){var e=function(){},t=hw.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}));lw({target:"Reflect",stat:!0,forced:gw},{set:function e(t,n,r){var i,o,a,s=arguments.length<4?t:arguments[3],u=pw.f(cw(t),n);if(!u){if(dw(o=vw(t)))return e(o,n,r,s);u=mw(0)}if(fw(u)){if(!1===u.writable||!dw(s))return!1;if(i=pw.f(s,n)){if(i.get||i.set||!1===i.writable)return!1;i.value=r,hw.f(s,n,i)}else hw.f(s,n,mw(0,r))}else{if(void 0===(a=u.set))return!1;a.call(s,r)}return!0}});var yw=Ye,_w=Eo,Ew=To;Ew&&Fn({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){yw(e),_w(t);try{return Ew(e,t),!0}catch(e){return!1}}});var ww=p,Sw=xr;Fn({global:!0},{Reflect:{}}),Sw(ww.Reflect,"Reflect",!0);var Tw=D,kw=x,xw=Se("match"),Aw=function(e){var t;return Tw(e)&&(void 0!==(t=e[xw])?!!t:"RegExp"==kw(e))},Pw=Ye,Ow=function(){var e=Pw(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Cw={},Iw=m,Lw=p.RegExp;Cw.UNSUPPORTED_Y=Iw((function(){var e=Lw("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),Cw.BROKEN_CARET=Iw((function(){var e=Lw("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));var Nw=m,Dw=p.RegExp,Rw=Nw((function(){var e=Dw(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),Mw=m,jw=p.RegExp,Fw=Mw((function(){var e=jw("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),Vw=g,Uw=p,Bw=Cn,zw=ip,Gw=nt,qw=We.f,Hw=Bt.f,Ww=Aw,Kw=zn,Yw=Ow,Xw=Cw,$w=rt.exports,Qw=m,Jw=ce,Zw=Lt.enforce,eS=pc,tS=Rw,nS=Fw,rS=Se("match"),iS=Uw.RegExp,oS=iS.prototype,aS=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,sS=/a/g,uS=/a/g,lS=new iS(sS)!==sS,cS=Xw.UNSUPPORTED_Y,dS=Vw&&(!lS||cS||tS||nS||Qw((function(){return uS[rS]=!1,iS(sS)!=sS||iS(uS)==uS||"/a/i"!=iS(sS,"i")})));if(Bw("RegExp",dS)){for(var fS=function(e,t){var n,r,i,o,a,s,u=this instanceof fS,l=Ww(e),c=void 0===t,d=[],f=e;if(!u&&l&&c&&e.constructor===fS)return e;if((l||e instanceof fS)&&(e=e.source,c&&(t="flags"in f?f.flags:Yw.call(f))),e=void 0===e?"":Kw(e),t=void 0===t?"":Kw(t),f=e,tS&&"dotAll"in sS&&(r=!!t&&t.indexOf("s")>-1)&&(t=t.replace(/s/g,"")),n=t,cS&&"sticky"in sS&&(i=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,"")),nS&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a={},s=!1,u=!1,l=0,c="";r<=n;r++){if("\\"===(t=e.charAt(r)))t+=e.charAt(++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:aS.test(e.slice(r+1))&&(r+=2,u=!0),i+=t,l++;continue;case">"===t&&u:if(""===c||Jw(a,c))throw new SyntaxError("Invalid capture group name");a[c]=!0,o.push([c,l]),u=!1,c="";continue}u?c+=t:i+=t}return[i,o]}(e),e=o[0],d=o[1]),a=zw(iS(e,t),u?this:oS,fS),(r||i||d.length)&&(s=Zw(a),r&&(s.dotAll=!0,s.raw=fS(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=e.charAt(r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+e.charAt(++r);return i}(e),n)),i&&(s.sticky=!0),d.length&&(s.groups=d)),e!==f)try{Gw(a,"source",""===f?"(?:)":f)}catch(e){}return a},hS=function(e){e in fS||qw(fS,e,{configurable:!0,get:function(){return iS[e]},set:function(t){iS[e]=t}})},pS=Hw(iS),vS=0;pS.length>vS;)hS(pS[vS++]);oS.constructor=fS,fS.prototype=oS,$w(Uw,"RegExp",fS)}eS("RegExp");var mS=g,gS=Rw,yS=We.f,bS=Lt.get,_S=RegExp.prototype;mS&&gS&&yS(_S,"dotAll",{configurable:!0,get:function(){if(this!==_S){if(this instanceof RegExp)return!!bS(this).dotAll;throw TypeError("Incompatible receiver, RegExp required")}}});var ES=zn,wS=Ow,SS=Cw,TS=Z.exports,kS=cr,xS=Lt.get,AS=Rw,PS=Fw,OS=RegExp.prototype.exec,CS=TS("native-string-replace",String.prototype.replace),IS=OS,LS=function(){var e=/a/,t=/b*/g;return OS.call(e,"a"),OS.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),NS=SS.UNSUPPORTED_Y||SS.BROKEN_CARET,DS=void 0!==/()??/.exec("")[1];(LS||DS||NS||AS||PS)&&(IS=function(e){var t,n,r,i,o,a,s,u=this,l=xS(u),c=ES(e),d=l.raw;if(d)return d.lastIndex=u.lastIndex,t=IS.call(d,c),u.lastIndex=d.lastIndex,t;var f=l.groups,h=NS&&u.sticky,p=wS.call(u),v=u.source,m=0,g=c;if(h&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),g=c.slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==c.charAt(u.lastIndex-1))&&(v="(?: "+v+")",g=" "+g,m++),n=new RegExp("^(?:"+v+")",p)),DS&&(n=new RegExp("^"+v+"$(?!\\s)",p)),LS&&(r=u.lastIndex),i=OS.call(h?n:u,g),h?i?(i.input=i.input.slice(m),i[0]=i[0].slice(m),i.index=u.lastIndex,u.lastIndex+=i[0].length):u.lastIndex=0:LS&&i&&(u.lastIndex=u.global?i.index+i[0].length:r),DS&&i&&i.length>1&&CS.call(i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&f)for(i.groups=a=kS(null),o=0;o<f.length;o++)a[(s=f[o])[0]]=i[s[1]];return i});var RS=IS;Fn({target:"RegExp",proto:!0,forced:/./.exec!==RS},{exec:RS});var MS=We,jS=Ow;g&&m((function(){return"sy"!==Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get.call({dotAll:!0,sticky:!0})}))&&MS.f(RegExp.prototype,"flags",{configurable:!0,get:jS});var FS=g,VS=Cw.UNSUPPORTED_Y,US=We.f,BS=Lt.get,zS=RegExp.prototype;FS&&VS&&US(zS,"sticky",{configurable:!0,get:function(){if(this!==zS){if(this instanceof RegExp)return!!BS(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}});var GS=Fn,qS=D,HS=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),WS=/./.test;GS({target:"RegExp",proto:!0,forced:!HS},{test:function(e){if("function"!=typeof this.exec)return WS.call(this,e);var t=this.exec(e);if(null!==t&&!qS(t))throw new Error("RegExp exec method returned something other than an Object or null");return!!t}});var KS=rt.exports,YS=Ye,XS=zn,$S=m,QS=Ow,JS="toString",ZS=RegExp.prototype,eT=ZS[JS],tT=$S((function(){return"/a/b"!=eT.call({source:"a",flags:"b"})})),nT=eT.name!=JS;(tT||nT)&&KS(RegExp.prototype,JS,(function(){var e=YS(this),t=XS(e.source),n=e.flags;return"/"+t+"/"+XS(void 0===n&&e instanceof RegExp&&!("flags"in ZS)?QS.call(e):n)}),{unsafe:!0}),gp("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Cp);var rT=C,iT=qt,oT=Kt,aT=zn;Fn({target:"String",proto:!0,forced:m((function(){return"\ud842"!=="𠮷".at(0)}))},{at:function(e){var t=aT(rT(this)),n=oT(t.length),r=iT(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:t.charAt(i)}});var sT=qt,uT=zn,lT=C,cT=function(e){return function(t,n){var r,i,o=uT(lT(t)),a=sT(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},dT={codeAt:cT(!1),charAt:cT(!0)},fT=dT.codeAt;Fn({target:"String",proto:!0},{codePointAt:function(e){return fT(this,e)}});var hT,pT=Aw,vT=function(e){if(pT(e))throw TypeError("The method doesn't accept regular expressions");return e},mT=Se("match"),gT=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[mT]=!1,"/./"[e](t)}catch(e){}}return!1},yT=Fn,bT=v.f,_T=Kt,ET=zn,wT=vT,ST=C,TT=gT,kT="".endsWith,xT=Math.min,AT=TT("endsWith");yT({target:"String",proto:!0,forced:!(!AT&&(hT=bT(String.prototype,"endsWith"),hT&&!hT.writable)||AT)},{endsWith:function(e){var t=ET(ST(this));wT(e);var n=arguments.length>1?arguments[1]:void 0,r=_T(t.length),i=void 0===n?r:xT(_T(n),r),o=ET(e);return kT?kT.call(t,o,i):t.slice(i-o.length,i)===o}});var PT=Fn,OT=Qt,CT=String.fromCharCode,IT=String.fromCodePoint;PT({target:"String",stat:!0,forced:!!IT&&1!=IT.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],OT(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?CT(t):CT(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}});var LT=vT,NT=C,DT=zn;Fn({target:"String",proto:!0,forced:!gT("includes")},{includes:function(e){return!!~DT(NT(this)).indexOf(DT(LT(e)),arguments.length>1?arguments[1]:void 0)}});var RT=dT.charAt,MT=zn,jT=Lt,FT=Ru,VT="String Iterator",UT=jT.set,BT=jT.getterFor(VT);FT(String,"String",(function(e){UT(this,{type:VT,string:MT(e),index:0})}),(function(){var e,t=BT(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=RT(n,r),t.index+=e.length,{value:e,done:!1})}));var zT=rt.exports,GT=RS,qT=m,HT=Se,WT=nt,KT=HT("species"),YT=RegExp.prototype,XT=function(e,t,n,r){var i=HT(e),o=!qT((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),a=o&&!qT((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[KT]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!o||!a||n){var s=/./[i],u=t(i,""[e],(function(e,t,n,r,i){var a=t.exec;return a===GT||a===YT.exec?o&&!i?{done:!0,value:s.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}));zT(String.prototype,e,u[0]),zT(YT,i,u[1])}r&&WT(YT[i],"sham",!0)},$T=dT.charAt,QT=function(e,t,n){return t+(n?$T(e,t).length:1)},JT=x,ZT=RS,ek=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==JT(e))throw TypeError("RegExp#exec called on incompatible receiver");return ZT.call(e,t)},tk=Ye,nk=Kt,rk=zn,ik=C,ok=QT,ak=ek;XT("match",(function(e,t,n){return[function(t){var n=ik(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](rk(n))},function(e){var r=tk(this),i=rk(e),o=n(t,r,i);if(o.done)return o.value;if(!r.global)return ak(r,i);var a=r.unicode;r.lastIndex=0;for(var s,u=[],l=0;null!==(s=ak(r,i));){var c=rk(s[0]);u[l]=c,""===c&&(r.lastIndex=ok(i,nk(r.lastIndex),a)),l++}return 0===l?null:u}]}));var sk=Fn,uk=bu,lk=C,ck=Kt,dk=zn,fk=Ar,hk=Ye,pk=Aw,vk=Ow,mk=nt,gk=m,yk=gf,bk=QT,_k=Lt,Ek=Se("matchAll"),wk="RegExp String",Sk=wk+" Iterator",Tk=_k.set,kk=_k.getterFor(Sk),xk=RegExp.prototype,Ak=xk.exec,Pk="".matchAll,Ok=!!Pk&&!gk((function(){"a".matchAll(/./)})),Ck=uk((function(e,t,n,r){Tk(this,{type:Sk,regexp:e,string:t,global:n,unicode:r,done:!1})}),wk,(function(){var e=kk(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=function(e,t){var n,r=e.exec;if("function"==typeof r){if("object"!=typeof(n=r.call(e,t)))throw TypeError("Incorrect exec result");return n}return Ak.call(e,t)}(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""===dk(r[0])&&(t.lastIndex=bk(n,ck(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})})),Ik=function(e){var t,n,r,i,o,a,s=hk(this),u=dk(e);return t=yk(s,RegExp),void 0===(n=s.flags)&&s instanceof RegExp&&!("flags"in xk)&&(n=vk.call(s)),r=void 0===n?"":dk(n),i=new t(t===RegExp?s.source:s,r),o=!!~r.indexOf("g"),a=!!~r.indexOf("u"),i.lastIndex=ck(s.lastIndex),new Ck(i,u,o,a)};sk({target:"String",proto:!0,forced:Ok},{matchAll:function(e){var t,n,r=lk(this);if(null!=e){if(pk(e)&&!~dk(lk("flags"in xk?e.flags:vk.call(e))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(Ok)return Pk.apply(r,arguments);if(null!=(n=e[Ek]))return fk(n).call(e,r)}else if(Ok)return Pk.apply(r,arguments);return t=dk(r),new RegExp(e,"g")[Ek](t)}}),Ek in xk||mk(xk,Ek,Ik);var Lk=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(j),Nk=qf.end;Fn({target:"String",proto:!0,forced:Lk},{padEnd:function(e){return Nk(this,e,arguments.length>1?arguments[1]:void 0)}});var Dk=qf.start;Fn({target:"String",proto:!0,forced:Lk},{padStart:function(e){return Dk(this,e,arguments.length>1?arguments[1]:void 0)}});var Rk=N,Mk=Kt,jk=zn;Fn({target:"String",stat:!0},{raw:function(e){for(var t=Rk(e.raw),n=Mk(t.length),r=arguments.length,i=[],o=0;n>o;)i.push(jk(t[o++])),o<r&&i.push(jk(arguments[o]));return i.join("")}}),Fn({target:"String",proto:!0},{repeat:jf});var Fk=se,Vk=Math.floor,Uk="".replace,Bk=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,zk=/\$([$&'`]|\d{1,2})/g,Gk=function(e,t,n,r,i,o){var a=n+e.length,s=r.length,u=zk;return void 0!==i&&(i=Fk(i),u=Bk),Uk.call(o,u,(function(o,u){var l;switch(u.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(a);case"<":l=i[u.slice(1,-1)];break;default:var c=+u;if(0===c)return o;if(c>s){var d=Vk(c/10);return 0===d?o:d<=s?void 0===r[d-1]?u.charAt(1):r[d-1]+u.charAt(1):o}l=r[c-1]}return void 0===l?"":l}))},qk=XT,Hk=m,Wk=Ye,Kk=qt,Yk=Kt,Xk=zn,$k=C,Qk=QT,Jk=Gk,Zk=ek,ex=Se("replace"),tx=Math.max,nx=Math.min,rx="$0"==="a".replace(/./,"$0"),ix=!!/./[ex]&&""===/./[ex]("a","$0"),ox=!Hk((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));qk("replace",(function(e,t,n){var r=ix?"$":"$0";return[function(e,n){var r=$k(this),i=null==e?void 0:e[ex];return void 0!==i?i.call(e,r,n):t.call(Xk(r),e,n)},function(e,i){var o=Wk(this),a=Xk(e);if("string"==typeof i&&-1===i.indexOf(r)&&-1===i.indexOf("$<")){var s=n(t,o,a,i);if(s.done)return s.value}var u="function"==typeof i;u||(i=Xk(i));var l=o.global;if(l){var c=o.unicode;o.lastIndex=0}for(var d=[];;){var f=Zk(o,a);if(null===f)break;if(d.push(f),!l)break;""===Xk(f[0])&&(o.lastIndex=Qk(a,Yk(o.lastIndex),c))}for(var h,p="",v=0,m=0;m<d.length;m++){f=d[m];for(var g=Xk(f[0]),y=tx(nx(Kk(f.index),a.length),0),b=[],_=1;_<f.length;_++)b.push(void 0===(h=f[_])?h:String(h));var E=f.groups;if(u){var w=[g].concat(b,y,a);void 0!==E&&w.push(E);var S=Xk(i.apply(void 0,w))}else S=Jk(g,a,y,b,E,i);y>=v&&(p+=a.slice(v,y)+S,v=y+g.length)}return p+a.slice(v)}]}),!ox||!rx||ix);var ax=Fn,sx=C,ux=Aw,lx=zn,cx=Ow,dx=Gk,fx=Se("replace"),hx=RegExp.prototype,px=Math.max,vx=function(e,t,n){return n>e.length?-1:""===t?n:e.indexOf(t,n)};ax({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,i,o,a,s,u,l=sx(this),c=0,d=0,f="";if(null!=e){if(ux(e)&&!~lx(sx("flags"in hx?e.flags:cx.call(e))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(n=e[fx]))return n.call(e,l,t)}for(r=lx(l),i=lx(e),(o="function"==typeof t)||(t=lx(t)),a=i.length,s=px(1,a),c=vx(r,i,0);-1!==c;)u=o?lx(t(i,c,r)):dx(i,r,c,[],void 0,t),f+=r.slice(d,c)+u,d=c+a,c=vx(r,i,c+s);return d<r.length&&(f+=r.slice(d)),f}});var mx=Ye,gx=C,yx=ey,bx=zn,_x=ek;XT("search",(function(e,t,n){return[function(t){var n=gx(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](bx(n))},function(e){var r=mx(this),i=bx(e),o=n(t,r,i);if(o.done)return o.value;var a=r.lastIndex;yx(a,0)||(r.lastIndex=0);var s=_x(r,i);return yx(r.lastIndex,a)||(r.lastIndex=a),null===s?-1:s.index}]}));var Ex=XT,wx=Aw,Sx=Ye,Tx=C,kx=gf,xx=QT,Ax=Kt,Px=zn,Ox=ek,Cx=RS,Ix=m,Lx=Cw.UNSUPPORTED_Y,Nx=[].push,Dx=Math.min,Rx=4294967295,Mx=!Ix((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));Ex("split",(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=Px(Tx(this)),i=void 0===n?Rx:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!wx(e))return t.call(r,e,i);for(var o,a,s,u=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),c=0,d=new RegExp(e.source,l+"g");(o=Cx.call(d,r))&&!((a=d.lastIndex)>c&&(u.push(r.slice(c,o.index)),o.length>1&&o.index<r.length&&Nx.apply(u,o.slice(1)),s=o[0].length,c=a,u.length>=i));)d.lastIndex===o.index&&d.lastIndex++;return c===r.length?!s&&d.test("")||u.push(""):u.push(r.slice(c)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=Tx(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(Px(i),t,n)},function(e,i){var o=Sx(this),a=Px(e),s=n(r,o,a,i,r!==t);if(s.done)return s.value;var u=kx(o,RegExp),l=o.unicode,c=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Lx?"g":"y"),d=new u(Lx?"^(?:"+o.source+")":o,c),f=void 0===i?Rx:i>>>0;if(0===f)return[];if(0===a.length)return null===Ox(d,a)?[a]:[];for(var h=0,p=0,v=[];p<a.length;){d.lastIndex=Lx?0:p;var m,g=Ox(d,Lx?a.slice(p):a);if(null===g||(m=Dx(Ax(d.lastIndex+(Lx?p:0)),a.length))===h)p=xx(a,p,l);else{if(v.push(a.slice(h,p)),v.length===f)return v;for(var y=1;y<=g.length-1;y++)if(v.push(g[y]),v.length===f)return v;p=h=m}}return v.push(a.slice(h)),v}]}),!Mx,Lx);var jx=Fn,Fx=v.f,Vx=Kt,Ux=zn,Bx=vT,zx=C,Gx=gT,qx="".startsWith,Hx=Math.min,Wx=Gx("startsWith"),Kx=!Wx&&!!function(){var e=Fx(String.prototype,"startsWith");return e&&!e.writable}();jx({target:"String",proto:!0,forced:!Kx&&!Wx},{startsWith:function(e){var t=Ux(zx(this));Bx(e);var n=Vx(Hx(arguments.length>1?arguments[1]:void 0,t.length)),r=Ux(e);return qx?qx.call(t,r,n):t.slice(n,n+r.length)===r}});var Yx=Fn,Xx=C,$x=qt,Qx=zn,Jx="".slice,Zx=Math.max,eA=Math.min;Yx({target:"String",proto:!0},{substr:function(e,t){var n,r,i=Qx(Xx(this)),o=i.length,a=$x(e);return a===1/0&&(a=0),a<0&&(a=Zx(o+a,0)),(n=void 0===t?o:$x(t))<=0||n===1/0||a>=(r=eA(a+n,o))?"":Jx.call(i,a,r)}});var tA=m,nA=Gv,rA=function(e){return tA((function(){return!!nA[e]()||"​᠎"!="​᠎"[e]()||nA[e].name!==e}))},iA=$v.trim;Fn({target:"String",proto:!0,forced:rA("trim")},{trim:function(){return iA(this)}});var oA=Fn,aA=$v.end,sA=rA("trimEnd"),uA=sA?function(){return aA(this)}:"".trimEnd;oA({target:"String",proto:!0,forced:sA},{trimEnd:uA,trimRight:uA});var lA=Fn,cA=$v.start,dA=rA("trimStart"),fA=dA?function(){return cA(this)}:"".trimStart;lA({target:"String",proto:!0,forced:dA},{trimStart:fA,trimLeft:fA});var hA=C,pA=zn,vA=/"/g,mA=function(e,t,n,r){var i=pA(hA(e)),o="<"+t;return""!==n&&(o+=" "+n+'="'+pA(r).replace(vA,"&quot;")+'"'),o+">"+i+"</"+t+">"},gA=m,yA=function(e){return gA((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))},bA=mA;Fn({target:"String",proto:!0,forced:yA("anchor")},{anchor:function(e){return bA(this,"a","name",e)}});var _A=mA;Fn({target:"String",proto:!0,forced:yA("big")},{big:function(){return _A(this,"big","","")}});var EA=mA;Fn({target:"String",proto:!0,forced:yA("blink")},{blink:function(){return EA(this,"blink","","")}});var wA=mA;Fn({target:"String",proto:!0,forced:yA("bold")},{bold:function(){return wA(this,"b","","")}});var SA=mA;Fn({target:"String",proto:!0,forced:yA("fixed")},{fixed:function(){return SA(this,"tt","","")}});var TA=mA;Fn({target:"String",proto:!0,forced:yA("fontcolor")},{fontcolor:function(e){return TA(this,"font","color",e)}});var kA=mA;Fn({target:"String",proto:!0,forced:yA("fontsize")},{fontsize:function(e){return kA(this,"font","size",e)}});var xA=mA;Fn({target:"String",proto:!0,forced:yA("italics")},{italics:function(){return xA(this,"i","","")}});var AA=mA;Fn({target:"String",proto:!0,forced:yA("link")},{link:function(e){return AA(this,"a","href",e)}});var PA=mA;Fn({target:"String",proto:!0,forced:yA("small")},{small:function(){return PA(this,"small","","")}});var OA=mA;Fn({target:"String",proto:!0,forced:yA("strike")},{strike:function(){return OA(this,"strike","","")}});var CA=mA;Fn({target:"String",proto:!0,forced:yA("sub")},{sub:function(){return CA(this,"sub","","")}});var IA=mA;Fn({target:"String",proto:!0,forced:yA("sup")},{sup:function(){return IA(this,"sup","","")}});var LA={exports:{}},NA=p,DA=m,RA=Ws,MA=hf.NATIVE_ARRAY_BUFFER_VIEWS,jA=NA.ArrayBuffer,FA=NA.Int8Array,VA=!MA||!DA((function(){FA(1)}))||!DA((function(){new FA(-1)}))||!RA((function(e){new FA,new FA(null),new FA(1.5),new FA(e)}),!0)||DA((function(){return 1!==new FA(new jA(2),1,void 0).length})),UA=qt,BA=function(e){var t=UA(e);if(t<0)throw RangeError("The argument can't be less than 0");return t},zA=function(e,t){var n=BA(e);if(n%t)throw RangeError("Wrong offset");return n},GA=se,qA=Kt,HA=Go,WA=Uo,KA=Oo,YA=Or,XA=hf.aTypedArrayConstructor,$A=function(e){var t,n,r,i,o,a,s=GA(e),u=arguments.length,l=u>1?arguments[1]:void 0,c=void 0!==l,d=WA(s);if(null!=d&&!KA(d))for(a=(o=HA(s,d)).next,s=[];!(i=a.call(o)).done;)s.push(i.value);for(c&&u>2&&(l=YA(l,arguments[2],2)),n=qA(s.length),r=new(XA(this))(n),t=0;n>t;t++)r[t]=c?l(s[t],t):s[t];return r},QA=Fn,JA=p,ZA=g,eP=VA,tP=hf,nP=Cd,rP=Pc,iP=T,oP=nt,aP=Tm,sP=Kt,uP=Ic,lP=zA,cP=Ie,dP=ce,fP=Mo,hP=D,pP=$,vP=cr,mP=To,gP=Bt.f,yP=$A,bP=zr.forEach,_P=pc,EP=We,wP=v,SP=ip,TP=Lt.get,kP=Lt.set,xP=EP.f,AP=wP.f,PP=Math.round,OP=JA.RangeError,CP=nP.ArrayBuffer,IP=nP.DataView,LP=tP.NATIVE_ARRAY_BUFFER_VIEWS,NP=tP.TYPED_ARRAY_CONSTRUCTOR,DP=tP.TYPED_ARRAY_TAG,RP=tP.TypedArray,MP=tP.TypedArrayPrototype,jP=tP.aTypedArrayConstructor,FP=tP.isTypedArray,VP="BYTES_PER_ELEMENT",UP="Wrong length",BP=function(e,t){for(var n=0,r=t.length,i=new(jP(e))(r);r>n;)i[n]=t[n++];return i},zP=function(e,t){xP(e,t,{get:function(){return TP(this)[t]}})},GP=function(e){var t;return e instanceof CP||"ArrayBuffer"==(t=fP(e))||"SharedArrayBuffer"==t},qP=function(e,t){return FP(e)&&!pP(t)&&t in e&&aP(+t)&&t>=0},HP=function(e,t){return t=cP(t),qP(e,t)?iP(2,e[t]):AP(e,t)},WP=function(e,t,n){return t=cP(t),!(qP(e,t)&&hP(n)&&dP(n,"value"))||dP(n,"get")||dP(n,"set")||n.configurable||dP(n,"writable")&&!n.writable||dP(n,"enumerable")&&!n.enumerable?xP(e,t,n):(e[t]=n.value,e)};ZA?(LP||(wP.f=HP,EP.f=WP,zP(MP,"buffer"),zP(MP,"byteOffset"),zP(MP,"byteLength"),zP(MP,"length")),QA({target:"Object",stat:!0,forced:!LP},{getOwnPropertyDescriptor:HP,defineProperty:WP}),LA.exports=function(e,t,n){var r=e.match(/\d+$/)[0]/8,i=e+(n?"Clamped":"")+"Array",o="get"+e,a="set"+e,s=JA[i],u=s,l=u&&u.prototype,c={},d=function(e,t){xP(e,t,{get:function(){return function(e,t){var n=TP(e);return n.view[o](t*r+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var o=TP(e);n&&(i=(i=PP(i))<0?0:i>255?255:255&i),o.view[a](t*r+o.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};LP?eP&&(u=t((function(e,t,n,o){return rP(e,u,i),SP(hP(t)?GP(t)?void 0!==o?new s(t,lP(n,r),o):void 0!==n?new s(t,lP(n,r)):new s(t):FP(t)?BP(u,t):yP.call(u,t):new s(uP(t)),e,u)})),mP&&mP(u,RP),bP(gP(s),(function(e){e in u||oP(u,e,s[e])})),u.prototype=l):(u=t((function(e,t,n,o){rP(e,u,i);var a,s,l,c=0,f=0;if(hP(t)){if(!GP(t))return FP(t)?BP(u,t):yP.call(u,t);a=t,f=lP(n,r);var h=t.byteLength;if(void 0===o){if(h%r)throw OP(UP);if((s=h-f)<0)throw OP(UP)}else if((s=sP(o)*r)+f>h)throw OP(UP);l=s/r}else l=uP(t),a=new CP(s=l*r);for(kP(e,{buffer:a,byteOffset:f,byteLength:s,length:l,view:new IP(a)});c<l;)d(e,c++)})),mP&&mP(u,RP),l=u.prototype=vP(MP)),l.constructor!==u&&oP(l,"constructor",u),oP(l,NP,u),DP&&oP(l,DP,i),c[i]=u,QA({global:!0,forced:u!=s,sham:!LP},c),VP in u||oP(u,VP,r),VP in l||oP(l,VP,r),_P(i)}):LA.exports=function(){},(0,LA.exports)("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,LA.exports)("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,LA.exports)("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,LA.exports)("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,LA.exports)("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,LA.exports)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,LA.exports)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0),(0,LA.exports)("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,LA.exports)("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var KP=Kt,YP=qt,XP=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("at",(function(e){var t=XP(this),n=KP(t.length),r=YP(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:t[i]}));var $P=Ka,QP=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("copyWithin",(function(e,t){return $P.call(QP(this),e,t,arguments.length>2?arguments[2]:void 0)}));var JP=zr.every,ZP=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("every",(function(e){return JP(ZP(this),e,arguments.length>1?arguments[1]:void 0)}));var eO=ts,tO=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("fill",(function(e){return eO.apply(tO(this),arguments)}));var nO=gf,rO=hf.TYPED_ARRAY_CONSTRUCTOR,iO=hf.aTypedArrayConstructor,oO=function(e){return iO(nO(e,e[rO]))},aO=function(e,t){for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i},sO=oO,uO=zr.filter,lO=function(e,t){return aO(sO(e),t)},cO=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("filter",(function(e){var t=uO(cO(this),e,arguments.length>1?arguments[1]:void 0);return lO(this,t)}));var dO=zr.find,fO=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("find",(function(e){return dO(fO(this),e,arguments.length>1?arguments[1]:void 0)}));var hO=zr.findIndex,pO=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("findIndex",(function(e){return hO(pO(this),e,arguments.length>1?arguments[1]:void 0)}));var vO=zr.forEach,mO=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("forEach",(function(e){vO(mO(this),e,arguments.length>1?arguments[1]:void 0)})),(0,hf.exportTypedArrayStaticMethod)("from",$A,VA);var gO=nn.includes,yO=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("includes",(function(e){return gO(yO(this),e,arguments.length>1?arguments[1]:void 0)}));var bO=nn.indexOf,_O=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("indexOf",(function(e){return bO(_O(this),e,arguments.length>1?arguments[1]:void 0)}));var EO=p,wO=hf,SO=qu,TO=Se("iterator"),kO=EO.Uint8Array,xO=SO.values,AO=SO.keys,PO=SO.entries,OO=wO.aTypedArray,CO=wO.exportTypedArrayMethod,IO=kO&&kO.prototype[TO],LO=!!IO&&("values"==IO.name||null==IO.name),NO=function(){return xO.call(OO(this))};CO("entries",(function(){return PO.call(OO(this))})),CO("keys",(function(){return AO.call(OO(this))})),CO("values",NO,!LO),CO(TO,NO,!LO);var DO=hf.aTypedArray,RO=[].join;(0,hf.exportTypedArrayMethod)("join",(function(e){return RO.apply(DO(this),arguments)}));var MO=il,jO=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("lastIndexOf",(function(e){return MO.apply(jO(this),arguments)}));var FO=zr.map,VO=oO,UO=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("map",(function(e){return FO(UO(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(VO(e))(t)}))}));var BO=hf.aTypedArrayConstructor;(0,hf.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,n=new(BO(this))(t);t>e;)n[e]=arguments[e++];return n}),VA);var zO=fl.left,GO=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("reduce",(function(e){return zO(GO(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var qO=fl.right,HO=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("reduceRight",(function(e){return qO(HO(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var WO=hf.aTypedArray,KO=hf.exportTypedArrayMethod,YO=Math.floor;KO("reverse",(function(){for(var e,t=this,n=WO(t).length,r=YO(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t}));var XO=Kt,$O=zA,QO=se,JO=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("set",(function(e){JO(this);var t=$O(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=QO(e),i=XO(r.length),o=0;if(i+t>n)throw RangeError("Wrong length");for(;o<i;)this[t+o]=r[o++]}),m((function(){new Int8Array(1).set({})})));var ZO=oO,eC=hf.aTypedArray,tC=[].slice;(0,hf.exportTypedArrayMethod)("slice",(function(e,t){for(var n=tC.call(eC(this),e,t),r=ZO(this),i=0,o=n.length,a=new r(o);o>i;)a[i]=n[i++];return a}),m((function(){new Int8Array(1).slice()})));var nC=zr.some,rC=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("some",(function(e){return nC(rC(this),e,arguments.length>1?arguments[1]:void 0)}));var iC=m,oC=Ar,aC=Kt,sC=Ul,uC=zl,lC=Gl,cC=q,dC=Hl,fC=hf.aTypedArray,hC=hf.exportTypedArrayMethod,pC=p.Uint16Array,vC=pC&&pC.prototype.sort,mC=!!vC&&!iC((function(){var e=new pC(2);e.sort(null),e.sort({})})),gC=!!vC&&!iC((function(){if(cC)return cC<74;if(uC)return uC<67;if(lC)return!0;if(dC)return dC<602;var e,t,n=new pC(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(n.sort((function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));hC("sort",(function(e){var t=this;if(void 0!==e&&oC(e),gC)return vC.call(t,e);fC(t);var n,r=aC(t.length),i=Array(r);for(n=0;n<r;n++)i[n]=t[n];for(i=sC(t,function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e)),n=0;n<r;n++)t[n]=i[n];return t}),!gC||mC);var yC=Kt,bC=Qt,_C=oO,EC=hf.aTypedArray;(0,hf.exportTypedArrayMethod)("subarray",(function(e,t){var n=EC(this),r=n.length,i=bC(e,r);return new(_C(n))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,yC((void 0===t?r:bC(t,r))-i))}));var wC=hf,SC=m,TC=p.Int8Array,kC=wC.aTypedArray,xC=wC.exportTypedArrayMethod,AC=[].toLocaleString,PC=[].slice,OC=!!TC&&SC((function(){AC.call(new TC(1))}));xC("toLocaleString",(function(){return AC.apply(OC?PC.call(kC(this)):kC(this),arguments)}),SC((function(){return[1,2].toLocaleString()!=new TC([1,2]).toLocaleString()}))||!SC((function(){TC.prototype.toLocaleString.call([1,2])})));var CC=hf.exportTypedArrayMethod,IC=m,LC=p.Uint8Array,NC=LC&&LC.prototype||{},DC=[].toString,RC=[].join;IC((function(){DC.call({})}))&&(DC=function(){return RC.call(this)});var MC=NC.toString!=DC;CC("toString",DC,MC);var jC=Fn,FC=zn,VC=String.fromCharCode,UC=/^[\da-f]{2}$/i,BC=/^[\da-f]{4}$/i;jC({global:!0},{unescape:function(e){for(var t,n,r=FC(e),i="",o=r.length,a=0;a<o;){if("%"===(t=r.charAt(a++)))if("u"===r.charAt(a)){if(n=r.slice(a+1,a+5),BC.test(n)){i+=VC(parseInt(n,16)),a+=5;continue}}else if(n=r.slice(a,a+2),UC.test(n)){i+=VC(parseInt(n,16)),a+=2;continue}i+=t}return i}});var zC=Ac,GC=Uh.exports.getWeakData,qC=Ye,HC=D,WC=Pc,KC=ea,YC=ce,XC=Lt.set,$C=Lt.getterFor,QC=zr.find,JC=zr.findIndex,ZC=0,eI=function(e){return e.frozen||(e.frozen=new tI)},tI=function(){this.entries=[]},nI=function(e,t){return QC(e.entries,(function(e){return e[0]===t}))};tI.prototype={get:function(e){var t=nI(this,e);if(t)return t[1]},has:function(e){return!!nI(this,e)},set:function(e,t){var n=nI(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=JC(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}};var rI,iI={getConstructor:function(e,t,n,r){var i=e((function(e,o){WC(e,i,t),XC(e,{type:t,id:ZC++,frozen:void 0}),null!=o&&KC(o,e[r],{that:e,AS_ENTRIES:n})})),o=$C(t),a=function(e,t,n){var r=o(e),i=GC(qC(t),!0);return!0===i?eI(r).set(t,n):i[r.id]=n,e};return zC(i.prototype,{delete:function(e){var t=o(this);if(!HC(e))return!1;var n=GC(e);return!0===n?eI(t).delete(e):n&&YC(n,t.id)&&delete n[t.id]},has:function(e){var t=o(this);if(!HC(e))return!1;var n=GC(e);return!0===n?eI(t).has(e):n&&YC(n,t.id)}}),zC(i.prototype,n?{get:function(e){var t=o(this);if(HC(e)){var n=GC(e);return!0===n?eI(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return a(this,e,t)}}:{add:function(e){return a(this,e,!0)}}),i}},oI=p,aI=Ac,sI=Uh.exports,uI=gp,lI=iI,cI=D,dI=Lt.enforce,fI=ft,hI=!oI.ActiveXObject&&"ActiveXObject"in oI,pI=Object.isExtensible,vI=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},mI=uI("WeakMap",vI,lI);if(fI&&hI){rI=lI.getConstructor(vI,"WeakMap",!0),sI.enable();var gI=mI.prototype,yI=gI.delete,bI=gI.has,_I=gI.get,EI=gI.set;aI(gI,{delete:function(e){if(cI(e)&&!pI(e)){var t=dI(this);return t.frozen||(t.frozen=new rI),yI.call(this,e)||t.frozen.delete(e)}return yI.call(this,e)},has:function(e){if(cI(e)&&!pI(e)){var t=dI(this);return t.frozen||(t.frozen=new rI),bI.call(this,e)||t.frozen.has(e)}return bI.call(this,e)},get:function(e){if(cI(e)&&!pI(e)){var t=dI(this);return t.frozen||(t.frozen=new rI),bI.call(this,e)?_I.call(this,e):t.frozen.get(e)}return _I.call(this,e)},set:function(e,t){if(cI(e)&&!pI(e)){var n=dI(this);n.frozen||(n.frozen=new rI),bI.call(this,e)?EI.call(this,e,t):n.frozen.set(e,t)}else EI.call(this,e,t);return this}})}gp("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),iI);var wI={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},SI=p,TI=wI,kI=Cs,xI=nt;for(var AI in TI){var PI=SI[AI],OI=PI&&PI.prototype;if(OI&&OI.forEach!==kI)try{xI(OI,"forEach",kI)}catch(uMe){OI.forEach=kI}}var CI=p,II=wI,LI=qu,NI=nt,DI=Se,RI=DI("iterator"),MI=DI("toStringTag"),jI=LI.values;for(var FI in II){var VI=CI[FI],UI=VI&&VI.prototype;if(UI){if(UI[RI]!==jI)try{NI(UI,RI,jI)}catch(lMe){UI[RI]=jI}if(UI[MI]||NI(UI,MI,FI),II[FI])for(var BI in LI)if(UI[BI]!==LI[BI])try{NI(UI,BI,LI[BI])}catch(cMe){UI[BI]=LI[BI]}}}var zI=p,GI=xb;Fn({global:!0,bind:!0,enumerable:!0,forced:!zI.setImmediate||!zI.clearImmediate},{setImmediate:GI.set,clearImmediate:GI.clear});var qI=Fn,HI=Gb,WI=hl,KI=p.process;qI({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=WI&&KI.domain;HI(t?t.bind(e):e)}});var YI=p,XI=[].slice,$I=function(e){return function(t,n){var r=arguments.length>2,i=r?XI.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};Fn({global:!0,bind:!0,forced:/MSIE .\./.test(j)},{setTimeout:$I(YI.setTimeout),setInterval:$I(YI.setInterval)});var QI=m,JI=Se("iterator"),ZI=!QI((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[JI]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),eL=2147483647,tL=/[^\0-\u007E]/,nL=/[.\u3002\uFF0E\uFF61]/g,rL="Overflow: input needs wider integers to process",iL=Math.floor,oL=String.fromCharCode,aL=function(e){return e+22+75*(e<26)},sL=function(e,t,n){var r=0;for(e=n?iL(e/700):e>>1,e+=iL(e/t);e>455;r+=36)e=iL(e/35);return iL(r+36*e/(e+38))},uL=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);var n,r,i=e.length,o=128,a=0,s=72;for(n=0;n<e.length;n++)(r=e[n])<128&&t.push(oL(r));var u=t.length,l=u;for(u&&t.push("-");l<i;){var c=eL;for(n=0;n<e.length;n++)(r=e[n])>=o&&r<c&&(c=r);var d=l+1;if(c-o>iL((eL-a)/d))throw RangeError(rL);for(a+=(c-o)*d,o=c,n=0;n<e.length;n++){if((r=e[n])<o&&++a>eL)throw RangeError(rL);if(r==o){for(var f=a,h=36;;h+=36){var p=h<=s?1:h>=s+26?26:h-s;if(f<p)break;var v=f-p,m=36-p;t.push(oL(aL(p+v%m))),f=iL(v/m)}t.push(oL(aL(f))),s=sL(a,d,l==u),a=0,++l}}++a,++o}return t.join("")},lL=Fn,cL=M,dL=ZI,fL=rt.exports,hL=Ac,pL=xr,vL=bu,mL=Lt,gL=Pc,yL=ce,bL=Or,_L=Mo,EL=Ye,wL=D,SL=zn,TL=cr,kL=T,xL=Go,AL=Uo,PL=Se,OL=cL("fetch"),CL=cL("Request"),IL=CL&&CL.prototype,LL=cL("Headers"),NL=PL("iterator"),DL="URLSearchParams",RL=DL+"Iterator",ML=mL.set,jL=mL.getterFor(DL),FL=mL.getterFor(RL),VL=/\+/g,UL=Array(4),BL=function(e){return UL[e-1]||(UL[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},zL=function(e){try{return decodeURIComponent(e)}catch(t){return e}},GL=function(e){var t=e.replace(VL," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(BL(n--),zL);return t}},qL=/[!'()~]|%20/g,HL={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},WL=function(e){return HL[e]},KL=function(e){return encodeURIComponent(e).replace(qL,WL)},YL=function(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:GL(r.shift()),value:GL(r.join("="))}))},XL=function(e){this.entries.length=0,YL(this.entries,e)},$L=function(e,t){if(e<t)throw TypeError("Not enough arguments")},QL=vL((function(e,t){ML(this,{type:RL,iterator:xL(jL(e).entries),kind:t})}),"Iterator",(function(){var e=FL(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),JL=function(){gL(this,JL,DL);var e,t,n,r,i,o,a,s,u,l=arguments.length>0?arguments[0]:void 0,c=[];if(ML(this,{type:DL,entries:c,updateURL:function(){},updateSearchParams:XL}),void 0!==l)if(wL(l))if("function"==typeof(e=AL(l)))for(n=(t=xL(l,e)).next;!(r=n.call(t)).done;){if((a=(o=(i=xL(EL(r.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");c.push({key:SL(a.value),value:SL(s.value)})}else for(u in l)yL(l,u)&&c.push({key:u,value:SL(l[u])});else YL(c,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:SL(l))},ZL=JL.prototype;if(hL(ZL,{append:function(e,t){$L(arguments.length,2);var n=jL(this);n.entries.push({key:SL(e),value:SL(t)}),n.updateURL()},delete:function(e){$L(arguments.length,1);for(var t=jL(this),n=t.entries,r=SL(e),i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){$L(arguments.length,1);for(var t=jL(this).entries,n=SL(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){$L(arguments.length,1);for(var t=jL(this).entries,n=SL(e),r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){$L(arguments.length,1);for(var t=jL(this).entries,n=SL(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){$L(arguments.length,1);for(var n,r=jL(this),i=r.entries,o=!1,a=SL(e),s=SL(t),u=0;u<i.length;u++)(n=i[u]).key===a&&(o?i.splice(u--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=jL(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=jL(this).entries,r=bL(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new QL(this,"keys")},values:function(){return new QL(this,"values")},entries:function(){return new QL(this,"entries")}},{enumerable:!0}),fL(ZL,NL,ZL.entries),fL(ZL,"toString",(function(){for(var e,t=jL(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(KL(e.key)+"="+KL(e.value));return n.join("&")}),{enumerable:!0}),pL(JL,DL),lL({global:!0,forced:!dL},{URLSearchParams:JL}),!dL&&"function"==typeof LL){var eN=function(e){if(wL(e)){var t,n=e.body;if(_L(n)===DL)return(t=e.headers?new LL(e.headers):new LL).has("content-type")||t.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),TL(e,{body:kL(0,String(n)),headers:kL(0,t)})}return e};if("function"==typeof OL&&lL({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return OL(e,arguments.length>1?eN(arguments[1]):{})}}),"function"==typeof CL){var tN=function(e){return gL(this,tN,"Request"),new CL(e,arguments.length>1?eN(arguments[1]):{})};IL.constructor=tN,tN.prototype=IL,lL({global:!0,forced:!0},{Request:tN})}}var nN,rN={URLSearchParams:JL,getState:jL},iN=Fn,oN=g,aN=ZI,sN=p,uN=Xn,lN=rt.exports,cN=Pc,dN=ce,fN=fg,hN=Bs,pN=dT.codeAt,vN=function(e){var t,n,r=[],i=e.toLowerCase().replace(nL,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(tL.test(n)?"xn--"+uL(n):n);return r.join(".")},mN=zn,gN=xr,yN=rN,bN=Lt,_N=sN.URL,EN=yN.URLSearchParams,wN=yN.getState,SN=bN.set,TN=bN.getterFor("URL"),kN=Math.floor,xN=Math.pow,AN="Invalid scheme",PN="Invalid host",ON="Invalid port",CN=/[A-Za-z]/,IN=/[\d+-.A-Za-z]/,LN=/\d/,NN=/^0x/i,DN=/^[0-7]+$/,RN=/^\d+$/,MN=/^[\dA-Fa-f]+$/,jN=/[\0\t\n\r #%/:<>?@[\\\]^|]/,FN=/[\0\t\n\r #/:<>?@[\\\]^|]/,VN=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,UN=/[\t\n\r]/g,BN=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return PN;if(!(n=GN(t.slice(1,-1))))return PN;e.host=n}else if(QN(e)){if(t=vN(t),jN.test(t))return PN;if(null===(n=zN(t)))return PN;e.host=n}else{if(FN.test(t))return PN;for(n="",r=hN(t),i=0;i<r.length;i++)n+=XN(r[i],HN);e.host=n}},zN=function(e){var t,n,r,i,o,a,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=NN.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?RN:8==o?DN:MN).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=xN(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*xN(256,3-r);return s},GN=function(e){var t,n,r,i,o,a,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,d=0,f=function(){return e.charAt(d)};if(":"==f()){if(":"!=e.charAt(1))return;d+=2,c=++l}for(;f();){if(8==l)return;if(":"!=f()){for(t=n=0;n<4&&MN.test(f());)t=16*t+parseInt(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,l>6)return;for(r=0;f();){if(i=null,r>0){if(!("."==f()&&r<4))return;d++}if(!LN.test(f()))return;for(;LN.test(f());){if(o=parseInt(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}u[l]=256*u[l]+i,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;u[l++]=t}else{if(null!==c)return;d++,c=++l}}if(null!==c)for(a=l-c,l=7;0!=l&&a>0;)s=u[l],u[l--]=u[c+a-1],u[c+--a]=s;else if(8!=l)return;return u},qN=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=kN(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},HN={},WN=fN({},HN,{" ":1,'"':1,"<":1,">":1,"`":1}),KN=fN({},WN,{"#":1,"?":1,"{":1,"}":1}),YN=fN({},KN,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),XN=function(e,t){var n=pN(e,0);return n>32&&n<127&&!dN(t,e)?e:encodeURIComponent(e)},$N={ftp:21,file:null,http:80,https:443,ws:80,wss:443},QN=function(e){return dN($N,e.scheme)},JN=function(e){return""!=e.username||""!=e.password},ZN=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},eD=function(e,t){var n;return 2==e.length&&CN.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},tD=function(e){var t;return e.length>1&&eD(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},nD=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&eD(t[0],!0)||t.pop()},rD=function(e){return"."===e||"%2e"===e.toLowerCase()},iD={},oD={},aD={},sD={},uD={},lD={},cD={},dD={},fD={},hD={},pD={},vD={},mD={},gD={},yD={},bD={},_D={},ED={},wD={},SD={},TD={},kD=function(e,t,n,r){var i,o,a,s,u,l=n||iD,c=0,d="",f=!1,h=!1,p=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(VN,"")),t=t.replace(UN,""),i=hN(t);c<=i.length;){switch(o=i[c],l){case iD:if(!o||!CN.test(o)){if(n)return AN;l=aD;continue}d+=o.toLowerCase(),l=oD;break;case oD:if(o&&(IN.test(o)||"+"==o||"-"==o||"."==o))d+=o.toLowerCase();else{if(":"!=o){if(n)return AN;d="",l=aD,c=0;continue}if(n&&(QN(e)!=dN($N,d)||"file"==d&&(JN(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=d,n)return void(QN(e)&&$N[e.scheme]==e.port&&(e.port=null));d="","file"==e.scheme?l=gD:QN(e)&&r&&r.scheme==e.scheme?l=sD:QN(e)?l=dD:"/"==i[c+1]?(l=uD,c++):(e.cannotBeABaseURL=!0,e.path.push(""),l=wD)}break;case aD:if(!r||r.cannotBeABaseURL&&"#"!=o)return AN;if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,l=TD;break}l="file"==r.scheme?gD:lD;continue;case sD:if("/"!=o||"/"!=i[c+1]){l=lD;continue}l=fD,c++;break;case uD:if("/"==o){l=hD;break}l=ED;continue;case lD:if(e.scheme=r.scheme,o==nN)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&QN(e))l=cD;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",l=SD;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),l=ED;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",l=TD}break;case cD:if(!QN(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,l=ED;continue}l=hD}else l=fD;break;case dD:if(l=fD,"/"!=o||"/"!=d.charAt(c+1))continue;c++;break;case fD:if("/"!=o&&"\\"!=o){l=hD;continue}break;case hD:if("@"==o){f&&(d="%40"+d),f=!0,a=hN(d);for(var v=0;v<a.length;v++){var m=a[v];if(":"!=m||p){var g=XN(m,YN);p?e.password+=g:e.username+=g}else p=!0}d=""}else if(o==nN||"/"==o||"?"==o||"#"==o||"\\"==o&&QN(e)){if(f&&""==d)return"Invalid authority";c-=hN(d).length+1,d="",l=pD}else d+=o;break;case pD:case vD:if(n&&"file"==e.scheme){l=bD;continue}if(":"!=o||h){if(o==nN||"/"==o||"?"==o||"#"==o||"\\"==o&&QN(e)){if(QN(e)&&""==d)return PN;if(n&&""==d&&(JN(e)||null!==e.port))return;if(s=BN(e,d))return s;if(d="",l=_D,n)return;continue}"["==o?h=!0:"]"==o&&(h=!1),d+=o}else{if(""==d)return PN;if(s=BN(e,d))return s;if(d="",l=mD,n==vD)return}break;case mD:if(!LN.test(o)){if(o==nN||"/"==o||"?"==o||"#"==o||"\\"==o&&QN(e)||n){if(""!=d){var y=parseInt(d,10);if(y>65535)return ON;e.port=QN(e)&&y===$N[e.scheme]?null:y,d=""}if(n)return;l=_D;continue}return ON}d+=o;break;case gD:if(e.scheme="file","/"==o||"\\"==o)l=yD;else{if(!r||"file"!=r.scheme){l=ED;continue}if(o==nN)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",l=SD;else{if("#"!=o){tD(i.slice(c).join(""))||(e.host=r.host,e.path=r.path.slice(),nD(e)),l=ED;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",l=TD}}break;case yD:if("/"==o||"\\"==o){l=bD;break}r&&"file"==r.scheme&&!tD(i.slice(c).join(""))&&(eD(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),l=ED;continue;case bD:if(o==nN||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&eD(d))l=ED;else if(""==d){if(e.host="",n)return;l=_D}else{if(s=BN(e,d))return s;if("localhost"==e.host&&(e.host=""),n)return;d="",l=_D}continue}d+=o;break;case _D:if(QN(e)){if(l=ED,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=nN&&(l=ED,"/"!=o))continue}else e.fragment="",l=TD;else e.query="",l=SD;break;case ED:if(o==nN||"/"==o||"\\"==o&&QN(e)||!n&&("?"==o||"#"==o)){if(".."===(u=(u=d).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(nD(e),"/"==o||"\\"==o&&QN(e)||e.path.push("")):rD(d)?"/"==o||"\\"==o&&QN(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&eD(d)&&(e.host&&(e.host=""),d=d.charAt(0)+":"),e.path.push(d)),d="","file"==e.scheme&&(o==nN||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",l=SD):"#"==o&&(e.fragment="",l=TD)}else d+=XN(o,KN);break;case wD:"?"==o?(e.query="",l=SD):"#"==o?(e.fragment="",l=TD):o!=nN&&(e.path[0]+=XN(o,HN));break;case SD:n||"#"!=o?o!=nN&&("'"==o&&QN(e)?e.query+="%27":e.query+="#"==o?"%23":XN(o,HN)):(e.fragment="",l=TD);break;case TD:o!=nN&&(e.fragment+=XN(o,WN))}c++}},xD=function(e){var t,n,r=cN(this,xD,"URL"),i=arguments.length>1?arguments[1]:void 0,o=mN(e),a=SN(r,{type:"URL"});if(void 0!==i)if(i instanceof xD)t=TN(i);else if(n=kD(t={},mN(i)))throw TypeError(n);if(n=kD(a,o,null,t))throw TypeError(n);var s=a.searchParams=new EN,u=wN(s);u.updateSearchParams(a.query),u.updateURL=function(){a.query=String(s)||null},oN||(r.href=PD.call(r),r.origin=OD.call(r),r.protocol=CD.call(r),r.username=ID.call(r),r.password=LD.call(r),r.host=ND.call(r),r.hostname=DD.call(r),r.port=RD.call(r),r.pathname=MD.call(r),r.search=jD.call(r),r.searchParams=FD.call(r),r.hash=VD.call(r))},AD=xD.prototype,PD=function(){var e=TN(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,u=e.fragment,l=t+":";return null!==i?(l+="//",JN(e)&&(l+=n+(r?":"+r:"")+"@"),l+=qN(i),null!==o&&(l+=":"+o)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},OD=function(){var e=TN(this),t=e.scheme,n=e.port;if("blob"==t)try{return new xD(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&QN(e)?t+"://"+qN(e.host)+(null!==n?":"+n:""):"null"},CD=function(){return TN(this).scheme+":"},ID=function(){return TN(this).username},LD=function(){return TN(this).password},ND=function(){var e=TN(this),t=e.host,n=e.port;return null===t?"":null===n?qN(t):qN(t)+":"+n},DD=function(){var e=TN(this).host;return null===e?"":qN(e)},RD=function(){var e=TN(this).port;return null===e?"":String(e)},MD=function(){var e=TN(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},jD=function(){var e=TN(this).query;return e?"?"+e:""},FD=function(){return TN(this).searchParams},VD=function(){var e=TN(this).fragment;return e?"#"+e:""},UD=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(oN&&uN(AD,{href:UD(PD,(function(e){var t=TN(this),n=mN(e),r=kD(t,n);if(r)throw TypeError(r);wN(t.searchParams).updateSearchParams(t.query)})),origin:UD(OD),protocol:UD(CD,(function(e){var t=TN(this);kD(t,mN(e)+":",iD)})),username:UD(ID,(function(e){var t=TN(this),n=hN(mN(e));if(!ZN(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=XN(n[r],YN)}})),password:UD(LD,(function(e){var t=TN(this),n=hN(mN(e));if(!ZN(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=XN(n[r],YN)}})),host:UD(ND,(function(e){var t=TN(this);t.cannotBeABaseURL||kD(t,mN(e),pD)})),hostname:UD(DD,(function(e){var t=TN(this);t.cannotBeABaseURL||kD(t,mN(e),vD)})),port:UD(RD,(function(e){var t=TN(this);ZN(t)||(""==(e=mN(e))?t.port=null:kD(t,e,mD))})),pathname:UD(MD,(function(e){var t=TN(this);t.cannotBeABaseURL||(t.path=[],kD(t,mN(e),_D))})),search:UD(jD,(function(e){var t=TN(this);""==(e=mN(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",kD(t,e,SD)),wN(t.searchParams).updateSearchParams(t.query)})),searchParams:UD(FD),hash:UD(VD,(function(e){var t=TN(this);""!=(e=mN(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",kD(t,e,TD)):t.fragment=null}))}),lN(AD,"toJSON",(function(){return PD.call(this)}),{enumerable:!0}),lN(AD,"toString",(function(){return PD.call(this)}),{enumerable:!0}),_N){var BD=_N.createObjectURL,zD=_N.revokeObjectURL;BD&&lN(xD,"createObjectURL",(function(e){return BD.apply(_N,arguments)})),zD&&lN(xD,"revokeObjectURL",(function(e){return zD.apply(_N,arguments)}))}gN(xD,"URL"),iN({global:!0,forced:!aN,sham:!oN},{URL:xD}),Fn({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var GD="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==GD&&GD,qD="URLSearchParams"in GD,HD="Symbol"in GD&&"iterator"in Symbol,WD="FileReader"in GD&&"Blob"in GD&&function(){try{return new Blob,!0}catch(e){return!1}}(),KD="FormData"in GD,YD="ArrayBuffer"in GD;if(YD)var XD=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],$D=ArrayBuffer.isView||function(e){return e&&XD.indexOf(Object.prototype.toString.call(e))>-1};function QD(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function JD(e){return"string"!=typeof e&&(e=String(e)),e}function ZD(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return HD&&(t[Symbol.iterator]=function(){return t}),t}function eR(e){this.map={},e instanceof eR?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function tR(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function nR(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function rR(e){var t=new FileReader,n=nR(t);return t.readAsArrayBuffer(e),n}function iR(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function oR(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:WD&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:KD&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:qD&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():YD&&WD&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=iR(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):YD&&(ArrayBuffer.prototype.isPrototypeOf(e)||$D(e))?this._bodyArrayBuffer=iR(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):qD&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},WD&&(this.blob=function(){var e=tR(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?tR(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(rR)}),this.text=function(){var e=tR(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=nR(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},KD&&(this.formData=function(){return this.text().then(uR)}),this.json=function(){return this.text().then(JSON.parse)},this}eR.prototype.append=function(e,t){e=QD(e),t=JD(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},eR.prototype.delete=function(e){delete this.map[QD(e)]},eR.prototype.get=function(e){return e=QD(e),this.has(e)?this.map[e]:null},eR.prototype.has=function(e){return this.map.hasOwnProperty(QD(e))},eR.prototype.set=function(e,t){this.map[QD(e)]=JD(t)},eR.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},eR.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),ZD(e)},eR.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),ZD(e)},eR.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),ZD(e)},HD&&(eR.prototype[Symbol.iterator]=eR.prototype.entries);var aR=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function sR(e,t){if(!(this instanceof sR))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof sR){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new eR(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new eR(t.headers)),this.method=function(e){var t=e.toUpperCase();return aR.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var r=/([?&])_=[^&]*/;r.test(this.url)?this.url=this.url.replace(r,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function uR(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function lR(e,t){if(!(this instanceof lR))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new eR(t.headers),this.url=t.url||"",this._initBody(e)}sR.prototype.clone=function(){return new sR(this,{body:this._bodyInit})},oR.call(sR.prototype),oR.call(lR.prototype),lR.prototype.clone=function(){return new lR(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new eR(this.headers),url:this.url})},lR.error=function(){var e=new lR(null,{status:0,statusText:""});return e.type="error",e};var cR=[301,302,303,307,308];lR.redirect=function(e,t){if(-1===cR.indexOf(t))throw new RangeError("Invalid status code");return new lR(null,{status:t,headers:{location:e}})};var dR,fR,hR,pR,vR=GD.DOMException;try{new vR}catch(dMe){vR=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},vR.prototype=Object.create(Error.prototype),vR.prototype.constructor=vR}function mR(e,t){return new Promise((function(n,r){var i=new sR(e,t);if(i.signal&&i.signal.aborted)return r(new vR("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var e,t,r={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new eR,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;setTimeout((function(){n(new lR(i,r))}),0)},o.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},o.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},o.onabort=function(){setTimeout((function(){r(new vR("Aborted","AbortError"))}),0)},o.open(i.method,function(e){try{return""===e&&GD.location.href?GD.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&(WD?o.responseType="blob":YD&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(o.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof eR?i.headers.forEach((function(e,t){o.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){o.setRequestHeader(e,JD(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",a)}),o.send(void 0===i._bodyInit?null:i._bodyInit)}))}mR.polyfill=!0,GD.fetch||(GD.fetch=mR,GD.Headers=eR,GD.Request=sR,GD.Response=lR),e.ViewerOpenType=void 0,(dR=e.ViewerOpenType||(e.ViewerOpenType={})).Layer="layer",dR.Page="page",dR.Inline="inline",e.ViewerRatio=void 0,(fR=e.ViewerRatio||(e.ViewerRatio={})).FitHeight="fitHeight",fR.FitWidth="fitWidth",e.HideDelay=void 0,(hR=e.HideDelay||(e.HideDelay={}))[hR.Auto=5e3]="Auto",hR[hR.Toast=2e3]="Toast",hR[hR.DetailInfoToast=3e3]="DetailInfoToast",hR[hR.RelationToast=3e3]="RelationToast",hR[hR.Skip=650]="Skip",hR[hR.Mute=2e3]="Mute",e.Delay=void 0,(pR=e.Delay||(e.Delay={}))[pR.TimeUpdate=1e3]="TimeUpdate",pR[pR.SeekerDrag=50]="SeekerDrag",pR[pR.FlickingMove=50]="FlickingMove",pR[pR.Screen=300]="Screen",pR[pR.LoadingScreen=2e3]="LoadingScreen",pR[pR.SocialPlugin=500]="SocialPlugin",pR[pR.ScrollLog=1e3]="ScrollLog",pR[pR.Resize=300]="Resize";var gR,yR,bR,_R=300;e.ViewerEvents=void 0,(gR=e.ViewerEvents||(e.ViewerEvents={})).UpdateLayerState="updatelayerstate",gR.LayerUpdate="layerupdate",gR.RequestLogin="requestlogin",gR.ShowMoment="showmoment",gR.EditMoment="editmoment",gR.DeleteMoment="deletemoment",gR.Open="open",gR.Close="close",gR.OpenTransitionEnd="opentransitionend",gR.ClickComment="clickcomment",gR.ClickReaction="clickreaction",gR.ClickReport="clickreport",gR.MomentLoaded="momentloaded",gR.MomentError="momenterror",gR.IndexChange="indexchange",gR.Prev="prev",gR.Next="next",e.PlayButtonState=void 0,(yR=e.PlayButtonState||(e.PlayButtonState={})).Play="play",yR.Pause="pause",e.LayerState=void 0,(bR=e.LayerState||(e.LayerState={})).Info="Info",bR.Seeking="Seeking",bR.None="None",bR.MoreInfo="MoreInfo",bR.StickerLayer="StickerLayer";var ER=function(e,t){return ER=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ER(e,t)};function wR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ER(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var SR=function(){return SR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},SR.apply(this,arguments)};function TR(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function kR(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function xR(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function AR(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function PR(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var OR={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,a),!0}for(l=1,u=new Array(d-1);l<d;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,i);break;default:if(!u)for(f=1,u=new Array(d-1);f<d;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(OR);var CR=OR.exports,IR="Expected a function",LR=NaN,NR="[object Symbol]",DR=/^\s+|\s+$/g,RR=/^[-+]0x[0-9a-f]+$/i,MR=/^0b[01]+$/i,jR=/^0o[0-7]+$/i,FR=parseInt,VR="object"==typeof c&&c&&c.Object===Object&&c,UR="object"==typeof self&&self&&self.Object===Object&&self,BR=VR||UR||Function("return this")(),zR=Object.prototype.toString,GR=Math.max,qR=Math.min,HR=function(){return BR.Date.now()};function WR(e,t,n){var r,i,o,a,s,u,l=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(IR);function h(t){var n=r,o=i;return r=i=void 0,l=t,a=e.apply(o,n)}function p(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-l>=o}function v(){var e=HR();if(p(e))return m(e);s=setTimeout(v,function(e){var n=t-(e-u);return d?qR(n,o-(e-l)):n}(e))}function m(e){return s=void 0,f&&r?h(e):(r=i=void 0,a)}function g(){var e=HR(),n=p(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return function(e){return l=e,s=setTimeout(v,t),c?h(e):a}(u);if(d)return s=setTimeout(v,t),h(u)}return void 0===s&&(s=setTimeout(v,t)),a}return t=YR(t)||0,KR(n)&&(c=!!n.leading,o=(d="maxWait"in n)?GR(YR(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),g.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},g.flush=function(){return void 0===s?a:m(HR())},g}function KR(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function YR(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&zR.call(e)==NR}(e))return LR;if(KR(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=KR(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(DR,"");var n=MR.test(e);return n||jR.test(e)?FR(e.slice(2),n?2:8):RR.test(e)?LR:+e}var XR=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(IR);return KR(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),WR(e,t,{leading:r,maxWait:t,trailing:i})},$R=function(e,t){return $R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},$R(e,t)};function QR(e,t){function n(){this.constructor=e}$R(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function JR(e){return"function"==typeof e}var ZR=!1,eM={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,ZR=e},get useDeprecatedSynchronousErrorHandling(){return ZR}};function tM(e){setTimeout((function(){throw e}),0)}var nM={closed:!0,next:function(e){},error:function(e){if(eM.useDeprecatedSynchronousErrorHandling)throw e;tM(e)},complete:function(){}},rM=Array.isArray||function(e){return e&&"number"==typeof e.length};function iM(e){return null!==e&&"object"==typeof e}var oM=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),aM=oM,sM=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,r=n._parentOrParents,i=n._ctorUnsubscribe,o=n._unsubscribe,a=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var s=0;s<r.length;++s)r[s].remove(this);if(JR(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(e){t=e instanceof aM?uM(e.errors):[e]}}if(rM(a)){s=-1;for(var u=a.length;++s<u;){var l=a[s];if(iM(l))try{l.unsubscribe()}catch(e){t=t||[],e instanceof aM?t=t.concat(uM(e.errors)):t.push(e)}}}if(t)throw new aM(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function uM(e){return e.reduce((function(e,t){return e.concat(t instanceof aM?t.errors:t)}),[])}var lM="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),cM=function(e){function t(n,r,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=nM;break;case 1:if(!n){o.destination=nM;break}if("object"==typeof n){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new dM(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new dM(o,n,r,i)}return o}return QR(t,e),t.prototype[lM]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(sM),dM=function(e){function t(t,n,r,i){var o,a=e.call(this)||this;a._parentSubscriber=t;var s=a;return JR(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==nM&&(JR((s=Object.create(n)).unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=o,a._error=r,a._complete=i,a}return QR(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;eM.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=eM.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):tM(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;tM(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};eM.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),eM.useDeprecatedSynchronousErrorHandling)throw e;tM(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!eM.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return eM.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(tM(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(cM);function fM(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof cM?r:null}return!0}var hM="function"==typeof Symbol&&Symbol.observable||"@@observable";function pM(e){return e}function vM(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return mM(e)}function mM(e){return 0===e.length?pM:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var gM=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof cM)return e;if(e[lM])return e[lM]()}return e||t||n?new cM(e,t,n):new cM(nM)}(e,t,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||eM.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),eM.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){eM.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),fM(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=yM(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[hM]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:mM(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=yM(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function yM(e){if(e||(e=eM.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var bM=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),_M=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return QR(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(sM),EM=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return QR(t,e),t}(cM),wM=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return QR(t,e),t.prototype[lM]=function(){return new EM(this)},t.prototype.lift=function(e){var t=new SM(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new bM;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new bM;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new bM;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new bM;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new bM;return this.hasError?(e.error(this.thrownError),sM.EMPTY):this.isStopped?(e.complete(),sM.EMPTY):(this.observers.push(e),new _M(this,e))},t.prototype.asObservable=function(){var e=new gM;return e.source=this,e},t.create=function(e,t){return new SM(e,t)},t}(gM),SM=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return QR(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):sM.EMPTY},t}(wM);function TM(){return function(e){return e.lift(new kM(e))}}var kM=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new xM(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),xM=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return QR(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(cM),AM=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return QR(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new sM).add(this.source.subscribe(new OM(this.getSubject(),this))),e.closed&&(this._connection=null,e=sM.EMPTY)),e},t.prototype.refCount=function(){return TM()(this)},t}(gM),PM=function(){var e=AM.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),OM=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return QR(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(EM),CM=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new IM(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),IM=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.keySelector=n,a.elementSelector=r,a.durationSelector=i,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return QR(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(e){this.error(e)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new wM,n.set(t,i);var o=new NM(t,i,this);if(this.destination.next(o),this.durationSelector){var a=void 0;try{a=this.durationSelector(new NM(t,i))}catch(e){return void this.error(e)}this.add(a.subscribe(new LM(t,i,this)))}}i.closed||i.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(cM),LM=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return QR(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(cM),NM=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return QR(t,e),t.prototype._subscribe=function(e){var t=new sM,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new DM(n)),t.add(r.subscribe(e)),t},t}(gM),DM=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return QR(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(sM),RM=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return QR(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new bM;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(wM),MM=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return QR(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return QR(t,e),t.prototype.schedule=function(e,t){return this},t}(sM)),jM=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return QR(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(MM),FM=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),VM=function(e){function t(n,r){void 0===r&&(r=FM.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return QR(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(FM),UM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return QR(t,e),t}(VM),BM=new UM(jM),zM=BM,GM=new gM((function(e){return e.complete()}));function qM(e){return e?function(e){return new gM((function(t){return e.schedule((function(){return t.complete()}))}))}(e):GM}function HM(e){return e&&"function"==typeof e.schedule}var WM,KM=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function YM(e,t){return new gM((function(n){var r=new sM,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function XM(e,t){return t?YM(e,t):new gM(KM(e))}function $M(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return HM(n)?(e.pop(),YM(e,n)):XM(e)}function QM(e,t){return new gM(t?function(n){return t.schedule(JM,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function JM(e){var t=e.error;e.subscriber.error(t)}WM||(WM={});var ZM=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return $M(this.value);case"E":return QM(this.error);case"C":return qM()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),ej=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new tj(e,this.scheduler,this.delay))},e}(),tj=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return QR(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new nj(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(ZM.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(ZM.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(ZM.createComplete()),this.unsubscribe()},t}(cM),nj=function(e,t){this.notification=e,this.destination=t},rj=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return QR(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new ij(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new bM;if(this.isStopped||this.hasError?t=sM.EMPTY:(this.observers.push(e),t=new _M(this,e)),i&&e.add(e=new tj(e,i)),n)for(var a=0;a<o&&!e.closed;a++)e.next(r[a]);else for(a=0;a<o&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||zM).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(wM),ij=function(e,t){this.time=e,this.value=t},oj=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return QR(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),sM.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),sM.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(wM),aj=1,sj=Promise.resolve(),uj={};function lj(e){return e in uj&&(delete uj[e],!0)}var cj=function(e){var t=aj++;return uj[t]=!0,sj.then((function(){return lj(t)&&e()})),t},dj=function(e){lj(e)},fj=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return QR(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=cj(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(dj(n),t.scheduled=void 0)},t}(MM),hj=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return QR(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(VM),pj=new hj(fj),vj=pj,mj=new VM(MM),gj=mj,yj=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return QR(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(MM),bj=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return QR(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(VM),_j=new bj(yj),Ej=_j,wj=function(e){function t(t,n){void 0===t&&(t=Sj),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return QR(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(VM),Sj=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return QR(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(MM);function Tj(){}var kj=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),xj=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),Aj=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}();function Pj(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Oj(e,t))}}var Oj=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Cj(e,this.project,this.thisArg))},e}(),Cj=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return QR(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(cM);function Ij(e){var t=this,n=e.args,r=e.subscriber,i=e.params,o=i.callbackFunc,a=i.context,s=i.scheduler,u=i.subject;if(!u){u=i.subject=new oj;try{o.apply(a,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(s.schedule(Lj,0,{value:r,subject:u}))}]))}catch(e){u.error(e)}}this.add(u.subscribe(r))}function Lj(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function Nj(e){var t=this,n=e.params,r=e.subscriber,i=e.context,o=n.callbackFunc,a=n.args,s=n.scheduler,u=n.subject;if(!u){u=n.subject=new oj;try{o.apply(i,a.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(s.schedule(Rj,0,{err:r,subject:u}));else{var i=e.length<=1?e[0]:e;t.add(s.schedule(Dj,0,{value:i,subject:u}))}}]))}catch(e){this.add(s.schedule(Rj,0,{err:e,subject:u}))}}this.add(u.subscribe(r))}function Dj(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function Rj(e){var t=e.err;e.subject.error(t)}var Mj=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return QR(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(cM),jj=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return QR(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(cM);function Fj(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Vj=Fj(),Uj=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Bj(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var zj=function(e){if(e&&"function"==typeof e[hM])return n=e,function(e){var t=n[hM]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Uj(e))return KM(e);if(Bj(e))return function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,tM),t}}(e);if(e&&"function"==typeof e[Vj])return t=e,function(e){for(var n=t[Vj]();;){var r=void 0;try{r=n.next()}catch(t){return e.error(t),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r=iM(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+r+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Gj(e,t,n,r,i){if(void 0===i&&(i=new jj(e,n,r)),!i.closed)return t instanceof gM?t.subscribe(i):zj(t)(i)}var qj={},Hj=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Wj(e,this.resultSelector))},e}(),Wj=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return QR(t,e),t.prototype._next=function(e){this.values.push(qj),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Gj(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,i=r[n],o=this.toRespond?i===qj?--this.toRespond:this.toRespond:0;r[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Mj);function Kj(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[hM]}(e))return function(e,t){return new gM((function(n){var r=new sM;return r.add(t.schedule((function(){var i=e[hM]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Bj(e))return function(e,t){return new gM((function(n){var r=new sM;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Uj(e))return YM(e,t);if(function(e){return e&&"function"==typeof e[Vj]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new gM((function(n){var r,i=new sM;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[Vj](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function Yj(e,t){return t?Kj(e,t):e instanceof gM?e:new gM(zj(e))}var Xj=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return QR(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(cM),$j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return QR(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(cM);function Qj(e,t){if(!t.closed)return e instanceof gM?e.subscribe(t):zj(e)(t)}function Jj(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(Jj((function(n,r){return Yj(e(n,r)).pipe(Pj((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new Zj(e,n))})}var Zj=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new eF(e,this.project,this.concurrent))},e}(),eF=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return QR(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new Xj(this),n=this.destination;n.add(t);var r=Qj(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}($j),tF=Jj;function nF(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Jj(pM,e)}function rF(){return nF(1)}function iF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return rF()($M.apply(void 0,e))}function oF(e){return new gM((function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?Yj(n):qM()).subscribe(t)}))}function aF(e,t){return new gM((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Yj(e[s]),l=!1;n.add(u.subscribe({next:function(e){l||(l=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&l||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}function sF(e,t,n,r){return JR(n)&&(r=n,n=void 0),r?sF(e,t,n).pipe(Pj((function(e){return rM(e)?r.apply(void 0,e):r(e)}))):new gM((function(r){uF(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function uF(e,t,n,r,i){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var a=e;e.addEventListener(t,n,i),o=function(){return a.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var s=e;e.on(t,n),o=function(){return s.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var u=e;e.addListener(t,n),o=function(){return u.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,c=e.length;l<c;l++)uF(e[l],t,n,r,i)}r.add(o)}function lF(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function cF(e){return!rM(e)&&e-parseFloat(e)+1>=0}function dF(e,t){return void 0===e&&(e=0),void 0===t&&(t=gj),(!cF(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=gj),new gM((function(n){return n.add(t.schedule(fF,e,{subscriber:n,counter:0,period:e})),n}))}function fF(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}function hF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,i=e[e.length-1];return HM(i)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof i&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof gM?e[0]:nF(n)(XM(e,r))}var pF=new gM(Tj);function vF(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var a=t[n];r.next([a,o[a]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}function mF(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function gF(e,t){return function(n){return n.lift(new yF(e,t))}}var yF=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new bF(e,this.predicate,this.thisArg))},e}(),bF=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return QR(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(cM);function _F(e,t,n){return[gF(t,n)(new gM(zj(e))),gF(mF(t,n))(new gM(zj(e)))]}function EF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!rM(e[0]))return e[0];e=e[0]}return XM(e,void 0).lift(new wF)}var wF=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new SF(e))},e}(),SF=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return QR(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=Gj(this,e[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(t)},t}(Mj);function TF(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}function kF(e,t,n){void 0===e&&(e=0);var r=-1;return cF(t)?r=Number(t)<1?1:Number(t):HM(t)&&(n=t),HM(n)||(n=gj),new gM((function(t){var i=cF(e)?e:+e-n.now();return n.schedule(xF,i,{index:0,period:r,subscriber:t})}))}function xF(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function AF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),XM(e,void 0).lift(new PF(n))}var PF=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new OF(e,this.resultSelector))},e}(),OF=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:void 0,i}return QR(t,e),t.prototype._next=function(e){var t=this.iterators;rM(e)?t.push(new IF(e)):"function"==typeof e[Vj]?t.push(new CF(e[Vj]())):t.push(new LF(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++)if("function"==typeof(a=e[r]).hasValue&&!a.hasValue())return;var i=!1,o=[];for(r=0;r<t;r++){var a,s=(a=e[r]).next();if(a.hasCompleted()&&(i=!0),s.done)return void n.complete();o.push(s.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(cM),CF=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),IF=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[Vj]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),LF=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return QR(t,e),t.prototype[Vj]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return Qj(this.observable,new Xj(this))},t}($j),NF=Object.freeze({__proto__:null,Observable:gM,ConnectableObservable:AM,GroupedObservable:NM,observable:hM,Subject:wM,BehaviorSubject:RM,ReplaySubject:rj,AsyncSubject:oj,asap:vj,asapScheduler:pj,async:gj,asyncScheduler:mj,queue:zM,queueScheduler:BM,animationFrame:Ej,animationFrameScheduler:_j,VirtualTimeScheduler:wj,VirtualAction:Sj,Scheduler:FM,Subscription:sM,Subscriber:cM,Notification:ZM,get NotificationKind(){return WM},pipe:vM,noop:Tj,identity:pM,isObservable:function(e){return!!e&&(e instanceof gM||"function"==typeof e.lift&&"function"==typeof e.subscribe)},ArgumentOutOfRangeError:kj,EmptyError:xj,ObjectUnsubscribedError:bM,UnsubscriptionError:aM,TimeoutError:Aj,bindCallback:function e(t,n,r){if(n){if(!HM(n))return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return e(t,r).apply(void 0,i).pipe(Pj((function(e){return rM(e)?n.apply(void 0,e):n(e)})))};r=n}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i,o=this,a={context:o,subject:i,callbackFunc:t,scheduler:r};return new gM((function(n){if(r){var s={args:e,subscriber:n,params:a};return r.schedule(Ij,0,s)}if(!i){i=new oj;try{t.apply(o,e.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.next(e.length<=1?e[0]:e),i.complete()}]))}catch(e){fM(i)?i.error(e):console.warn(e)}}return i.subscribe(n)}))}},bindNodeCallback:function e(t,n,r){if(n){if(!HM(n))return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return e(t,r).apply(void 0,i).pipe(Pj((function(e){return rM(e)?n.apply(void 0,e):n(e)})))};r=n}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i={subject:void 0,args:e,callbackFunc:t,scheduler:r,context:this};return new gM((function(n){var o=i.context,a=i.subject;if(r)return r.schedule(Nj,0,{params:i,subscriber:n,context:o});if(!a){a=i.subject=new oj;try{t.apply(o,e.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?a.error(n):(a.next(e.length<=1?e[0]:e),a.complete())}]))}catch(e){fM(a)?a.error(e):console.warn(e)}}return a.subscribe(n)}))}},combineLatest:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return HM(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&rM(e[0])&&(e=e[0]),XM(e,r).lift(new Hj(n))},concat:iF,defer:oF,empty:qM,forkJoin:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(rM(n))return aF(n,null);if(iM(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return aF(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var i=e.pop();return aF(e=1===e.length&&rM(e[0])?e[0]:e,null).pipe(Pj((function(e){return i.apply(void 0,e)})))}return aF(e,null)},from:Yj,fromEvent:sF,fromEventPattern:function e(t,n,r){return r?e(t,n).pipe(Pj((function(e){return rM(e)?r.apply(void 0,e):r(e)}))):new gM((function(e){var r,i=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1===t.length?t[0]:t)};try{r=t(i)}catch(t){return void e.error(t)}if(JR(n))return function(){return n(i,r)}}))},generate:function(e,t,n,r,i){var o,a;if(1==arguments.length){var s=e;a=s.initialState,t=s.condition,n=s.iterate,o=s.resultSelector||pM,i=s.scheduler}else void 0===r||HM(r)?(a=e,o=pM,i=r):(a=e,o=r);return new gM((function(e){var r=a;if(i)return i.schedule(lF,0,{subscriber:e,iterate:n,condition:t,resultSelector:o,state:r});for(;;){if(t){var s=void 0;try{s=t(r)}catch(t){return void e.error(t)}if(!s){e.complete();break}}var u=void 0;try{u=o(r)}catch(t){return void e.error(t)}if(e.next(u),e.closed)break;try{r=n(r)}catch(t){return void e.error(t)}}}))},iif:function(e,t,n){return void 0===t&&(t=GM),void 0===n&&(n=GM),oF((function(){return e()?t:n}))},interval:dF,merge:hF,never:function(){return pF},of:$M,onErrorResumeNext:function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)return GM;var r=t[0],i=t.slice(1);return 1===t.length&&rM(r)?e.apply(void 0,r):new gM((function(t){var n=function(){return t.add(e.apply(void 0,i).subscribe(t))};return Yj(r).subscribe({next:function(e){t.next(e)},error:n,complete:n})}))},pairs:function(e,t){return new gM(t?function(n){var r=Object.keys(e),i=new sM;return i.add(t.schedule(vF,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i}:function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()})},partition:_F,race:EF,range:function(e,t,n){return void 0===e&&(e=0),new gM((function(r){void 0===t&&(t=e,e=0);var i=0,o=e;if(n)return n.schedule(TF,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(o++),r.closed)break}}))},throwError:QM,timer:kF,using:function(e,t){return new gM((function(n){var r,i;try{r=e()}catch(e){return void n.error(e)}try{i=t(r)}catch(e){return void n.error(e)}var o=(i?Yj(i):GM).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))},zip:AF,scheduled:Kj,EMPTY:GM,NEVER:pF,config:eM}),DF={},RF={};!function(e){var t,n;Object.defineProperty(e,"__esModule",{value:!0}),(t=e.AdViewModeTypes||(e.AdViewModeTypes={})).NORMAL="normal",t.THUMBNAIL="thumbnail",t.FULLSCREEN="fullscreen",function(e){e.AdLoaded="AdLoaded",e.AdMetadata="AdMetadata",e.AdStarted="AdStarted",e.AdStopped="AdStopped",e.AdSkipped="AdSkipped",e.AdLinearChange="AdLinearChange",e.AdSizeChange="AdSizeChange",e.AdExpandedChange="AdExpandedChange",e.AdSkippableStateChange="AdSkippableStateChange",e.AdRemainingTimeChange="AdRemainingTimeChange",e.AdDurationChange="AdDurationChange",e.AdVolumeChange="AdVolumeChange",e.AdImpression="AdImpression",e.AdVideoStart="AdVideoStart",e.AdVideoFirstQuartile="AdVideoFirstQuartile",e.AdVideoMidPoint="AdVideoMidPoint",e.AdVideoThirdQuartile="AdVideoThirdQuartile",e.AdVideoComplete="AdVideoComplete",e.AdClickThru="AdClickThru",e.AdInteraction="AdInteraction",e.AdUserAcceptInvitation="AdUserAcceptInvitation",e.AdUserMinimize="AdUserMinimize",e.AdUserClose="AdUserClose",e.AdPaused="AdPaused",e.AdPlaying="AdPlaying",e.AdLog="AdLog",e.AdError="AdError",e.ContentPauseRequested="ContentPauseRequested",e.ContentResumeRequested="ContentResumeRequested",e.AllAdsCompleted="AllAdsCompleted",e.NonLinearAdReady="NonLinearAdReady",e.NonLinearAdComplete="NonLinearAdComplete",e.AdBreakReady="AdBreakReady"}(n=e.AdEventTypes||(e.AdEventTypes={})),e.AdEventTypesList=[n.AdLoaded,n.AdMetadata,n.AdStarted,n.AdStopped,n.AdSkipped,n.AdLinearChange,n.AdSizeChange,n.AdExpandedChange,n.AdSkippableStateChange,n.AdRemainingTimeChange,n.AdDurationChange,n.AdVolumeChange,n.AdImpression,n.AdVideoStart,n.AdVideoFirstQuartile,n.AdVideoMidPoint,n.AdVideoThirdQuartile,n.AdVideoComplete,n.AdClickThru,n.AdInteraction,n.AdUserAcceptInvitation,n.AdUserMinimize,n.AdUserClose,n.AdPaused,n.AdPlaying,n.AdLog,n.AdError,n.ContentPauseRequested,n.ContentResumeRequested,n.AllAdsCompleted,n.NonLinearAdReady,n.AdBreakReady]}(RF);var MF={};Object.defineProperty(MF,"__esModule",{value:!0}),MF.getVideoPlaybackState=function(e){try{var t=e.paused,n=e.currentTime,r=e.src,i=e.playbackRate,o=e.poster,a={length:0};return e.textTracks.length>0&&(Array.from(e.textTracks).forEach((function(e,t){e&&(a[t]={mode:e.mode})})),a.length=e.textTracks.length),{paused:t,playbackRate:i,currentTime:n,poster:o,src:r,textTracks:a}}catch(e){throw new Error("getVideoPlaybackState : cannot get playback state")}},MF.setVideoPlaybackState=function(e,t){try{e.pause(),e.src=t.src,e.playbackRate=t.playbackRate,e.poster=t.poster,e.play().then((function(){e.currentTime=t.currentTime})),Array.from(t.textTracks).forEach((function(t,n){t&&(e.textTracks[n].mode=t.mode)}))}catch(e){throw new Error("setVideoPlaybackState : cannot set playback state")}};var jF={},FF={};Object.defineProperty(FF,"__esModule",{value:!0});var VF=function(){function e(e,t){this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.CAPTURING_PHASE=1,this.NONE=0,this.composed=!1,this.srcElement=null;var n=t||{bubbles:!1,cancelable:!1},r=n.bubbles,i=n.cancelable,o=n.detail;this.detail=o,this.initEvent(e,r,i),this.timeStamp=+new Date}return e.prototype.composedPath=function(){return[]},e.prototype.initEvent=function(e,t,n){this._type=e,this._bubbles=!!t,this._cancelable=!!n,this._eventPhase=this.NONE,this._isTrusted=!1,this._defaultPrevented=!1,this.cancelBubble=!1},e.prototype.preventDefault=function(){this._defaultPrevented=!0},e.prototype.stopImmediatePropagation=function(){this.cancelBubble=!0},e.prototype.stopPropagation=function(){},e.prototype.setTarget=function(e){this._target=e},e.prototype.setCurrentTarget=function(e){this._currentTarget=e},e.prototype.setEventPhase=function(e){this._eventPhase=e},e.prototype.setTrust=function(e){this._isTrusted=e},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this._defaultPrevented},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),e}(),UF=FF.default=VF,BF=c&&c.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zF=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jF,"__esModule",{value:!0});var GF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return BF(t,e),t}(zF(FF).default);jF.default=GF;var qF={},HF=c&&c.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),WF=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qF,"__esModule",{value:!0});var KF=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._ad=n.ad,r}return HF(t,e),Object.defineProperty(t.prototype,"ad",{get:function(){return this._ad},enumerable:!0,configurable:!0}),t}(WF(jF).default);qF.default=KF;var YF={},XF=c&&c.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$F=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(YF,"__esModule",{value:!0});var QF=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._error=n.error,r}return XF(t,e),Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!0,configurable:!0}),t}($F(jF).default);YF.default=QF;var JF={},ZF={exports:{}};!function(e,t){!function(n,r){var i="function",o="undefined",a="object",s="string",u="model",l="name",c="type",d="vendor",f="version",h="architecture",p="console",v="mobile",m="tablet",g="smarttv",y="wearable",b="embedded",_="Amazon",E="Apple",w="ASUS",S="BlackBerry",T="Browser",k="Chrome",x="Firefox",A="Google",P="Huawei",O="LG",C="Microsoft",I="Motorola",L="Opera",N="Samsung",D="Sony",R="Xiaomi",M="Zebra",j="Facebook",F=function(e){var t={};for(var n in e)t[e[n].toUpperCase()]=e[n];return t},V=function(e,t){return typeof e===s&&-1!==U(t).indexOf(U(e))},U=function(e){return e.toLowerCase()},B=function(e,t){if(typeof e===s)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===o?e:e.substring(0,255)},z=function(e,t){for(var n,o,s,u,l,c,d=0;d<t.length&&!l;){var f=t[d],h=t[d+1];for(n=o=0;n<f.length&&!l;)if(l=f[n++].exec(e))for(s=0;s<h.length;s++)c=l[++o],typeof(u=h[s])===a&&u.length>0?2==u.length?typeof u[1]==i?this[u[0]]=u[1].call(this,c):this[u[0]]=u[1]:3==u.length?typeof u[1]!==i||u[1].exec&&u[1].test?this[u[0]]=c?c.replace(u[1],u[2]):r:this[u[0]]=c?u[1].call(this,c,u[2]):r:4==u.length&&(this[u[0]]=c?u[3].call(this,c.replace(u[1],u[2])):r):this[u]=c||r;d+=2}},G=function(e,t){for(var n in t)if(typeof t[n]===a&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(V(t[n][i],e))return"?"===n?r:n}else if(V(t[n],e))return"?"===n?r:n;return e},q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},H={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[l,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[l,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[l,f],[/opios[\/ ]+([\w\.]+)/i],[f,[l,L+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[l,L]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[l,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[l,"UC"+T]],[/\bqbcore\/([\w\.]+)/i],[f,[l,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[l,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[l,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[l,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[l,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[l,/(.+)/,"$1 Secure "+T],f],[/\bfocus\/([\w\.]+)/i],[f,[l,x+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[l,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[l,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[l,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[l,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[l,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[f,[l,x]],[/\bqihu|(qi?ho?o?|360)browser/i],[[l,"360 "+T]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[l,/(.+)/,"$1 "+T],f],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[l,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[l],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[l,j],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[l,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[l,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[l,k+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[l,k+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[l,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[l,f],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[f,[l,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[f,l],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[l,[f,G,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[l,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[l,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[l,x+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[l,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,U]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows (ce|mobile); ppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[h,/ower/,"",U]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,U]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[d,N],[c,m]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[d,N],[c,v]],[/\((ip(?:hone|od)[\w ]*);/i],[u,[d,E],[c,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[d,E],[c,m]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[d,P],[c,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[u,[d,P],[c,v]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[d,R],[c,v]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[d,R],[c,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[u,[d,"OPPO"],[c,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[d,"Vivo"],[c,v]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[d,"Realme"],[c,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[d,I],[c,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[d,I],[c,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[d,O],[c,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[d,O],[c,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[d,"Lenovo"],[c,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[d,"Nokia"],[c,v]],[/(pixel c)\b/i],[u,[d,A],[c,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[d,A],[c,v]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[d,D],[c,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[d,D],[c,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[d,"OnePlus"],[c,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[d,_],[c,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[d,_],[c,v]],[/(playbook);[-\w\),; ]+(rim)/i],[u,d,[c,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[d,S],[c,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[d,w],[c,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[d,w],[c,v]],[/(nexus 9)/i],[u,[d,"HTC"],[c,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[d,[u,/_/g," "],[c,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[d,"Acer"],[c,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[d,"Meizu"],[c,v]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[d,"Sharp"],[c,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,u,[c,v]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,u,[c,m]],[/(surface duo)/i],[u,[d,C],[c,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[d,"Fairphone"],[c,v]],[/(u304aa)/i],[u,[d,"AT&T"],[c,v]],[/\bsie-(\w*)/i],[u,[d,"Siemens"],[c,v]],[/\b(rct\w+) b/i],[u,[d,"RCA"],[c,m]],[/\b(venue[\d ]{2,7}) b/i],[u,[d,"Dell"],[c,m]],[/\b(q(?:mv|ta)\w+) b/i],[u,[d,"Verizon"],[c,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[d,"Barnes & Noble"],[c,m]],[/\b(tm\d{3}\w+) b/i],[u,[d,"NuVision"],[c,m]],[/\b(k88) b/i],[u,[d,"ZTE"],[c,m]],[/\b(nx\d{3}j) b/i],[u,[d,"ZTE"],[c,v]],[/\b(gen\d{3}) b.+49h/i],[u,[d,"Swiss"],[c,v]],[/\b(zur\d{3}) b/i],[u,[d,"Swiss"],[c,m]],[/\b((zeki)?tb.*\b) b/i],[u,[d,"Zeki"],[c,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],u,[c,m]],[/\b(ns-?\w{0,9}) b/i],[u,[d,"Insignia"],[c,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[d,"NextBook"],[c,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],u,[c,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],u,[c,v]],[/\b(ph-1) /i],[u,[d,"Essential"],[c,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[d,"Envizen"],[c,m]],[/\b(trio[-\w\. ]+) b/i],[u,[d,"MachSpeed"],[c,m]],[/\btu_(1491) b/i],[u,[d,"Rotor"],[c,m]],[/(shield[\w ]+) b/i],[u,[d,"Nvidia"],[c,m]],[/(sprint) (\w+)/i],[d,u,[c,v]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[d,C],[c,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[d,M],[c,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[d,M],[c,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,u,[c,p]],[/droid.+; (shield) bui/i],[u,[d,"Nvidia"],[c,p]],[/(playstation [345portablevi]+)/i],[u,[d,D],[c,p]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[d,C],[c,p]],[/smart-tv.+(samsung)/i],[d,[c,g]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[d,N],[c,g]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,O],[c,g]],[/(apple) ?tv/i],[d,[u,E+" TV"],[c,g]],[/crkey/i],[[u,k+"cast"],[d,A],[c,g]],[/droid.+aft(\w)( bui|\))/i],[u,[d,_],[c,g]],[/\(dtv[\);].+(aquos)/i],[u,[d,"Sharp"],[c,g]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[d,B],[u,B],[c,g]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[c,g]],[/((pebble))app/i],[d,u,[c,y]],[/droid.+; (glass) \d/i],[u,[d,A],[c,y]],[/droid.+; (wt63?0{2,3})\)/i],[u,[d,M],[c,y]],[/(quest( 2)?)/i],[u,[d,j],[c,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[c,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[c,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[c,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[c,m]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[c,v]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[l,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,l]],os:[[/microsoft (windows) (vista|xp)/i],[l,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[l,[f,G,q]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[l,"Windows"],[f,G,q]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[l,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[l,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[f,l],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[l,f],[/\(bb(10);/i],[f,[l,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[l,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[l,x+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[l,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[l,k+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[l,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[l,f],[/(sunos) ?([\w\.\d]*)/i],[[l,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[l,f]]},W=function(e,t){if(typeof e===a&&(t=e,e=r),!(this instanceof W))return new W(e,t).getResult();var i=e||(typeof n!==o&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),p=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(H,t):H;return this.getBrowser=function(){var e={};return e[l]=r,e[f]=r,z.call(e,i,p.browser),e.major=function(e){return typeof e===s?e.replace(/[^\d\.]/g,"").split(".")[0]:r}(e.version),e},this.getCPU=function(){var e={};return e[h]=r,z.call(e,i,p.cpu),e},this.getDevice=function(){var e={};return e[d]=r,e[u]=r,e[c]=r,z.call(e,i,p.device),e},this.getEngine=function(){var e={};return e[l]=r,e[f]=r,z.call(e,i,p.engine),e},this.getOS=function(){var e={};return e[l]=r,e[f]=r,z.call(e,i,p.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===s&&e.length>255?B(e,255):e,this},this.setUA(i),this};W.VERSION="0.7.30",W.BROWSER=F([l,f,"major"]),W.CPU=F([h]),W.DEVICE=F([u,d,c,p,v,g,m,y,b]),W.ENGINE=W.OS=F([l,f]),e.exports&&(t=e.exports=W),t.UAParser=W;var K=typeof n!==o&&(n.jQuery||n.Zepto);if(K&&!K.ua){var Y=new W;K.ua=Y.getResult(),K.ua.get=function(){return Y.getUA()},K.ua.set=function(e){Y.setUA(e);var t=Y.getResult();for(var n in t)K.ua[n]=t[n]}}}("object"==typeof window?window:c)}(ZF,ZF.exports);var eV=ZF.exports,tV={};Object.defineProperty(tV,"__esModule",{value:!0});var nV=ZF.exports;tV.default=function(){return"iOS"===(new nV.UAParser).getOS().name};var rV={};Object.defineProperty(rV,"__esModule",{value:!0}),rV.default=function(){return"undefined"!=typeof HTMLVideoElement&&void 0!==HTMLVideoElement.prototype&&Object.hasOwnProperty.call(HTMLVideoElement.prototype,"playsInline")};var iV={},oV=c&&c.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(iV,"__esModule",{value:!0});var aV=function(e){function t(t){var n=t.message,r=t.code,i=t.details,o=e.call(this,n)||this;return o._code=r,o._details=i,o}return oV(t,e),Object.defineProperty(t.prototype,"code",{get:function(){return this._code},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"details",{get:function(){return this._details},enumerable:!0,configurable:!0}),t}(Error);iV.default=aV;var sV={};Object.defineProperty(sV,"__esModule",{value:!0}),sV.default=function(e){var t=e.contentVideoElement,n=e.viewSlot;if(!t||!n)throw new TypeError("contentVideoElement, viewSlot is not defined")};var uV={};Object.defineProperty(uV,"__esModule",{value:!0}),uV.default=function(e){var t;return(null===(t=e.getBrowser())||void 0===t?void 0:t.name)||"UnknownAgent"};var lV={},cV=f(NF);function dV(e){return function(t){return t.lift(new fV(e))}}var fV=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new hV(e,this.durationSelector))},e}(),hV=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return QR(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(e){return this.destination.error(e)}var n=Qj(t,new Xj(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this,t=e.value,n=e.hasValue,r=e.throttled;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}($j),pV=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new vV(e,this.closingNotifier))},e}(),vV=function(e){function t(t,n){var r=e.call(this,t)||this;return r.buffer=[],r.add(Qj(n,new Xj(r))),r}return QR(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}($j);function mV(e,t){return void 0===t&&(t=null),function(n){return n.lift(new gV(e,t))}}var gV=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?bV:yV}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),yV=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return QR(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(cM),bV=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return QR(t,e),t.prototype._next=function(e){var t=this,n=t.bufferSize,r=t.startBufferEvery,i=t.buffers,o=t.count;this.count++,o%r==0&&i.push([]);for(var a=i.length;a--;){var s=i[a];s.push(e),s.length===n&&(i.splice(a,1),this.destination.next(s))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(cM),_V=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new wV(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),EV=function(){this.buffer=[]},wV=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=r,a.maxBufferSize=i,a.scheduler=o,a.contexts=[];var s=a.openContext();if(a.timespanOnly=null==r||r<0,a.timespanOnly){var u={subscriber:a,context:s,bufferTimeSpan:n};a.add(s.closeAction=o.schedule(SV,n,u))}else{var l={subscriber:a,context:s},c={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:a,scheduler:o};a.add(s.closeAction=o.schedule(kV,n,l)),a.add(o.schedule(TV,r,c))}return a}return QR(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],a=o.buffer;a.push(e),a.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var r=t.shift();n.next(r.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(SV,n,r))}},t.prototype.openContext=function(){var e=new EV;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(cM);function SV(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function TV(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(kV,n,{subscriber:r,context:o})),this.schedule(e,t))}function kV(e){var t=e.subscriber,n=e.context;t.closeContext(n)}var xV=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new AV(e,this.openings,this.closingSelector))},e}(),AV=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.closingSelector=r,i.contexts=[],i.add(Gj(i,n)),i}return QR(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new sM,r={buffer:[],subscription:n};t.push(r);var i=Gj(this,e,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))},t}(Mj),PV=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new OV(e,this.closingSelector))},e}(),OV=function(e){function t(t,n){var r=e.call(this,t)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return QR(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new sM,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Qj(t,new Xj(this))),this.subscribing=!1},t}($j);function CV(e){return function(t){var n=new IV(e),r=t.lift(n);return n.caught=r}}var IV=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new LV(e,this.selector,this.caught))},e}(),LV=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return QR(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var r=new Xj(this);this.add(r);var i=Qj(n,r);i!==r&&this.add(i)}},t}($j);function NV(e,t){return Jj(e,t,1)}var DV=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new RV(e,this.predicate,this.source))},e}(),RV=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return QR(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(cM),MV=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new jV(e,this.durationSelector))},e}(),jV=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return QR(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Qj(t,new Xj(this)))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,e.prototype._next.call(this,t)}},t}($j),FV=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new VV(e,this.dueTime,this.scheduler))},e}(),VV=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return QR(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(UV,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(cM);function UV(e){e.debouncedNext()}function BV(e){return void 0===e&&(e=null),function(t){return t.lift(new zV(e))}}var zV=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new GV(e,this.defaultValue))},e}(),GV=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return QR(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(cM);function qV(e){return e instanceof Date&&!isNaN(+e)}function HV(e,t){void 0===t&&(t=gj);var n=qV(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new WV(n,t))}}var WV=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new KV(e,this.delay,this.scheduler))},e}(),KV=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return QR(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new YV(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(ZM.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(ZM.createComplete()),this.unsubscribe()},t}(cM),YV=function(e,t){this.time=e,this.notification=t},XV=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new $V(e,this.delayDurationSelector))},e}(),$V=function(e){function t(t,n){var r=e.call(this,t)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return QR(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=Gj(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(Mj),QV=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=n,r}return QR(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new JV(e,this.source))},t}(gM),JV=function(e){function t(t,n){var r=e.call(this)||this;return r.parent=t,r.source=n,r.sourceSubscribed=!1,r}return QR(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(cM),ZV=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new eU(e))},e}(),eU=function(e){function t(t){return e.call(this,t)||this}return QR(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(cM);function tU(e,t){return function(n){return n.lift(new nU(e,t))}}var nU=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new rU(e,this.keySelector,this.flushes))},e}(),rU=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=n,i.values=new Set,r&&i.add(Qj(r,new Xj(i))),i}return QR(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}($j);function iU(e,t){return function(n){return n.lift(new oU(e,t))}}var oU=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new aU(e,this.compare,this.keySelector))},e}(),aU=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return QR(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(e){return this.destination.error(e)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(e){return this.destination.error(e)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(cM);function sU(e){return void 0===e&&(e=cU),function(t){return t.lift(new uU(e))}}var uU=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new lU(e,this.errorFactory))},e}(),lU=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errorFactory=n,r.hasValue=!1,r}return QR(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(cM);function cU(){return new xj}function dU(e){return function(t){return 0===e?qM():t.lift(new fU(e))}}var fU=function(){function e(e){if(this.total=e,this.total<0)throw new kj}return e.prototype.call=function(e,t){return t.subscribe(new hU(e,this.total))},e}(),hU=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return QR(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(cM),pU=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new vU(e,this.predicate,this.thisArg,this.source))},e}(),vU=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return QR(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(cM),mU=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new gU(e))},e}(),gU=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return QR(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Qj(e,new Xj(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}($j),yU=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new bU(e,this.project))},e}(),bU=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return QR(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new Xj(this),n=this.destination;n.add(t);var r=Qj(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}($j),_U=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new EU(e,this.project,this.concurrent,this.scheduler))},e}(),EU=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return QR(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(e);try{var i=(0,this.project)(e,r);if(this.scheduler){var o={subscriber:this,result:i,value:e,index:r};this.destination.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(i,e,r)}catch(e){n.error(e)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add(Qj(e,new Xj(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this._next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}($j),wU=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new SU(e,this.callback))},e}(),SU=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new sM(n)),r}return QR(t,e),t}(cM),TU=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new kU(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),kU=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.predicate=n,a.source=r,a.yieldIndex=i,a.thisArg=o,a.index=0,a}return QR(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,r=this.index++;try{t.call(n||this,e,r,this.source)&&this.notifyComplete(this.yieldIndex?r:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(cM);function xU(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?gF((function(t,n){return e(t,n,r)})):pM,dU(1),n?BV(t):sU((function(){return new xj})))}}var AU=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new PU(e))},e}(),PU=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return QR(t,e),t.prototype._next=function(e){},t}(cM),OU=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new CU(e))},e}(),CU=function(e){function t(t){return e.call(this,t)||this}return QR(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(cM);function IU(e){return function(t){return 0===e?qM():t.lift(new LU(e))}}var LU=function(){function e(e){if(this.total=e,this.total<0)throw new kj}return e.prototype.call=function(e,t){return t.subscribe(new NU(e,this.total))},e}(),NU=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return QR(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(cM);function DU(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?gF((function(t,n){return e(t,n,r)})):pM,IU(1),n?BV(t):sU((function(){return new xj})))}}function RU(e){return function(t){return t.lift(new MU(e))}}var MU=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new jU(e,this.value))},e}(),jU=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return QR(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(cM),FU=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new VU(e))},e}(),VU=function(e){function t(t){return e.call(this,t)||this}return QR(t,e),t.prototype._next=function(e){this.destination.next(ZM.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(ZM.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(ZM.createComplete()),e.complete()},t}(cM);function UU(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new BU(e,t,n))}}var BU=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new zU(e,this.accumulator,this.seed,this.hasSeed))},e}(),zU=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return QR(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(cM);function GU(e,t){return arguments.length>=2?function(n){return vM(UU(e,t),IU(1),BV(t))(n)}:function(t){return vM(UU((function(t,n,r){return e(t,n,r+1)})),IU(1))(t)}}function qU(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?Jj((function(){return e}),t,n):("number"==typeof t&&(n=t),Jj((function(){return e}),n))}var HU=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new WU(e,this.accumulator,this.seed,this.concurrent))},e}(),WU=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return QR(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,e,t)}catch(e){return n.error(e)}this.active++,this._innerSub(r)}else this.buffer.push(e)},t.prototype._innerSub=function(e){var t=new Xj(this),n=this.destination;n.add(t);var r=Qj(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e){var t=this.destination;this.acc=e,this.hasValue=!0,t.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}($j);function KU(e,t){return function(n){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new YU(r,t));var i=Object.create(n,PM);return i.source=n,i.subjectFactory=r,i}}var YU=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}(),XU=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new $U(e,this.nextSources))},e}(),$U=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.nextSources=n,r}return QR(t,e),t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new Xj(this),n=this.destination;n.add(t);var r=Qj(e,t);r!==t&&n.add(r)}else this.destination.complete()},t}($j),QU=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new JU(e))},e}(),JU=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return QR(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(cM);function ZU(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return Pj(function(e,t){var n=function(n){for(var r=n,i=0;i<t;i++){var o=null!=r?r[e[i]]:void 0;if(void 0===o)return;r=o}return r};return n}(e,n))(t)}}function eB(e){return e?KU((function(){return new wM}),e):KU(new wM)}var tB=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new nB(e,this.count,this.source))},e}(),nB=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return QR(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(cM),rB=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new iB(e,this.notifier,t))},e}(),iB=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return QR(t,e),t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new wM;try{t=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=Qj(t,new Xj(this))},t}($j);function oB(e){return void 0===e&&(e=-1),function(t){return t.lift(new aB(e,t))}}var aB=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new sB(e,this.count,this.source))},e}(),sB=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return QR(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return e.prototype.error.call(this,t);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(cM),uB=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new lB(e,this.notifier,this.source))},e}(),lB=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i}return QR(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new wM;try{r=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}i=Qj(r,new Xj(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}($j),cB=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new dB(e),r=t.subscribe(n);return r.add(Qj(this.notifier,new Xj(n))),r},e}(),dB=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return QR(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}($j),fB=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new hB(e,this.period,this.scheduler))},e}(),hB=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(pB,n,{subscriber:i,period:n})),i}return QR(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(cM);function pB(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}var vB=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new mB(e,this.compareTo,this.comparator))},e}(),mB=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new gB(t,i))),i}return QR(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this,t=e._a,n=e._b,r=e.comparator;t.length>0&&n.length>0;){var i=t.shift(),o=n.shift(),a=!1;try{a=r?r(i,o):i===o}catch(e){this.destination.error(e)}a||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(cM),gB=function(e){function t(t,n){var r=e.call(this,t)||this;return r.parent=n,r}return QR(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(cM);function yB(){return new wM}var bB=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new _B(e,this.predicate,this.source))},e}(),_B=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return QR(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new xj)},t}(cM),EB=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new wB(e,this.total))},e}(),wB=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return QR(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(cM),SB=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new kj}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new cM(e)):t.subscribe(new TB(e,this._skipCount))},e}(),TB=function(e){function t(t,n){var r=e.call(this,t)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return QR(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,i=this._ring,o=i[r];i[r]=e,this.destination.next(o)}},t}(cM),kB=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new xB(e,this.notifier))},e}(),xB=function(e){function t(t,n){var r=e.call(this,t)||this;r.hasValue=!1;var i=new Xj(r);r.add(i),r.innerSubscription=i;var o=Qj(n,i);return o!==i&&(r.add(o),r.innerSubscription=o),r}return QR(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}($j),AB=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new PB(e,this.predicate))},e}(),PB=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return QR(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(cM),OB=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=vj);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!cF(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=vj),i}return QR(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=vj),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(gM),CB=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new OB(t,this.delay,this.scheduler).subscribe(e)},e}();function IB(e,t){return"function"==typeof t?function(n){return n.pipe(IB((function(n,r){return Yj(e(n,r)).pipe(Pj((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new LB(e))}}var LB=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new NB(e,this.project))},e}(),NB=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return QR(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new Xj(this),r=this.destination;r.add(n),this.innerSubscription=Qj(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}($j);function DB(e,t){return t?IB((function(){return e}),t):IB((function(){return e}))}function RB(e){return function(t){return t.lift(new MB(e))}}var MB=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new jB(e),r=Qj(this.notifier,new Xj(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),jB=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return QR(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}($j),FB=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new VB(e,this.predicate,this.inclusive))},e}(),VB=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return QR(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(cM);function UB(e,t,n){return function(r){return r.lift(new BB(e,t,n))}}var BB=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new zB(e,this.nextOrObserver,this.error,this.complete))},e}(),zB=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._tapNext=Tj,o._tapError=Tj,o._tapComplete=Tj,o._tapError=r||Tj,o._tapComplete=i||Tj,JR(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Tj,o._tapError=n.error||Tj,o._tapComplete=n.complete||Tj),o}return QR(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(cM),GB={leading:!0,trailing:!1},qB=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new HB(e,this.durationSelector,this.leading,this.trailing))},e}(),HB=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return QR(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=Qj(t,new Xj(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}($j),WB=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new KB(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),KB=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.duration=n,a.scheduler=r,a.leading=i,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return QR(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(YB,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(cM);function YB(e){e.subscriber.clearThrottle()}function XB(e){return void 0===e&&(e=gj),function(t){return oF((function(){return t.pipe(UU((function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}}),{current:e.now(),value:void 0,last:void 0}),Pj((function(e){var t=e.current,n=e.last,r=e.value;return new $B(r,t-n)})))}))}}var $B=function(e,t){this.value=e,this.interval=t};function QB(e,t,n){return void 0===n&&(n=gj),function(r){var i=qV(e),o=i?+e-n.now():Math.abs(e);return r.lift(new JB(o,i,t,n))}}var JB=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new ZB(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),ZB=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=r,a.withObservable=i,a.scheduler=o,a.scheduleTimeout(),a}return QR(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Qj(t,new Xj(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}($j);function ez(e,t){return void 0===t&&(t=gj),QB(e,QM(new Aj),t)}var tz=function(e,t){this.value=e,this.timestamp=t};function nz(e,t,n){return 0===n?[t]:(e.push(t),e)}var rz=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new iz(e),r=t.subscribe(n);return r.closed||n.add(Qj(this.windowBoundaries,new Xj(n))),r},e}(),iz=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new wM,t.next(n.window),n}return QR(t,e),t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new wM;t.next(n)},t}($j),oz=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new az(e,this.windowSize,this.startWindowEvery))},e}(),az=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.destination=t,i.windowSize=n,i.startWindowEvery=r,i.windows=[new wM],i.count=0,t.next(i.windows[0]),i}return QR(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,a=0;a<o&&!this.closed;a++)i[a].next(e);var s=this.count-r+1;if(s>=0&&s%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var u=new wM;i.push(u),n.next(u)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(cM),sz=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new lz(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),uz=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return QR(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(wM),lz=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=r,a.maxWindowSize=i,a.scheduler=o,a.windows=[];var s=a.openWindow();if(null!==r&&r>=0){var u={subscriber:a,window:s,context:null},l={windowTimeSpan:n,windowCreationInterval:r,subscriber:a,scheduler:o};a.add(o.schedule(fz,n,u)),a.add(o.schedule(dz,r,l))}else{var c={subscriber:a,window:s,windowTimeSpan:n};a.add(o.schedule(cz,n,c))}return a}return QR(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new uz;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(cM);function cz(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function dz(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o=n.openWindow(),a=this,s={action:a,subscription:null},u={subscriber:n,window:o,context:s};s.subscription=r.schedule(fz,t,u),a.add(s.subscription),a.schedule(e,i)}function fz(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}var hz=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new pz(e,this.openings,this.closingSelector))},e}(),pz=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=Gj(i,n,n)),i}return QR(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,r=-1;++r<n;){var i=t[r];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,r,i){if(e===this.openings){var o=void 0;try{o=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var a=new wM,s=new sM,u={window:a,subscription:s};this.contexts.push(u);var l=Gj(this,o,u);l.closed?this.closeWindow(this.contexts.length-1):(l.context=u,s.add(l)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,i=n.subscription;t.splice(e,1),r.complete(),i.unsubscribe()}},t}(Mj),vz=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new mz(e,this.closingSelector))},e}(),mz=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.closingSelector=n,r.openWindow(),r}return QR(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow(i)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,r=this.window=new wM;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=Gj(this,n))},t}(Mj);function gz(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new yz(r,n))}}var yz=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new bz(e,this.observables,this.project))},e}(),bz=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.observables=n,i.project=r,i.toRespond=[];var o=n.length;i.values=new Array(o);for(var a=0;a<o;a++)i.toRespond.push(a);for(a=0;a<o;a++){var s=n[a];i.add(Gj(i,s,void 0,a))}return i}return QR(t,e),t.prototype.notifyNext=function(e,t,n){this.values[n]=t;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Mj),_z=Object.freeze({__proto__:null,audit:dV,auditTime:function(e,t){return void 0===t&&(t=gj),dV((function(){return kF(e,t)}))},buffer:function(e){return function(t){return t.lift(new pV(e))}},bufferCount:mV,bufferTime:function(e){var t=arguments.length,n=gj;HM(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(t){return t.lift(new _V(e,r,i,n))}},bufferToggle:function(e,t){return function(n){return n.lift(new xV(e,t))}},bufferWhen:function(e){return function(t){return t.lift(new PV(e))}},catchError:CV,combineAll:function(e){return function(t){return t.lift(new Hj(e))}},combineLatest:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&rM(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(Yj([t].concat(e)),new Hj(n))}},concat:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(iF.apply(void 0,[t].concat(e)))}},concatAll:rF,concatMap:NV,concatMapTo:function(e,t){return NV((function(){return e}),t)},count:function(e){return function(t){return t.lift(new DV(e,t))}},debounce:function(e){return function(t){return t.lift(new MV(e))}},debounceTime:function(e,t){return void 0===t&&(t=gj),function(n){return n.lift(new FV(e,t))}},defaultIfEmpty:BV,delay:HV,delayWhen:function(e,t){return t?function(n){return new QV(n,t).lift(new XV(e))}:function(t){return t.lift(new XV(e))}},dematerialize:function(){return function(e){return e.lift(new ZV)}},distinct:tU,distinctUntilChanged:iU,distinctUntilKeyChanged:function(e,t){return iU((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))},elementAt:function(e,t){if(e<0)throw new kj;var n=arguments.length>=2;return function(r){return r.pipe(gF((function(t,n){return n===e})),dU(1),n?BV(t):sU((function(){return new kj})))}},endWith:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return iF(t,$M.apply(void 0,e))}},every:function(e,t){return function(n){return n.lift(new pU(e,t,n))}},exhaust:function(){return function(e){return e.lift(new mU)}},exhaustMap:function e(t,n){return n?function(r){return r.pipe(e((function(e,r){return Yj(t(e,r)).pipe(Pj((function(t,i){return n(e,t,r,i)})))})))}:function(e){return e.lift(new yU(t))}},expand:function(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new _U(e,t,n))}},filter:gF,finalize:function(e){return function(t){return t.lift(new wU(e))}},find:function(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new TU(e,n,!1,t))}},findIndex:function(e,t){return function(n){return n.lift(new TU(e,n,!0,t))}},first:xU,groupBy:function(e,t,n,r){return function(i){return i.lift(new CM(e,t,n,r))}},ignoreElements:function(){return function(e){return e.lift(new AU)}},isEmpty:function(){return function(e){return e.lift(new OU)}},last:DU,map:Pj,mapTo:RU,materialize:function(){return function(e){return e.lift(new FU)}},max:function(e){var t="function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t};return GU(t)},merge:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(hF.apply(void 0,[t].concat(e)))}},mergeAll:nF,mergeMap:Jj,flatMap:tF,mergeMapTo:qU,mergeScan:function(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new HU(e,t,n))}},min:function(e){var t="function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t};return GU(t)},multicast:KU,observeOn:function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new ej(e,t))}},onErrorResumeNext:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&rM(e[0])&&(e=e[0]),function(t){return t.lift(new XU(e))}},pairwise:function(){return function(e){return e.lift(new QU)}},partition:function(e,t){return function(n){return[gF(e,t)(n),gF(mF(e,t))(n)]}},pluck:ZU,publish:eB,publishBehavior:function(e){return function(t){return KU(new RM(e))(t)}},publishLast:function(){return function(e){return KU(new oj)(e)}},publishReplay:function(e,t,n,r){n&&"function"!=typeof n&&(r=n);var i="function"==typeof n?n:void 0,o=new rj(e,t,r);return function(e){return KU((function(){return o}),i)(e)}},race:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&rM(e[0])&&(e=e[0]),t.lift.call(EF.apply(void 0,[t].concat(e)))}},reduce:GU,repeat:function(e){return void 0===e&&(e=-1),function(t){return 0===e?qM():e<0?t.lift(new tB(-1,t)):t.lift(new tB(e-1,t))}},repeatWhen:function(e){return function(t){return t.lift(new rB(e))}},retry:oB,retryWhen:function(e){return function(t){return t.lift(new uB(e,t))}},refCount:TM,sample:function(e){return function(t){return t.lift(new cB(e))}},sampleTime:function(e,t){return void 0===t&&(t=gj),function(n){return n.lift(new fB(e,t))}},scan:UU,sequenceEqual:function(e,t){return function(n){return n.lift(new vB(e,t))}},share:function(){return function(e){return TM()(KU(yB)(e))}},shareReplay:function(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=e.refCount,u=e.scheduler,l=0,c=!1,d=!1;return function(e){var r;l++,!t||c?(c=!1,t=new rj(i,a,u),r=t.subscribe(this),n=e.subscribe({next:function(e){t.next(e)},error:function(e){c=!0,t.error(e)},complete:function(){d=!0,n=void 0,t.complete()}})):r=t.subscribe(this),this.add((function(){l--,r.unsubscribe(),n&&!d&&s&&0===l&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(r))}},single:function(e){return function(t){return t.lift(new bB(e,t))}},skip:function(e){return function(t){return t.lift(new EB(e))}},skipLast:function(e){return function(t){return t.lift(new SB(e))}},skipUntil:function(e){return function(t){return t.lift(new kB(e))}},skipWhile:function(e){return function(t){return t.lift(new AB(e))}},startWith:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return HM(n)?(e.pop(),function(t){return iF(e,t,n)}):function(t){return iF(e,t)}},subscribeOn:function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new CB(e,t))}},switchAll:function(){return IB(pM)},switchMap:IB,switchMapTo:DB,take:dU,takeLast:IU,takeUntil:RB,takeWhile:function(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new FB(e,t))}},tap:UB,throttle:function(e,t){return void 0===t&&(t=GB),function(n){return n.lift(new qB(e,!!t.leading,!!t.trailing))}},throttleTime:function(e,t,n){return void 0===t&&(t=gj),void 0===n&&(n=GB),function(r){return r.lift(new WB(e,t,n.leading,n.trailing))}},throwIfEmpty:sU,timeInterval:XB,timeout:ez,timeoutWith:QB,timestamp:function(e){return void 0===e&&(e=gj),Pj((function(t){return new tz(t,e.now())}))},toArray:function(){return GU(nz,[])},window:function(e){return function(t){return t.lift(new rz(e))}},windowCount:function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new oz(e,t))}},windowTime:function(e){var t=gj,n=null,r=Number.POSITIVE_INFINITY;return HM(arguments[3])&&(t=arguments[3]),HM(arguments[2])?t=arguments[2]:cF(arguments[2])&&(r=Number(arguments[2])),HM(arguments[1])?t=arguments[1]:cF(arguments[1])&&(n=Number(arguments[1])),function(i){return i.lift(new sz(e,n,r,t))}},windowToggle:function(e,t){return function(n){return n.lift(new hz(e,t))}},windowWhen:function(e){return function(t){return t.lift(new vz(e))}},withLatestFrom:gz,zip:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(AF.apply(void 0,[t].concat(e)))}},zipAll:function(e){return function(t){return t.lift(new PF(e))}}}),Ez=f(_z),wz={};Object.defineProperty(wz,"__esModule",{value:!0});var Sz=function(){function e(){this.events=new Map}return e.prototype.addEventListener=function(e,t,n){this.events.has(e)||this.events.set(e,[]);var r=this.events.get(e),i=this.getListenerCallback(t),o="object"==typeof n?n:{once:!1,priority:0},a=o.once,s=o.priority;this.addEventData(r,this.createEventData(i,a,s))},e.prototype.addEventData=function(e,t){for(var n=e.length;n--&&!(e[n].priority>=t.priority););e.splice(n+1,0,t)},e.prototype.dispatchEvent=function(e){var t=this.events.get(e.type)||[];if(!t||0===t.length)return!0;var n=t.slice();this.setEventTarget(e,this),this.setEventCurrentTarget(e,this),this.setEventPhase(e,e.AT_TARGET),this.setEventTrust(e,!0);for(var r=!1,i=0,o=n;i<o.length;i++){var a=o[i];try{a.listener(e)}catch(e){setTimeout((function(){throw e}),1)}if(r=r||e.defaultPrevented,a.once&&this.removeEventData(t,a),e.cancelBubble)break}return!r},e.prototype.setEventTarget=function(e,t){void 0!==e.setTarget&&e.setTarget(t)},e.prototype.setEventCurrentTarget=function(e,t){void 0!==e.setCurrentTarget&&e.setCurrentTarget(t)},e.prototype.setEventPhase=function(e,t){void 0!==e.setEventPhase&&e.setEventPhase(t)},e.prototype.setEventTrust=function(e,t){void 0!==e.setTrust&&e.setTrust(t)},e.prototype.removeEventListener=function(e,t,n){var r=this.getListenerCallback(t),i=this.events.get(e);if(i&&0!==i.length){var o=i.find((function(e){return e.listener===r}));o&&(this.removeEventData(i,o),0===i.length&&this.events.delete(e))}},e.prototype.removeEventData=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},e.prototype.createEventData=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=0),{listener:e,once:t,priority:n}},e.prototype.getListenerCallback=function(e){if("function"==typeof e)return e;if("object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"handleEvent"))return e.handleEvent;throw Error("invalid EventListener "+e.toString())},e}(),Tz=wz.default=Sz,kz={},xz=c&&c.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Az=c&&c.__assign||function(){return Az=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Az.apply(this,arguments)},Pz=c&&c.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Oz=c&&c.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Cz=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kz,"__esModule",{value:!0});var Iz=Ez,Lz=cV,Nz=RF,Dz=Cz(wz),Rz=Cz(jF),Mz=function(e){function t(t){var n=e.call(this)||this;n._onAdStarted=function(){n._fireEvent(Nz.AdEventTypes.AdStarted),n._tryObserveNativeEvents()},n._onAdSkipped=function(){n._clearResources(),n._fireEvent(Nz.AdEventTypes.AdSkipped),n._fireEvent(Nz.AdEventTypes.AdStopped)},n._onAdClicked=function(){n._fireEvent(Nz.AdEventTypes.AdClickThru)},n._onAdImpressionSent=function(){n._fireEvent(Nz.AdEventTypes.AdImpression)},n._onAdPaused=function(){n._fireEvent(Nz.AdEventTypes.AdPaused)},n._onAdPlaying=function(){n._fireEvent(Nz.AdEventTypes.AdPlaying)},n._onStoreAdVolume=function(e){n._gladVolume=e.detail.volume},n._onAdVolumeChange=function(){n._fireEvent(Nz.AdEventTypes.AdVolumeChange)},n._onAdStopped=function(){n._clearResources(),n._fireEvent(Nz.AdEventTypes.AdStopped)},n._onAdBreakReady=function(){n._fireEvent(Nz.AdEventTypes.AdBreakReady)},n._onAdRemainingTimeChange=function(){if(n._video){var e=n._video.currentTime;n._remainingTime=Math.max(n._adDuration-e,0),n.dispatchEvent(new Rz.default(Nz.AdEventTypes.AdRemainingTimeChange)),isFinite(n._adSkipTimeOffset)&&e>n._adSkipTimeOffset&&!n._adSkippableState&&(n._adSkippableState=!n._adSkippableState,n.dispatchEvent(new Rz.default(Nz.AdEventTypes.AdSkippableStateChange)))}};var r=t.adScheduleManager,i=t.eventDispatcher,o=t.ad,a=t.adBreak,s=t.onBeforeStart;return n._videoAdScheduleMgr=r,n._eventDispatcher=i,n._viewSlot=null,n._adSystem=null,n._adDuration=NaN,n._adTimeOffset=null,n._adSkipTimeOffset=NaN,n._adSkippableState=null,n._remainingTime=NaN,n._adWidth=NaN,n._adHeight=NaN,n._adExpanded=null,n._adPlacementType=null,n._adApiFramework=null,n._adCreativeId=null,n._adPodInfo=null,n._envVars=null,n._initCreativeData=null,n._gladVolume=NaN,n._ad=o,n._adBreak=a,n._video=null,n._stop$=new Lz.Subject,n._onBeforeStart=s,n}return xz(t,e),Object.defineProperty(t.prototype,"adLinear",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adSystem",{get:function(){return this._adSystem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adWidth",{get:function(){return this._adWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adHeight",{get:function(){return this._adHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adExpanded",{get:function(){return this._adExpanded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adSkippableState",{get:function(){return this._adSkippableState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adSkipTimeOffset",{get:function(){return this._adSkipTimeOffset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adRemainingTime",{get:function(){return this._remainingTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adTimeOffset",{get:function(){return this._adTimeOffset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adDuration",{get:function(){return this._adDuration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adVolume",{get:function(){var e,t,n;return isNaN(this._gladVolume)?null!==(n=(null===(e=this._video)||void 0===e?void 0:e.muted)?0:null===(t=this._video)||void 0===t?void 0:t.volume)&&void 0!==n?n:NaN:this._gladVolume},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adCompanions",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adIcons",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adPlacementType",{get:function(){return this._adPlacementType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adApiFramework",{get:function(){return this._adApiFramework},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adCreativeId",{get:function(){return this._adCreativeId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adPodInfo",{get:function(){return this._adPodInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"environmentVars",{get:function(){return this._envVars},set:function(e){this._envVars=Az({},e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"live",{get:function(){var e;return"pre"!==this._adPlacementType&&!0===(null===(e=null==this?void 0:this._initCreativeData)||void 0===e?void 0:e.live)},enumerable:!0,configurable:!0}),t.prototype.handshakeVersion=function(e){return Pz(this,void 0,void 0,(function(){return Oz(this,(function(t){return[2,e]}))}))},t.prototype.initAd=function(e,t,n,r,i,o){var a,s,u,l,c,d,f,h,p,v,m,g,y,b,_,E,w,S,T,k,x;if(!i||!o)throw new Error("Missing arguments");var A=o.viewSlot;this._viewSlot=A,this._adSystem=null!==(u=null===(s=(a=this._ad).getAdProvider)||void 0===s?void 0:s.call(a))&&void 0!==u?u:null,this._adDuration=null!==(d=null===(c=(l=this._ad).getDuration)||void 0===c?void 0:c.call(l))&&void 0!==d?d:NaN,this._adTimeOffset=null!==(p=null===(h=(f=this._ad).getTimeOffset)||void 0===h?void 0:h.call(f))&&void 0!==p?p:NaN,this._adSkipTimeOffset=null!==(g=null===(m=(v=this._ad).getSkipTimeOffset)||void 0===m?void 0:m.call(v))&&void 0!==g?g:NaN,this._adWidth=null!==(_=null===(b=(y=this._ad).getVastMediaWidth)||void 0===b?void 0:b.call(y))&&void 0!==_?_:NaN,this._adHeight=null!==(S=null===(w=(E=this._ad).getVastMediaHeight)||void 0===w?void 0:w.call(E))&&void 0!==S?S:NaN,this._adPlacementType=null!==(x=null===(k=(T=this._ad).getPlacementType)||void 0===k?void 0:k.call(T))&&void 0!==x?x:null,this._remainingTime=this._adDuration,this._envVars=Az({},o),this._initCreativeData=Az({},i),this._adBreak&&(this._adBreak.unitId&&(this._adCreativeId=this._adBreak.unitId),!0===this._adBreak.isPod&&void 0!==this._adBreak.sequence&&void 0!==this._adBreak.timeOffset&&void 0!==this._adBreak.totalAds&&(this._adPodInfo={adPosition:this._adBreak.sequence,timeOffset:this._adBreak.timeOffset,totalAds:this._adBreak.totalAds})),this._adSkipTimeOffset<0&&(this._adSkipTimeOffset=NaN),this._subscribeAdEvents()},t.prototype.resizeAd=function(e,t,n){this._videoAdScheduleMgr.onPlayerResize({width:e,height:t,isFullScreen:n===Nz.AdViewModeTypes.FULLSCREEN})},t.prototype.startAd=function(){this._onBeforeStart&&this._onBeforeStart(),this._ad.start()},t.prototype.stopAd=function(){this._stop$.next()},t.prototype.pauseAd=function(){var e;null===(e=this._video)||void 0===e||e.pause()},t.prototype.resumeAd=function(){var e;null===(e=this._video)||void 0===e||e.play()},t.prototype.expandAd=function(){throw new Error("Method not supported.")},t.prototype.collapseAd=function(){throw new Error("Method not supported.")},t.prototype.skipAd=function(){try{this._ad.skip()}catch(e){throw new Error("Method not supported.")}},t.prototype.subscribe=function(e,t,n){this.addEventListener(t,e)},t.prototype.unsubscribe=function(e,t,n){this.removeEventListener(t,e)},t.prototype._clearResources=function(){this._stop$.next()},t.prototype._subscribeAdEvents=function(){var e=Iz.takeUntil(this._stop$),t=this._eventDispatcher;Lz.fromEvent(t,Nz.AdEventTypes.AdStarted).pipe(e).subscribe(this._onAdStarted),Lz.fromEvent(t,Nz.AdEventTypes.AdSkipped).pipe(e).subscribe(this._onAdSkipped),Lz.fromEvent(t,Nz.AdEventTypes.AdStopped).pipe(e).subscribe(this._onAdStopped),Lz.fromEvent(t,Nz.AdEventTypes.AdClickThru).pipe(e).subscribe(this._onAdClicked),Lz.fromEvent(t,Nz.AdEventTypes.AdImpression).pipe(e).subscribe(this._onAdImpressionSent),Lz.fromEvent(t,Nz.AdEventTypes.AdPaused).pipe(e).subscribe(this._onAdPaused),Lz.fromEvent(t,Nz.AdEventTypes.AdPlaying).pipe(e).subscribe(this._onAdPlaying),Lz.fromEvent(t,Nz.AdEventTypes.AdBreakReady).pipe(e).subscribe(this._onAdBreakReady),this._videoAdScheduleMgr.setAdVolumeChangeListener&&Lz.fromEvent(t,Nz.AdEventTypes.AdVolumeChange).pipe(Iz.tap(this._onStoreAdVolume),e).subscribe(this._onAdVolumeChange)},t.prototype._tryObserveNativeEvents=function(){var e=this;if(this._viewSlot){var t=this._viewSlot.getElementsByTagName("video");Lz.from(t).pipe(Iz.filter((function(e){return!e.paused}))).subscribe((function(t){e._video=t,Lz.fromEvent(t,"timeupdate").pipe(Iz.takeUntil(e._stop$)).subscribe(e._onAdRemainingTimeChange),e._videoAdScheduleMgr.setAdVolumeChangeListener||Lz.fromEvent(t,"volumechange").pipe(Iz.takeUntil(e._stop$)).subscribe(e._onAdVolumeChange)}))}},t.prototype._fireEvent=function(e){this.dispatchEvent(new Rz.default(e))},t}(Dz.default);kz.default=Mz;var jz={},Fz=c&&c.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vz=c&&c.__assign||function(){return Vz=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Vz.apply(this,arguments)},Uz=c&&c.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Bz=c&&c.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},zz=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jz,"__esModule",{value:!0});var Gz=RF,qz=zz(wz),Hz=zz(jF),Wz=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o._videoScheduleMgr=t,o._eventDispatcher=n,o._nonLinearAd=r,o._adBreak=i,o._injectedEnvVars=null,o}return Fz(t,e),Object.defineProperty(t.prototype,"rawAd",{get:function(){return this._nonLinearAd},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adLinear",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adSystem",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adWidth",{get:function(){return NaN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adHeight",{get:function(){return NaN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adExpanded",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adSkippableState",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adSkipTimeOffset",{get:function(){return NaN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adRemainingTime",{get:function(){return NaN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adDuration",{get:function(){return this._nonLinearAd.duration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adTimeOffset",{get:function(){var e;return null!==(e=this._nonLinearAd.offset)&&void 0!==e?e:NaN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adVolume",{get:function(){return NaN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adCompanions",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adIcons",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adCreativeId",{get:function(){var e,t;return null!==(t=null===(e=this._adBreak)||void 0===e?void 0:e.unitId)&&void 0!==t?t:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adPodInfo",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adApiFramework",{get:function(){return this._nonLinearAd.apiFramework},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adPlacementType",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"environmentVars",{get:function(){return this._injectedEnvVars},set:function(e){var t=this._injectedEnvVars;this._injectedEnvVars=Vz({},e),void 0!==(null==e?void 0:e.isShareType)&&e.isShareType!==(null==t?void 0:t.isShareType)&&this._updateSetBannerWrapStyle(e.isShareType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"live",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.handshakeVersion=function(e){return Uz(this,void 0,void 0,(function(){return Bz(this,(function(e){return[2,""]}))}))},t.prototype.initAd=function(e,t,n,r,i,o){this._injectedEnvVars=Vz({},o);try{var a=o||{},s=a.container,u=a.productType,l=a.isShareType,c=a.isMobileHome;this._nonLinearAd.init({container:s,productType:u,isShareType:l,isMobileHome:c})}catch(e){this.dispatchEvent(new Hz.default(Gz.AdEventTypes.AdError))}},t.prototype.resizeAd=function(e,t,n){},t.prototype.startAd=function(){this._show()},t.prototype.stopAd=function(){this._hide()},t.prototype.pauseAd=function(){this._hide()},t.prototype.resumeAd=function(){this._show()},t.prototype.expandAd=function(){this._show()},t.prototype.collapseAd=function(){this._hide()},t.prototype.skipAd=function(){},t.prototype.subscribe=function(e,t,n){},t.prototype.unsubscribe=function(e,t,n){},t.prototype._updateSetBannerWrapStyle=function(e){this._nonLinearAd.setBannerWrapStyle&&this._nonLinearAd.setBannerWrapStyle({isShareType:e})},t.prototype._show=function(){this._nonLinearAd&&this._nonLinearAd.show&&this._nonLinearAd.show()},t.prototype._hide=function(){this._nonLinearAd&&this._nonLinearAd.hide&&this._nonLinearAd.hide()},t}(qz.default);jz.default=Wz;var Kz={},Yz={},Xz=c&&c.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},$z=c&&c.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(Yz,"__esModule",{value:!0});var Qz=function(){function e(){this._listMap=new Map}return e.prototype.hook=function(e,t){var n=this._listMap.get(e)||[];n.push(t),this._listMap.set(e,n)},e.prototype.invokeHook=function(e,t){return Xz(this,void 0,void 0,(function(){var n;return $z(this,(function(r){switch(r.label){case 0:return(n=this._listMap.get(t))?[4,Promise.all(n.map((function(n){return n(e,t)})))]:[2];case 1:return r.sent(),[2]}}))}))},e.getDefaultInstance=function(){return e._defaultInstance||(e._defaultInstance=new e),e._defaultInstance},e}();Yz.default=Qz;var Jz=c&&c.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Zz=c&&c.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},eG=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kz,"__esModule",{value:!0});var tG=eG(Yz),nG=eG(tV),rG=eG(rV),iG=function(){function e(){this._weakReusableDisplayContainerInfoMap=new WeakMap,this._pendingGestureUnlockingTaskMap=new WeakMap}return e.prototype.initialize=function(){nG.default()&&!rG.default()||tG.default.getDefaultInstance().hook("tryUnlockUserGesture",this._onTryUnlockUserGestureFromPlayer.bind(this))},e.prototype._onTryUnlockUserGestureFromPlayer=function(e,t){return Jz(this,void 0,void 0,(function(){var t,n;return Zz(this,(function(r){switch(r.label){case 0:return(t=this._pendingGestureUnlockingTaskMap.get(e.videoSlot))?[4,t]:[3,2];case 1:return r.sent(),[2];case 2:return n=this._tryUnlockUserGesture(e),this._pendingGestureUnlockingTaskMap.set(e.videoSlot,n),[4,n];case 3:return r.sent(),this._pendingGestureUnlockingTaskMap.delete(e.videoSlot),[2]}}))}))},e.prototype._tryUnlockUserGesture=function(e){var t,n,r,i;return Jz(this,void 0,void 0,(function(){var o,a,s,u;return Zz(this,(function(l){switch(l.label){case 0:return"undefined"==typeof spwp?[2]:(o=null!==(n=null===(t=e.environmentVars)||void 0===t?void 0:t.locale)&&void 0!==n?n:function(){var e=navigator.language,t=e.indexOf("-");if(t>-1)return e.substr(0,t);var n=e.indexOf("_");return n>-1?e.substr(0,n):e}(),a=new spwp.GfpVideoAd.VideoAdScheduleManager({divId:(null===(r=e.viewSlot)||void 0===r?void 0:r.id)||"",playerInfo:{videoEl:e.videoSlot,adContainer:e.viewSlot,playerType:null===(i=e.environmentVars)||void 0===i?void 0:i["glad.applicationCode"],locale:o,playerSize:{width:0,isFullscreen:"normal"}}}),[4,this.getDisplayContainerInfo(e.videoSlot)]);case 1:(s=l.sent())&&(a.adDisplayContainerInfo=s),l.label=2;case 2:return l.trys.push([2,4,5,6]),[4,a.createInitAllAdDisplayContainer()];case 3:return l.sent(),this.setDisplayContainerInfo(e.videoSlot,a.adDisplayContainerInfo),[3,6];case 4:return u=l.sent(),console.error(u),[3,6];case 5:return a.destroy(),[7];case 6:return[2]}}))}))},e.prototype.setDisplayContainerInfo=function(e,t){this._weakReusableDisplayContainerInfoMap.set(e,t)},e.prototype.getDisplayContainerInfo=function(e){return Jz(this,void 0,void 0,(function(){var t;return Zz(this,(function(n){switch(n.label){case 0:return(t=this._pendingGestureUnlockingTaskMap.get(e))?[4,t]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2,this._weakReusableDisplayContainerInfoMap.get(e)||null]}}))}))},e.getInstance=function(){return e._singletonInstance||(e._singletonInstance=new e),e._singletonInstance},e}();Kz.default=iG;var oG={},aG={};Object.defineProperty(aG,"__esModule",{value:!0}),aG.default=function(e){var t={};return((e.match(/\?.+/g)||[e])[0].match(/[^?&]+/g)||[]).map((function(e){return e.match(/[^=]+/g)||[]})).forEach((function(e){var n=e[0],r=e[1];t[n]=r?decodeURIComponent(r):r})),t};var sG={},uG=c&&c.__assign||function(){return uG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},uG.apply(this,arguments)};Object.defineProperty(sG,"__esModule",{value:!0}),sG.default=function(e){var t=document.createElement("a");if(t.href=e,void 0===t.hash||!t.hash)return{};var n=t.hash.slice(1).split("&").map((function(e){return e.split("=")})).filter((function(e){var t=e[0],n=e[1];return void 0!==t&&void 0!==n})),r=n.reduce((function(e,t){var n,r=t[0],i=t[1];return uG(uG({},e),((n={})[r]=i,n))}),{});return r};var lG=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oG,"__esModule",{value:!0});var cG=lG(aG),dG=lG(sG),fG=new RegExp("^([A-Za-z][A-Za-z0-9+\\-.]*):(?:(//)(?:((?:[A-Za-z0-9\\-._~!$&'()*+,;=:]|%[0-9A-Fa-f]{2})*)@)?((?:\\[(?:(?:(?:(?:[0-9A-Fa-f]{1,4}:){6}|::(?:[0-9A-Fa-f]{1,4}:){5}|(?:[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,1}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){3}|(?:(?:[0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){2}|(?:(?:[0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}:|(?:(?:[0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})?::)(?:[0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{1,4}|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))|(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)|[Vv][0-9A-Fa-f]+\\.[A-Za-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)|(?:[A-Za-z0-9\\-._~!$&'()*+,;=]|%[0-9A-Fa-f]{2})*))(?::([0-9]*))?((?:/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)|/((?:(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)?)|((?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)|)(?:\\?((?:[A-Za-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9A-Fa-f]{2})*))?(?:\\#((?:[A-Za-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9A-Fa-f]{2})*))?$");oG.default=function(e){var t=e.match(fG);if(null===t)throw new Error("Invalid URL");var n="",r="";if(t[3]&&t[3].length>1){var i=t[3].split(":");switch(i.length){case 2:n=i[0],r=i[1];break;case 1:n=t[3];break;default:throw new Error("Internal Error")}}return{username:n,password:r,protocol:t[1]+":",host:t[4],query:cG.default(t[9]||""),hash:dG.default(e||"")}};var hG=c&&c.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pG=c&&c.__assign||function(){return pG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pG.apply(this,arguments)},vG=c&&c.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},mG=c&&c.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},gG=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lV,"__esModule",{value:!0});var yG=cV,bG=Ez,_G=gG(wz),EG=gG(kz),wG=RF,SG=gG(jF),TG=gG(sV),kG=gG(iV),xG=gG(jz),AG=gG(qF),PG=gG(YF),OG=gG(Kz),CG=gG(tV),IG=gG(rV),LG=gG(oG),NG=function(e){function t(t){var n,r,i,o=e.call(this)||this;o._resolvePendingInitAdPromise=function(){if(o._pendingInitAdPromise){var e=o._pendingInitAdPromise.resolve;o._clearInitAd(),e()}},o._onBeforeAdStart=function(){o._stopNonLinearAds()},o._onScheduleContentPauseRequested=function(){o._contentPauseRequested=!0,o.dispatchEvent(new SG.default(wG.AdEventTypes.ContentPauseRequested))},o._onScheduleContentResumeRequested=function(){o._currentAd&&(o._currentAd.stopAd(),o._currentAd=null),o._blockContentPlay$.next(!1),o._contentPauseRequested&&(o._contentPauseRequested=!1,o._contentCompleted||o.dispatchEvent(new SG.default(wG.AdEventTypes.ContentResumeRequested)))},o._onScheduleLoaded=function(e){var t,n;null===(t=e.getVideoAdScheduleManager)||void 0===t||t.call(e),o._scheduleList=null===(n=e.getScheduleList)||void 0===n?void 0:n.call(e),o._preparePreRoll(),o._resolvePendingInitAdPromise()},o._onScheduleError=function(e){var t=e.getError(),n=new kG.default({message:t.getMessage(),code:t.getErrorCode()});o._rejectPendingInitAdPromise(n),o._blockContentPlay$.next(!1)},o._onScheduleComplete=function(){var e;o._stopNonLinearAds(),null===(e=o._videoAdScheduleMgr)||void 0===e||e.destroy(),o.dispatchEvent(new SG.default(wG.AdEventTypes.AllAdsCompleted))},o._onAdLoaded=function(){o._eventDispatcher.dispatchEvent(new SG.default(wG.AdEventTypes.AdLoaded))},o._onAdImpression=function(){o._eventDispatcher.dispatchEvent(new SG.default(wG.AdEventTypes.AdImpression))},o._onAdStartReady=function(e,t){return vG(o,void 0,void 0,(function(){var n;return mG(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._prepareAdObject(e,t)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),this.stopAd(),this.dispatchEvent(new PG.default(wG.AdEventTypes.AdError,{error:n})),[2];case 3:return this._eventDispatcher.dispatchEvent(new SG.default(wG.AdEventTypes.AdBreakReady)),[2]}}))}))},o._onAdNonLinearStartReady=function(e,t){var n,r,i,a=null===(i=null===(r=null===(n=e.getAd)||void 0===n?void 0:n.call(e))||void 0===r?void 0:r.getNonLinearAd)||void 0===i?void 0:i.call(r);if(a){var s=new xG.default(o._videoAdScheduleMgr,o._eventDispatcher,a,t);o._nonLinears.push(s),o.dispatchEvent(new AG.default(wG.AdEventTypes.NonLinearAdReady,{ad:s}))}},o._onAdStarted=function(e,t){return vG(o,void 0,void 0,(function(){var n;return mG(this,(function(r){switch(r.label){case 0:if(this._currentAd)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._prepareAdObject(e,t)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),this.stopAd(),this.dispatchEvent(new PG.default(wG.AdEventTypes.AdError,{error:n})),[2];case 4:return this._eventDispatcher.dispatchEvent(new SG.default(wG.AdEventTypes.AdStarted)),[2]}}))}))},o._onAdSkipped=function(){o._eventDispatcher.dispatchEvent(new SG.default(wG.AdEventTypes.AdSkipped)),o._currentAd=null},o._onAdCompleted=function(){o._eventDispatcher.dispatchEvent(new SG.default(wG.AdEventTypes.AdStopped)),o._currentAd=null},o._onNonLinearAdComplete=function(e){var t,n,r,i=null===(r=null===(n=null===(t=e.getAd)||void 0===t?void 0:t.call(e))||void 0===n?void 0:n.getNonLinearAd)||void 0===r?void 0:r.call(n);if(i){for(var a=0;a<o._nonLinears.length;++a)if(o._nonLinears[a].rawAd===i){o._nonLinears.splice(a,1);break}o.dispatchEvent(new SG.default(wG.AdEventTypes.NonLinearAdComplete))}},o._onAdClicked=function(){o._eventDispatcher.dispatchEvent(new SG.default(wG.AdEventTypes.AdClickThru))},o._onAdError=function(e){var t=e.getError(),n=t.getMessage(),r=t.getErrorCode(),i=new PG.default(wG.AdEventTypes.AdError,{error:new kG.default({message:n,code:r,details:t})});o.dispatchEvent(i)},o._onAdPaused=function(){o._eventDispatcher.dispatchEvent(new SG.default(wG.AdEventTypes.AdPaused))},o._onAdPlaying=function(){o._eventDispatcher.dispatchEvent(new SG.default(wG.AdEventTypes.AdPlaying))},o._onAdVolumeChange=function(e){o._eventDispatcher.dispatchEvent(new SG.default(wG.AdEventTypes.AdVolumeChange,{detail:{volume:e}}))},o._onBubbleEvent=function(e){o.dispatchEvent(new SG.default(e.type))};var a=t.parameters,s=t.schedule,u=t.adDisplayContainerInfo,l=t.uriParams;return o._currentAd=null,o._adInitParams=null,o._eventDispatcher=new _G.default,o._requestParams=a||null,o._schedulePolicy=s||null,o._adListener=((n={})[spwp.GfpAdEvent.Type.AD_LOAD]=o._onAdLoaded,n[spwp.GfpAdEvent.Type.AD_IMPRESSION]=o._onAdImpression,n[spwp.GfpAdEvent.Type.AD_CLICK]=o._onAdClicked,n[spwp.GfpAdEvent.Type.AD_START_READY]=o._onAdStartReady,n[spwp.GfpAdEvent.Type.NON_LINEAR_AD_START_READY]=o._onAdNonLinearStartReady,n[spwp.GfpAdEvent.Type.STARTED]=o._onAdStarted,n[spwp.GfpAdEvent.Type.SKIPPED]=o._onAdSkipped,n[spwp.GfpAdEvent.Type.COMPLETE]=o._onAdCompleted,n[spwp.GfpAdEvent.Type.NON_LINEAR_AD_COMPLETE]=o._onNonLinearAdComplete,n[spwp.GfpAdErrorEvent.Type.AD_ERROR]=o._onAdError,n),o._scheduleListener=((r={})[spwp.GfpAdScheduleEvent.Type.SCHEDULE_LOAD]=o._onScheduleLoaded,r[spwp.GfpAdScheduleEvent.Type.SCHEDULE_COMPLETE]=o._onScheduleComplete,r[spwp.GfpAdScheduleEvent.Type.SCHEDULE_CONTENT_PAUSE_REQUESTED]=o._onScheduleContentPauseRequested,r[spwp.GfpAdScheduleEvent.Type.SCHEDULE_CONTENT_RESUME_REQUESTED]=o._onScheduleContentResumeRequested,r[spwp.GfpAdScheduleErrorEvent.Type.SCHEDULE_ERROR]=o._onScheduleError,r),o._qoeListener=((i={})[spwp.GfpAdEvent.Type.PAUSED]=o._onAdPaused,i[spwp.GfpAdEvent.Type.RESUMED]=o._onAdPlaying,i),o._scheduleLoadTimer=0,o._contentCompleted=!1,o._contentPauseRequested=!1,o._nonLinears=[],o._adDisplayContainerInfo=u,o._gestureUnlocked=!!u,o._gladUriParams=l||null,o._blockContentPlay$=new yG.BehaviorSubject(!1),o}return hG(t,e),t.prototype.tryUnlockUserGesture=function(){var e,t,n;return vG(this,void 0,void 0,(function(){var r,i;return mG(this,(function(o){switch(o.label){case 0:if(this._gestureUnlocked)return[2];if(!this._videoAdScheduleMgr)return[2];if(CG.default()&&!IG.default())return[2];this._gestureUnlocked=!0,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,null===(e=this._videoAdScheduleMgr)||void 0===e?void 0:e.createInitAllAdDisplayContainer()];case 2:return o.sent(),(r=null===(n=null===(t=this._adInitParams)||void 0===t?void 0:t.environmentVars)||void 0===n?void 0:n.contentVideoElement)&&OG.default.getInstance().setDisplayContainerInfo(r,this._videoAdScheduleMgr.adDisplayContainerInfo),[3,4];case 3:throw i=o.sent(),this._gestureUnlocked=!1,i;case 4:return[2]}}))}))},t.prototype.contentComplete=function(){return vG(this,void 0,void 0,(function(){return mG(this,(function(e){return this._contentCompleted=!0,[2]}))}))},t.prototype.initAd=function(e,t,n,r,i,o){return vG(this,void 0,void 0,(function(){var a,s,u,l=this;return mG(this,(function(c){switch(c.label){case 0:if(this._pendingInitAdPromise&&this._rejectPendingInitAdPromise(new kG.default({message:"ScheduleLoadAborted",code:0})),a=new Promise((function(e,t){l._pendingInitAdPromise={resolve:e,reject:t,promise:a}})),this._pendingInitAdPromise.promise=a,!o||!i)throw new TypeError("Missing arguments");return TG.default(o),this._contentCompleted=!1,this._adInitParams={width:e,height:t,viewMode:n,desiredBitrate:r,creativeData:i,environmentVars:o},s={},this._requestParams&&Object.assign(s,pG(pG({},this._requestParams),{playerInfo:pG({},this._requestParams.playerInfo)})),this._videoAdScheduleMgr=new spwp.GfpVideoAd.VideoAdScheduleManager(s),this._adDisplayContainerInfo&&(this._videoAdScheduleMgr.adDisplayContainerInfo=this._adDisplayContainerInfo),this._schedulePolicy&&this._videoAdScheduleMgr.setAdSchedulePolicy(this._schedulePolicy),this._gladUriParams&&this._videoAdScheduleMgr.setAdvertiseParams&&(u=LG.default(this._gladUriParams),this._videoAdScheduleMgr.setAdvertiseParams(u.query.params)),this._videoAdScheduleMgr.setAdListener(this._adListener),this._videoAdScheduleMgr.setVideoQoeListener(this._qoeListener),this._videoAdScheduleMgr.setScheduleEventListener(this._scheduleListener),this._videoAdScheduleMgr.setAdVolumeChangeListener&&this._videoAdScheduleMgr.setAdVolumeChangeListener(this._onAdVolumeChange),[4,this._videoAdScheduleMgr.onPlayerResize({width:e,height:t,isFullScreen:n===wG.AdViewModeTypes.FULLSCREEN})];case 1:return c.sent(),this._videoAdScheduleMgr.initAdSchedule(),this._startTimeoutTimer(),[4,a];case 2:return c.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"currentAd",{get:function(){return this._currentAd},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonLinearAds",{get:function(){var e,t;return null!==(t=null===(e=this._nonLinears)||void 0===e?void 0:e.slice())&&void 0!==t?t:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cuePoints",{get:function(){return this._scheduleList?this._scheduleList.map((function(e){return e.startDelay})):null},enumerable:!0,configurable:!0}),t.prototype.startAd=function(e,t,n,r,i,o){return vG(this,void 0,void 0,(function(){return mG(this,(function(a){return[2,yG.from(this._startAd(e,t,n,r,i,o)).pipe(bG.switchMapTo(yG.merge(this._blockContentPlay$.pipe(bG.filter((function(e){return!e}))),yG.fromEvent(this._eventDispatcher,wG.AdEventTypes.AdBreakReady))),bG.first(),bG.mapTo(void 0)).toPromise()]}))}))},t.prototype._startAd=function(e,t,n,r,i,o){return vG(this,void 0,void 0,(function(){var e,t;return mG(this,(function(n){if(!this._adInitParams||!this._adInitParams.environmentVars||!this._videoAdScheduleMgr)return[2];e=r>0?r:this._adInitParams.desiredBitrate,t=this._adInitParams.environmentVars.contentVideoElement;try{this._onAfterStartAd(this._videoAdScheduleMgr),this._videoAdScheduleMgr.setAdRenderingSettings({bitrate:e,autoplayRequiresMuted:t.muted}),this._videoAdScheduleMgr.onPlayerReady()}catch(e){this.dispatchEvent(new PG.default(wG.AdEventTypes.AdError,{error:e})),this.dispatchEvent(new SG.default(wG.AdEventTypes.ContentResumeRequested))}return[2]}))}))},t.prototype._onAfterStartAd=function(e){},t.prototype.stopAd=function(){var e,t;return vG(this,void 0,void 0,(function(){return mG(this,(function(n){return this._videoAdScheduleMgr?(this._stopNonLinearAds(),this._videoAdScheduleMgr.destroy(),(null===(t=null===(e=this._adInitParams)||void 0===e?void 0:e.environmentVars)||void 0===t?void 0:t.viewSlot)&&(this._adInitParams.environmentVars.viewSlot.style.display="none"),this._currentAd&&(this._currentAd.stopAd(),this._currentAd=null,this.dispatchEvent(new SG.default(wG.AdEventTypes.AdStopped))),[2]):[2]}))}))},t.prototype._rejectPendingInitAdPromise=function(e){var t,n;if(this._pendingInitAdPromise){var r=this._pendingInitAdPromise.reject;this._clearInitAd();try{null===(n=null===(t=this._videoAdScheduleMgr)||void 0===t?void 0:t.destroy)||void 0===n||n.call(t)}finally{this._videoAdScheduleMgr=void 0}r(e)}},t.prototype._startTimeoutTimer=function(){var e=this;this._scheduleLoadTimer=window.setTimeout((function(){e._rejectPendingInitAdPromise(new kG.default({message:"ScheduleLoadTimeout",code:0}))}),5e3)},t.prototype._clearInitAd=function(){window.clearTimeout(this._scheduleLoadTimer),this._scheduleLoadTimer=-1,this._pendingInitAdPromise=void 0},t.prototype._stopNonLinearAds=function(){try{for(var e=0,t=this._nonLinears;e<t.length;e++)t[e].stopAd();this._nonLinears=[]}catch(e){}},t.prototype._prepareAdObject=function(e,t){return vG(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c,d=this;return mG(this,(function(f){switch(f.label){case 0:if(!this._adInitParams)throw new Error("FATAL ERROR");return n=e.getAd(),r=new EG.default({adScheduleManager:this._videoAdScheduleMgr,eventDispatcher:this._eventDispatcher,ad:n,adBreak:t,onBeforeStart:this._onBeforeAdStart}),this._currentAd=r,wG.AdEventTypesList.forEach((function(e){r.subscribe(d._onBubbleEvent,e)})),[4,r.handshakeVersion("*")];case 1:return f.sent(),i=this._adInitParams,o=i.width,a=i.height,s=i.viewMode,u=i.desiredBitrate,l=i.creativeData,c=i.environmentVars,this._currentAd.initAd(o,a,s,u,l,c),[2]}}))}))},t.prototype._preparePreRoll=function(){this._scheduleList&&this._scheduleList.filter((function(e){return 0===e.startDelay})).length>0&&this._blockContentPlay$.next(!0)},t}(_G.default);lV.default=NG;var DG={},RG=c&&c.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MG=c&&c.__assign||function(){return MG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},MG.apply(this,arguments)},jG=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(DG,"__esModule",{value:!0});var FG=RF,VG=function(e){function t(t){var n=e.call(this,t)||this;return n._liveAdManagerProps=t.liveAdManagerProps,n._onTimeUpdate=n._onTimeUpdate.bind(n),n.addEventListener(FG.AdEventTypes.ContentPauseRequested,(function(){var e;(null===(e=n._liveAdManager)||void 0===e?void 0:e.onScheduleContentPauseRequested)&&n._liveAdManager.onScheduleContentPauseRequested()})),n.addEventListener(FG.AdEventTypes.ContentResumeRequested,(function(){var e;(null===(e=n._liveAdManager)||void 0===e?void 0:e.onScheduleContentResumeRequested)&&n._liveAdManager.onScheduleContentResumeRequested()})),n}return RG(t,e),t.prototype.initAd=function(t,n,r,i,o,a){var s=null==a?void 0:a.contentVideoElement;return s&&(this._contentVideoElement=s),e.prototype.initAd.call(this,t,n,r,i,o,a)},t.prototype._onAfterStartAd=function(t){e.prototype._onAfterStartAd.call(this,t);var n=this._liveAdManagerProps,r=this._contentVideoElement;n&&r&&spwp.GfpVideoAd.LiveAdManager&&("function"==typeof(null==r?void 0:r.getStartDate)&&r.addEventListener("timeupdate",this._onTimeUpdate),this._liveAdManager=new spwp.GfpVideoAd.LiveAdManager(t,MG(MG({},n),{contentVideoElement:r})),this._liveAdManager.start())},t.prototype._onTimeUpdate=function(){var e,t;if("function"==typeof(null===(e=this._liveAdManager)||void 0===e?void 0:e.setProgramDateTime)&&"function"==typeof(null===(t=this._contentVideoElement)||void 0===t?void 0:t.getStartDate)){var n=this._contentVideoElement.getStartDate().getTime();if(isNaN(n))return;this._liveAdManager.setProgramDateTime(n)}},t.prototype.stopAd=function(){var t;return(null===(t=this._liveAdManager)||void 0===t?void 0:t.stop)?(this._liveAdManager.stop(),this._contentVideoElement&&this._contentVideoElement.removeEventListener("timeupdate",this._onTimeUpdate),e.prototype.stopAd.call(this)):e.prototype.stopAd.call(this)},t}(jG(lV).default);DG.default=VG;var UG=c&&c.__assign||function(){return UG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},UG.apply(this,arguments)},BG=c&&c.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},zG=c&&c.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},GG=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(JF,"__esModule",{value:!0});var qG=ZF.exports,HG=RF,WG=GG(tV),KG=GG(rV),YG=GG(iV),XG=GG(sV),$G=GG(uV),QG=GG(lV),JG=GG(DG),ZG=GG(Kz),eq=function(){function e(e){void 0===e&&(e=null),this._uriParams=e,this._videoScheduleInfo=null,this._schedulePolicy=null,this._loadModuleTimer=-1,this._pendingLoadModulePromise=null,this._client=void 0,this._handshakeVersion=void 0,this._lastRequest=void 0}return e.prototype.setVideoScheduleInfo=function(e){this._videoScheduleInfo=e,this._client=void 0},e.prototype.setAdSchedulePolicy=function(e){this._schedulePolicy=e,this._client=void 0},e.prototype.setLiveAdManagerProps=function(e){this._liveAdManagerProps=e},e.prototype.handshakeVersion=function(e){return BG(this,void 0,void 0,(function(){return zG(this,(function(t){switch(t.label){case 0:if(this._handshakeVersion===e)return[2,this._handshakeVersion];if(WG.default()&&!KG.default())throw new YG.default({message:"This browser doesn't support inline video playback.",code:0});return[4,this._loadScheduleModule()];case 1:if(t.sent(),!("undefined"!=typeof spwp&&void 0!==spwp.GfpVideoAd&&void 0!==spwp.GfpVideoAd.VideoAdScheduleManager&&spwp.GfpVideoAd.VideoAdScheduleManager.prototype.createInitAllAdDisplayContainer&&spwp.GfpVideoAd.VideoAdScheduleManager.prototype.setAdListener&&spwp.GfpVideoAd.VideoAdScheduleManager.prototype.setScheduleEventListener&&spwp.GfpVideoAd.VideoAdScheduleManager.prototype.setVideoQoeListener&&spwp.GfpVideoAd.VideoAdScheduleManager.prototype.onPlayerReady&&spwp.GfpVideoAd.VideoAdScheduleManager.prototype.onPlayerResize&&spwp.GfpVideoAd.VideoAdScheduleManager.prototype.initAdSchedule&&spwp.GfpVideoAd.VideoAdScheduleManager.prototype.resetAdSchedule&&spwp.GfpVideoAd.VideoAdScheduleManager.prototype.setAdRenderingSettings&&spwp.GfpVideoAd.VideoAdScheduleManager.prototype.destroy&&spwp.GfpVideoAd.VideoAdScheduleManager.prototype.setAdSchedulePolicy&&void 0!==spwp.GfpAdError&&void 0!==spwp.GfpAdError.Type&&void 0!==spwp.GfpAdError.Type.AD_PLAY_ERROR&&void 0!==spwp.GfpAdError.Type.AD_LOAD_ERROR&&void 0!==spwp.GfpAdEvent&&void 0!==spwp.GfpAdEvent.Type&&void 0!==spwp.GfpAdEvent.Type.AD_LOAD&&void 0!==spwp.GfpAdEvent.Type.AD_IMPRESSION&&void 0!==spwp.GfpAdEvent.Type.AD_CLICK&&void 0!==spwp.GfpAdEvent.Type.AD_START_READY&&void 0!==spwp.GfpAdEvent.Type.NON_LINEAR_AD_START_READY&&void 0!==spwp.GfpAdEvent.Type.STARTED&&void 0!==spwp.GfpAdEvent.Type.SKIPPED&&void 0!==spwp.GfpAdEvent.Type.COMPLETE&&void 0!==spwp.GfpAdScheduleEvent&&void 0!==spwp.GfpAdScheduleEvent.Type&&void 0!==spwp.GfpAdScheduleEvent.Type.SCHEDULE_LOAD&&void 0!==spwp.GfpAdScheduleEvent.Type.SCHEDULE_COMPLETE&&void 0!==spwp.GfpAdScheduleEvent.Type.SCHEDULE_CONTENT_RESUME_REQUESTED&&void 0!==spwp.GfpAdScheduleEvent.Type.SCHEDULE_CONTENT_PAUSE_REQUESTED&&void 0!==spwp.GfpAdScheduleErrorEvent&&void 0!==spwp.GfpAdScheduleErrorEvent.Type&&void 0!==spwp.GfpAdScheduleErrorEvent.Type.SCHEDULE_ERROR))throw new Error("sdk functionality incompatible");return this._handshakeVersion=e,[2,e]}}))}))},e.prototype.initAd=function(e,t,n,r,i,o){var a,s,u,l,c,d;return BG(this,void 0,void 0,(function(){var r,f,h,p,v,m,g,y,b,_,E,w,S,T,k,x,A,P,O,C,I,L,N,D,R,M,j,F;return zG(this,(function(V){switch(V.label){case 0:if(!o||!i)throw new TypeError("Missing arguments");XG.default(o),r=o.viewSlot,f=o.contentVideoElement,h=o.locale,p=void 0===h?"ko":h,v=i.contentDuration,m=void 0===v?-1:v,g=i.transactionId,y=i.serviceId,b=i.videoId,_=i.live,E=i.vr,w=void 0!==E&&E,S=i.startOffset,T=void 0===S?0:S,k=o["glad.applicationCode"],x=void 0===k?"HTML5_PC":k,A=o["glad.pcmo"],P=void 0===A?"pc":A,O=o["glad.loudnessControl"],C=void 0===O?"N":O,I=o.playerId,L=o.glad,N={};try{N=JSON.parse(L)}catch(e){}return this._lastRequest={videoId:b},D=new qG.UAParser,R=$G.default(D),M={duration:m},T&&(M.contentsStartOffset=T),N.scheduleParam&&Object.assign(M,N.scheduleParam),(null===(a=this._videoScheduleInfo)||void 0===a?void 0:a.scheduleParam)&&Object.assign(M,this._videoScheduleInfo.scheduleParam),j=UG(UG(UG({},N),this._videoScheduleInfo),{playerInfo:UG(UG({playerSize:{width:e,height:t,isFullscreen:n===HG.AdViewModeTypes.FULLSCREEN},videoEl:f,adContainer:r,locale:p},null==N?void 0:N.playerInfo),null===(s=this._videoScheduleInfo)||void 0===s?void 0:s.playerInfo),scheduleParam:M,adRequestParam:UG(UG(UG({},null==N?void 0:N.adRequestParam),null===(u=this._videoScheduleInfo)||void 0===u?void 0:u.adRequestParam),{mediaParams:UG(UG({lo:C,pt:m,ac:x,pcmo:P,vid:b,sid:y,tid:g,wb:R,pid:I,v_media:w?"360":"NA"},null===(l=null==N?void 0:N.adRequestParam)||void 0===l?void 0:l.mediaParams),null===(d=null===(c=this._videoScheduleInfo)||void 0===c?void 0:c.adRequestParam)||void 0===d?void 0:d.mediaParams)})}),3033!==y&&23033!==y||j.adRequestParam.mediaParam.AreaId||(j.adRequestParam.mediaParam.AreaId="search"),j.playerInfo.playerType||(j.playerInfo.playerType=x),[4,ZG.default.getInstance().getDisplayContainerInfo(f)];case 1:return F=V.sent(),this._client=_?new JG.default({parameters:j,schedule:this._schedulePolicy,adDisplayContainerInfo:F,uriParams:this._uriParams,liveAdManagerProps:this._liveAdManagerProps}):new QG.default({parameters:j,schedule:this._schedulePolicy,adDisplayContainerInfo:F,uriParams:this._uriParams}),[2,this._client]}}))}))},e.prototype._loadScheduleModule=function(){var e=this;return"undefined"!=typeof spwp&&void 0!==spwp.GfpVideoAd&&void 0!==spwp.GfpVideoAd.VideoAdScheduleManager?Promise.resolve():this._pendingLoadModulePromise?this._pendingLoadModulePromise:"undefined"==typeof spwp?Promise.reject(new YG.default({message:"glad sdk not loaded",code:0})):(this._pendingLoadModulePromise=new Promise((function(t,n){e._loadModuleTimer=window.setTimeout((function(){e._pendingLoadModulePromise=null,e._loadModuleTimer=-1,n(new YG.default({message:"glad sdk load module timeout",code:0}))}),5e3),spwp.loadVideoScheduleModule((function(){clearTimeout(e._loadModuleTimer),e._pendingLoadModulePromise=null,e._loadModuleTimer=-1,t()}))})),this._pendingLoadModulePromise)},e}();JF.default=eq,ZG.default.getInstance().initialize();var tq={},nq={},rq={};Object.defineProperty(rq,"__esModule",{value:!0}),rq.NLIVECAST_PLAYER_TYPE="LIVE_MW",rq.NLIVECAST_ID="ncast.advertisement",rq.NLIVECAST_EVENT_DELIMITER="^",rq.NLIVECAST_INFO_DELIMITER="#",rq.NLIVECAST_MSG_CONTENTS="contents",rq.NLIVECAST_MSG_SUCCESS_ADS="success_ads",rq.NLIVECAST_MSG_END_ADS="end_ads",rq.NLIVECAST_EVENT_START="start",rq.NLIVECAST_EVENT_IMPRESSION="imp",rq.NLIVECAST_EVENT_CLICK_THROUGH="pcClick",rq.NLIVECAST_EVENT_FIRST_QUARTILE="firstQuartile",rq.NLIVECAST_EVENT_MIDPOINT="midpoint",rq.NLIVECAST_EVENT_THIRD_QUARTILE="thirdQuartile",rq.NLIVECAST_EVENT_VIDEO_COMPLETE="complete",rq.NLIVECAST_EVENT_PROGRESS="progress",rq.NLIVECAST_UI_CLICK_THROUGH="uiClickThrough";var iq={},oq={};Object.defineProperty(oq,"__esModule",{value:!0}),oq.default=function(e){return String.fromCharCode.apply(null,new Uint8Array(e)).trim()};var aq={},sq=c&&c.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(aq,"__esModule",{value:!0});var uq=sq(rq),lq=function(){function e(){}return e.createParser=function(e){return this.parse.bind(this,e.playerType)},e.parse=function(e,t){var n=t.split(uq.NLIVECAST_INFO_DELIMITER),r=n[0],i=void 0===r?"":r,o=n[1];return{event:i,url:(void 0===o?"":o).replace(/{{.plyrId}}/g,e)}},e}();aq.default=lq;var cq={};Object.defineProperty(cq,"__esModule",{value:!0}),cq.default=function(e){return e.startTime};var dq=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iq,"__esModule",{value:!0});var fq=dq(oq),hq=rq,pq=dq(aq),vq=dq(cq),mq=function(){function e(){}return e.parse=function(e,t){void 0===t&&(t=hq.NLIVECAST_PLAYER_TYPE);var n,r=e,i=r.startTime,o=r.endTime,a=r.value.data,s=fq.default(a);if(-1===s.indexOf(hq.NLIVECAST_EVENT_DELIMITER))n=null;else{for(var u=s.split(hq.NLIVECAST_EVENT_DELIMITER),l=u[0],c=u[1],d=u.slice(2),f={},h=0,p=d;h<p.length;h++){var v=p[h],m=pq.default.parse(t,v),g=m.event,y=m.url;f[g]=y}n={startTime:i,endTime:o,tag:l,message:c,trackingData:f,payload:d,handled:!1,time:vq.default(e)}}return n},e}();iq.default=mq;var gq={};Object.defineProperty(gq,"__esModule",{value:!0}),gq.default=function(e){return"metadata"===e.kind&&("id3"===e.label||"com.apple.streaming"===e.inBandMetadataTrackDispatchType)};var yq={},bq={},_q=c&&c.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eq=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bq,"__esModule",{value:!0});var wq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _q(t,e),t}(Eq(jF).default);bq.default=wq;var Sq=c&&c.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Tq=c&&c.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},kq=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yq,"__esModule",{value:!0});var xq=kq(wz),Aq=RF,Pq=rq,Oq=kq(bq),Cq=function(){function e(e){this._contentVideo=e.contentVideo,this._eventDispatcher=new xq.default}return Object.defineProperty(e.prototype,"adLinear",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adSystem",{get:function(){return Pq.NLIVECAST_ID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adWidth",{get:function(){return NaN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adHeight",{get:function(){return NaN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adExpanded",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adSkippableState",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adSkipTimeOffset",{get:function(){return NaN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adTimeOffset",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adRemainingTime",{get:function(){return NaN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adDuration",{get:function(){return NaN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adVolume",{get:function(){return this._contentVideo.volume},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adCompanions",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adIcons",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adCreativeId",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adPodInfo",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adPlacementType",{get:function(){return"mid"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adApiFramework",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"environmentVars",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"live",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.handshakeVersion=function(e){return Sq(this,void 0,void 0,(function(){return Tq(this,(function(t){return[2,e]}))}))},e.prototype.initAd=function(){},e.prototype.resizeAd=function(){},e.prototype.startAd=function(){this._eventDispatcher.dispatchEvent(new Oq.default(Aq.AdEventTypes.ContentPauseRequested)),this._eventDispatcher.dispatchEvent(new Oq.default(Aq.AdEventTypes.AdStarted))},e.prototype.stopAd=function(){},e.prototype.pauseAd=function(){this._contentVideo.pause(),this._eventDispatcher.dispatchEvent(new Oq.default(Aq.AdEventTypes.AdPaused))},e.prototype.resumeAd=function(){var e;this._contentVideo.paused&&(null===(e=this._contentVideo.play())||void 0===e||e.catch(console.error),this._eventDispatcher.dispatchEvent(new Oq.default(Aq.AdEventTypes.AdPlaying)))},e.prototype.expandAd=function(){throw new Error("Method not supported for this ad type.")},e.prototype.collapseAd=function(){throw new Error("Method not supported for this ad type.")},e.prototype.skipAd=function(){throw new Error("Method not supported for this ad type.")},e.prototype.subscribe=function(e,t,n){this._eventDispatcher.addEventListener(t,e)},e.prototype.unsubscribe=function(e,t,n){this._eventDispatcher.removeEventListener(t,e)},e.prototype.clickThrough=function(){this._eventDispatcher.dispatchEvent(new Oq.default(Aq.AdEventTypes.AdClickThru,{detail:{url:"",playerHandles:!1}}))},e}();yq.default=Cq;var Iq={};Object.defineProperty(Iq,"__esModule",{value:!0});var Lq=function(){function e(e){this._listenerObject=e,this.handleEvent=this.handleEvent.bind(this)}return e.prototype.observe=function(e){for(var t=0,n=Object.keys(this._listenerObject);t<n.length;t++){var r=n[t];e.addEventListener(r,this.handleEvent)}},e.prototype.unobserve=function(e){for(var t=0,n=Object.keys(this._listenerObject);t<n.length;t++){var r=n[t];e.removeEventListener(r,this.handleEvent)}},e.prototype.handleEvent=function(e){var t,n;return null===(n=(t=this._listenerObject)[e.type])||void 0===n?void 0:n.call(t,e)},e}();Iq.default=Lq;var Nq={},Dq={};Object.defineProperty(Dq,"__esModule",{value:!0});var Rq=function(){function e(e){this._getValue=e}return e.prototype.scan=function(e,t,n){var r=this,i=[],o=NaN;return e.forEach((function(e,a){o=r._getValue(e),t<=o&&o<=n&&i.push(a)})),i},e}();Dq.default=Rq;var Mq={};Object.defineProperty(Mq,"__esModule",{value:!0});var jq=function(){function e(e){this._getValue=e}return e.prototype.getClosest=function(e,t,n){return n-e>=t-n?1:-1},e.prototype.scan=function(e,t,n){var r=Array.from(e),i=r.length,o=-1,a=(t+n)/2;a<=this._getValue(r[0])&&(o=0),a>=this._getValue(r[i-1])&&(o=i-1);for(var s=[],u=0,l=i,c=0,d=NaN,f=NaN,h=NaN,p=!1,v=!1;-1===o&&u<l;)c=Math.floor((u+l)/2),(d=this._getValue(r[c]))===a?o=c:a<d?(f=this._getValue(r[c-1]),c>0&&a>f?o=-1===this.getClosest(f,d,a)?c-1:c:l=c):(h=this._getValue(r[c+1]),c<i-1&&a<h?o=-1===this.getClosest(d,h,a)?c:c+1:u=c+1);for(-1===o&&(o=c),u=o-1;!p&&u>=0;--u)t<=this._getValue(r[u])?s.unshift(u):p=!0;for(s.push(o),u=o+1;!v&&u<i;++u)this._getValue(r[u])<=n?s.push(u):v=!0;return s},e}();Mq.default=jq;var Fq={},Vq={};Object.defineProperty(Vq,"__esModule",{value:!0}),Vq.default=function(e,t){return t.map((function(t){return e[t]}))};var Uq=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fq,"__esModule",{value:!0});var Bq=Uq(Vq);Fq.default=function(e,t,n,r){return Bq.default(e,r.scan(e,t,n))};var zq=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nq,"__esModule",{value:!0});var Gq=zq(Dq),qq=zq(Mq),Hq=zq(cq),Wq=zq(Fq),Kq=function(){function e(e){void 0===e&&(e=null),this._track=e,this._offset=0,this._opened=!!e,this._scanStrategy=null}return Object.defineProperty(e.prototype,"track",{get:function(){return this._track},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opened",{get:function(){return this._opened},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(e){this._offset=e},enumerable:!0,configurable:!0}),e.prototype.open=function(e){this._track=e,this._offset=0,this._opened=!0},e.prototype.close=function(){this._track=null,this._offset=0,this._opened=!1},e.prototype.read=function(e){var t=this.opened,n=this.track,r=this.offset;if(!t)throw new Error("not opened");if(!n)throw new Error("invalid track");if(e<=0)throw new Error("size cannot be negative or zero");if("disabled"===n.mode&&(n.mode="hidden"),!n.cues)return[];var i=r+e,o=Wq.default(Array.from(n.cues),r,i,this._selectScanStrategy(n.cues.length));return this.offset=i,o},e.prototype._selectScanStrategy=function(t){if(t<e.LINEAR_SCAN_THRESHOLD)null!==this._scanStrategy&&this._scanStrategy instanceof Gq.default||(this._scanStrategy=new Gq.default(Hq.default));else if(null===this._scanStrategy||!(this._scanStrategy instanceof qq.default))return this._scanStrategy=new qq.default(Hq.default),this._scanStrategy;return this._scanStrategy},e.LINEAR_SCAN_THRESHOLD=8,e}();Nq.default=Kq;var Yq={};Object.defineProperty(Yq,"__esModule",{value:!0});var Xq=rq;Yq.default=function(e){var t,n;return"PRIV"===(null===(t=e.value)||void 0===t?void 0:t.key)&&(null===(n=e.value)||void 0===n?void 0:n.info)===Xq.NLIVECAST_ID&&!!e.value.data};var $q={};Object.defineProperty($q,"__esModule",{value:!0}),$q.default=function(e){return null!==e};var Qq={};Object.defineProperty(Qq,"__esModule",{value:!0}),Qq.default=function(e,t){var n=0,r=!1,i=function(t,r){n=t,e.apply(void 0,r)};return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var a=Date.now(),s=t-(a-n);s<=0?i(a,e):r||(r=!0,setTimeout((function(){i(a,e),r=!1}),s))}};var Jq={},Zq=c&&c.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eH=c&&c.__assign||function(){return eH=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},eH.apply(this,arguments)},tH=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jq,"__esModule",{value:!0});var nH,rH=tH(wz),iH=tH(jF),oH=tH(cq),aH=rq;!function(e){e.ENTER="enter",e.LEAVE="leave",e.STARVED="starved",e.LOG="log"}(nH||(nH={}));var sH=function(e){function t(){var t=e.call(this)||this;return t.currentTime=0,t.chunks=[],t}return Zq(t,e),t.prototype.moveTo=function(e){this._checkStarvedOrEndedChunks(),this._checkCurrentAd(),this.currentTime=e},t.prototype.put=function(e){var t=this;if(e.message===aH.NLIVECAST_MSG_SUCCESS_ADS&&e.trackingData.imp){var n=this.findTimelineChunkByImpressionUrl(e.trackingData.imp);n?this._updateChunk(n,e):(e.trackingData.start,this._putTimeRange(e))}else if(e.message===aH.NLIVECAST_MSG_END_ADS){if(0===this.chunks.length)return;var r=this.getCurrentChunk();if(null===r&&null===(r=this.chunks.reduce((function(e,n){return null===e||n.endTime<e.endTime&&n.endTime<t.currentTime?n:e}),null)))return;if(r.endTime===this.currentTime)return;r.ended||(r.endTime=oH.default(e),r.ended=!0)}},t.prototype.findTimelineChunkByImpressionUrl=function(e){return this.chunks.find((function(t){return t.trackingData.imp===e}))||null},t.prototype.getCurrentChunk=function(){var e=this;return this.chunks.find((function(t){return t.beginTime<=e.currentTime&&e.currentTime<=t.endTime}))||null},t.prototype._checkStarvedOrEndedChunks=function(){var e=this,n=this.chunks.map((function(n){var r=n.ended?t.CHUNK_ENDED_PERSIST_TIME_SEC:t.CHUNK_EXPIRATION_TIME_SEC;return e.currentTime-n.endTime>r||n.beginTime-e.currentTime>r}));if(!n.every((function(e){return!1===e}))){for(var r=[],i=[],o=0;o<n.length;++o)n[o]?r.push(this.chunks[o]):i.push(this.chunks[o]);this.chunks=i,r.forEach((function(t){t.ended?e.dispatchEvent(new iH.default(nH.LEAVE,{detail:t})):e.dispatchEvent(new iH.default(nH.STARVED,{detail:t}))}))}},t.prototype._checkCurrentAd=function(){var e=this.getCurrentChunk();if(!e){if(1!==this.chunks.length)return;e=this.chunks[0]}!1===e.enter&&(e.enter=!0,this.dispatchEvent(new iH.default(nH.ENTER,{detail:e})))},t.prototype._putTimeRange=function(e){var t={beginTime:e.time,endTime:e.time,trackingData:eH({},e.trackingData),enter:!1,ended:!1},n=this.chunks.findIndex((function(e){return t.beginTime<e.beginTime}));n>-1?this.chunks.splice(n,0,t):this.chunks.push(t)},t.prototype._updateChunk=function(e,t){var n,r;t.time<e.beginTime&&(e.beginTime=t.time),e.endTime<t.time&&(e.endTime=t.time),e.ended=!1;for(var i=0,o=Object.keys(t.trackingData);i<o.length;i++){var a=o[i];if(""===t.trackingData[a]){var s=null===(r=null===(n=e.trackingData)||void 0===n?void 0:n[a])||void 0===r?void 0:r.length;void 0!==s&&s>0&&this.dispatchEvent(new iH.default(nH.LOG,{detail:{event:a,url:e.trackingData[a]}}))}}e.trackingData=eH(eH({},e.trackingData),t.trackingData)},t.CHUNK_EXPIRATION_TIME_SEC=2,t.CHUNK_ENDED_PERSIST_TIME_SEC=.5,t.Event={Types:nH},t}(rH.default);Jq.default=sH;var uH=c&&c.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},lH=c&&c.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},cH=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},dH=c&&c.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(nq,"__esModule",{value:!0});var fH=RF,hH=cH(wz),pH=dH(rq),vH=cH(iq),mH=cH(gq),gH=cH(yq),yH=cH(jF),bH=cH(Iq),_H=cH(Nq),EH=cH(Yq),wH=cH($q),SH=cH(Qq),TH=cH(Jq),kH=cH(bq),xH=function(){function e(e){var t=this;this._bubbleEvent=function(e){if(t._evtDispatcher.dispatchEvent(e),e instanceof kH.default&&e.type===fH.AdEventTypes.AdClickThru){var n=t._timeline.chunks[0];if(n&&n.trackingData.pcClick)try{var r=document.createElement("a");r.rel="noopener",r.href=n.trackingData.pcClick,r.target="_blank",r.click()}catch(e){window.open(n.trackingData.pcClick,"_blank")}}},this._onAdEnter=function(e){var n,r=null===(n=e.detail)||void 0===n?void 0:n.trackingData;(null==r?void 0:r.start)&&t._sendTracking(r.start,"start"),r.imp&&t._sendTracking(r.imp,"imp"),1===t._timeline.chunks.length&&t._initAdObject()},this._onAdLeave=function(e){0===t._timeline.chunks.length&&t._stopCurrentAdImmediately()},this._onAdLog=function(e){var n=e.detail;if(n){var r=n.event,i=n.url;t._sendTracking(i,r)}},this._onMediaTimeUpdate=SH.default(this._onMediaTimeUpdate.bind(this),250),this._linearAdClient=e.linearAdClient,this._playerType=e.playerType,this._evtDispatcher=new hH.default,this._reader=new _H.default,this._timeline=new TH.default,this._mediaObserver=new bH.default({loadeddata:this._onMediaLoadedData.bind(this),timeupdate:this._onMediaTimeUpdate.bind(this),playing:this._onMediaPlaying.bind(this),seeking:this._onMediaSeeking.bind(this),seeked:this._onMediaSeeked.bind(this),abort:this._onMediaAbort.bind(this),ended:this._onMediaEnded.bind(this)}),this._timeline.addEventListener(TH.default.Event.Types.ENTER,this._onAdEnter),this._timeline.addEventListener(TH.default.Event.Types.LEAVE,this._onAdLeave),this._timeline.addEventListener(TH.default.Event.Types.STARVED,this._onAdLeave),this._timeline.addEventListener(TH.default.Event.Types.LOG,this._onAdLog),this._ended=!1,this._uiElements=e.uiElements,this._videoElement=null,this._currentAd=null,this._playedAtLeastOnce=!1,this._cachedTime=NaN}return Object.defineProperty(e.prototype,"currentAd",{get:function(){var e;return(null===(e=this._linearAdClient)||void 0===e?void 0:e.currentAd)?this._linearAdClient.currentAd:this._currentAd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonLinearAds",{get:function(){var e,t;return null!==(t=null===(e=this._linearAdClient)||void 0===e?void 0:e.nonLinearAds)&&void 0!==t?t:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cuePoints",{get:function(){var e,t;return null!==(t=null===(e=this._linearAdClient)||void 0===e?void 0:e.cuePoints)&&void 0!==t?t:null},enumerable:!0,configurable:!0}),e.prototype.tryUnlockUserGesture=function(){var e,t;return uH(this,void 0,void 0,(function(){return lH(this,(function(n){return[2,null===(t=null===(e=this._linearAdClient)||void 0===e?void 0:e.tryUnlockUserGesture)||void 0===t?void 0:t.call(e)]}))}))},e.prototype.contentComplete=function(){var e,t;return uH(this,void 0,void 0,(function(){return lH(this,(function(n){return[2,null===(t=null===(e=this._linearAdClient)||void 0===e?void 0:e.contentComplete)||void 0===t?void 0:t.call(e)]}))}))},e.prototype.initAd=function(e,t,n,r,i,o){return uH(this,void 0,void 0,(function(){var a;return lH(this,(function(s){switch(s.label){case 0:return a=null==o?void 0:o.contentVideoElement,null==o||o.contentVideoElement,null==o||o["nlivecast.uiElements"],this._videoElement=a,this._linearAdClient?(this._proxyWrappedClientEvents(this._linearAdClient),[4,this._linearAdClient.initAd(e,t,n,r,i,o)]):[2];case 1:return s.sent(),[2]}}))}))},e.prototype.startAd=function(e,t,n,r,i,o){var a,s;return uH(this,void 0,void 0,(function(){return lH(this,(function(u){switch(u.label){case 0:return[4,null===(s=null===(a=this._linearAdClient)||void 0===a?void 0:a.startAd)||void 0===s?void 0:s.call(a,e,t,n,r,i,o)];case 1:return u.sent(),this._videoElement&&this._mediaObserver.observe(this._videoElement),[2]}}))}))},e.prototype.stopAd=function(){var e,t;return uH(this,void 0,void 0,(function(){return lH(this,(function(n){switch(n.label){case 0:return[4,null===(t=null===(e=this._linearAdClient)||void 0===e?void 0:e.stopAd)||void 0===t?void 0:t.call(e)];case 1:return n.sent(),this._videoElement?(this._reader.close(),this._mediaObserver.unobserve(this._videoElement),[2]):[2]}}))}))},e.prototype.addEventListener=function(e,t,n){return this._evtDispatcher.addEventListener(e,t,n)},e.prototype.dispatchEvent=function(e){return this._evtDispatcher.dispatchEvent(e)},e.prototype.removeEventListener=function(e,t,n){return this._evtDispatcher.removeEventListener(e,t,n)},e.prototype._proxyWrappedClientEvents=function(e){var t=this;fH.AdEventTypesList.forEach((function(n){e.addEventListener(n,t._bubbleEvent)}))},e.prototype._setupReader=function(){if(this._videoElement){var e=Array.from(this._videoElement.textTracks).filter(mH.default);e.forEach((function(e){e.mode="hidden"}));var t=e.find((function(e){return Array.prototype.findIndex.call(e.cues,EH.default)>=-1}));t&&this._reader.open(t)}},e.prototype._initAdObject=function(){this._currentAd||(this._currentAd=new gH.default({contentVideo:this._videoElement}),this._currentAd.subscribe(this._bubbleEvent,fH.AdEventTypes.AdClickThru),this._currentAd.subscribe(this._bubbleEvent,fH.AdEventTypes.ContentPauseRequested),this._currentAd.subscribe(this._bubbleEvent,fH.AdEventTypes.AdStarted),this._evtDispatcher.dispatchEvent(new yH.default(fH.AdEventTypes.AdBreakReady)))},e.prototype._stopCurrentAdImmediately=function(){this._currentAd&&(this._evtDispatcher.dispatchEvent(new yH.default(fH.AdEventTypes.AdStopped)),this._evtDispatcher.dispatchEvent(new yH.default(fH.AdEventTypes.ContentResumeRequested)),this._currentAd.unsubscribe(this._bubbleEvent,fH.AdEventTypes.AdClickThru),this._currentAd.unsubscribe(this._bubbleEvent,fH.AdEventTypes.ContentPauseRequested),this._currentAd.unsubscribe(this._bubbleEvent,fH.AdEventTypes.AdStarted),this._currentAd=null)},e.prototype._sendTracking=function(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.send(null)},e.prototype._read=function(e){var t=this;if(this._playedAtLeastOnce&&!(e<=0)){var n=this._reader.offset+e,r=this._ended?[]:this._reader.read(e);if(0!==r.length){for(var i=0,o=r.filter(EH.default).map((function(e){return vH.default.parse(e,t._playerType)})).filter(wH.default);i<o.length;i++){var a=o[i];this._timeline.put(a)}this._timeline.moveTo(n)}else this._timeline.moveTo(n)}},e.prototype._setMediaTime=function(){if(this._videoElement){var e=this._videoElement.currentTime;this._reader.offset=e,this._timeline.currentTime=e}},e.prototype._onMediaPlaying=function(){this._ended=!1,this._playedAtLeastOnce||(this._setupReader(),this._playedAtLeastOnce=!0,this._cachedTime=this._videoElement.currentTime),AH(this._cachedTime,this._videoElement.currentTime)||this._setMediaTime()},e.prototype._onMediaSeeked=function(){this._cachedTime=this._videoElement.currentTime,this._setMediaTime(),this._timeline.moveTo(this._reader.offset)},e.prototype._onMediaCanPlay=function(){},e.prototype._onMediaLoadedData=function(){this._playedAtLeastOnce=!1},e.prototype._onMediaAbort=function(){this._playedAtLeastOnce=!1},e.prototype._onMediaEnded=function(){this._ended=!0},e.prototype._onMediaSeeking=function(){this._cachedTime=this._videoElement.currentTime,this._setMediaTime()},e.prototype._onMediaTimeUpdate=function(){var e=this._videoElement.currentTime;AH(this._cachedTime,e)||(this._cachedTime=e,this._read(e-this._reader.offset))},e.Constants=pH,e}();function AH(e,t){return isFinite(e)&&t<e&&t<1}nq.default=xH;var PH=c&&c.__assign||function(){return PH=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},PH.apply(this,arguments)},OH=c&&c.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},CH=c&&c.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},IH=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},LH=c&&c.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(tq,"__esModule",{value:!0});var NH=IH(nq),DH=LH(rq),RH=function(){function e(e){this._init=PH({playerType:DH.NLIVECAST_PLAYER_TYPE,uiElements:[DH.NLIVECAST_UI_CLICK_THROUGH]},e)}return e.prototype.handshakeVersion=function(){return OH(this,void 0,void 0,(function(){return CH(this,(function(e){return[2,"1"]}))}))},e.prototype.initAd=function(e,t,n,r,i,o){var a,s;return OH(this,void 0,void 0,(function(){var u,l,c,d;return CH(this,(function(f){switch(f.label){case 0:if(!(null==o?void 0:o.contentVideoElement))throw new Error("contentVideoElement is not defined");if(!(null==o?void 0:o.viewSlot))throw new Error("viewSlot is not defined");f.label=1;case 1:return f.trys.push([1,3,,4]),[4,null===(s=null===(a=this._init.linearAdRequest)||void 0===a?void 0:a.initAd)||void 0===s?void 0:s.call(a,e,t,n,r,i,o)];case 2:return u=f.sent(),[3,4];case 3:return f.sent(),[3,4];case 4:return l=this._init,c=l.playerType,d=l.uiElements,[2,new NH.default({linearAdClient:u,playerType:c,uiElements:d})]}}))}))},e.Constants=DH,e}();tq.default=RH;var MH={},jH={},FH=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jH,"__esModule",{value:!0});var VH=FH(oG),UH=function(){function e(){this._factories=new Map}return e.prototype.define=function(e,t){return!this._factories.has(e)&&(this._factories.set(e,t),!0)},e.prototype.create=function(e){var t=VH.default(e),n=this._factories.get(t.protocol);return n?n(e):null},e}();jH.default=UH;var BH={};Object.defineProperty(BH,"__esModule",{value:!0});var zH=cV;BH.default=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new zH.Observable((function(n){function r(e){n.next(e)}for(var i=0,o=t;i<o.length;i++){var a=o[i];e.addEventListener(a,r)}n.add((function(){for(var n=0,i=t;n<i.length;n++){var o=i[n];e.removeEventListener(o,r)}}))}))};var GH=c&&c.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qH=c&&c.__assign||function(){return qH=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qH.apply(this,arguments)},HH=c&&c.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},WH=c&&c.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},KH=c&&c.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},YH=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(MH,"__esModule",{value:!0});var XH=YH(Yz),$H=YH(jH),QH=YH(YF),JH=YH(jF),ZH=YH(wz),eW=RF,tW=YH(BH);MH._hasLinearAd=function(e){var t;return!0===(null===(t=e.currentAd)||void 0===t?void 0:t.adLinear)},MH._getAdEnded=function(e){return tW.default(e,eW.AdEventTypes.AdSkipped,eW.AdEventTypes.AdStopped,eW.AdEventTypes.AdError)};var nW=function(e){function t(t,n,r){void 0===r&&(r=XH.default.getDefaultInstance());var i=e.call(this)||this;return i._onBubbleEvent=function(e){i.dispatchEvent(e)},i._adsPlayerMgr=r,i.contentVideoElement=n,i.viewSlot=null,i.videoSlot=t,i.companionSlots=[],i._client=null,i._srcObject=null,i._adClientSubscriptions=[],i._willAutoPlay=null,i._env={},i._srcUri="",i}return GH(t,e),t.registerAdsSourceFactory=function(e,t){if(!this._adsSourceRegistry.define(e,t))throw new Error("Failed to register adsSourceFactory of "+e)},t.prototype.handshakeVersion=function(e){var t;return HH(this,void 0,void 0,(function(){return WH(this,(function(n){return[2,(null===(t=this._srcObject)||void 0===t?void 0:t.handshakeVersion(e))||""]}))}))},t.prototype.initAd=function(e,t,n,r,i,o){return HH(this,void 0,void 0,(function(){var a,s,u;return WH(this,(function(l){switch(l.label){case 0:if(!this._srcObject)return[2];l.label=1;case 1:return l.trys.push([1,5,,6]),a=qH(qH(qH({},this._env),o),{viewSlot:this.viewSlot,contentVideoElement:this.contentVideoElement}),[4,this._srcObject.handshakeVersion("*")];case 2:return l.sent(),s=this,[4,this._srcObject.initAd(e,t,n,r,qH({},i),a)];case 3:return s._client=l.sent(),this._initClientObservables(this._client),[4,this._client.initAd(e,t,n,r,i,a)];case 4:return l.sent(),this.dispatchEvent(new JH.default(eW.AdEventTypes.AdMetadata)),[3,6];case 5:return u=l.sent(),this.dispatchEvent(new QH.default(eW.AdEventTypes.AdError,{error:u})),[3,6];case 6:return[2]}}))}))},t.prototype.startAd=function(e,t,n,r,i,o){var a;return HH(this,void 0,void 0,(function(){return WH(this,(function(s){switch(s.label){case 0:if(!this._client)throw new Error("Ads is not initialized");return[4,null===(a=this._client)||void 0===a?void 0:a.startAd(e,t,n,r,i,o)];case 1:return s.sent(),[2]}}))}))},t.prototype.stopAd=function(){return HH(this,void 0,void 0,(function(){return WH(this,(function(e){return this._disposeClient(),[2]}))}))},t.prototype.pauseAd=function(){var e,t;return HH(this,void 0,void 0,(function(){return WH(this,(function(n){switch(n.label){case 0:return[4,null===(t=null===(e=this._client)||void 0===e?void 0:e.currentAd)||void 0===t?void 0:t.pauseAd()];case 1:return n.sent(),[2]}}))}))},t.prototype.resumeAd=function(){var e,t;return HH(this,void 0,void 0,(function(){return WH(this,(function(n){switch(n.label){case 0:return[4,null===(t=null===(e=this._client)||void 0===e?void 0:e.currentAd)||void 0===t?void 0:t.resumeAd()];case 1:return n.sent(),[2]}}))}))},t.prototype.skipAd=function(){var e,t;return HH(this,void 0,void 0,(function(){return WH(this,(function(n){switch(n.label){case 0:return[4,null===(t=null===(e=this._client)||void 0===e?void 0:e.currentAd)||void 0===t?void 0:t.skipAd()];case 1:return n.sent(),[2]}}))}))},t.prototype.expandAd=function(){var e,t;return HH(this,void 0,void 0,(function(){return WH(this,(function(n){switch(n.label){case 0:return[4,null===(t=null===(e=this._client)||void 0===e?void 0:e.currentAd)||void 0===t?void 0:t.expandAd()];case 1:return n.sent(),[2]}}))}))},t.prototype.collapseAd=function(){var e,t;return HH(this,void 0,void 0,(function(){return WH(this,(function(n){switch(n.label){case 0:return[4,null===(t=null===(e=this._client)||void 0===e?void 0:e.currentAd)||void 0===t?void 0:t.collapseAd()];case 1:return n.sent(),[2]}}))}))},t.prototype.resizeAd=function(e,t,n){var r,i;return HH(this,void 0,void 0,(function(){return WH(this,(function(o){switch(o.label){case 0:return[4,null===(i=null===(r=this._client)||void 0===r?void 0:r.currentAd)||void 0===i?void 0:i.resizeAd(e,t,n)];case 1:return o.sent(),[2]}}))}))},t.prototype.subscribe=function(e,t){this.addEventListener(t,e)},t.prototype.unsubscribe=function(e,t){this.removeEventListener(t,e)},t.prototype.tryUnlockUserGesture=function(){var e;return HH(this,void 0,void 0,(function(){return WH(this,(function(t){switch(t.label){case 0:return[4,null===(e=this._client)||void 0===e?void 0:e.tryUnlockUserGesture()];case 1:return t.sent(),[4,this._adsPlayerMgr.invokeHook(this,"tryUnlockUserGesture")];case 2:return t.sent(),[2]}}))}))},t.prototype.contentComplete=function(){var e;return HH(this,void 0,void 0,(function(){return WH(this,(function(t){switch(t.label){case 0:return[4,null===(e=this._client)||void 0===e?void 0:e.contentComplete()];case 1:return t.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"adWillAutoPlay",{get:function(){return this._willAutoPlay},set:function(e){this._willAutoPlay=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentAd",{get:function(){var e;return(null===(e=this._client)||void 0===e?void 0:e.currentAd)||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonLinearAds",{get:function(){var e,t;return null!==(t=null===(e=this._client)||void 0===e?void 0:e.nonLinearAds)&&void 0!==t?t:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cuePoints",{get:function(){var e,t;return null!==(t=null===(e=this._client)||void 0===e?void 0:e.cuePoints)&&void 0!==t?t:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){this._srcUri="",this._attachSourceObject(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return this._srcUri},set:function(e){this._srcUri=e,this._attachSourceObject(t._adsSourceRegistry.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"environmentVars",{get:function(){return JSON.parse(JSON.stringify(this._env))},set:function(e){this._env=JSON.parse(JSON.stringify(e))},enumerable:!0,configurable:!0}),t.prototype._attachSourceObject=function(e){this._srcObject!==e&&(this._disposeClient(),this._srcObject=e)},t.prototype._initClientObservables=function(e){for(var t;this._adClientSubscriptions.length;)null===(t=this._adClientSubscriptions.shift())||void 0===t||t.unsubscribe();var n=tW.default.apply(void 0,KH([e],eW.AdEventTypesList)).subscribe(this._onBubbleEvent);this._adClientSubscriptions.push(n)},t.prototype._disposeClient=function(){var e,t;for(null===(e=this._client)||void 0===e||e.stopAd();this._adClientSubscriptions.length;)null===(t=this._adClientSubscriptions.shift())||void 0===t||t.unsubscribe();this._client=null},t._adsSourceRegistry=new $H.default,t}(ZH.default);MH.default=nW;var rW={},iW=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rW,"__esModule",{value:!0});var oW=iW(JF);rW.default=function(e){return new oW.default(e)},function(e){function t(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),t(RF),t(MF);var n=jF;e.AdEvent=n.default;var r=qF;e.AdControlEvent=r.default;var i=YF;e.AdErrorEvent=i.default;var o=JF;e.GLADRequest=o.default;var a=tq;e.NLiveCastAdRequest=a.default;var s=yq;e.NLiveCastAd=s.default;var u=MH;e.default=u.default;var l=rW;e.GLADRequestFactory=l.default}(DF);var aW=d(DF),sW={},uW={};!function(e){var t=c&&c.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.logDimensions=void 0,e.logDimensions=Symbol();var n=function(){function n(e){this._monitor=e.monitor,this._logOpts=new WeakMap,this._objectOwnerships=new WeakMap,this._objectDependenciesMap=new WeakMap}return n.prototype.init=function(e,t){var n;void 0===t&&(t={}),this._logOpts.set(e,{dimensions:null!==(n=t.dimensions)&&void 0!==n?n:{}})},n.prototype.aggregate=function(e,t){var n=this;return this._monitor.aggregate(e,t,t.map((function(e){var t;return null===(t=n._logOpts.get(e))||void 0===t?void 0:t.dimensions})),(function(e){return n.aggregate(e,t)}))},n.prototype.mark=function(n,r,i){var o,a=this,s=this._findOwnerAndOptions(n);if(s){for(var u,l,c=s[0],d=s[1],f=t({},d.dimensions),h=new Set,p=[c];u=p.shift();)h.has(u)||(h.add(u),l=u,e.logDimensions in l&&Object.assign(f,u[e.logDimensions]),null===(o=this._objectDependenciesMap.get(u))||void 0===o||o.forEach((function(e){p.push(e)})));this._monitor.emit({timestamp:Date.now(),origin:c,markName:r,dimensionGetters:f,logParams:i,aggregate:function(e){return a.aggregate(e,[c])}})}},n.prototype.setOwnership=function(e,t){var n=this._objectOwnerships.get(e);if(n){var r=new Set(this._objectDependenciesMap.get(n));r.delete(e),this._objectDependenciesMap.set(n,r)}t?(this._objectOwnerships.set(e,t),this._objectDependenciesMap.set(t,new Set(this._objectDependenciesMap.get(t)).add(e))):this._objectOwnerships.delete(e)},n.prototype._findOwnerAndOptions=function(e){for(var t,n=e;n;){if(t=this._logOpts.get(n))return[n,t];n=this._objectOwnerships.get(n)}},n}();e.default=n}(uW);var lW={},cW={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.METRIC_METADATA_ANNOTATION=void 0,e.METRIC_METADATA_ANNOTATION=Symbol("@@metricDefinition");var t=function(){function t(){}return t.metadata=function(t){return function(n){if(Object.hasOwnProperty.call(n,e.METRIC_METADATA_ANNOTATION))throw new Error("This class already have metric definition");return Object.defineProperty(n,e.METRIC_METADATA_ANNOTATION,{value:t,enumerable:!1,writable:!1,configurable:!1}),n}},t.getMetadata=function(t){if(!t[e.METRIC_METADATA_ANNOTATION])throw new Error("Metric metadata is not defined");return t[e.METRIC_METADATA_ANNOTATION]},t}();e.default=t}(cW);var dW=c&&c.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},fW=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lW,"__esModule",{value:!0});var hW=fW(cW),pW=function(){function e(e){if(this._activeMetrics=new WeakMap,this._metricMetadataInitMap=new Map,null==e?void 0:e.metricsClasses)for(var t=0,n=e.metricsClasses;t<n.length;t++){var r=n[t];try{this.register(r)}catch(e){}}}return e.prototype.register=function(e){var t=hW.default.getMetadata(e);this._metricMetadataInitMap.set(t.id,{metricClass:e,metadata:t})},e.prototype.aggregate=function(e,t,n,r){var i=this,o=this._metricMetadataInitMap.get(e);if(!o)return null;var a=t.map((function(e,t){return i._getDimensionsFromOriginForMetric(e,n[t],o.metadata)})),s=t.map((function(e){return i._activeMetrics.get(e)})).reduce((function(t,n){if(!n)return t;var r=n.get(e);return r?dW(dW([],t),[r]):t}),[]);return o.metricClass.aggregate(s,a,r)},e.prototype.emit=function(e){var t=e.origin,n=e.timestamp,r=e.dimensionGetters,i=e.markName,o=e.logParams,a=e.aggregate,s=[];if(this._metricMetadataInitMap.forEach((function(e){e.metadata.filter.test(i)&&s.push(e)})),0!==s.length){var u=this._activeMetrics.get(t);u||(u=new Map,this._activeMetrics.set(t,u));for(var l=0,c=s;l<c.length;l++){var d=c[l],f={timestamp:n,parameters:o,dimensions:{}};try{f.dimensions=this._getDimensionsFromOriginForMetric(t,r,d.metadata)}catch(e){continue}try{(u.get(d.metadata.id)||this._createMetricProcessorAndUpdateMap(u,d.metadata.id,d.metricClass)).update({mark:i,payload:f},a)}catch(e){}}}},e.prototype._createMetricProcessorAndUpdateMap=function(e,t,n){var r=Object.create(n.prototype);return n.apply(r),e.set(t,r),r},e.prototype._getDimensionsFromOriginForMetric=function(e,t,n){if(!t)return{};for(var r={},i=0,o=n.dimensions;i<o.length;i++){var a=o[i];t[a]&&(r[a]=t[a].call(e))}return r},e}();lW.default=pW;var vW={},mW=c&&c.__assign||function(){return mW=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mW.apply(this,arguments)},gW=c&&c.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},yW=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vW,"__esModule",{value:!0});var bW=yW(cW),_W={sid:NaN,vid:"",tid:"",u:"",inout:"in",os:null,osv:null},EW=function(){function e(){}return e.prototype.update=function(e,t){var n=e.mark,r=e.payload.dimensions;switch(n){case"mediaProvider.request.ok":var i=r.sid,o=r.vid,a=r.tid,s=r.u,u=r.inout,l=r.os,c=r.osv,d=r.device,f=r.deviceType;this._data=mW(mW({},this._data),{sid:i,vid:o,tid:a,u:s,inout:u,os:l,osv:c,d:d,pt:f});break;case"player.event.playing":var h=r.volume,p=r.playerVersion,v=r.muted;this._data=mW(mW({},this._data),{vo:v?0:100*h,pv:p})}},e.aggregate=function(e){return e.reduce((function(e,t){return mW(mW({},e),t._data)}),_W)},gW([bW.default.metadata({id:"pc",filter:/(player\.event\.playing|mediaProvider\.request\.ok).*/,dimensions:["volume","muted","vid","sid","tid","u","inout","os","osv","device","deviceType","playerVersion"]})],e)}();vW.default=EW;var wW={};function SW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TW(Object(n),!0).forEach((function(t){SW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xW(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var AW="function"==typeof Symbol&&Symbol.observable||"@@observable",PW=function(){return Math.random().toString(36).substring(7).split("").join(".")},OW={INIT:"@@redux/INIT"+PW(),REPLACE:"@@redux/REPLACE"+PW(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+PW()}};function CW(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(xW(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(xW(1));return n(CW)(e,t)}if("function"!=typeof e)throw new Error(xW(2));var i=e,o=t,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function c(){if(u)throw new Error(xW(3));return o}function d(e){if("function"!=typeof e)throw new Error(xW(4));if(u)throw new Error(xW(5));var t=!0;return l(),s.push(e),function(){if(t){if(u)throw new Error(xW(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),a=null}}}function f(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(xW(7));if(void 0===e.type)throw new Error(xW(8));if(u)throw new Error(xW(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++)(0,t[n])();return e}return f({type:OW.INIT}),(r={dispatch:f,subscribe:d,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error(xW(10));i=e,f({type:OW.REPLACE})}})[AW]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(xW(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[AW]=function(){return this},e},r}function IW(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:OW.INIT}))throw new Error(xW(12));if(void 0===n(void 0,{type:OW.PROBE_UNKNOWN_ACTION()}))throw new Error(xW(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],l=n[u],c=e[u],d=l(c,t);if(void 0===d)throw t&&t.type,new Error(xW(14));i[u]=d,r=r||d!==c}return(r=r||a.length!==Object.keys(e).length)?i:e}}function LW(e,t){return function(){return t(e.apply(this,arguments))}}function NW(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function DW(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(xW(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=NW.apply(void 0,o)(n.dispatch),kW(kW({},n),{},{dispatch:r})}}}var RW=Object.freeze({__proto__:null,__DO_NOT_USE__ActionTypes:OW,applyMiddleware:DW,bindActionCreators:function(e,t){if("function"==typeof e)return LW(e,t);if("object"!=typeof e||null===e)throw new Error(xW(16));var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=LW(i,t))}return n},combineReducers:IW,compose:NW,createStore:CW}),MW=f(RW),jW={};Object.defineProperty(jW,"__esModule",{value:!0}),jW.default=function(e){void 0===e&&(e=new Date);var t=e.toString().split(" ");return t[2]+"/"+t[1]+"/"+t[3]+":"+t[4]};var FW={},VW={};Object.defineProperty(VW,"__esModule",{value:!0}),VW.default=function(e){switch(e){case"PD":return 1;case"HLS":case"HLS-TEMPLATE":case"DASH":return 3;default:return 0}};var UW={};Object.defineProperty(UW,"__esModule",{value:!0}),UW.default=function(e){var t=(""+e).match(/^https?:\/\/([a-z.:\d-]+)(?:\/|$)/);return t?t[1]:null};var BW={};Object.defineProperty(BW,"__esModule",{value:!0});var zW=/.*naver\.(net|com).*/,GW=/.*smartmediarep\.com.*/;BW.default=function(e){return GW.test(e)?"SMR":(zW.test(e),"NAVER")};var qW={};Object.defineProperty(qW,"__esModule",{value:!0}),qW.default=function(e){return Number(e)<2e3?2:1};var HW=c&&c.__assign||function(){return HW=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},HW.apply(this,arguments)},WW=c&&c.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},KW=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(FW,"__esModule",{value:!0});var YW=KW(VW),XW=KW(UW),$W=KW(BW),QW=KW(qW),JW={};FW.default=function(e,t){var n,r,i,o,a,s,u,l,c;switch(void 0===e&&(e=JW),t.type){case"player.event.loadedmetadata":var d=t.payload.dimensions,f=d.encodingOptionID,h=d.playerVersion,p=d.duration,v=d.videoStreamingType,m=d.volume,g=d.muted,y=d.currentSrc,b=(1e3*(p||0)).toString(),_=null!==(i=null===(n=e.ql)||void 0===n?void 0:n[(null===(r=e.ql)||void 0===r?void 0:r.length)-1])&&void 0!==i?i:{};return HW(HW({},e),{pv:h,ql:[HW({q:f,bc:0,bt:0,wt:0,sp:[],qit:0,du:b},_)],du:b,prtc:YW.default(v),lv:1,ns:0,vo:g?0:Math.round(100*m),cdn:XW.default(y),vd:$W.default(y)});case"player.event.seeked":if(!e.ql||0===e.ql.length)return e;_=Object.assign({},e.ql[e.ql.length-1]);var E=t.payload.dimensions.currentTime;return HW(HW({},e),{ql:WW(WW([],e.ql.slice(0,e.ql.length-1)),[HW(HW({},_),{sp:_.sp.concat(E)})])});case"player.event.seeking":return e.ql&&0!==e.ql.length?(E=t.payload.dimensions.currentTime,HW(HW({},e),{__lastWatchedTime:E})):e;case"player.event.timeupdate":if(!e.ql||0===e.ql.length)return e;var w=Object.assign({},e.ql[e.ql.length-1]),S=e.__lastWatchedTime||0,T=t.payload.dimensions,k=1e3*((E=T.currentTime)-S||0),x=k>500*T.playbackRate||k<0?0:k;return HW(HW({},e),{ql:WW(WW([],e.ql.slice(0,e.ql.length-1)),[HW(HW({},w),!1===t.payload.dimensions.seeking&&{wt:(w.wt||0)+x})]),__lastWatchedTime:E});case"player.event.waiting":return!e.ql||0===e.ql.length||t.payload.dimensions.readyState<=1?e:(_=Object.assign({},e.ql[e.ql.length-1]),HW(HW(HW({},e),{ql:WW(WW([],e.ql.slice(0,e.ql.length-1)),[HW(HW({},_),{bc:(_.bc||0)+1})])}),void 0===e.__waitingTimeStamp&&{__waitingTimeStamp:t.payload.timestamp}));case"player.event.canplay":if(!e.ql||0===e.ql.length)return e;var A=e.__waitingTimeStamp;return A?(_=Object.assign({},e.ql[e.ql.length-1]),(H=HW(HW({},e),{ql:WW(WW([],e.ql.slice(0,e.ql.length-1)),[HW(HW({},_),{bt:(_.bt||0)+(t.payload.timestamp-A)})])})).__waitingTimeStamp=void 0,H):e;case"player.event.onVideoTrackChange":var P=e.ql,O=t.payload.dimensions,C=(f=O.encodingOptionID,p=O.duration,v=O.videoStreamingType,y=O.currentSrc,{q:f,bc:0,bt:0,wt:0,sp:[],du:(1e3*(p||0)).toString()});return HW(HW({},e),{ql:P?WW(WW([],P),[C]):[C],prtc:YW.default(v),vd:$W.default(y)});case"mediaProvider.request.start":return HW(HW({},e),{__apiLoadStartTime:t.payload.timestamp});case"mediaProvider.request.ok":var I=t.payload.dimensions,L=I.vid,N=I.tid,D=I.sid,R=I.inout,M=I.os,j=I.osv,F=I.stp,V=I.deviceType,U=I.providerName;return HW(HW({},e),{vid:L,tid:N,sid:D,inout:R,os:M,osv:j,stp:F,pt:V,it:e.__apiLoadStartTime?t.payload.timestamp-e.__apiLoadStartTime:0,__apiLoadStartTime:void 0,ctype:QW.default(D),cc:"",vt:"",vd:U});case"player.event.ended":return HW(HW({},e),{__ended:!0});case"player.action.loop":case"__reset.content.info__":if(!(null===(o=e.ql)||void 0===o?void 0:o.length))return e;var B=HW({},e),z=HW({},e.ql[e.ql.length-1]);return z.bc=0,z.bt=0,z.wt=0,z.sp=[],z.__replay||(z.qit=0),B.ql=[z],B;case"source.event.play":return e.__ended?HW(HW({},e),{__ended:!1,__replayStartTime:t.payload.timestamp}):e;case"source.event.playing":if(!e.__replayStartTime)return e;if(!(null===(a=e.ql)||void 0===a?void 0:a.length))return e;var G=e.ql.slice(0,-1),q=e.ql[e.ql.length-1];return HW(HW({},e),{ql:WW(WW([],G),[HW(HW({},q),{qit:t.payload.timestamp-e.__replayStartTime,__replay:!0})]),__ended:!1,__replayStartTime:void 0});case"source.event.loadstart":return _=HW({},Array.isArray(e.ql)&&e.ql[e.ql.length-1]),HW(HW({},e),{ql:WW(WW([],null!==(l=null===(s=e.ql)||void 0===s?void 0:s.slice(0,(null===(u=e.ql)||void 0===u?void 0:u.length)-1||0))&&void 0!==l?l:[]),[HW(HW({},_),{__loadstartTime:t.payload.timestamp})])});case"source.event.canplay":return e.ql&&0!==e.ql.length&&(null===(c=e.ql[e.ql.length-1])||void 0===c?void 0:c.__loadstartTime)?(_=HW({},Array.isArray(e.ql)&&e.ql[e.ql.length-1]),delete(H=HW(HW({},e),{ql:WW(WW([],e.ql.slice(0,e.ql.length-1)),[HW(HW({},_),{qit:t.payload.timestamp-_.__loadstartTime||0})])})).ql[H.ql.length-1].__loadstartTime,H):e;var H;case"player.event.volumechange":var W=t.payload.dimensions;return g=W.muted,m=W.volume,HW(HW({},e),{vo:g?0:Math.round(100*m)});default:return e}};var ZW={},eK=c&&c.__assign||function(){return eK=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},eK.apply(this,arguments)};Object.defineProperty(ZW,"__esModule",{value:!0}),ZW.default=function e(t){var n={},r=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)};for(var i in t)if(Object.hasOwnProperty.call(t,i)&&!i.startsWith("__"))if(Array.isArray(t[i])){var o=t[i].map((function(t){return r(t)?eK({},e(t)):t}));n[i]=o}else r(t[i])?n[i]=eK({},e(t[i])):n[i]=t[i];return n};var tK=c&&c.__assign||function(){return tK=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tK.apply(this,arguments)},nK=c&&c.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},rK=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wW,"__esModule",{value:!0}),wW.refinePTInfo=void 0;var iK=MW,oK=rK(cW),aK=rK(jW),sK=rK(FW),uK=rK(ZW);function lK(e){var t,n;return tK(tK({},e),{ql:null!==(n=null===(t=e.ql)||void 0===t?void 0:t.map((function(e){return tK(tK({},e),{wt:Math.round(e.wt)})})))&&void 0!==n?n:[]})}wW.refinePTInfo=lK;var cK=function(){function e(){this._store=t._createStore()}var t;return t=e,e._createStore=function(){return iK.createStore(sK.default)},e.aggregate=function(e){var t=e.reduce((function(e,t){var n,r=t._store.getState(),i=tK(tK({},e),r);return(null===(n=r.ql)||void 0===n?void 0:n.length)&&t.update({mark:"__reset.content.info__",payload:void 0}),i}),{}),n=uK.default(t);return n.ct=aK.default(),{infos:[lK(n)]}},e.prototype.update=function(e){this._store.dispatch({type:e.mark,payload:e.payload})},t=nK([oK.default.metadata({id:"pt",filter:{test:function(e){return!!/((player|source)\.event\.|mediaProvider\.).*/.test(e)||"player.action.loop"===e}},dimensions:["vid","tid","sid","playerVersion","currentTime","encodingOptionID","readyState","duration","seeking","os","osv","stp","deviceType","videoStreamingType","volume","muted","currentSrc","providerName","playbackRate"]})],e)}();wW.default=cK;var dK={},fK={},hK={};Object.defineProperty(hK,"__esModule",{value:!0}),hK.default=function(e){var t=new Date(e);return function(e){return void 0===e&&(e=Date.now()),e-t.getTime()}};var pK=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fK,"__esModule",{value:!0});var vK=pK(hK);fK.default=function(e,t){var n=vK.default(t);return e.forEach((function(e){e.mediaTime=n(e.logTime)})),e};var mK={},gK={},yK={};Object.defineProperty(yK,"__esModule",{value:!0}),yK.toMilliSeconds=void 0,yK.toMilliSeconds=function(e){return Math.floor(1e3*e)},Object.defineProperty(gK,"__esModule",{value:!0}),gK.createAdEvent=void 0;var bK=yK;gK.createAdEvent=function(e,t,n){return void 0===n&&(n=Date.now()),{eventType:"AD",name:e,value:null,mediaTime:bK.toMilliSeconds(t),logTime:n}};var _K={};Object.defineProperty(_K,"__esModule",{value:!0}),_K.createDynamicStatusChangedEvent=void 0;var EK=yK;_K.createDynamicStatusChangedEvent=function(e,t,n,r){return void 0===r&&(r=Date.now()),{eventType:"STATUS",name:e,value:t,mediaTime:EK.toMilliSeconds(n),logTime:r}};var wK={};Object.defineProperty(wK,"__esModule",{value:!0}),wK.createErrorEvent=void 0;var SK=yK;wK.createErrorEvent=function(e,t,n,r){return void 0===r&&(r=Date.now()),{eventType:"ERROR",name:e,value:t,mediaTime:SK.toMilliSeconds(n),logTime:r}};var TK={};Object.defineProperty(TK,"__esModule",{value:!0}),TK.createQoEStatusChangedEvent=void 0;var kK=yK;TK.createQoEStatusChangedEvent=function(e,t,n,r){return void 0===r&&(r=Date.now()),{eventType:"STATUS",name:e,value:t,mediaTime:kK.toMilliSeconds(n),logTime:r}};var xK={};Object.defineProperty(xK,"__esModule",{value:!0}),xK.createTimingEvent=void 0;var AK=yK;xK.createTimingEvent=function(e,t,n,r){return void 0===r&&(r=Date.now()),{eventType:"TIMING",name:e,value:t,mediaTime:AK.toMilliSeconds(n),logTime:r}};var PK={},OK=c&&c.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(PK,"__esModule",{value:!0}),PK.default=function(e,t,n){var r,i;return null!==(i=null===(r=OK([],null!=t?t:[]).reverse().find((function(t){return t.name===e})))||void 0===r?void 0:r.value)&&void 0!==i?i:null==n?void 0:n[e]};var CK={},IK={},LK=c&&c.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},NK=c&&c.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function DK(){return LK(this,void 0,void 0,(function(){var e;return NK(this,(function(t){if("function"==typeof navigator.getBattery&&(e=navigator.getBattery()),e)return[2,e];throw new Error("Battery API Unavailable")}))}))}Object.defineProperty(IK,"__esModule",{value:!0}),IK.charging=IK.batteryLevel=void 0,IK.batteryLevel=function(){return LK(this,void 0,void 0,(function(){return NK(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,DK()];case 1:return[2,e.sent().level];case 2:return e.sent(),[2,Promise.resolve(void 0)];case 3:return[2]}}))}))},IK.charging=function(){return LK(this,void 0,void 0,(function(){return NK(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,DK()];case 1:return[2,e.sent().charging];case 2:return e.sent(),[2,Promise.resolve(!1)];case 3:return[2]}}))}))};var RK=function(){function e(){this._initialized=!1,this._batteryManager=null}return e.getInstance=function(){return this._instance},e.prototype.initialize=function(){return LK(this,void 0,void 0,(function(){var e;return NK(this,(function(t){switch(t.label){case 0:if(this._initialized)return[3,4];this._initialized=!0,t.label=1;case 1:return t.trys.push([1,3,,4]),e=this,[4,DK()];case 2:return e._batteryManager=t.sent(),[3,4];case 3:return t.sent(),this._batteryManager=null,[3,4];case 4:return[2]}}))}))},Object.defineProperty(e.prototype,"lastBatteryLevel",{get:function(){var e;return null===(e=this._batteryManager)||void 0===e?void 0:e.level},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastCharging",{get:function(){var e;return null===(e=this._batteryManager)||void 0===e?void 0:e.charging},enumerable:!1,configurable:!0}),e._instance=new e,e}();IK.default=RK;var MK={};Object.defineProperty(MK,"__esModule",{value:!0}),MK.default=function(e){return void 0===e&&(e=window),e.screen.mozBrightness};var jK={};Object.defineProperty(jK,"__esModule",{value:!0}),jK.default=function(){return window.screen&&window.screen.height||-1};var FK={};Object.defineProperty(FK,"__esModule",{value:!0}),FK.default=function(){return window.screen&&window.screen.width||-1};var VK=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(CK,"__esModule",{value:!0});var UK=VK(IK),BK=VK(MK),zK=VK(jK),GK=VK(FK),qK=yK;CK.default=function(e,t,n,r,i,o,a,s,u,l){void 0===e&&(e={video:0,audio:0}),void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=GK.default()),void 0===i&&(i=zK.default()),void 0===o&&(o=BK.default()),void 0===a&&(a=UK.default.getInstance().lastBatteryLevel),void 0===s&&(s=UK.default.getInstance().lastCharging),void 0===u&&(u=null);var c={viewMode:"END"};return c.deviceWidth=r,c.deviceHeight=i,isFinite(null==e?void 0:e.video)&&(c.videoBitrate=e.video),isFinite(null==e?void 0:e.audio)&&(c.videoBitrate=e.audio),isFinite(null!=o?o:NaN)&&(c.brightness=o),isFinite(null!=a?a:NaN)&&(c.battery=Math.floor(100*a)),"boolean"==typeof s&&(c.power=s),c.network=u,c.dropFrame=t,isFinite(null!=n?n:NaN)&&(c.bufferHealth=qK.toMilliSeconds(n)),c};var HK={};!function(e){var t=c&&c.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};function n(e,t){for(var n=Object.entries(t),r=Object.entries(e),i={},o=function(e,t){var n=r.findIndex((function(e){return e[0]===t}));if(n>-1){var o=r.splice(n,1)[0];o[0];var a=o[1];void 0!==a&&(i[e]=a)}},a=0,s=n;a<s.length;a++){var u=s[a];o(f=u[0],u[1])}for(var l=0,c=r;l<c.length;l++){var d=c[l],f=d[0],h=d[1];i[f]=h}return i}function r(t){return n(t,e.logInfoAliasMap)}function i(t){return n(t,e.transactionInfoAliasMap)}function o(t){return n(t,e.mediaInfoAliasMap)}function a(t){return n(t,e.playerInfoAlias)}function s(t){return n(t,e.customInfoAliasMap)}function u(t){return n(t,e.clientInfoAliasMap)}function l(t){return n(t,e.userInfoAliasMap)}function d(t){return n(t,e.screenInfoAliasMap)}function f(t){return n(t,e.campaignInfoAliasMap)}function h(t){return n(t,e.statusAliasMap)}function p(t){switch(t.eventType){case"AD":return g(t);case"ERROR":return y(t);case"STATUS":return v(t);case"TIMING":return m(t);default:return n(t,e.eventAliasMap)}}function v(t){var r=n(t,e.eventAliasMap);return r.n=e.statusChangedEventNameAliasMap[r.n],r}function m(t){var r=n(t,e.eventAliasMap);return r.n=e.timingEventNameAliasMap[r.n],r}function g(t){var r=n(t,e.eventAliasMap);return r.n=e.adEventNameAliasMap[r.n],r}function y(t){var r=n(t,e.eventAliasMap);return r.n=e.errorEventAliasMap[r.n],r}function b(t){return n(t,e.snapshotStatusAliasMap)}function _(e){var n=e.logInfo,c=e.transactionInfo,v=e.mediaInfo,m=e.playerInfo,g=e.customInfo,y=e.clientInfo,_=e.userInfo,E=e.screenInfo,w=e.campaignInfo,S=e.initialStatus,T=e.eventList,k=e.snapshotStatus;return t(t(t(t(t(t(t(t(t(t(t(t({},n&&{li:r(n)}),c&&{ti:i(c)}),v&&{mi:o(v)}),m&&{pi:a(m)}),g&&{ci:s(g)}),y&&{cli:u(y)}),_&&{ui:l(_)}),E&&{si:d(E)}),w&&{cai:f(w)}),S&&{is:h(S)}),T&&{e:T.map(p)}),k&&{ss:b(k)})}Object.defineProperty(e,"__esModule",{value:!0}),e.aliasQoEPayload=e.payloadAliasMap=e.aliasLogData=e.logDataAliasMap=e.aliasSnapshot=e.snapshotStatusAliasMap=e.aliasErrorEvent=e.errorEventAliasMap=e.aliasAdEvent=e.adEventNameAliasMap=e.aliasTimingEvent=e.timingEventNameAliasMap=e.aliasStatusChangedEvent=e.statusChangedEventNameAliasMap=e.aliasEvent=e.eventAliasMap=e.aliasStatus=e.statusAliasMap=e.aliasCampaignInfo=e.campaignInfoAliasMap=e.aliasScreenInfo=e.screenInfoAliasMap=e.aliasUserInfo=e.userInfoAliasMap=e.aliasClientInfo=e.clientInfoAliasMap=e.aliasCustomInfo=e.customInfoAliasMap=e.aliasPlayerInfo=e.playerInfoAlias=e.aliasMediaInfo=e.mediaInfoAliasMap=e.aliasTransactionInfo=e.transactionInfoAliasMap=e.aliasLogInfo=e.logInfoAliasMap=e.alias=void 0,e.alias=n,e.logInfoAliasMap={lo:"logOrder",lst:"logStartTime",let:"logEndTime",mlo:"mediaLogOrder",mst:"mediaStartTime",met:"mediaEndTime"},e.aliasLogInfo=r,e.transactionInfoAliasMap={tid:"transactionId",tidgt:"tidGenerationTime",sid:"serviceId",osid:"ownerServiceId",st:"serviceType"},e.aliasTransactionInfo=i,e.mediaInfoAliasMap={mt:"mediaType",adt:"adType",ads:"adSystem",adso:"adSkipOffset",mid:"mediaId",ml:"mediaLength",l:"live",mtr:"multiTrack",lid:"liveId",lsid:"liveStreamId",vcdc:"videoCodec",acdc:"audioCodec",ach:"audioChannel",lts:"liveTimeShift"},e.aliasMediaInfo=o,e.playerInfoAlias={pt:"playerType",pv:"playerVersion",pid:"playerId",ap:"autoPlay"},e.aliasPlayerInfo=a,e.customInfoAliasMap={scid:"serviceContentId",scc:"serviceCategoryCode",stid:"serviceTrackingId",c1:"customField1",c2:"customField2",c3:"customField3",c4:"customField4",c5:"customField5",c6:"customField6",c7:"customField7",c8:"customField8",c9:"customField9",c10:"customField10"},e.aliasCustomInfo=s,e.clientInfoAliasMap={cid:"clientId",ua:"userAgent",ai:"appId",av:"appVersion",vi:"viewerInfo"},e.aliasClientInfo=u,e.userInfoAliasMap={idt:"idType",idn:"idNo",idc:"idCountry",a:"age",g:"gender"},e.aliasUserInfo=l,e.screenInfoAliasMap={cup:"currentPage"},e.aliasScreenInfo=d,e.campaignInfoAliasMap={r:"referer",ep:"entryPoint",sti:"stmsId"},e.aliasCampaignInfo=f,e.statusAliasMap={idl:"idle",ps:"playbackStatus",sk:"seeking",pr:"playbackRate",vtn:"videoTrackNumber",atn:"audioTrackNumber",sm:"screenMode",pm:"playMode",vr:"vr",fps:"fps",vw:"videoWidth",vh:"videoHeight",vpw:"viewportWidth",vph:"viewportHeight",abr:"abr",vo:"volume",sub:"subtitle",subt:"subtitleType",so:"screenOrientation",mtrid:"multiTrackId"},e.aliasStatus=h,e.eventAliasMap={lt:"logTime",mti:"mediaTime",et:"eventType",n:"name",v:"value"},e.aliasEvent=p,e.statusChangedEventNameAliasMap={idle:"idl",playbackStatus:"ps",seeking:"sk",playbackRate:"pr",videoTrackNumber:"vtn",audioTrackNumber:"atn",screenMode:"sm",playMode:"pm",vr:"vr",fps:"fps",videoWidth:"vw",videoHeight:"vh",viewportWidth:"vpw",viewportHeight:"vph",abr:"abr",volume:"vo",subtitle:"subtitle",subtitleType:"subt",screenOrientation:"so",multiTrackId:"mtrid"},e.aliasStatusChangedEvent=v,e.timingEventNameAliasMap={playApi:"pa",liveApi:"la",adApi:"aa",cdnSourceSelect:"css",clickToPlay:"ctp",bufferingTime:"bt",initialLoading:"il"},e.aliasTimingEvent=m,e.adEventNameAliasMap={click:"c",skip:"s",error:"ade"},e.aliasAdEvent=g,e.errorEventAliasMap={error:"err"},e.aliasErrorEvent=y,e.snapshotStatusAliasMap={vm:"viewMode",dw:"deviceWidth",dh:"deviceHeight",em:"embedded",vb:"videoBitrate",vst:"videoStreamingType",vmt:"videoMimeType",ab:"audioBitrate",amt:"audioMimeType",br:"brightness",b:"battery",p:"power",net:"network",i:"ip",df:"dropFrame",msc:"mediaSegmentCount",mss:"mediaSegmentSize",sdt:"segmentDownloadTime",bh:"bufferHealth",ct:"cdnType",cd:"cdnDomain",cp:"cdnProvider",auln:"audioLoudnessNo",aulcom:"audioLoudnessClientOnlyMode",autl:"audioTargetLoudness",aupd:"audioPumpingDetection",auoil:"audioOutputIntegratedLoudness",auld:"audioLoudnessDifference",alm:"audioLoudnessMode",rp:"replay",sd:"segmentDuration",sc:"segmentCount",spd:"segmentPartDuration",spc:"segmentPartCount"},e.aliasSnapshot=b,e.logDataAliasMap={li:"logInfo",ti:"transactionInfo",mi:"mediaInfo",pi:"playerInfo",ci:"customInfo",cli:"clientInfo",ui:"userInfo",si:"screenInfo",cai:"campaignInfo",is:"initialStatus",e:"eventList",ss:"snapshotStatus"},e.aliasLogData=_,e.payloadAliasMap={ltt:"logTransferTime",lv:"logVersion",lsv:"logSdkVersion",ld:"logDataList"},e.aliasQoEPayload=function(e){return{ltt:e.logTransferTime,lv:e.logVersion,lsv:e.logSdkVersion,ld:e.logDataList.map(_)}}}(HK);var WK={};Object.defineProperty(WK,"__esModule",{value:!0}),WK.default=function(e,t){if(e&&0!==e.length)for(var n=e.length-1;n>-1;n--)if(t(e[n]))return e[n]};var KK={};Object.defineProperty(KK,"__esModule",{value:!0});var YK=new RegExp("\\.("+["mp4","avi","mkv","webm"].join("|")+")"),XK=new RegExp("\\.("+["m3u8","ts"].join("|")+")"),$K=new RegExp("\\.("+["mpd","m4s"].join("|")+")");KK.default=function(e){return YK.test(e)?"PD":XK.test(e)?"HLS":$K.test(e)?"DASH":""};var QK=c&&c.__assign||function(){return QK=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},QK.apply(this,arguments)},JK=c&&c.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},ZK=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mK,"__esModule",{value:!0});var eY=gK,tY=_K,nY=wK,rY=TK,iY=xK,oY=ZK(PK),aY=ZK(CK),sY=HK,uY=ZK(UW),lY=ZK(WK),cY=ZK(hK),dY=ZK(KK),fY=ZK(fK),hY={logVersion:1,logSdkVersion:"1.0.4"};function pY(e){return Math.round(1e3*e)}function vY(e){var t,n,r,i=Object.keys(sY.statusChangedEventNameAliasMap).reduce((function(e,t){var n;return QK(QK({},e),((n={})[t]=void 0,n))}),{});for(var o in null===(t=e.eventList)||void 0===t||t.slice(0).reverse().forEach((function(e){var t=e.eventType,n=e.name,r=e.value;"STATUS"===t&&void 0===i[n]&&(i[n]=r)})),i)i[o]=null!==(n=i[o])&&void 0!==n?n:null===(r=e.initialStatus)||void 0===r?void 0:r[o];return i}mK.default=function(e,t){var n,r,i,o,a,s,u,l,c,d,f,h,p,v,m,g,y,b,_,E,w,S,T,k,x,A,P,O,C,I,L,N,D,R,M,j,F,V,U,B,z,G,q,H,W,K,Y,X,$,Q,J,Z,ee;switch(void 0===e&&(e=hY),t.type){case"player.event.heartbeat":var te=QK({},e);try{var ne=null===(u=null===(s=t.payload)||void 0===s?void 0:s.dimensions)||void 0===u?void 0:u.currentTime,re=e.__heartbeatLogTime;if(Number.isFinite(ne)&&Number.isFinite(re)){var ie=oY.default("idle",te.eventList,te.initialStatus),oe=te.__heartbeatLogTime&&Number.isFinite(te.__heartbeatLogTime)?5e3<t.payload.timestamp-te.__heartbeatLogTime:void 0;!0===oe&&!1===ie?te.eventList=JK(JK([],null!==(l=te.eventList)&&void 0!==l?l:[]),[rY.createQoEStatusChangedEvent("idle",oe,ne,re)]):!1===oe&&!0===ie&&(te.eventList=JK(JK([],null!==(c=te.eventList)&&void 0!==c?c:[]),[rY.createQoEStatusChangedEvent("idle",oe,ne,t.payload.timestamp)]))}te.__heartbeatLogTime=null===(d=t.payload)||void 0===d?void 0:d.timestamp}catch(e){console.error(e)}return te;case"statistic.event.qoetickstart":var ae=e.logInfo,se=t.payload.timestamp,ue=vY(e),le=void 0;return(be=null!==(h=null===(f=e.mediaInfo)||void 0===f?void 0:f.live)&&void 0!==h&&h)?Number.isFinite(e.__liveOpenTime)&&(le=se-(null!==(p=e.__liveOpenTime)&&void 0!==p?p:se)):le=Number.isFinite(e.__lastCurrentTime)?pY(e.__lastCurrentTime):e.__lastCurrentTime,QK(QK({},e),{logInfo:{logOrder:(null!==(v=null==ae?void 0:ae.logOrder)&&void 0!==v?v:-1)+1,logStartTime:null!==(m=null==ae?void 0:ae.logEndTime)&&void 0!==m?m:se,logEndTime:se,mediaLogOrder:Number.isFinite(null==ae?void 0:ae.mediaLogOrder)?(null==ae?void 0:ae.mediaLogOrder)+1:void 0,mediaStartTime:le,mediaEndTime:le},eventList:[],initialStatus:ue});case"mediaProvider.player.attach":var ce=t.payload.dimensions,de=ce.referer,fe=ce.pageUrl;return te=QK(QK({},e),{screenInfo:QK(QK({},null==e?void 0:e.screenInfo),{currentPage:fe})}),de&&(te.campaignInfo=QK(QK({},e.campaignInfo),{referer:de})),te;case"mediaProvider.request.skip":return QK(QK({},e),{eventList:JK([],null!==(g=e.eventList)&&void 0!==g?g:[]),logInfo:QK(QK({},e.logInfo),{logOrder:0})});case"mediaProvider.request.start":var he=null===(y=t.payload.parameters)||void 0===y?void 0:y.api;return QK(QK({},e),{eventList:JK(JK([],null!==(b=e.eventList)&&void 0!==b?b:[]),he?[iY.createTimingEvent(null===(_=t.payload.parameters)||void 0===_?void 0:_.api,"START",null!==(E=t.payload.dimensions.currentTime)&&void 0!==E?E:0,t.payload.timestamp)]:[]),logInfo:QK(QK({},e.logInfo),{logOrder:0}),__timingFlags:QK(QK({},e.__timingFlags),he&&(n={},n[he]=!0,n))});case"mediaProvider.request.ok":var pe=t.payload.dimensions,ve=pe.tid,me=pe.tidCreatedAt,ge=pe.sid,ye=pe.vid,be=pe.live,_e=pe.liveId,Ee=pe.streamSeq,we=pe.userAgent,Se=pe.clientId,Te=pe.deviceType,ke=pe.liveOpenTime,xe=pe.cdnType,Ae=pe.multiTrack,Pe=pe.mediaType,Oe=null===(w=t.payload.parameters)||void 0===w?void 0:w.api,Ce={};Ce.serviceId=ge,"string"==typeof ve&&(Ce.transactionId=ve),"number"==typeof me&&(Ce.tidGenerationTime=me);var Ie=QK({},e.playerInfo);"string"==typeof Te&&(Ie.playerType=Te);var Le=QK({},null!==(S=e.mediaInfo)&&void 0!==S?S:{});Le.mediaId=ye,Le.live=be,be&&(Le.liveId=_e,Le.liveStreamId=null!==(T=null==Ee?void 0:Ee.toString())&&void 0!==T?T:""),Le.multiTrack=Ae,Le.mediaType=Pe;var Ne=function(e){var t=e.payload.dimensions,n=["serviceCategoryCode","serviceContentId","serviceTrackingId"].filter((function(e){return void 0!==t[e]}));if(n){var r={};return n.forEach((function(e){r[e]=t[e]})),r}}(t),De=JK([],e.eventList||[]);(null==Le?void 0:Le.live)&&Number.isFinite(ke)&&(De=fY.default(null!=De?De:[],ke));var Re=Le.live?cY.default(ke)(t.payload.timestamp):null!==(k=t.payload.dimensions.currentTime)&&void 0!==k?k:0;return!0===(null===(x=e.__timingFlags)||void 0===x?void 0:x[Oe])&&(De=JK(JK([],(null==De?void 0:De.filter((function(e){return!(e.name===Oe&&"RUNNING"===e.value)})))||[]),Oe?[iY.createTimingEvent(Oe,"END",Re,t.payload.timestamp)]:[])),QK(QK(QK(QK({},e),{transactionInfo:Ce,playerInfo:Ie,mediaInfo:Le,customInfo:QK(QK({},e.customInfo),Ne),clientInfo:{userAgent:we,clientId:Se},eventList:De,__timingFlags:QK(QK({},e.__timingFlags),Oe&&(r={},r[Oe]=!1,r))}),be&&{__liveOpenTime:ke}),{snapshotStatus:QK(QK({},e.snapshotStatus),{cdnType:xe})});case"statistic.event.qoetickend":se=t.payload.timestamp;var Me=Object.entries(e.__timingFlags||{}).map((function(t){var n,r,i,o,a=t[0];return t[1]&&-1===(null===(n=e.eventList)||void 0===n?void 0:n.findIndex((function(e){return e.name===a&&"START"===e.value})))?iY.createTimingEvent(a,"RUNNING",null!==(i=null===(r=e.logInfo)||void 0===r?void 0:r.mediaStartTime)&&void 0!==i?i:0,null===(o=e.logInfo)||void 0===o?void 0:o.logStartTime):void 0})).filter((function(e){return!!e})),je=(De=JK(JK([],(null==e?void 0:e.eventList)||[]),Me||[]),be=null!==(P=null===(A=e.mediaInfo)||void 0===A?void 0:A.live)&&void 0!==P&&P,void(le=null===(O=e.logInfo)||void 0===O?void 0:O.mediaStartTime));if(be){if(Number.isFinite(e.__liveOpenTime)){var Fe=cY.default(e.__liveOpenTime);le=Fe(null===(C=e.logInfo)||void 0===C?void 0:C.logStartTime),je=Fe(se)}}else je=Number.isFinite(e.__lastCurrentTime)?pY(e.__lastCurrentTime):e.__lastCurrentTime;var Ve=QK(QK({},e),{eventList:De,logInfo:QK(QK({},e.logInfo),{logEndTime:se,mediaStartTime:le,mediaEndTime:je}),snapshotStatus:QK(QK({},e.snapshotStatus),aY.default(t.payload.dimensions.bitrate,t.payload.dimensions.droppedVideoFrames,t.payload.dimensions.bufferHealth))});return t.payload.dimensions.cdnProvider&&(Ve.snapshotStatus.cdnProvider=t.payload.dimensions.cdnProvider),Ve;case"player.event.emptied":return QK(QK({},e),{eventList:[]});case"player.event.loadstart":return QK(QK({},e),{logInfo:{logOrder:0,mediaLogOrder:0,mediaStartTime:pY(e.__lastCurrentTime||0),mediaEndTime:pY(e.__lastCurrentTime||0)}});case"player.event.loadedmetadata":var Ue=t.payload.dimensions,Be=Ue.playerVersion,ze=Ue.id,Ge=Ue.autoplay,qe=Ue.duration,He=Ue.currentSrc;return QK(QK({},e),{logInfo:QK(QK({},e.logInfo),{mediaLogOrder:null!==(L=null===(I=e.logInfo)||void 0===I?void 0:I.mediaLogOrder)&&void 0!==L?L:0}),playerInfo:QK(QK({},e.playerInfo),{playerVersion:Be,playerId:ze,autoPlay:Ge}),mediaInfo:QK(QK({},e.mediaInfo),{mediaLength:pY(qe)}),__timingFlags:QK(QK({},e.__timingFlags),{playApi:!1}),snapshotStatus:QK(QK({},null==e?void 0:e.snapshotStatus),{cdnDomain:uY.default(He),videoStreamingType:dY.default(He)})});case"player.action.replay":case"player.action.loop":return QK(QK({},e),{initialStatus:QK({},vY(e)),logInfo:{logOrder:0,logStartTime:t.payload.timestamp,mediaLogOrder:0,mediaStartTime:0,mediaEndTime:0},eventList:[]});case"player.event.timeupdate":case"ads.event.AdRemainingTimeChange":return QK(QK({},e),{__lastCurrentTime:t.payload.dimensions.currentTime});case"player.event.canplay":var We=t.payload.dimensions,Ke=We.seeking,Ye=We.muted,Xe=We.volume,$e=We.playbackRate,Qe=We.videoWidth,Je=We.videoHeight,Ze=We.clientWidth,et=We.clientHeight,tt=We.screenOrientation,nt=We.abr,rt=We.vr,it=We.videoTrackId;return 0===(null===(N=e.logInfo)||void 0===N?void 0:N.logOrder)?QK(QK({},e),{initialStatus:QK(QK(QK(QK(QK(QK(QK({idle:!1,playbackStatus:"PAUSE"},void 0!==Ke&&{seeking:Ke}),void 0!==Xe&&{volume:Ye?0:Math.round(100*Xe)}),void 0!==$e&&{playbackRate:Math.round(100*$e)}),void 0!==Qe&&void 0!==Je&&{videoWidth:Qe,videoHeight:Je}),void 0!==Ze&&void 0!==et&&{viewportWidth:Ze,viewportHeight:et}),void 0!==tt&&{screenOrientation:(null===(D=tt.split("-"))||void 0===D?void 0:D[0].toUpperCase())||"LANDSCAPE"}),{playMode:"NORMAL",screenMode:"NORMAL",abr:nt,vr:null!=rt&&rt,multiTrackId:it})}):e;case"player.event.playing":se=t.payload.timestamp;var ot=t.payload.dimensions.codecs;return QK(QK({},e),{mediaInfo:QK(QK({},e.mediaInfo||{}),{videoCodec:null==ot?void 0:ot.video,audioCodec:null==ot?void 0:ot.audio,audioChannel:"2"}),logInfo:QK(QK({},e.logInfo),0===(null===(R=e.logInfo)||void 0===R?void 0:R.mediaLogOrder)&&{logStartTime:se}),eventList:JK(JK([],e.eventList||[]),[rY.createQoEStatusChangedEvent("playbackStatus","PLAYING",t.payload.dimensions.currentTime,t.payload.timestamp)])});case"player.event.pause":case"ads.event.AdPaused":return QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[rY.createQoEStatusChangedEvent("playbackStatus","PAUSE",t.payload.dimensions.currentTime,t.payload.timestamp)])});case"player.event.ended":return QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[rY.createQoEStatusChangedEvent("playbackStatus","STOP",t.payload.dimensions.currentTime,t.payload.timestamp)])});case"player.event.seeking":return QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[rY.createQoEStatusChangedEvent("seeking",!0,t.payload.dimensions.currentTime,t.payload.timestamp)])});case"player.event.seeked":return QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[rY.createQoEStatusChangedEvent("seeking",!1,t.payload.dimensions.currentTime,t.payload.timestamp)])});case"player.event.volumechange":var at=t.payload.dimensions;return Xe=at.volume,Ye=at.muted,QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[rY.createQoEStatusChangedEvent("volume",Math.round(Ye?0:100*Xe),t.payload.dimensions.currentTime,t.payload.timestamp)])});case"player.event.ratechange":return $e=t.payload.dimensions.playbackRate,QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[rY.createQoEStatusChangedEvent("playbackRate",Math.round(100*$e),t.payload.dimensions.currentTime,t.payload.timestamp)])});case"player.event.resize":var st=t.payload.dimensions,ut=st.videoWidth,lt=st.videoHeight;if(De=void 0,ut>=0){var ct=null!==(V=null!==(j=null===(M=lY.default(e.eventList,(function(e){return"STATUS"===e.eventType&&"videoWidth"===e.name})))||void 0===M?void 0:M.value)&&void 0!==j?j:null===(F=e.initialStatus)||void 0===F?void 0:F.videoWidth)&&void 0!==V?V:NaN;isFinite(ct)&&ct!==ut&&(De=(De||e.eventList||[]).concat(rY.createQoEStatusChangedEvent("videoWidth",ut,t.payload.dimensions.currentTime,t.payload.timestamp)))}if(lt>=0){var dt=null!==(G=null!==(B=null===(U=lY.default(e.eventList,(function(e){return"STATUS"===e.eventType&&"videoHeight"===e.name})))||void 0===U?void 0:U.value)&&void 0!==B?B:null===(z=e.initialStatus)||void 0===z?void 0:z.videoHeight)&&void 0!==G?G:NaN;isFinite(dt)&&dt!==lt&&(De=(De||e.eventList||[]).concat(rY.createQoEStatusChangedEvent("videoHeight",lt,t.payload.dimensions.currentTime,t.payload.timestamp)))}return De?QK(QK({},e),{eventList:De}):e;case"source.event.loadstart":return te=QK({},e),void 0===(null===(q=e.__timingFlags)||void 0===q?void 0:q.initialLoading)&&(te=QK(QK({},te),{eventList:JK(JK([],te.eventList||[]),[iY.createTimingEvent("initialLoading","START",t.payload.dimensions.currentTime,t.payload.timestamp)]),__timingFlags:QK(QK({},e.__timingFlags),{initialLoading:!0})})),QK(QK({},te),{eventList:JK(JK([],te.eventList||[]),[iY.createTimingEvent("bufferingTime","START",t.payload.dimensions.currentTime,t.payload.timestamp)]),__timingFlags:QK(QK({},te.__timingFlags),{bufferingTime:!0})});case"source.event.loadedmetadata":return te=QK({},e),!0===(null===(H=e.__timingFlags)||void 0===H?void 0:H.initialLoading)&&(te=QK(QK({},te),{eventList:JK(JK([],te.eventList||[]),[iY.createTimingEvent("initialLoading","END",t.payload.dimensions.currentTime,t.payload.timestamp)]),__timingFlags:QK(QK({},e.__timingFlags),{initialLoading:!1})})),te;case"source.event.waiting":return!0===(null===(W=e.__timingFlags)||void 0===W?void 0:W.bufferingTime)?e:QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[iY.createTimingEvent("bufferingTime","START",t.payload.dimensions.currentTime,t.payload.timestamp)]),__timingFlags:QK(QK({},e.__timingFlags),{bufferingTime:!0})});case"source.event.canplay":case"source.event.canplaythrough":case"source.event.playing":return te=e,(null===(K=e.__timingFlags)||void 0===K?void 0:K.bufferingTime)?QK(QK({},te),{eventList:JK(JK([],te.eventList||[]),[iY.createTimingEvent("bufferingTime","END",t.payload.dimensions.currentTime,t.payload.timestamp)]),__timingFlags:QK(QK({},te.__timingFlags),{bufferingTime:!1})}):te;case"player.event.screenorientationchange":return tt=t.payload.dimensions.screenOrientation,QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[rY.createQoEStatusChangedEvent("screenOrientation",tt.split("-")[0].toUpperCase(),t.payload.dimensions.currentTime,t.payload.timestamp)])});case"player.event.onVideoTrackChange":var ft=t.payload.dimensions,ht=(He=ft.currentSrc,nt=ft.abr,it=ft.videoTrackId,lY.default(e.eventList,(function(e){return"STATUS"===e.eventType&&"abr"===e.name}))),pt=lY.default(e.eventList,(function(e){return"STATUS"===e.eventType&&"multiTrackId"===e.name}));return Ve=QK(QK({},e),{snapshotStatus:QK(QK({},null==e?void 0:e.snapshotStatus),{cdnDomain:uY.default(He),videoStreamingType:dY.default(He)}),eventList:[]}),e.eventList&&(i=Ve.eventList).push.apply(i,e.eventList),ht!==nt&&Ve.eventList.push(rY.createQoEStatusChangedEvent("abr",nt,t.payload.dimensions.currentTime,t.payload.timestamp)),pt!==it&&Ve.eventList.push(rY.createQoEStatusChangedEvent("multiTrackId",it,t.payload.dimensions.currentTime,t.payload.timestamp)),Ve;case"ads.event.AdLoadStart":var vt=t.payload.dimensions;return Be=vt.playerVersion,ze=vt.id,Ge=vt.autoplay,QK(QK({},e),{logInfo:{logOrder:0,logStartTime:t.payload.timestamp,mediaLogOrder:0,mediaStartTime:pY(e.__lastCurrentTime||0),mediaEndTime:pY(e.__lastCurrentTime||0)},playerInfo:QK(QK({},e.playerInfo),{playerVersion:Be,playerId:ze,autoPlay:Ge}),eventList:JK(JK([],e.eventList||[]),[iY.createTimingEvent("adApi","START",t.payload.dimensions.currentTime,t.payload.timestamp)]),initialStatus:QK(QK({},e.initialStatus),{viewportWidth:t.payload.parameters.width,viewportHeight:t.payload.parameters.height,screenMode:t.payload.parameters.screenMode,vr:!1}),__timingFlags:QK(QK({},e.__timingFlags),{adApi:!0})});case"ads.event.AdMetadata":return QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[iY.createTimingEvent("adApi","END",t.payload.dimensions.currentTime,t.payload.timestamp)]),__timingFlags:{adApi:!1}});case"ads.event.AdClickThru":return QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[eY.createAdEvent("click",t.payload.dimensions.currentTime,t.payload.timestamp)])});case"ads.event.AdSkipped":return QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[eY.createAdEvent("skip",t.payload.dimensions.currentTime,t.payload.timestamp)])});case"ads.event.AdError":return QK(QK({},e),{eventList:JK(JK(JK([],e.eventList||[]),[eY.createAdEvent("error",t.payload.dimensions.currentTime,t.payload.timestamp)]),(null===(Y=e.__timingFlags)||void 0===Y?void 0:Y.adApi)?[iY.createTimingEvent("adApi","END",t.payload.dimensions.currentTime,t.payload.timestamp)]:[]),__timingFlags:{adApi:!1}});case"ads.event.AdStarted":return QK(QK({},e),{mediaInfo:{mediaType:"AD",adType:null===(X=t.payload.dimensions.adType)||void 0===X?void 0:X.toUpperCase(),adSystem:t.payload.dimensions.adSystem,adSkipOffset:pY(t.payload.dimensions.adSkipTimeOffset),live:t.payload.dimensions.live,mediaId:"",mediaLength:pY(t.payload.dimensions.duration)},eventList:JK([],e.eventList||[]),logInfo:QK(QK({},e.logInfo),{mediaLogOrder:0,mediaStartTime:t.payload.dimensions.currentTime}),initialStatus:QK(QK({},e.initialStatus),{playbackStatus:"PLAYING",videoWidth:t.payload.dimensions.videoWidth,videoHeight:t.payload.dimensions.videoHeight,viewportWidth:t.payload.dimensions.clientWidth,viewportHeight:t.payload.dimensions.clientHeight}),__lastCurrentTime:t.payload.dimensions.currentTime});case"ads.event.AdPlaying":return QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[rY.createQoEStatusChangedEvent("playbackStatus","PLAYING",t.payload.dimensions.currentTime,t.payload.timestamp)])});case"ads.event.resize":return QK(QK({},e),{eventList:JK(JK(JK(JK([],e.eventList||[]),(null===($=e.initialStatus)||void 0===$?void 0:$.viewportWidth)!==t.payload.dimensions.clientWidth?[rY.createQoEStatusChangedEvent("viewportWidth",t.payload.dimensions.clientWidth,t.payload.dimensions.currentTime,t.payload.dimensions.timestamp)]:[]),(null===(Q=e.initialStatus)||void 0===Q?void 0:Q.viewportHeight)!==t.payload.dimensions.clientHeight?[rY.createQoEStatusChangedEvent("viewportHeight",t.payload.dimensions.clientHeight,t.payload.dimensions.currentTime,t.payload.dimensions.timestamp)]:[]),(null===(J=e.initialStatus)||void 0===J?void 0:J.screenMode)!==t.payload.dimensions.screenMode?[rY.createQoEStatusChangedEvent("screenMode",t.payload.dimensions.screenMode,t.payload.dimensions.currentTime,t.payload.dimensions.timestamp)]:[])});case"metadata.request.start":var mt="api"+(bt=t.payload.parameters.componentType);return QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[iY.createTimingEvent(mt,"START",t.payload.dimensions.currentTime,t.payload.timestamp)]),__timingFlags:QK(QK({},e.__timingFlags),(o={},o[mt]=!0,o))});case"metadata.request.ok":var gt="api"+(bt=t.payload.parameters.componentType);return QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[iY.createTimingEvent(gt,"END",t.payload.dimensions.currentTime,t.payload.timestamp)]),__timingFlags:QK(QK({},e.__timingFlags),(a={},a[gt]=!1,a))});case"metadata.event.toggle":var yt=t.payload.parameters,bt=yt.componentType,_t=yt.value,Et="toggle"+bt;return QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[tY.createDynamicStatusChangedEvent(Et,_t,t.payload.dimensions.currentTime,t.payload.timestamp)])});case"metadata.event.click":var wt=t.payload.parameters,St=(bt=wt.componentType,_t=wt.value,"click"+bt);return QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[tY.createDynamicStatusChangedEvent(St,"",t.payload.dimensions.currentTime,t.payload.timestamp)])});case"metadata.status.changed":var Tt=t.payload.parameters,kt=(bt=Tt.componentType,_t=Tt.value,bt);return QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[rY.createQoEStatusChangedEvent(kt,_t,t.payload.dimensions.currentTime,t.payload.timestamp)])});case"player.event.error":var xt=t.payload.dimensions.error;return QK(QK({},e),{eventList:JK(JK([],e.eventList||[]),[nY.createErrorEvent("error",null!==(Z=null==xt?void 0:xt.code)&&void 0!==Z?Z:-1,t.payload.dimensions.currentTime,t.payload.timestamp)])});case"hls.fragmentChanged":var At=t.payload.dimensions,Pt=At.hlsSegmentDuration,Ot=At.hlsSegmentCount,Ct=At.hlsPartDuration,It=At.streamingProtocol,Lt=Pt&&Ct?Math.ceil(Pt/Ct):NaN;return QK(QK({},e),{snapshotStatus:QK(QK({},e.snapshotStatus),{segmentDuration:Pt,segmentCount:Ot,segmentPartDuration:Ct>0?Ct:NaN,segmentPartCount:Lt,videoStreamingType:"LL-HLS"===It?"LL-HLS":null===(ee=e.snapshotStatus)||void 0===ee?void 0:ee.videoStreamingType})});default:return function(e,t){var n,r,i;if(!1===/^(userInfo|customInfo|clientInfo|campaignInfo)\.*/.test(t.type))return e;var o=/^(\w+)\.(\w+)$/g.exec(t.type);if(!o||!o[1]||!o[2])return e;var a=o[1],s=o[2];return QK(QK({},e),((n={})[a]=QK(QK({},e[a]||{}),((r={})[s]=null===(i=t.payload.parameters)||void 0===i?void 0:i.value,r)),n))}(e,t)}};var mY={};Object.defineProperty(mY,"__esModule",{value:!0}),mY.default=function(e){var t=e.findIndex((function(e){return"bufferingTime"===e.name&&"START"===e.value})),n=e.findIndex((function(e){return"bufferingTime"===e.name&&"END"===e.value}));return e.filter((function(e,r){return r!==t&&r!==n}))};var gY={};Object.defineProperty(gY,"__esModule",{value:!0}),gY.truncate=void 0,gY.truncate=function(e){if(!e)return e;var t=Object.keys(e),n={};return t.forEach((function(t){var r=e[t];switch(typeof r){case"undefined":return;case"object":if(null===r)return;break;case"number":if(!isFinite(r))return}n[t]=r})),n};var yY=c&&c.__assign||function(){return yY=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yY.apply(this,arguments)},bY=c&&c.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},_Y=c&&c.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},EY=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dK,"__esModule",{value:!0});var wY=MW,SY=EY(cW),TY=EY(fK),kY=EY(mK),xY=EY(IK),AY=EY(ZW),PY=EY(mY),OY=gY,CY=HK,IY=yK,LY=function(){function e(){this._store=t._createStore(),xY.default.getInstance().initialize()}var t;return t=e,e.prototype.update=function(e){this._store.dispatch({type:e.mark,payload:e.payload})},e.aggregate=function(e,t,n){var r,i,o,a,s,u,l,c,d=e.map((function(e){return e._store.getState()})),f=d.find((function(e){var t;return"AD"===(null===(t=null==e?void 0:e.mediaInfo)||void 0===t?void 0:t.mediaType)}));f&&(l=null===(r=null==f?void 0:f.logInfo)||void 0===r?void 0:r.mediaStartTime,c=null===(i=null==f?void 0:f.logInfo)||void 0===i?void 0:i.mediaEndTime);try{var h=d.reduce((function(e,t){var n,r,i,o,a,s,u,d,f,h,p,v,m,g;return yY(yY(yY({},e),t),{playerInfo:yY(yY({},e.playerInfo),t.playerInfo),transactionInfo:yY(yY({},e.transactionInfo),t.transactionInfo),clientInfo:yY(yY({},e.clientInfo),t.clientInfo),campaignInfo:yY(yY({},e.campaignInfo),t.campaignInfo),logInfo:yY(yY(yY({},e.logInfo),t.logInfo),{mediaStartTime:null!==(r=null!=l?l:null===(n=e.logInfo)||void 0===n?void 0:n.mediaStartTime)&&void 0!==r?r:null===(i=t.logInfo)||void 0===i?void 0:i.mediaStartTime,mediaEndTime:null!==(a=null!=c?c:null===(o=e.logInfo)||void 0===o?void 0:o.mediaEndTime)&&void 0!==a?a:null===(s=t.logInfo)||void 0===s?void 0:s.mediaEndTime,logOrder:Math.max(null!==(d=null===(u=e.logInfo)||void 0===u?void 0:u.logOrder)&&void 0!==d?d:0,null!==(h=null===(f=t.logInfo)||void 0===f?void 0:f.logOrder)&&void 0!==h?h:0),mediaLogOrder:Math.min(null!==(v=null===(p=e.logInfo)||void 0===p?void 0:p.mediaLogOrder)&&void 0!==v?v:1/0,null!==(g=null===(m=t.logInfo)||void 0===m?void 0:m.mediaLogOrder)&&void 0!==g?g:1/0)}),eventList:_Y(_Y([],e.eventList||[]),t.eventList||[]),mediaInfo:yY(yY({},e.mediaInfo),t.mediaInfo),initialStatus:yY(yY({},OY.truncate(e.initialStatus)),OY.truncate(t.initialStatus)),snapshotStatus:yY(yY({},e.snapshotStatus),t.snapshotStatus),customInfo:yY(yY({},e.customInfo),t.customInfo),userInfo:yY(yY({},e.userInfo),t.userInfo)})}),{});if(null===(o=h.mediaInfo)||void 0===o?void 0:o.live){Number.isFinite(h.__liveOpenTime)&&(h.eventList=TY.default(h.eventList,h.__liveOpenTime));var p=n("time-shift");isFinite(p)&&(h.mediaInfo.liveTimeShift=IY.toMilliSeconds(p))}0===(null===(a=h.logInfo)||void 0===a?void 0:a.mediaLogOrder)&&(h.logInfo.logStartTime=null===(u=null===(s=h.eventList)||void 0===s?void 0:s[0])||void 0===u?void 0:u.logTime),h.snapshotStatus=yY(yY({},h.snapshotStatus),{replay:n("replay")?1:0}),0===h.logInfo.logOrder&&(h.eventList=PY.default(h.eventList)),h.mediaInfo.multiTrack||(delete h.initialStatus.multiTrackId,h.eventList=h.eventList.filter((function(e){return"multiTrackId"!==e.name})));var v=yY({},CY.aliasLogData(function(e){var t=AY.default(e),n=t.logInfo,r=t.transactionInfo,i=t.playerInfo,o=t.campaignInfo,a=t.initialStatus,s=t.mediaInfo,u=t.eventList,l=t.snapshotStatus,c=t.clientInfo,d=t.screenInfo,f=t.userInfo,h=t.customInfo;return{logInfo:OY.truncate(n),transactionInfo:OY.truncate(r),playerInfo:OY.truncate(i),campaignInfo:OY.truncate(o),initialStatus:OY.truncate(a),eventList:Array.isArray(u)?u.map(OY.truncate):u,mediaInfo:OY.truncate(s),clientInfo:OY.truncate(c),screenInfo:OY.truncate(d),userInfo:OY.truncate(f),snapshotStatus:OY.truncate(l),customInfo:OY.truncate(h)}}(h)));return v.incrementalSnapshot=OY.truncate(n("qoe-inc-snapshot")),v}catch(e){return void console.error(e)}},e._createStore=function(){return wY.createStore(kY.default)},t=bY([SY.default.metadata({id:"quality-log",filter:{test:function(e){return 0===e.indexOf("player.event.")||0===e.indexOf("player.action.")||0===e.indexOf("source.event.")||0===e.indexOf("ads.event.")||0===e.indexOf("mediaProvider.")||0===e.indexOf("metadata.")||0===e.indexOf("statistic.event")||0===e.indexOf("userInfo.")||0===e.indexOf("customInfo.")||0===e.indexOf("clientInfo.")||0===e.indexOf("campaignInfo.")||0===e.indexOf("hls.fragmentChanged")}},dimensions:["playbackRate","muted","volume","currentSrc","videoWidth","videoHeight","videoTrackId","seeking","paused","currentTime","duration","deviceType","playerVersion","autoplay","id","clientWidth","clientHeight","tid","sid","vid","ownerSid","tidCreatedAt","cdnProvider","cdnType","stp","referer","pageUrl","screenOrientation","live","bitrate","bufferHealth","droppedVideoFrames","clientId","userAgent","adSystem","adType","adSkipTimeOffset","adPlacementType","abr","vr","liveOpenTime","liveId","streamSeq","codecs","serviceContentId","serviceCategoryCode","serviceTrackingId","error","multiTrack","mediaType","screenMode","hlsSegmentDuration","hlsSegmentCount","hlsPartDuration","streamingProtocol"]})],e)}();dK.default=LY;var NY={},DY=c&&c.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},RY=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NY,"__esModule",{value:!0}),NY.ReplayMetric=void 0;var MY=RY(cW),jY=["player.event.emptied","source.event.ended","source.event.playing","ads.event.AdLoadStart","ads.event.AllAdsCompleted"],FY=function(){function e(){this.count=0,this.ended=!1}return e.prototype.update=function(e,t){var n,r;if("player.event.emptied"===e.mark)return this.ended=!1,void(this.count=0);if("source.event.ended"!==e.mark)if("source.event.playing"!==e.mark){if("ads.event.AdLoadStart"===e.mark){var i=null===(r=null===(n=e.payload.parameters)||void 0===n?void 0:n.creativeData)||void 0===r?void 0:r.transactionId;this.lastTid===i?this.ended&&(this.count+=1,this.ended=!1):(this.lastTid=i,this.ended=!1,this.count=0)}"ads.event.AllAdsCompleted"===e.mark&&(this.ended=!0)}else this.ended&&(this.count+=1,this.ended=!1);else this.ended=!0},e.aggregate=function(e,t,n){return e.reduce((function(e,t){return e+t.count}),0)},DY([MY.default.metadata({id:"replay",filter:{test:function(e){return jY.includes(e)}},dimensions:["seeking","duration","tid","paused","error"]})],e)}();NY.ReplayMetric=FY;var VY={},UY=c&&c.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},BY=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(VY,"__esModule",{value:!0}),VY.TimeShiftMetric=void 0;var zY=BY(cW),GY=function(){function e(){this._lastCurrntTime=0,this._timeShiftValue=0,this._played=!1,this._playingDvrLive=!0,this._maxLiveTimeShift=20}return e.prototype.update=function(e){var t,n,r=e.mark,i=e.payload;if(this._playingDvrLive)switch(r){case"mediaProvider.player.attach":(null===(t=i.parameters)||void 0===t?void 0:t.maxLiveTimeShift)&&(this._maxLiveTimeShift=null===(n=i.parameters)||void 0===n?void 0:n.maxLiveTimeShift);case"source.event.canplay":var o=i.dimensions;!isFinite(o.duration)&&o.seekable||(this._playingDvrLive=!1);break;case"player.event.timeupdate":var a=i.dimensions,s=a.currentTime;(p=a.seeking)||(this._lastCurrntTime=s);break;case"player.event.playing":this._played=!0;break;case"player.event.seeking":var u=i.dimensions,l=(s=u.currentTime,u.seekable),c=this._maxLiveTimeShift,d=this._getSeekableEnd(l);if(isFinite(d)&&d-s<=c&&this._lastCurrntTime>0){var f=this._lastCurrntTime-s;this._timeShiftValue>c?this._timeShiftValue=0:this._timeShiftValue=Math.max(0,this._timeShiftValue+f)}break;case"player.event.heartbeat":var h=i.dimensions,p=(s=h.currentTime,h.seeking),v=(l=h.seekable,h.paused);if(c=this._maxLiveTimeShift,d=this._getSeekableEnd(l),!isFinite(d))return;var m=d-s;p||(this._lastCurrntTime=s),m>c?this._timeShiftValue=m:this._played&&v?this._timeShiftValue+=1:this._timeShiftValue>c&&(this._timeShiftValue=0)}},e.prototype._getSeekableEnd=function(e){return(null==e?void 0:e.length)?e.end(e.length-1):NaN},e.aggregate=function(e){return e.length?Math.max.apply(Math,e.map((function(e){return isFinite(e._timeShiftValue)?e._timeShiftValue:0}))):NaN},UY([zY.default.metadata({id:"time-shift",filter:new RegExp(["player\\.event\\.heartbeat","player\\.event\\.seeking","player\\.event\\.playing","player\\.event\\.timeupdate","source\\.event\\.canplay","mediaProvider\\.player\\.attach"].join("|")),dimensions:["currentTime","paused","duration","seekable"]})],e)}();VY.TimeShiftMetric=GY;var qY={},HY=c&&c.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},WY=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qY,"__esModule",{value:!0});var KY=WY(cW),YY=function(){function e(){this._watchTime=0,this._markTime=0,this._watchTimePerProtocols={}}return e.prototype.update=function(e){var t;switch(e.mark){case"player.action.loop":case"player.event.loadstart":this._watchTime=0,this._watchTimePerProtocols={};break;case"player.event.stalled":case"player.event.waiting":case"player.event.playing":case"player.event.seeking":case"player.event.seeked":case"player.event.play":this._markTime=e.payload.timestamp;break;case"player.event.timeupdate":if(this._markTime>0){var n=e.payload.timestamp-this._markTime;this._watchTime+=n;var r=e.payload.dimensions.streamingProtocol;r&&(this._watchTimePerProtocols[r]=(null!==(t=this._watchTimePerProtocols[r])&&void 0!==t?t:0)+n)}this._markTime=e.payload.timestamp}},e.aggregate=function(e){return e.length?e[0]._watchTime:0},HY([KY.default.metadata({id:"watch-time",filter:new RegExp([/player\.event\.(loadstart|play|waiting|stalled|timeupdate|seeking|seeked|playing)/.source,/|player\.action\.loop/.source].join("")),dimensions:["currentTime","paused","streamingProtocol"]})],e)}();qY.default=YY;var XY={},$Y=c&&c.__assign||function(){return $Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$Y.apply(this,arguments)},QY=c&&c.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},JY=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(XY,"__esModule",{value:!0});var ZY=JY(cW),eX=function(){function e(){this._markTime=0,this._watchTimePerProtocols={}}return e.prototype.update=function(e){var t;switch(e.mark){case"player.action.loop":case"player.event.loadstart":this._watchTimePerProtocols={};break;case"player.event.stalled":case"player.event.waiting":case"player.event.playing":case"player.event.seeking":case"player.event.seeked":case"player.event.play":this._markTime=e.payload.timestamp;break;case"player.event.timeupdate":if(this._markTime>0){var n=e.payload.timestamp-this._markTime;this._watchTimePerProtocols["*"]+=n;var r=e.payload.dimensions.streamingProtocol;r&&(this._watchTimePerProtocols[r]=(null!==(t=this._watchTimePerProtocols[r])&&void 0!==t?t:0)+n)}this._markTime=e.payload.timestamp}},e.aggregate=function(e){return e.length?$Y({},e[0]._watchTimePerProtocols):{}},QY([ZY.default.metadata({id:"watch-time-per-protocol",filter:new RegExp([/player\.event\.(loadstart|play|waiting|stalled|timeupdate|seeking|seeked|playing)/.source,/|player\.action\.loop/.source].join("")),dimensions:["currentTime","paused","streamingProtocol"]})],e)}();XY.default=eX;var tX={},nX=c&&c.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},rX=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tX,"__esModule",{value:!0}),tX.IncrementalSnapshotMetric=void 0;var iX=rX(cW),oX=yK,aX=function(){function e(){}return e.prototype.update=function(e,t){var n;if("contentInfo.title"!==e.mark){if("statistic.event.qoetickend"===e.mark){this.tickTime=e.payload.timestamp;var r=e.payload.dimensions,i=r.duration,o=r.hlsSegmentDuration,a=r.hlsSegmentCount,s=r.hlsPartDuration,u=o&&s?Math.ceil(o/s):void 0;this.duration=oX.toMilliSeconds(i),this.segmentDuration=oX.toMilliSeconds(o),this.segmentCount=a,this.segmentPartDuration=oX.toMilliSeconds(s),this.segmentPartCount=u}}else this.contentInfoTitle=null===(n=e.payload.parameters)||void 0===n?void 0:n.value},e.aggregate=function(e,t,n){var r,i,o,a,s,u,l,c=(null===(r=e.find((function(e){return isFinite(e.tickTime)})))||void 0===r?void 0:r.tickTime)||Date.now(),d=(null===(i=e.find((function(e){return e.contentInfoTitle})))||void 0===i?void 0:i.contentInfoTitle)||"",f=n("buffering"),h=n("seeking"),p=n("video-size"),v=n("viewport-size"),m=n("timing"),g=n("error"),y=f.events.length,b=f.duration,_=h.events.length,E=h.duration;f.running&&(b+=c-f.events[f.events.length-1].start),h.running&&(E+=c-h.events[h.events.length-1].start);var w,S=n("watch-time-per-protocol"),T=Object.keys(S).filter((function(e){return"*"!==e})),k=T.includes("HLS"),x=T.includes("LL-HLS");if(k&&x){var A=[S.HLS,S["LL-HLS"]].sort((function(e,t){return e-t}))[0];w=Math.floor(A/S["*"]*100)}else(x||x)&&(w=100);T.map((function(e){return S[e]}));var P=null===(o=e.find((function(e){return e.segmentDuration})))||void 0===o?void 0:o.segmentDuration,O=null===(a=e.find((function(e){return e.segmentCount})))||void 0===a?void 0:a.segmentCount,C=null===(s=e.find((function(e){return e.segmentPartDuration})))||void 0===s?void 0:s.segmentPartDuration,I=null===(u=e.find((function(e){return e.segmentPartCount})))||void 0===u?void 0:u.segmentPartCount,L=null===(l=e.find((function(e){return"number"==typeof e.duration&&!isNaN(e.duration)})))||void 0===l?void 0:l.duration,N={loggingTime:c,playStartTime:m.playStart,playerLoadingTime:m.initialLoading,totalLoadingTime:m.totalLoading,bufferingCount:y,bufferingDuration:b,seekCount:_,seekDuration:E,initialVideoWidth:NaN,initialVideoHeight:NaN,averageVideoWidth:NaN,averageVideoHeight:NaN,averageViewportWidth:NaN,averageViewportHeight:NaN,watchingTime:S["*"],error:Boolean(g),averageBandwidth:NaN,title:d,segmentRatioFactor:w,segmentDuration:P,segmentCount:O,segmentPartDuration:C,segmentPartCount:I};return p&&(N.initialVideoWidth=p.initialVideoWidth,N.initialVideoHeight=p.initialVideoHeight,N.averageVideoWidth=p.averageVideoWidth.getAverage(c),N.averageVideoHeight=p.averageVideoHeight.getAverage(c)),v&&(N.averageViewportWidth=v.averageViewportWidth.getAverage(c),N.averageViewportHeight=v.averageViewportHeight.getAverage(c)),L&&(isFinite(L)?N.duration=L:P&&O&&(N.duration=P*O)),N},nX([iX.default.metadata({id:"qoe-inc-snapshot",filter:new RegExp(["contentInfo\\.title","statistic\\.event\\.qoetickend"].join("|")),dimensions:["duration","hlsSegmentDuration","hlsSegmentCount","hlsPartDuration"]})],e)}();tX.IncrementalSnapshotMetric=aX;var sX={},uX={},lX=c&&c.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},cX=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uX,"__esModule",{value:!0}),uX.BufferingMetric=void 0;var dX=cX(cW),fX=function(){function e(){this._reset()}return e.prototype.update=function(e){if("player.event.emptied"!==e.mark)if("player.action.replay"!==e.mark){if("player.event.canplay"===e.mark&&this._stop)this._stop=!1;else if(!this._stop)return"player.event.error"===e.mark&&this._runningEvent?(this._onBufferingEnded(e.payload.timestamp),void(this._stop=!0)):void("source.event.loadstart"===e.mark&&!this._runningEvent||"source.event.waiting"===e.mark&&!this._runningEvent?this._onBufferingStart(e.payload.timestamp,e.payload.dimensions.currentTime):"source.event.playing"===e.mark&&this._runningEvent&&this._onBufferingEnded(e.payload.timestamp))}else this._reset();else this._reset()},e.prototype._reset=function(){this._measures=[],this._runningEvent=void 0,this._stop=!0},e.prototype._onBufferingStart=function(e,t){console.assert(void 0===this._runningEvent,"last buffering record is incompleted"),this._runningEvent={mediaTime:t,start:e,end:NaN},this._measures.push(this._runningEvent)},e.prototype._onBufferingEnded=function(e){this._runningEvent&&(this._runningEvent.end=e,this._runningEvent=void 0)},e.aggregate=function(e,t,n){var r=e.reduce((function(e,t){return e.concat(t._measures)}),[]),i=r.filter((function(e){return isFinite(e.end)})),o=r.length!==i.length;return{events:r,duration:i.reduce((function(e,t){return e+(t.end-t.start)}),0),running:o}},lX([dX.default.metadata({id:"buffering",filter:new RegExp(["player\\.event\\.emptied","player\\.action\\.replay","player\\.event\\.canplay","player\\.event\\.error","source\\.event\\.loadstart","source\\.event\\.waiting","source\\.event\\.playing"].join("|")),dimensions:["currentTime","readyState"]})],e)}();uX.BufferingMetric=fX;var hX={},pX=c&&c.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},vX=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hX,"__esModule",{value:!0}),hX.ErrorMetric=void 0;var mX=vX(cW);function gX(e){switch(e.code){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";case 5:return"MEDIA_ERR_ENCRYPTED";default:return"MEDIA_ERR_UNKNOWN"}}var yX=function(){function e(){}return e.prototype.update=function(e,t){if("player.event.error"!==e.mark);else{var n=e.payload.dimensions.error;this.errorInfo={timestamp:e.payload.timestamp,currentTime:e.payload.currentTime,name:gX(n),message:n.message,raw:n}}},e.aggregate=function(e,t){for(var n,r=0,i=e.length;!n&&r<i;++r){var o=e[r];o.errorInfo&&(n=o.errorInfo)}return n},pX([mX.default.metadata({id:"error",filter:new RegExp(/player\.event\.error/),dimensions:["error","currentTime"]})],e)}();hX.ErrorMetric=yX;var bX={},_X=c&&c.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},EX=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bX,"__esModule",{value:!0}),bX.SeekingMetric=void 0;var wX=EX(cW),SX=function(){function e(){this._reset()}return e.prototype.update=function(e){if("player.event.emptied"!==e.mark)if("player.action.replay"!==e.mark)if("player.event.timeupdate"!==e.mark){if("player.event.canplay"===e.mark&&this._stop)this._stop=!1;else if(!this._stop){if("player.event.error"===e.mark&&this._runningEvent)return this._abort(this._runningEvent,e.payload.timestamp,"error"),void(this._stop=!0);if("player.event.seeking"!==e.mark)return"player.event.seeked"===e.mark&&this._runningEvent?(this._seeked(this._runningEvent,e.payload.timestamp,e.payload.dimensions.currentTime),void(this._runningEvent=void 0)):void 0;this._seeking(e.payload.timestamp,e.payload.dimensions.currentTime)}}else this._currentTime=e.payload.dimensions.currentTime;else this._reset();else this._reset()},e.prototype._reset=function(){this._measures=[],this._runningEvent=void 0,this._stop=!0,this._currentTime=NaN},e.prototype._seeking=function(e,t){this._runningEvent&&this._abort(this._runningEvent,e,"seek"),this._runningEvent={start:e,end:NaN,from:this._currentTime,to:t,reached:NaN,aborted:!1,abortReason:null},this._measures.push(this._runningEvent)},e.prototype._abort=function(e,t,n){e.end=t,e.aborted=!0,e.abortReason=n},e.prototype._seeked=function(e,t,n){e.reached=n,e.end=t},e.aggregate=function(e,t,n){var r=e.reduce((function(e,t){return e.concat(t._measures)}),[]),i=r.filter((function(e){return isFinite(e.end)})),o=r.length!==i.length;return{events:r,duration:i.reduce((function(e,t){return e+(t.end-t.start)}),0),running:o,aborted:i.reduce((function(e,t){return e+(t.aborted?1:0)}),0)}},_X([wX.default.metadata({id:"seeking",filter:new RegExp(["player\\.event\\.emptied","player\\.action\\.replay","player\\.event\\.timeupdate","player\\.event\\.canplay","player\\.event\\.error","player\\.event\\.seeking","player\\.event\\.seeked"].join("|")),dimensions:["currentTime"]})],e)}();bX.SeekingMetric=SX;var TX={},kX=c&&c.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},xX=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TX,"__esModule",{value:!0}),TX.TimingMetric=void 0;var AX=xX(cW),PX=function(){function e(){this.reset()}return e.prototype.reset=function(){this._loadstart=NaN,this._canplay=NaN,this._mediaLoadstart=NaN,this._mediaLoadeddata=NaN,this._totalLoading=NaN},e.prototype.update=function(e,t){if("player.event.emptied"!==e.mark){if("player.event.loadstart"!==e.mark||!isNaN(this._loadstart))return"player.event.canplay"===e.mark&&isNaN(this._canplay)?(this._canplay=e.payload.timestamp,void(isFinite(this._canplay)&&isFinite(this._loadstart)&&(this._totalLoading=this._canplay-this._loadstart))):void("source.event.loadstart"===e.mark&&isNaN(this._mediaLoadstart)?this._mediaLoadstart=e.payload.timestamp:"source.event.loadeddata"===e.mark&&isNaN(this._mediaLoadeddata)&&(this._mediaLoadeddata=e.payload.timestamp));this._loadstart=e.payload.timestamp}else this.reset()},e.aggregate=function(e,t){for(var n,r=0,i=e.length;!n&&r<i;++r){var o=e[r];isFinite(o._mediaLoadeddata)&&(n={playStart:o._loadstart,totalLoading:o._totalLoading,initialLoading:o._mediaLoadeddata-o._mediaLoadstart})}return n||{playStart:NaN,totalLoading:NaN,initialLoading:NaN}},kX([AX.default.metadata({id:"timing",filter:new RegExp(["player\\.event\\.","source\\.event\\."].join("|")),dimensions:[]})],e)}();TX.TimingMetric=PX;var OX={},CX={};Object.defineProperty(CX,"__esModule",{value:!0}),CX.QoeMovingAverage=void 0;var IX=function(){function e(){this.total=0,this.count=0,this.lastValue=0,this.lastTimestamp=0,this.savedDuration=0,this.paused=!1}return e.prototype.clone=function(){var t=new e;return t.total=this.total,t.count=this.count,t.lastValue=this.lastValue,t.lastTimestamp=this.lastTimestamp,t.savedDuration=this.savedDuration,t.paused=this.paused,t},e.prototype.getAverage=function(e){if(0===this.count)return 0;if(this.lastTimestamp>0){var t=e-this.lastTimestamp;return Math.floor((this.total+this.lastValue*t)/(this.count+t))}return this.savedDuration>0?Math.floor((this.total+this.lastValue*this.savedDuration)/(this.count+this.savedDuration)):Math.floor(this.total/this.count)},e.prototype.setPaused=function(e,t){e?this.lastTimestamp>0&&(this.savedDuration=t-this.lastTimestamp,this.lastTimestamp=0):this.savedDuration>0&&(this.lastTimestamp=t-this.savedDuration,this.savedDuration=0),this.paused=e},e.prototype.plusAssign=function(e,t){if(this.lastTimestamp>0){var n=t-this.lastTimestamp;this.total+=this.lastValue*n,this.count+=n}else this.paused||(this.total=e,this.count=1);this.lastValue=e,this.lastTimestamp=t},e.prototype.reset=function(){this.total=0,this.count=0,this.lastValue=0,this.lastTimestamp=0,this.savedDuration=0},e}();CX.QoeMovingAverage=IX;var LX=c&&c.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},NX=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(OX,"__esModule",{value:!0}),OX.VideoSizeMetric=void 0;var DX=NX(cW),RX=CX,MX=function(){function e(){this.initialVideoWidth=NaN,this.initialVideoHeight=NaN,this.videoWidth=NaN,this.videoHeight=NaN,this.avgVideoWidth=new RX.QoeMovingAverage,this.avgVideoHeight=new RX.QoeMovingAverage}return e.prototype._reset=function(){this.avgVideoWidth.reset(),this.avgVideoHeight.reset(),this.initialVideoWidth=NaN,this.initialVideoHeight=NaN,this.videoWidth=NaN,this.videoHeight=NaN},e.prototype._setInitialValue=function(e,t,n){this.initialVideoWidth=t,this.initialVideoHeight=n,this.videoWidth=t,this.videoHeight=n,this.avgVideoWidth.reset(),this.avgVideoWidth.plusAssign(t,e),this.avgVideoHeight.reset(),this.avgVideoHeight.plusAssign(n,e)},e.prototype.update=function(e,t){if("player.event.emptied"!==e.mark)if("player.action.replay"!==e.mark){if("source.event.loadedmetadata"===e.mark&&isNaN(this.initialVideoWidth)){var n=e.payload.dimensions;o=n.videoWidth,a=n.videoHeight,this._setInitialValue(e.payload.timestamp,o,a)}else if("player.event.resize"===e.mark){var r=e.payload.dimensions;return o=r.videoWidth,a=r.videoHeight,this.avgVideoWidth.plusAssign(o,e.payload.timestamp),this.avgVideoHeight.plusAssign(a,e.payload.timestamp),this.videoWidth=o,void(this.videoHeight=a)}}else{var i=e.payload.dimensions,o=i.videoWidth,a=i.videoHeight;this._setInitialValue(e.payload.timestamp,o,a)}else this._reset()},e.prototype._read=function(){return{initialVideoWidth:this.initialVideoWidth,initialVideoHeight:this.initialVideoHeight,currentVideoWidth:this.videoWidth,currentVideoHeight:this.videoHeight,averageVideoWidth:this.avgVideoWidth.clone(),averageVideoHeight:this.avgVideoHeight.clone()}},e.aggregate=function(e,t){for(var n,r=0,i=e.length;!n&&r<i;++r)n=e[r]._read();return n},LX([DX.default.metadata({id:"video-size",filter:new RegExp(["player\\.event\\.emptied","player\\.action\\.replay","source\\.event\\.loadedmetadata","player\\.event\\.resize"].join("|")),dimensions:["videoWidth","videoHeight"]})],e)}();OX.VideoSizeMetric=MX;var jX={},FX=c&&c.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},VX=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jX,"__esModule",{value:!0}),jX.ViewportSizeMetric=void 0;var UX=VX(cW),BX=CX,zX=function(){function e(){this.avgViewportWidth=new BX.QoeMovingAverage,this.avgViewportHeight=new BX.QoeMovingAverage,this._ended=!1}return e.prototype.update=function(e,t){var n=e.payload.dimensions,r=n.clientWidth,i=n.clientHeight;"player.event.ended"===e.mark&&(this._ended=!0),"player.event.playing"===e.mark&&this._ended&&(this._ended=!1,this.avgViewportWidth.reset(),this.avgViewportHeight.reset()),isFinite(r)&&isFinite(i)&&(this.avgViewportWidth.plusAssign(r,e.payload.timestamp),this.avgViewportHeight.plusAssign(i,e.payload.timestamp))},e.aggregate=function(e,t){for(var n,r=0,i=e.length;!n&&r<i;++r){var o=e[r];o.avgViewportWidth.count>0&&(n={averageViewportWidth:o.avgViewportWidth.clone(),averageViewportHeight:o.avgViewportHeight.clone()})}return n},FX([UX.default.metadata({id:"viewport-size",filter:new RegExp(["player\\.","ads\\."].join("|")),dimensions:["clientWidth","clientHeight"]})],e)}();jX.ViewportSizeMetric=zX,function(e){var t=c&&c.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=c&&c.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(uX,e),n(hX,e),n(bX,e),n(TX,e),n(OX,e),n(jX,e)}(sX),function(e){var t=c&&c.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=c&&c.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=c&&c.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r},i=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.logDimensions=e.defaultLogMonitor=e.WatchTimeProtocolMetric=e.WatchTimeMetric=e.ViewportSizeMetric=e.VideoSizeMetric=e.TimingMetric=e.SeekingMetric=e.ReplayMetric=e.QualityMetric=e.PlayTimeMetric=e.PlayCountMetric=e.Metric=e.LogMonitor=e.LogController=e.IncrementalSnapshotMetric=e.ErrorMetric=e.BufferingMetric=void 0;var o=r(uW);e.LogController=o.default,Object.defineProperty(e,"logDimensions",{enumerable:!0,get:function(){return o.logDimensions}});var a=i(lW);e.LogMonitor=a.default;var s=i(cW);e.Metric=s.default;var u=i(vW);e.PlayCountMetric=u.default;var l=i(wW);e.PlayTimeMetric=l.default;var d=i(dK);e.QualityMetric=d.default;var f=NY;Object.defineProperty(e,"ReplayMetric",{enumerable:!0,get:function(){return f.ReplayMetric}});var h=VY,p=i(qY);e.WatchTimeMetric=p.default;var v=i(XY);e.WatchTimeProtocolMetric=v.default;var m=tX;Object.defineProperty(e,"IncrementalSnapshotMetric",{enumerable:!0,get:function(){return m.IncrementalSnapshotMetric}});var g=sX;Object.defineProperty(e,"BufferingMetric",{enumerable:!0,get:function(){return g.BufferingMetric}}),Object.defineProperty(e,"ErrorMetric",{enumerable:!0,get:function(){return g.ErrorMetric}}),Object.defineProperty(e,"SeekingMetric",{enumerable:!0,get:function(){return g.SeekingMetric}}),Object.defineProperty(e,"TimingMetric",{enumerable:!0,get:function(){return g.TimingMetric}}),Object.defineProperty(e,"VideoSizeMetric",{enumerable:!0,get:function(){return g.VideoSizeMetric}}),Object.defineProperty(e,"ViewportSizeMetric",{enumerable:!0,get:function(){return g.ViewportSizeMetric}});var y=new a.default;e.defaultLogMonitor=y,y.register(u.default),y.register(l.default),y.register(d.default),y.register(p.default),y.register(v.default),y.register(h.TimeShiftMetric),y.register(m.IncrementalSnapshotMetric),y.register(g.BufferingMetric),y.register(g.SeekingMetric),y.register(f.ReplayMetric),y.register(g.VideoSizeMetric),y.register(g.ViewportSizeMetric),y.register(g.TimingMetric),y.register(g.ErrorMetric);var b=new o.default({monitor:y});e.default=b}(sW);var GX=d(sW),qX={exports:{}},HX="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(HX){var WX=new Uint8Array(16);qX.exports=function(){return HX(WX),WX}}else{var KX=new Array(16);qX.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),KX[t]=e>>>((3&t)<<3)&255;return KX}}for(var YX=[],XX=0;XX<256;++XX)YX[XX]=(XX+256).toString(16).substr(1);var $X,QX,JX=function(e,t){var n=t||0,r=YX;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")},ZX=qX.exports,e$=JX,t$=0,n$=0,r$=function(e,t,n){var r=t&&n||0,i=t||[],o=(e=e||{}).node||$X,a=void 0!==e.clockseq?e.clockseq:QX;if(null==o||null==a){var s=ZX();null==o&&(o=$X=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=QX=16383&(s[6]<<8|s[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),l=void 0!==e.nsecs?e.nsecs:n$+1,c=u-t$+(l-n$)/1e4;if(c<0&&void 0===e.clockseq&&(a=a+1&16383),(c<0||u>t$)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");t$=u,n$=l,QX=a;var d=(1e4*(268435455&(u+=122192928e5))+l)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=255&d;var f=u/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=255&f,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var h=0;h<6;++h)i[r+h]=o[h];return t||e$(i)},i$=qX.exports,o$=JX,a$=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||i$)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||o$(i)},s$=r$,u$=a$,l$=u$;l$.v1=s$,l$.v4=u$;var c$=l$,d$="undefined"!=typeof window&&window,f$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,h$=void 0!==n.g&&n.g,p$=d$||h$||f$;function v$(e,t){return void 0===t&&(t=null),new w$({method:"GET",url:e,headers:t})}function m$(e,t,n){return new w$({method:"POST",url:e,body:t,headers:n})}function g$(e,t){return new w$({method:"DELETE",url:e,headers:t})}function y$(e,t,n){return new w$({method:"PUT",url:e,body:t,headers:n})}function b$(e,t,n){return new w$({method:"PATCH",url:e,body:t,headers:n})}var _$=Pj((function(e,t){return e.response}));function E$(e,t){return _$(new w$({method:"GET",url:e,responseType:"json",headers:t}))}var w$=function(e){function t(t){var n=e.call(this)||this,r={async:!0,createXHR:function(){return this.crossDomain?function(){if(p$.XMLHttpRequest)return new p$.XMLHttpRequest;if(p$.XDomainRequest)return new p$.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(p$.XMLHttpRequest)return new p$.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(e=t[n],new p$.ActiveXObject(e))break}catch(e){}return new p$.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)r.url=t;else for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return n.request=r,n}return QR(t,e),t.prototype._subscribe=function(e){return new S$(e,this.request)},t.create=function(){var e=function(e){return new t(e)};return e.get=v$,e.post=m$,e.delete=g$,e.put=y$,e.patch=b$,e.getJSON=E$,e}(),t}(gM),S$=function(e){function t(t,n){var r=e.call(this,t)||this;r.request=n,r.done=!1;var i=n.headers=n.headers||{};return n.crossDomain||r.getHeader(i,"X-Requested-With")||(i["X-Requested-With"]="XMLHttpRequest"),r.getHeader(i,"Content-Type")||p$.FormData&&n.body instanceof p$.FormData||void 0===n.body||(i["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=r.serializeBody(n.body,r.getHeader(n.headers,"Content-Type")),r.send(),r}return QR(t,e),t.prototype.next=function(e){this.done=!0;var t,n=this,r=n.xhr,i=n.request,o=n.destination;try{t=new T$(e,r,i)}catch(e){return o.error(e)}o.next(t)},t.prototype.send=function(){var e=this.request,t=this.request,n=t.user,r=t.method,i=t.url,o=t.async,a=t.password,s=t.headers,u=t.body;try{var l=this.xhr=e.createXHR();this.setupEvents(l,e),n?l.open(r,i,o,n,a):l.open(r,i,o),o&&(l.timeout=e.timeout,l.responseType=e.responseType),"withCredentials"in l&&(l.withCredentials=!!e.withCredentials),this.setHeaders(l,s),u?l.send(u):l.send()}catch(e){this.error(e)}},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(p$.FormData&&e instanceof p$.FormData)return e;if(t){var n=t.indexOf(";");-1!==n&&(t=t.substring(0,n))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setRequestHeader(n,t[n])},t.prototype.getHeader=function(e,t){for(var n in e)if(n.toLowerCase()===t.toLowerCase())return e[n]},t.prototype.setupEvents=function(e,t){var n,r,i=t.progressSubscriber;function o(e){var t,n=o,r=n.subscriber,i=n.progressSubscriber,a=n.request;i&&i.error(e);try{t=new P$(this,a)}catch(e){t=e}r.error(t)}function a(e){}function s(e){var t=s,n=t.subscriber,r=t.progressSubscriber,i=t.request;if(4===this.readyState){var o=1223===this.status?204:this.status,a="text"===this.responseType?this.response||this.responseText:this.response;if(0===o&&(o=a?200:0),o<400)r&&r.complete(),n.next(e),n.complete();else{r&&r.error(e);var u=void 0;try{u=new x$("ajax error "+o,this,i)}catch(e){u=e}n.error(u)}}}e.ontimeout=o,o.request=t,o.subscriber=this,o.progressSubscriber=i,e.upload&&"withCredentials"in e&&(i&&(n=function(e){n.progressSubscriber.next(e)},p$.XDomainRequest?e.onprogress=n:e.upload.onprogress=n,n.progressSubscriber=i),r=function(e){var t,n=r,i=n.progressSubscriber,o=n.subscriber,a=n.request;i&&i.error(e);try{t=new x$("ajax error",this,a)}catch(e){t=e}o.error(t)},e.onerror=r,r.request=t,r.subscriber=this,r.progressSubscriber=i),e.onreadystatechange=a,a.subscriber=this,a.progressSubscriber=i,a.request=t,e.onload=s,s.subscriber=this,s.progressSubscriber=i,s.request=t},t.prototype.unsubscribe=function(){var t=this.done,n=this.xhr;!t&&n&&4!==n.readyState&&"function"==typeof n.abort&&n.abort(),e.prototype.unsubscribe.call(this)},t}(cM),T$=function(e,t,n){this.originalEvent=e,this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=A$(this.responseType,t)},k$=function(){function e(e,t,n){return Error.call(this),this.message=e,this.name="AjaxError",this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=A$(this.responseType,t),this}return e.prototype=Object.create(Error.prototype),e}(),x$=k$;function A$(e,t){switch(e){case"json":return function(e){return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null")}(t);case"xml":return t.responseXML;default:return"response"in t?t.response:t.responseText}}var P$=function(e,t){return x$.call(this,"ajax timeout",e,t),this.name="AjaxTimeoutError",this},O$=w$.create,C$=["msExitFullscreen","mozExitFullscreen","webkitExitFullscreen","oExitFullscreen","exitFullscreen"],I$=["webkitExitFullScreen","exitFullScreen","webkitExitFullscreen","exitFullscreen"];function L$(e){if(!0===(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullscreenEnabled||document.msFullscreenEnabled||document.oFullscreenEnabled))for(var t=0;t<C$.length;++t){var n=C$[t];if(document[n]){document[n]();break}}else{var r=I$,i=void 0;for(t=0;!i&&t<r.length;++t)e[r[t]]&&(i=e[r[t]]);null==i||i.call(e)}return EF(sF(e,"fullscreenchange"),sF(e,"msfullscreenchange"),sF(e,"mozfullscreenchange"),sF(e,"ofullscreenchange"),sF(e,"webkitfullscreenchange"),sF(e,"webkitbeginfullscreen"),sF(e,"webkitendfullscreen"),sF(e,"fullscreenerror"),sF(e,"webkitfullscreenerror"),sF(e,"mozfullscreenerror"),sF(e,"msfullscreenerror"),sF(e,"ofullscreenerror")).pipe(xU(),ez(3e3),Jj((function(e){return e.type.indexOf("error")>-1?QM(new Error("Unexpected error while exit fullscreen")):$M(void 0)}))).toPromise()}function N$(e){if(!e)return NaN;if(0===e.length)return NaN;for(var t=0,n=0;n<e.length;n++){var r=e.start(n),i=e.end(n);if(!isFinite(r))return r;if(!isFinite(i))return i;t+=i-r}return t}var D$=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},R$=["msRequestFullscreen","mozRequestFullscreen","webkitRequestFullscreen","oRequestFullscreen","requestFullscreen"],M$=["webkitEnterFullScreen","enterFullScreen","webkitEnterFullscreen","enterFullscreen"];function j$(e,t){var n,r;n=!0===(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullscreenEnabled||document.msFullscreenEnabled||document.oFullscreenEnabled)?D$(D$([],R$),M$):M$;for(var i=0;!r&&i<n.length;++i)e[n[i]]&&(r=e[n[i]]);return null==r||r.call(e,t),EF(sF(e,"fullscreenchange"),sF(e,"msfullscreenchange"),sF(e,"mozfullscreenchange"),sF(e,"ofullscreenchange"),sF(e,"webkitfullscreenchange"),sF(e,"webkitbeginfullscreen"),sF(e,"webkitendfullscreen"),sF(e,"fullscreenerror"),sF(e,"webkitfullscreenerror"),sF(e,"mozfullscreenerror"),sF(e,"msfullscreenerror"),sF(e,"ofullscreenerror")).pipe(xU(),ez(3e3),Jj((function(e){return e.type.indexOf("error")>-1?QM(new Error("Unexpected error while switch to fullscreen")):$M(void 0)}))).toPromise()}var F$,V$,U$=function(){if(void 0===F$){var e=navigator.userAgent;F$=!!e.match(/iPad/i)||!!e.match(/iPhone/i)}return F$},B$=U$,z$=function(){var e;return function(){return void 0===e&&(e=/NAVER/.test(navigator.userAgent)||!!window.g_inapp&&1===window.g_inapp),e}}(),G$=z$;!function(e){e[e.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",e[e.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",e[e.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",e[e.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED"}(V$||(V$={}));var q$=V$,H$=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W$=function(e){function t(t){var n=e.call(this,t)||this;return n.name="NotSupportedError",n}return H$(t,e),t}(Error),K$=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Y$=function(e){function t(t,n){var r=n.videoWidth,i=n.videoHeight,o=e.call(this,t)||this;return o.videoHeight=i,o.videoWidth=r,o}return K$(t,e),t}(UF),X$=Y$,$$=function(){function e(e,t){this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.CAPTURING_PHASE=1,this.NONE=0,this.composed=!1,this.srcElement=null;var n=t||{bubbles:!1,cancelable:!1},r=n.bubbles,i=n.cancelable;this.initEvent(e,r,i),this.timeStamp=+new Date}return e.prototype.composedPath=function(){return[]},e.prototype.initEvent=function(e,t,n){this._type=e,this._bubbles=!!t,this._cancelable=!!n,this._eventPhase=this.NONE,this._isTrusted=!1,this._defaultPrevented=!1,this.cancelBubble=!1},e.prototype.preventDefault=function(){this._defaultPrevented=!0},e.prototype.stopImmediatePropagation=function(){this.cancelBubble=!0},e.prototype.stopPropagation=function(){},e.prototype.setTarget=function(e){this._target=e},e.prototype.setCurrentTarget=function(e){this._currentTarget=e},e.prototype.setEventPhase=function(e){this._eventPhase=e},e.prototype.setTrust=function(e){this._isTrusted=e},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this._defaultPrevented},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!1,configurable:!0}),e}(),Q$=$$,J$=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Z$=function(e){function t(t,n){var r=e.call(this,t)||this;return n&&Object.assign(r,n),r}return J$(t,e),t.LOAD_START="loadstart",t.PROGRESS="progress",t.SUSPEND="suspend",t.ABORT="abort",t.ERROR="error",t.EMPTIED="emptied",t.STALLED="stalled",t.LOADED_METADATA="loadedmetadata",t.LOADED_DATA="loadeddata",t.CAN_PLAY="canplay",t.CAN_PLAYTHROUGH="canplaythrough",t.PLAYING="playing",t.WAITING="waiting",t.SEEKING="seeking",t.SEEKED="seeked",t.ENDED="ended",t.DURATION_CHANGED="durationchange",t.TIME_UPDATE="timeupdate",t.PLAY="play",t.PAUSE="pause",t.RATE_CHANGE="ratechange",t.RESIZE="resize",t.VOLUME_CHANGE="volumechange",t.FULLSCREEN_CHANGE="fullscreenchange",t.FULLSCREEN_ERROR="fullscreenerror",t}(Q$),eQ=Z$;Z$.LOAD_START,Z$.PROGRESS,Z$.SUSPEND,Z$.ABORT,Z$.ERROR,Z$.EMPTIED,Z$.STALLED,Z$.LOADED_METADATA,Z$.LOADED_DATA,Z$.CAN_PLAY,Z$.CAN_PLAYTHROUGH,Z$.PLAYING,Z$.WAITING,Z$.SEEKING,Z$.SEEKED,Z$.ENDED,Z$.DURATION_CHANGED,Z$.TIME_UPDATE,Z$.PLAY,Z$.PAUSE,Z$.RATE_CHANGE,Z$.RESIZE,Z$.VOLUME_CHANGE;var tQ="levelswitched",nQ=/^([0-9]*\.?[0-9]*),?([0-9]*\.?[0-9])*$/i;function rQ(e){var t=e.indexOf("#");if(-1===t)return null;var n={};e.substring(t+1).split("&").forEach((function(e){var t=e.split("=");if(!(t.length>2))if(1!==t.length){var r=decodeURIComponent(t[0]),i=decodeURIComponent(t[1]);n[r]=i}else n[decodeURIComponent(e)]=""}));var r=Object.keys(n),i={};i.uri=e.substr(0,t);var o=!1;if(r.indexOf("t")>-1){var a=nQ.exec(n.t);a&&(i.begin=parseFloat(a[1]||"0"),i.end=parseFloat(a[2])||void 0),(i.begin||i.end)&&(o=!0)}if(r.indexOf("ext_vod_auth_key1")>-1)try{i.extVodAuthKey1s=JSON.parse(decodeURIComponent(n.ext_vod_auth_key1)),o=!0}catch(e){}if(r.indexOf("level_start")>-1)try{i.levelStart=JSON.parse(decodeURIComponent(n.level_start)),o=!0}catch(e){}if(r.indexOf("level_cap")>-1)try{i.levelCap=JSON.parse(decodeURIComponent(n.level_cap)),o=!0}catch(e){}return r.indexOf("max-bitrate")>-1&&(i.maxBitrate=parseInt(decodeURIComponent(n["max-bitrate"]),10),o=!0),r.indexOf("experimental-audio-bitrate")>-1&&(i.audioBitrate=parseInt(n["experimental-audio-bitrate"],10),o=!0),r.indexOf("experimental-video-bitrate")>-1&&(i.videoBitrate=parseInt(n["experimental-video-bitrate"],10),o=!0),r.indexOf("stream-type")>-1&&(i.streamType=JSON.parse(decodeURIComponent(n["stream-type"])),o=!0),o?i:null}function iQ(e,t){var n=function(e){return e.pipe(Pj((function(e){return rQ(e)})),gF((function(e){return null!==e})))}(t),r=hF(function(e){return hF(sF(e,"ended"),sF(e,"error"))}(e),t);return hF(function(e,t,n){return t.pipe(gF((function(e){return e.begin>0})),IB((function(t){return sF(e,"loadeddata").pipe(Pj((function(){return{type:"begin",time:t.begin}})),dU(1),RB(n))})))}(e,n,r),function(e,t,n){return t.pipe(gF((function(e){return void 0!==e.end&&!isNaN(e.end)&&e.end>e.begin})),IB((function(t){var r=Number(t.end);return sF(e,"timeupdate").pipe(gF((function(){return!e.paused&&!e.seeking&&e.currentTime>=r})),Pj((function(){return{type:"end",time:r}})),dU(1),RB(n))})))}(e,n,r))}var oQ,aQ=["fullscreenchange","msfullscreenchange","mozfullscreenchange","ofullscreenchange","webkitfullscreenchange","webkitbeginfullscreen","webkitendfullscreen","fullscreenerror","webkitfullscreenerror","mozfullscreenerror","msfullscreenerror","ofullscreenerror"],sQ=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},uQ=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},lQ=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}},cQ=function(){function e(){this._keySystems=[]}return e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.contains=function(e){for(var t=0,n=this._keySystems;t<n.length;t++)if(n[t].isSubsystemOf(e))return!0;return!1},e.prototype.define=function(e){this._keySystems.push(e)},e.prototype.requestMediaKeySystemAccess=function(e,t){var n,r;return sQ(this,void 0,void 0,(function(){var i,o,a,s,u;return uQ(this,(function(l){switch(l.label){case 0:i=null,l.label=1;case 1:l.trys.push([1,6,7,12]),o=lQ(this._keySystems),l.label=2;case 2:return[4,o.next()];case 3:if((a=l.sent()).done)return[3,5];if((s=a.value).isSubsystemOf(e))return i=s,[3,5];l.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return u=l.sent(),n={error:u},[3,12];case 7:return l.trys.push([7,,10,11]),a&&!a.done&&(r=o.return)?[4,r.call(o)]:[3,9];case 8:l.sent(),l.label=9;case 9:return[3,11];case 10:if(n)throw n.error;return[7];case 11:return[7];case 12:if(!i)throw new W$("No available key system access");return[2,i.requestMediaKeySystemAccess(e,t)]}}))}))},e.prototype.getMediaKeysController=function(e){for(var t=0,n=this._keySystems;t<n.length;t++){var r=n[t];if(r.contains(e)){var i=r.getMediaKeysController(e);if(i)return i}}return null},e}(),dQ=cQ,fQ=function(){return void 0===oQ&&(oQ="Apple Computer, Inc."===navigator.vendor),oQ},hQ=function(){function e(){}return e.prototype.isSubsystemOf=function(e){return["com.apple.fps","com.microsoft.playready","com.widevine.alpha"].indexOf(e)>-1},e.prototype.contains=function(){return!1},e.prototype.requestMediaKeySystemAccess=function(e,t){return navigator.requestMediaKeySystemAccess(e,t)},e.prototype.getMediaKeysController=function(){return null},e}(),pQ="$rtti.identifier";function vQ(e){return function(t){return Object.defineProperty(t,pQ,{value:e,enumerable:!1,configurable:!1,writable:!1}),t}}function mQ(e){return e[pQ]}function gQ(e,t){return!!t&&mQ(e.constructor)===t}var yQ=function(){return yQ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yQ.apply(this,arguments)},bQ=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},_Q=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},EQ=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},wQ=function(){function e(e,t,n){var r=yQ(yQ({},t),{videoCapabilities:EQ([],t.videoCapabilities||[]),audioCapabilities:EQ([],t.audioCapabilities||[]),initDataTypes:EQ([],t.initDataTypes||[]),sessionTypes:EQ([],t.sessionTypes||[])});this._keySystemString=e,this._config=r,this._delegate=n}return Object.defineProperty(e.prototype,"keySystem",{get:function(){return this._keySystemString},enumerable:!1,configurable:!0}),e.prototype.createMediaKeys=function(){return bQ(this,void 0,void 0,(function(){return _Q(this,(function(e){return[2,this._delegate.createMediaKeys(this._keySystemString,this._config)]}))}))},e.prototype.getConfiguration=function(){return this._config},e}(),SQ=function(){function e(){}return e.stringToUint16Array=function(e){for(var t=new Uint16Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e.charCodeAt(n);return t},e.arrayToString=function(e){var t=new Uint16Array(e.buffer);return String.fromCharCode.apply(null,t)},e.base64ToUint8Array=function(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r},e.concat=function(t,n){void 0===n&&(n=e.LITTLE_ENDIAN);for(var r=t.reduce((function(e,t){return e+t.byteLength}),0),i=new Uint8Array(r),o=new DataView(i.buffer),a=0,s=null,u=0,l=0,c=t[u];c;){if(s=null,a%(l=c.byteLength/c.length)==0)switch(l){case 1:s=new Uint8Array(i.buffer,a,c.length);break;case 2:s=new Uint16Array(i.buffer,a,c.length);break;case 4:s=new Uint32Array(i.buffer,a,c.length)}if(s)s.set(c);else{switch(l){case 2:s=function(e,t){return o.setUint16(t,e,n)};break;case 4:s=function(e,t){return o.setUint32(t,e,n)};break;default:s=function(e,t){return o.setUint8(t,e)}}for(var d=0;d<c.length;++d)s(c[d],a+d*l)}u+=1,a+=c.byteLength,c=t[u]}return i},e.uint8ArrayToBase64=function(e){for(var t,n,r,i,o,a,s,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;c<e.length;)i=(t=e[c++])>>2,o=(3&t)<<4|(n=c<e.length?e[c++]:Number.NaN)>>4,a=(15&n)<<2|(r=c<e.length?e[c++]:Number.NaN)>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),l+=u.charAt(i)+u.charAt(o)+u.charAt(a)+u.charAt(s);return l},e.BIG_ENDIAN=!0,e.LITTLE_ENDIAN=!1,e}(),TQ=SQ,kQ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xQ=function(e){function t(t){var n=e.call(this,"message")||this;return n.message=t.message,n.messageType=t.messageType,n}return kQ(t,e),t}(Q$),AQ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PQ=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},OQ=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},CQ=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.onkeystatuseschange=null,o.onmessage=null,o._handleKeyMessage=function(e){o.dispatchEvent(new xQ({message:e.message,messageType:"license-request"}))},o._handleKeyAdded=function(e){o._keyStatuses.set(new Uint8Array([0]),"usable")},o._handleKeyError=function(e){},o._handleKeyClose=function(e){},o.handle=null,o._init=t,o._contentType=r,o._keys=n,o._keyStatuses=new Map,o._delegation=i,o}return AQ(t,e),Object.defineProperty(t.prototype,"closed",{get:function(){var e=this;return this._closingOrClosed?Promise.resolve():new Promise((function(t,n){e._singals.push({resolve:t,reject:n})}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expiration",{get:function(){return NaN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyStatuses",{get:function(){return this._keyStatuses},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){var e;return(null===(e=this.handle)||void 0===e?void 0:e.sessionId)||""},enumerable:!1,configurable:!0}),t.prototype.close=function(){throw new Error("Method not implemented.")},t.prototype._createFairPlaySession=function(e,t){var n=ArrayBuffer.isView(t)?t.buffer:t,r=this._delegation.getServerCertificate(),i=new Uint8Array(ArrayBuffer.isView(r)?r.buffer:r),o=String.fromCharCode.apply(null,new Uint16Array(n)),a=document.createElement("a");a.href=o;var s=function(e){for(var t=new Uint16Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e.charCodeAt(n);return t}(a.hostname),u=TQ.concat([new Uint8Array(n),new Uint32Array([s.byteLength]),s,new Uint32Array([i.byteLength]),i],TQ.BIG_ENDIAN);return this._keys.createSession(this._contentType,u)},t.prototype.generateRequest=function(e,t){return PQ(this,void 0,void 0,(function(){return OQ(this,(function(n){return"com.apple.fps"===this._keys.keySystem?this.handle=this._createFairPlaySession(e,t):this.handle=this._keys.createSession(this._contentType,new Uint8Array(ArrayBuffer.isView(t)?t.buffer:t)),this.handle.addEventListener("webkitkeymessage",this._handleKeyMessage),this.handle.addEventListener("webkitkeyadded",this._handleKeyAdded),this.handle.addEventListener("webkitkeyerror",this._handleKeyError),this.handle.addEventListener("mskeymessage",this._handleKeyMessage),this.handle.addEventListener("mskeyadded",this._handleKeyAdded),this.handle.addEventListener("mskeyerror",this._handleKeyError),this.handle.addEventListener("mskeyclose",this._handleKeyClose),[2]}))}))},t.prototype.load=function(e){throw new Error("Method not implemented.")},t.prototype.remove=function(){throw new Error("Method not implemented.")},t.prototype.update=function(e){return PQ(this,void 0,void 0,(function(){var t;return OQ(this,(function(n){return this.handle?(t=ArrayBuffer.isView(e)?e.buffer:e,this.handle.update(new Uint8Array(t)),[2]):[2]}))}))},t}(Tz),IQ=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},LQ=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},NQ=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},DQ=function(){function e(e,t,n,r){this._keySessionController=null,this._handleKeyMessageEvent=function(e){},this._handleKeyStatusesChangeEvent=function(e){},this._init=e,this._keys=t,this._keySystem=n,this._contentType=r,this._media=null}return e.prototype.createSession=function(e){var t=this;if(void 0===e&&(e="temporary"),"persistent-license"===e)throw new W$("This key system does not support persistent license");return this._keySessionController&&this._clearSessionController(this._keySessionController),this._keySessionController=new CQ(this._init,this._keys,this._contentType,{getServerCertificate:function(){return t._certificate}}),this._keySessionController.addEventListener("message",this._handleKeyMessageEvent),this._keySessionController.addEventListener("keystatuseschange",this._handleKeyStatusesChangeEvent),this._keySessionController},e.prototype.setServerCertificate=function(e){return LQ(this,void 0,void 0,(function(){return NQ(this,(function(t){return this._certificate=e,[2,!0]}))}))},e.prototype.attachMedia=function(e){return LQ(this,void 0,void 0,(function(){return NQ(this,(function(t){switch(t.label){case 0:return this._media=e,e.msSetMediaKeys?[4,e.msSetMediaKeys(this._keys)]:[3,2];case 1:return t.sent(),[3,4];case 2:return e.webkitSetMediaKeys?[4,e.webkitSetMediaKeys(this._keys)]:[3,4];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))},e.prototype.close=function(){return LQ(this,void 0,void 0,(function(){return NQ(this,(function(e){return[2]}))}))},e.prototype.decryptRequestUri=function(e){return LQ(this,void 0,void 0,(function(){return NQ(this,(function(t){return[2,e]}))}))},e.prototype._clearSessionController=function(e){e.removeEventListener("message",this._handleKeyMessageEvent),e.removeEventListener("keystatuseschange",this._handleKeyStatusesChangeEvent)},IQ([vQ("EMEProducedCandidateMediaKeysController")],e)}(),RQ=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},MQ=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},jQ=function(){function e(e){this._init=e,this._mediaKeyCreateDelegation={createMediaKeys:this._createMediaKeys.bind(this)}}return e.prototype.isSubsystemOf=function(e){return this._init.keysConstructor.isTypeSupported(e)},e.prototype.contains=function(e){return gQ(e,"EMEProducedCandidateMediaKeysController")},e.prototype.requestMediaKeySystemAccess=function(e,t){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r];if(null!==(n=this.queryConfig(e,o)))break}if(null===n)throw new W$("No available key system access");return this.createAccess(e,n)},e.prototype.createAccess=function(e,t){return RQ(this,void 0,void 0,(function(){return MQ(this,(function(n){return[2,new wQ(e,t,this._mediaKeyCreateDelegation)]}))}))},e.prototype.getMediaKeysController=function(e){return this.contains(e)?e:null},e.prototype.queryConfig=function(e,t){var n=null,r=null;if(t.videoCapabilities)for(var i=0,o=t.videoCapabilities;i<o.length;i++){var a=o[i];a.contentType&&(null===n&&(n=[]),this._init.keysConstructor.isTypeSupported(e,a.contentType)&&n.push(a.contentType))}if(t.audioCapabilities)for(var s=0,u=t.audioCapabilities;s<u.length;s++){var l=u[s];l.contentType&&(null===r&&(r=[]),this._init.keysConstructor.isTypeSupported(e,l.contentType)&&r.push(l.contentType))}if(!n&&!r||n&&0===n.length||r&&0===r.length)return null;var c={};return n&&(c.videoCapabilities=n.map((function(e){return{contentType:e}}))),r&&(c.audioCapabilities=r.map((function(e){return{contentType:e}}))),c},e.prototype._createMediaKeys=function(e,t){var n,r;return RQ(this,void 0,void 0,(function(){var i,o;return MQ(this,(function(a){if(!(i=(null===(n=t.videoCapabilities)||void 0===n?void 0:n[0].contentType)||(null===(r=t.audioCapabilities)||void 0===r?void 0:r[0].contentType)))throw new Error("InvalidStateError");return o=new this._init.keysConstructor(e),[2,new DQ(this._init,o,e,i)]}))}))},e}(),FQ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),VQ=function(e){function t(t){var n=e.call(this,"encrypted")||this;return n.initData=t.initData,n.initDataType=t.initDataType,n}return FQ(t,e),t}(Q$),UQ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),BQ=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},zQ=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function GQ(e){var t="undefined"!=typeof document?document.createElement("video"):void 0,n=dQ.getInstance(),r="",i=null;switch("undefined"!=typeof navigator&&"function"==typeof navigator.requestMediaKeySystemAccess&&void 0!==(null==t?void 0:t.onencrypted)?r="modern":"undefined"!=typeof WebKitMediaKeys&&void 0!==(null==t?void 0:t.onwebkitneedkey)&&void 0!==(null==t?void 0:t.webkitSetMediaKeys)&&void 0!==(null==t?void 0:t.webkitKeys)?r="webkit":"undefined"!=typeof MSMediaKeys&&void 0!==(null==t?void 0:t.onmsneedkey)&&void 0!==(null==t?void 0:t.msSetMediaKeys)&&void 0!==(null==t?void 0:t.msKeys)&&(r="ms"),r){case"modern":i=new hQ;break;case"webkit":i=new jQ({keysConstructor:WebKitMediaKeys,setMediaKeys:"webkitSetMediaKeys",needkey:"webkitneedkey",keymessage:"webkitkeymessage",keyadded:"webkitkeyadded",keyerror:"webkitkeyerror",keyclose:"webkitkeyclose"});break;case"ms":i=new jQ({keysConstructor:MSMediaKeys,setMediaKeys:"msSetMediaKeys",needkey:"msneedkey",keymessage:"mskeymessage",keyadded:"mskeyadded",keyerror:"mskeyerror",keyclose:"mskeyclose"});break;default:i=null}return i&&n.define(i),function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(this,t)||this;return r._isEncryptedMediaExtension=!0,r._onEncrypted=function(e){var t=e.initData,n=e.initDataType;r.dispatchEvent(new VQ({initData:t,initDataType:n}))},r._onNeedKey=function(e){var t=fQ()?"skd":"cenc",n=e.initData;r.dispatchEvent(new VQ({initData:n,initDataType:t}))},r._initEncryptedEvent(),r._preserveInitData(),r}return UQ(t,e),t.prototype._initEncryptedEvent=function(){"modern"===r?this.video.addEventListener("encrypted",this._onEncrypted):"ms"===r?this.video.addEventListener("msneedkey",this._onNeedKey):"webkit"===r&&this.video.addEventListener("webkitneedkey",this._onNeedKey)},t.prototype._preserveInitData=function(){var e=this;this.addEventListener("encrypted",(function(t){var n=t,r=n.initData,i=n.initDataType;e._initData=r,e._initDataType=i})),this.addEventListener("emptied",(function(){e._initData=void 0,e._initDataType=void 0}))},t.prototype.setMediaKeys=function(t){return BQ(this,void 0,void 0,(function(){return zQ(this,(function(n){switch(n.label){case 0:return this.mediaKeys===t?[2]:[4,this._setMediaKeysNative(null)];case 1:return n.sent(),[4,e.prototype.setMediaKeys.call(this,null)];case 2:return n.sent(),t?[4,dQ.getInstance().getMediaKeysController(t)]:[2];case 3:return n.sent()?[4,e.prototype.setMediaKeys.call(this,t)]:[3,5];case 4:return n.sent(),[3,7];case 5:return[4,this._setMediaKeysNative(t)];case 6:n.sent(),n.label=7;case 7:return[2]}}))}))},t.prototype._setMediaKeysNative=function(e){return BQ(this,void 0,void 0,(function(){var t;return zQ(this,(function(n){switch(n.label){case 0:return(t=this.video).setMediaKeys?[4,t.setMediaKeys(e)]:[3,2];case 1:return n.sent(),[3,6];case 2:return t.msSetMediaKeys&&e?[4,t.msSetMediaKeys(e)]:[3,4];case 3:return n.sent(),[3,6];case 4:return t.webkitSetMediaKeys?[4,t.webkitSetMediaKeys(e)]:[3,6];case 5:n.sent(),n.label=6;case 6:return[2]}}))}))},t}(e)}var qQ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function HQ(e){if("undefined"==typeof window)return e;if(!fQ())return e;var t=Symbol();return function(e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return i[t]=!1,i.video.addEventListener("ended",(function(){i[t]=!0})),i.video.addEventListener("emptied",(function(){i[t]=!1})),i.video.addEventListener("seeking",(function(){i[t]=!1})),i.video.addEventListener("play",(function(){i[t]&&i.video.seekable.length>0&&(i[t]=!1,i.video.currentTime=0)})),i}return qQ(n,e),Object.defineProperty(n.prototype,"ended",{get:function(){return this[t]},enumerable:!1,configurable:!0}),n}(e)}var WQ=Symbol("preprocessor-type"),KQ=function(){return KQ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},KQ.apply(this,arguments)},YQ=function(){function e(){}return e.prototype.initialize=function(t){this._processorMap=e._registeredProcessors.reduce((function(e,n){var r;try{var i=new n;return i.initialize(t),KQ(KQ({},e),((r={})[n[WQ]]=i,r))}catch(t){return console.error(t),e}}),{})},e.prototype.configure=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){var n,r=t[WQ];r&&(null===(n=e._processorMap[r])||void 0===n||n.configure(t))}))},e.prototype.getControls=function(e){var t;return null===(t=this._processorMap[e])||void 0===t?void 0:t.control},e.prototype.clear=function(){throw new Error("Not implemented yet")},e._registeredProcessors=[],e.registerProcessor=function(t){e._registeredProcessors.find((function(e){return e===t}))||e._registeredProcessors.push(t)},e}(),XQ=YQ,$Q=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},QQ=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},JQ=function(){function e(){this._cached={}}return e.prototype.delete=function(e){return $Q(this,void 0,void 0,(function(){return QQ(this,(function(t){return delete this._cached[e],[2]}))}))},e.prototype.put=function(e,t){return $Q(this,void 0,void 0,(function(){return QQ(this,(function(n){return this._cached[e]=t,[2]}))}))},e.prototype.match=function(e){return $Q(this,void 0,void 0,(function(){return QQ(this,(function(t){return[2,this._cached[e]]}))}))},e}(),ZQ=function(){function e(){this._caps=[]}return e.prototype.push=function(e){this._caps.push(e)},e.prototype.canPlayType=function(e){for(var t=0;t<this._caps.length;++t)if(this._caps[t].canPlayType(e))return this._caps[t];return null},e}(),eJ=ZQ,tJ=function(){return tJ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tJ.apply(this,arguments)},nJ={playsinline:"",disablePictureInPicture:"true",controlsList:"nodownload","x-webkit-airplay":"","webkit-playsinline":"",width:"100%",height:"100%"},rJ="webplayer-internal-video";function iJ(e){var t=/(\d+)px$/i.exec(e);return t?Number(t[1]):NaN}var oJ=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},aJ="webplayer-internal-source-shadow",sJ="webplayer-internal-source-wrapper",uJ="webplayer-internal-source-renderoverlay",lJ='@charset "UTF-8";\n\n.'+aJ+" {\n\t\tposition: relative;\n    width: 100%;\n    height: 100%;\n}\n\n."+sJ+" {\n    position: relative;\n    width: 100%;\n    height: 100%;\n}\n\n."+uJ+" {\n    display: none;\n    position: absolute;\n\t\ttop : 0px;\n\t\twidth : 100%;\n\t\theight : 100%;\n}\n\n."+rJ+" {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n}\n",cJ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dJ=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},fJ=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},hJ=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},pJ=function(e){function t(){var t=e.call(this)||this;if(t._resolveOrRejectPendingPromise=function(){var e,n=t._resolvePlayPromise,r=t._rejectPlayPromise;if(t._videoElement.removeEventListener(eQ.LOADED_DATA,t._resolveOrRejectPendingPromise),t._videoElement.removeEventListener(eQ.SUSPEND,t._reloadToHandlePendingPlayPromise),n&&r&&t._pendingPlayPromise)if(t._resetPendingPlayPromiseState(),(null===(e=t._videoElement.error)||void 0===e?void 0:e.code)!==q$.MEDIA_ERR_SRC_NOT_SUPPORTED){var i=t._videoElement.play();if(i&&i.then)i.then(n,r);else if(t._videoElement.paused){var o=new Error("The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission.");o.name="NotAllowedError",r(o)}else n()}else r(new W$("The operation is not supported."))},t._reloadToHandlePendingPlayPromise=function(){var e=t._videoElement,n=e.error,r=e.readyState,i=e.buffered.length;n||r>=1&&i>0||t._videoElement.load()},t._attachingMediaKeys=!1,t._onMediaControllerEncrypted=function(e){t.dispatchEvent(new VQ({initData:e.initData,initDataType:e.initDataType}))},t._onErrorFromMediaController=function(e){var n;if(null===(n=t._mediaController)||void 0===n?void 0:n.error){var r=t._mediaController.error,i=r.code,o=r.message;t._dispatchErrorEvent(i,o)}else t._dispatchErrorEvent(q$.MEDIA_ERR_NETWORK)},t._videoElement=function(e){var t=document.createElement("video");t.className=rJ;for(var n=0,r=Object.entries(tJ(tJ({},nJ),e));n<r.length;n++){var i=r[n],o=i[0],a=i[1];t.setAttribute(o,a||"")}return t}(),t._videoError=null,t.shadowRoot=function(e){void 0===e&&(e=document.createElement("video"));var t=document.createElement("div");t.classList.add(sJ),t.appendChild(e);var n=document.createElement("div");n.classList.add(uJ);var r=document.createElement("div");return r.classList.add(aJ),r.appendChild(t),r.appendChild(n),r}(t._videoElement),!document.querySelector("#wpc-source-style")){var n=function(e,t){var n;if(void 0===t&&(t=!0),!document)return null;var r=null!==(n=document.querySelector("head"))&&void 0!==n?n:document.querySelector("body"),i=document.createElement("style");i.type="text/css";var o=e;return i.styleSheet?i.styleSheet.cssText=o:i.appendChild(document.createTextNode(o)),t&&(null==r||r.appendChild(i)),i}(lJ,!0);n&&(n.id="wpc-source-style")}return t._init(),t._attachEvents(),t._initializePreProcessing(),t._caches=new JQ,t}var n;return cJ(t,e),n=t,t.requestMediaKeySystemAccess=function(e,t){return fJ(this,void 0,void 0,(function(){return hJ(this,(function(n){return[2,dQ.getInstance().requestMediaKeySystemAccess(e,t)]}))}))},Object.defineProperty(t.prototype,"video",{get:function(){return this._videoElement},enumerable:!1,configurable:!0}),t.prototype._init=function(){this._volume=this._videoElement.volume,this._playbackRate=this._videoElement.playbackRate,this._seeking=!1,this._startTime=0,this._mediaKeys=null,function(e,t){for(var n=t,r=e,i=t;n;)Object.getOwnPropertyNames(n).forEach((function(t){t in r||("function"==typeof i[t]?r[t]=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=i[t]).call.apply(e,oJ([i],n))}:Object.defineProperty(e,t,{get:function(){return i[t]},set:function(e){i[t]=e},configurable:!0}))})),n=Object.getPrototypeOf(n)}(this,this._videoElement),this._initObservables()},t.prototype._initObservables=function(){var e,t=this;this._onSourceAbort$=sF(this.video,eQ.ABORT),this._onSourceEmptied$=sF(this.video,eQ.EMPTIED),this._onSourcePlay$=sF(this.video,eQ.PLAY),this._onSourcePause$=sF(this.video,eQ.PAUSE),this._onSourcePlaying$=sF(this.video,eQ.PLAYING),this._onSourceError$=sF(this.video,eQ.ERROR),this._onSourceSeeking$=sF(this.video,eQ.SEEKING),this._onSourceSeeked$=sF(this.video,eQ.SEEKED),this._onSourceProgress$=sF(this.video,eQ.PROGRESS),this._onSourceSuspend$=sF(this.video,eQ.SUSPEND),this._onSourceResize$=sF(this.video,eQ.RESIZE),this._onSourceDurationChange$=sF(this.video,eQ.DURATION_CHANGED),this._onSourceLoadStart$=sF(this.video,eQ.LOAD_START),this._onSourceLoadedMetadata$=sF(this.video,eQ.LOADED_METADATA),this._onSourceEnded$=sF(this.video,eQ.ENDED),this._sourceChanged$=new wM,(e=this.video,hF.apply(void 0,aQ.map((function(t){return sF(e,t)}))).pipe(Pj((function(e){return-1===e.type.indexOf("error")?"fullscreenchange":"fullscreenerror"})))).subscribe((function(e){t.dispatchEvent(new eQ(e))})),this._onSourceEmptied$.subscribe((function(){t._srcLoadedAt=void 0})),this._onSourceLoadStart$.subscribe((function(){t._srcLoadedAt=Date.now()}))},t.prototype._abortPendingPlayPromise=function(){if(this._pendingPlayPromise){var e=new Error("The operation was aborted.");e.name="AbortError","function"==typeof this._rejectPlayPromise&&this._rejectPlayPromise(e)}},t.prototype._resetPendingPlayPromiseState=function(){this._pendingPlayPromise=void 0,this._resolvePlayPromise=void 0,this._rejectPlayPromise=void 0,this._videoElement.removeEventListener(eQ.LOADED_DATA,this._resolveOrRejectPendingPromise),this._videoElement.removeEventListener(eQ.SUSPEND,this._reloadToHandlePendingPlayPromise)},t.prototype._createPendingPlayPromise=function(){var e=this;if(this._pendingPlayPromise)return this._pendingPlayPromise;var t=new Promise((function(t,n){e._resolvePlayPromise=function(){return t()},e._rejectPlayPromise=function(e){return n(e)},e._videoElement.addEventListener(eQ.LOADED_DATA,e._resolveOrRejectPendingPromise),e._videoElement.addEventListener(eQ.SUSPEND,e._reloadToHandlePendingPlayPromise)}));return this._pendingPlayPromise=t,t},t.prototype.play=function(){var e,t=this;if(0===this._videoElement.src.length)return this._videoElement.load(),this._createPendingPlayPromise();var n=0===this._videoElement.src.indexOf("blob:");if(this._videoElement.audioTracks&&!n){var r=this._videoElement.readyState<2;if(0===(null===(e=this._videoElement.audioTracks)||void 0===e?void 0:e.length)&&B$()&&r)return this._videoElement.load(),this._createPendingPlayPromise()}var i=N$(this.seekable),o=!isFinite(i)||0===i,a=this._srcLoadedAt&&Date.now()-this._srcLoadedAt>3e3;if(o&&a){if(!n)return this._videoElement.load(),this._createPendingPlayPromise();var s=this._videoElement.seekable.length;if(s){var u=this._videoElement.seekable.end(s-1);isFinite(u)&&(this._videoElement.currentTime=u-5)}}return this._videoElement.play()||new Promise((function(e,n){t._videoElement.paused?n(new Error("play() can only be initiated by a user gesture")):e()}))},t.prototype.pause=function(){return this._pendingPlayPromise&&(this._abortPendingPlayPromise(),this._resetPendingPlayPromiseState()),this._videoElement.pause()},t.prototype.load=function(){var e;this._sourceChanged$.next(null!==(e=this._src)&&void 0!==e?e:""),this._mediaController?this._mediaController.load():this._videoElement.load()},t.prototype.canPlayType=function(e){var t,r=null===(t=this._videoElement)||void 0===t?void 0:t.canPlayType(e);return""!==r&&r||!n.mediaCapabilities.canPlayType(e)?r:"extensible"},t.prototype.removeAttribute=function(e){this.video.removeAttribute(e),"src"===e&&(this._src="",this._videoError=null,this._destroyMediaController())},t.prototype._destroyMediaController=function(){var e=this._mediaController;e&&(e.removeEventListener("error",this._onErrorFromMediaController),e.removeEventListener("encrypted",this._onMediaControllerEncrypted),e.destroy(),GX.setOwnership(e,void 0),this._mediaController=null,this._abrLevelSwitchedSubscription$.unsubscribe())},Object.defineProperty(t.prototype,"poster",{get:function(){return this.video.poster},set:function(e){if(this.video.poster=e,B$()&&G$()){var t=this._videoElement.style;t.backgroundRepeat="no-repeat",t.backgroundPosition="center center",t.backgroundSize="contain",t.backgroundImage='url("'+e+'")'}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volume",{get:function(){return this.video.volume},set:function(e){this.video.volume=e,this._volume=this.video.volume},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"muted",{get:function(){return this.video.muted},set:function(e){this.video.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultMuted",{get:function(){return this.video.defaultMuted},set:function(e){this.video.defaultMuted=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seeking",{get:function(){return this._seeking},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seekable",{get:function(){var e,t;return null!==(t=null===(e=this._mediaController)||void 0===e?void 0:e.seekable)&&void 0!==t?t:this.video.seekable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return!this._pendingPlayPromise&&this._videoElement.paused},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.video.currentTime},set:function(e){var t=this,n=.1;if(!isFinite(e))throw new Error("Failed to set the 'currentTime' property on 'SourcePlayer': The provided double value is non-finite.");if(e>=this.video.duration-n)if(this.video.buffered.length>0){var r=this.video.buffered.end(this.video.buffered.length-1);r>=this.video.duration-n?this.video.currentTime=r-n:(this._onSourceSeeking$.pipe(DB(this._onSourceDurationChange$),DB(this._onSourceSeeked$),dU(1),RB(hF(this._onSourceEnded$,this._onSourceAbort$))).subscribe((function(){var e=t.video.buffered.end(t.video.buffered.length-1);t.video.currentTime=e-n})),this.video.currentTime=Math.floor(this.video.duration))}else this.video.currentTime=Math.floor(this.video.duration);else this.video.currentTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return this._src},set:function(e){this._destroyMediaController(),this.video.mediaKeys&&this.video.setMediaKeys(null),this._videoError=null,this._startTime=0,this._src=e,this._sourceChanged$.next(e),this._pendingPlayPromise&&0!==this.video.networkState&&(this._abortPendingPlayPromise(),this._resetPendingPlayPromiseState());var t,r=e.replace(nQ,""),i=/\.m3u8[?]?/.test(t=r)?"application/x-mpegURL":/\.multiview[?]?/.test(t)?"application/vnd.naver.multiview":/\.mpd[?]?/.test(t)?"application/dash+xml":/\.mp4[?]?/.test(t)?"video/mp4":null;if(i){var o=n.mediaCapabilities.canPlayType(i);if(o)return void this._playWithMediaCap(o)}this._videoElement.src=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){var e,t;return null!==(t=null===(e=this._mediaController)||void 0===e?void 0:e.duration)&&void 0!==t?t:this.video.duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(e){this._playbackRate=e,this.video.playbackRate=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultPlaybackRate",{get:function(){var e;return null!==(e=this.video.defaultPlaybackRate)&&void 0!==e?e:1},set:function(e){this.video.defaultPlaybackRate=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){var e=this.shadowRoot.style.width;return e?iJ(e):NaN},set:function(e){this.shadowRoot.style.width=e+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.shadowRoot.style.height;return e?iJ(e):NaN},set:function(e){this.shadowRoot.style.height=e+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoWidth",{get:function(){return this.video.videoWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoHeight",{get:function(){return this.video.videoHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this._videoError||this.video.error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ended",{get:function(){return this.video.ended},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caches",{get:function(){return this._caches},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mediaKeys",{get:function(){return this._mediaKeys||this.video.mediaKeys||this.video.msKeys||this.video.webkitKeys},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoTracks",{get:function(){var e;return null===(e=this._mediaController)||void 0===e?void 0:e.videoTracks},enumerable:!1,configurable:!0}),t.prototype.setMediaKeys=function(e){return fJ(this,void 0,void 0,(function(){var t;return hJ(this,(function(n){switch(n.label){case 0:if(this._attachingMediaKeys)throw(t=new Error("The existing MediaKeys object cannot be removed at this time.")).name="InvalidStateError",t;if(this._mediaKeys===e)return[2];n.label=1;case 1:return n.trys.push([1,6,7,8]),this._attachingMediaKeys=!0,this._mediaKeys?[4,this._closeMediaKeysController(this._mediaKeys)]:[3,3];case 2:n.sent(),n.label=3;case 3:return this._mediaController?[4,this._setMediaKeysController(this._mediaController,e)]:[3,5];case 4:n.sent(),n.label=5;case 5:return this._mediaKeys=e,[3,8];case 6:return n.sent(),this._mediaKeys=null,[3,8];case 7:return this._attachingMediaKeys=!1,[7];case 8:return[2]}}))}))},t.prototype._setMediaKeysController=function(e,t){var n=t?dQ.getInstance().getMediaKeysController(t):null;e.mediaKeysController=n,n&&n.attachMedia(this.video)},t.prototype._closeMediaKeysController=function(e){return fJ(this,void 0,void 0,(function(){var t,n;return hJ(this,(function(r){switch(r.label){case 0:if(!(t=dQ.getInstance().getMediaKeysController(e)))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.close()];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),console.warn("internal error: failed send close signal to current mediaKeys Controller. it cause memory leaks potentially."),console.warn(n),[3,4];case 4:return this._mediaController&&(this._mediaController.mediaKeysController=null),this._mediaKeys=null,[2]}}))}))},t.prototype._attachEvents=function(){this._handlePlayingEvent(),this._restorePlaybackRate(),this._handleSeekEvent(),this._handlePendingPlayRequest(),this._handleMediaFragment(),this._handleSourceAttach(),this._handleErrorEvent(),this._handleAbort()},t.prototype._handleSeekEvent=function(){var e=this;this._onSourceSeeking$.subscribe((function(){e._seeking=!0})),this._onSourceSeeked$.subscribe((function(){e._seeking=!1}))},t.prototype._restorePlaybackRate=function(){var e=this;this._onSourceLoadStart$.pipe(UB((function(){e._playbackRate=e.defaultPlaybackRate})),IB((function(){return hF(e._onSourceLoadedMetadata$,e._onSourceSeeked$,e._onSourcePlaying$.pipe(RB(e._onSourceError$),gz(e._onSourcePause$))).pipe(gF((function(){return e.video.playbackRate!==e._playbackRate})))}))).subscribe((function(){e.video.playbackRate=e._playbackRate}))},t.prototype._handlePendingPlayRequest=function(){var e=this;this._onSourcePlay$.pipe(IB((function(){return e._onSourceLoadStart$})),gF((function(){var t=e._videoElement,n=t.preload,r=t.paused,i=t.networkState;return"none"===n&&!r&&1===i}))).subscribe((function(){e.play()}))},t.prototype._handleMediaFragment=function(){var e=this,t=_F(iQ(this,this._sourceChanged$),(function(e){return"begin"===e.type})),n=t[0],r=t[1];n.pipe(gF((function(){var t=N$(e.seekable);return isFinite(t)&&0!==t}))).subscribe((function(t){e.currentTime=t.time,e._startTime=t.time})),r.subscribe((function(){e.pause()}))},t.prototype._handleSourceAttach=function(){var e=this;this._onSourceLoadStart$.pipe(IB((function(){return kF(1e3).pipe(RB(hF(e._onSourceError$,e._onSourceDurationChange$,e._onSourceResize$,e._onSourceProgress$,e._onSourceSuspend$)))})),gF((function(){return 2!==e._videoElement.networkState&&""!==e._src&&null===e.video.error})),IB((function(){return O$({url:e._src,method:"HEAD"})})),RB(this._onSourceAbort$)).subscribe((function(t){t.status>=400&&e._dispatchErrorEvent(q$.MEDIA_ERR_NETWORK)}))},t.prototype._handleErrorEvent=function(){var e=this;this._onSourceError$.pipe(gF((function(){return null!==e._videoError||!!e._pendingPlayPromise}))).subscribe((function(){e._pendingPlayPromise&&e._resolveOrRejectPendingPromise()}))},t.prototype._handleAbort=function(){var e=this;this._onSourceLoadStart$.pipe(gF((function(){return Boolean(e._src)})),Pj((function(){return e._src})),IB((function(t){return e._onSourceEmptied$.pipe(gF((function(){return e._src!==t})))}))).subscribe((function(){e._videoError=null}))},t.prototype._handlePlayingEvent=function(){var e=this;this._onSourcePlaying$.subscribe((function(t){e.video.paused&&t.stopImmediatePropagation()}))},t.prototype._dispatchErrorEvent=function(e,t){void 0===t&&(t=q$[e]),this._videoError={code:e,message:t},this.dispatchEvent(new eQ("error"))},t.prototype._playWithMediaCap=function(e){var t,n,r=e.createController();r.videoElement=this._videoElement,r.src=this._src,r.caches=this._caches,this._mediaKeys&&this._setMediaKeysController(r,this._mediaKeys),this._videoElement.removeAttribute("src"),this._videoElement.load(),r.load(),GX.setOwnership(r,this),this._mediaController=r,this._mediaController.addEventListener("error",this._onErrorFromMediaController),this._mediaController.addEventListener("encrypted",this._onMediaControllerEncrypted),this._abrLevelSwitchedSubscription$=(t=this,n=this.video,hF(sF(this._mediaController,tQ),sF(n,eQ.RESIZE)).subscribe((function(e){var r=e instanceof X$?e:n,i=r.videoWidth,o=r.videoHeight,a=new eQ(eQ.RESIZE,{videoWidth:i,videoHeight:o});t.dispatchEvent(a)})))},t.prototype.getRenderContainer=function(){return this.shadowRoot.querySelector(".webplayer-internal-source-renderoverlay")},t.prototype.getNativeVideoElement=function(){return this.video},t.prototype._initializePreProcessing=function(){this._preprocessingManager=new XQ,this._preprocessingManager.initialize(this)},t.prototype.configurePreProcessor=function(e){this._preprocessingManager.configure(e)},t.prototype.clearPreprocessor=function(){this._preprocessingManager.clear()},t.prototype.getPreProcessorControl=function(e){return this._preprocessingManager.getControls(e)},t.prototype.addEventListener=function(t,n,r){e.prototype.addEventListener.call(this,t,n,r),"encrypted"!==t&&this.video.addEventListener(t,n,r)},t.prototype.dispatchEvent=function(t){return t instanceof Event&&this.video.dispatchEvent(t),e.prototype.dispatchEvent.call(this,t)},t.prototype.removeEventListener=function(t,n,r){e.prototype.removeEventListener.call(this,t,n,r),this.video.removeEventListener(t,n,r)},t.prototype.requestFullscreen=function(e){return j$(this.video,e)},t.prototype.exitFullscreen=function(){return L$(this.video)},t.prototype.getStartDate=function(){var e,t,n;return(null===(e=this._mediaController)||void 0===e?void 0:e.getStartDate)?n=null===(t=this._mediaController)||void 0===t?void 0:t.getStartDate():this.video.getStartDate&&(n=this.video.getStartDate()),n||new Date(NaN)},t.prototype._dumpState=function(){var e,t,n=null===(t=null===(e=this._mediaController)||void 0===e?void 0:e._dumpState)||void 0===t?void 0:t.call(e),r=[this.video.seekable,this.video.buffered].map((function(e){return function(e){var t=[];if(!(null==e?void 0:e.length))return t;for(var n=0;n<e.length;n++)t.push([e.start(n),e.end(n)]);return t}(e).map(function(e){return function(t){return t.map((function(t){return parseFloat(t.toFixed(e))}))}}(2))})),i=r[0],o=r[1];return{src:this.src,controller:n,seekable:i,buffered:o}},t.mediaCapabilities=new eJ,t.mediaKeySystems={define:function(e){dQ.getInstance().define(e)}},n=dJ([GQ,HQ],t)}(Tz),vJ="0.15.0",mJ="2.1.0";function gJ(e){switch(e){case 0:return"portrait-primary";case 90:return"landscape-primary";case-90:return"landscape-secondary";case 180:return"portrait-secondary";default:return}}function yJ(e){if(void 0===e&&(e=window),e.orientation)return gJ(e.orientation);var t=e.screen;return t.msOrientation||t.mozOrientation||(t.orientation||{type:void 0}).type||gJ(0)}var bJ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_J=function(){return _J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_J.apply(this,arguments)},EJ=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},wJ=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},SJ=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i._onContentPauseRequest=function(e){var t;if("ncast.advertisement"!==(null===(t=i.currentAd)||void 0===t?void 0:t.adSystem)&&(i.contentVideoElement.pause(),i.viewSlot)){var n=i.viewSlot;n.style.zIndex="100",n.style.display="block",i._resizeViewSlot()}},i._onContentResumeRequest=function(){i.viewSlot&&(i.viewSlot.style.display="none")},i._onAllAdsCompleted=function(){i.viewSlot&&(i.viewSlot.style.display="none")},i._width=NaN,i._height=NaN,i._viewMode=null,GX.init(i,{dimensions:{id:function(){return r.id},autoplay:function(){return r.autoplay},playerVersion:function(){return vJ},duration:function(){var e,t;return null!==(t=null===(e=i.currentAd)||void 0===e?void 0:e.adDuration)&&void 0!==t?t:null},videoWidth:function(){var e,t;return null!==(t=null===(e=i.currentAd)||void 0===e?void 0:e.adWidth)&&void 0!==t?t:null},videoHeight:function(){var e,t;return null!==(t=null===(e=i.currentAd)||void 0===e?void 0:e.adHeight)&&void 0!==t?t:null},adTimeOffset:function(){var e,t,n;return null!==(n=null===(t=null===(e=i.currentAd)||void 0===e?void 0:e.adPodInfo)||void 0===t?void 0:t.timeOffset)&&void 0!==n?n:null},adSystem:function(){var e,t;return null!==(t=null===(e=i.currentAd)||void 0===e?void 0:e.adSystem)&&void 0!==t?t:null},adType:function(){var e;return null===(e=i.currentAd)||void 0===e?void 0:e.adPlacementType},adSkipTimeOffset:function(){var e,t;return null!==(t=null===(e=i.currentAd)||void 0===e?void 0:e.adSkipTimeOffset)&&void 0!==t?t:null},currentTime:function(){var e,t,n=null===(e=i.currentAd)||void 0===e?void 0:e.adDuration,r=null===(t=i.currentAd)||void 0===t?void 0:t.adRemainingTime;return void 0===n||void 0===r?0:n-r},clientWidth:function(){return i._width},clientHeight:function(){return i._height},screenMode:function(){return i._viewMode===DF.AdViewModeTypes.FULLSCREEN?"FULL":"NORMAL"},volume:function(){var e,t;return null!==(t=null===(e=i.currentAd)||void 0===e?void 0:e.adVolume)&&void 0!==t?t:null},screenOrientation:function(){return yJ()||"landscape-primary"},live:function(){var e,t;return null!==(t=null===(e=i.currentAd)||void 0===e?void 0:e.live)&&void 0!==t&&t}}}),DF.AdEventTypesList.forEach((function(e){i.addEventListener(e,(function(e){GX.mark(i,"ads.event."+e.type)}))})),sF(i,DF.AdEventTypes.ContentPauseRequested).subscribe(i._onContentPauseRequest),sF(i,DF.AdEventTypes.ContentResumeRequested).subscribe(i._onContentResumeRequest),sF(n,"play").subscribe((function(){var e,t;"block"===(null===(t=null===(e=i.viewSlot)||void 0===e?void 0:e.style)||void 0===t?void 0:t.display)&&n.pause()})),sF(i,DF.AdEventTypes.AllAdsCompleted).subscribe(i._onAllAdsCompleted),i}return bJ(t,e),Object.defineProperty(t.prototype,"adViewSlot",{get:function(){return this.viewSlot},set:function(e){this.viewSlot=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"adCompanionSlots",{get:function(){return this.companionSlots},set:function(e){this.companionSlots=e},enumerable:!1,configurable:!0}),t.prototype.initAd=function(t,n,r,i,o,a){return EJ(this,void 0,void 0,(function(){var s;return wJ(this,(function(u){switch(u.label){case 0:if(!this.srcObject)return[2];this._width=t,this._height=n,this._viewMode=r,GX.mark(this,"ads.event.AdLoadStart",{width:t,height:n,screenMode:r===DF.AdViewModeTypes.FULLSCREEN?"FULL":"NORMAL",desiredBitrate:i,creativeData:o,environmentVars:a}),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,e.prototype.initAd.call(this,t,n,r,i,_J({},o),_J({},a))];case 2:return u.sent(),[3,4];case 3:return s=u.sent(),this._handleError(s),[3,4];case 4:return[2]}}))}))},t.prototype.resizeAd=function(t,n,r){var i=e.prototype.resizeAd.call(this,t,n,r);return this._width=t,this._height=n,this._viewMode=r,this._resizeViewSlot(),GX.mark(this,"ads.event.resize"),i},t.prototype._resizeViewSlot=function(){var e=this.contentVideoElement;if(this.viewSlot){var t=this.viewSlot,n=e.clientWidth,r=e.clientHeight;t.style.width=n+"px",t.style.height=r+"px"}},t.prototype._handleError=function(e){GX.mark(this,"ads.error"),this.dispatchEvent(new Q$("AdError"))},t}(aW),TJ=SJ;function kJ(e){return function(t){var n=Symbol("EventListener:"+e);Object.defineProperty(t,"on"+e,{get:function(){var e;return null!==(e=this[n])&&void 0!==e?e:null},set:function(t){var r=this[n];if(r){if(r===t)return;this.removeEventListener(e,r)}t&&this.addEventListener(e,t),this[n]=t||null},enumerable:!0,configurable:!0})}}var xJ=Symbol("array"),AJ=Symbol("ptr"),PJ=function(){function e(e){this[xJ]=e,this[AJ]=0}return e.prototype[Symbol.iterator]=function(){return this},e.prototype.next=function(){var e=this[xJ][this[AJ]];return this[AJ]+=1,{value:e,done:this[xJ].length<this[AJ]}},e}(),OJ=function(){function e(){this.events=new Map}return e.prototype.addEventListener=function(e,t,n){this.events.has(e)||this.events.set(e,[]);var r=this.events.get(e),i=this.getListenerCallback(t),o="object"==typeof n?n:{once:!1,priority:0},a=o.once,s=o.priority;this.addEventData(r,this.createEventData(i,a,s))},e.prototype.addEventData=function(e,t){for(var n=e.length;n--&&!(e[n].priority>=t.priority););e.splice(n+1,0,t)},e.prototype.dispatchEvent=function(e){var t=this.events.get(e.type)||[];if(!t||0===t.length)return!0;var n=t.slice();this.setEventTarget(e,this),this.setEventCurrentTarget(e,this),this.setEventPhase(e,e.AT_TARGET),this.setEventTrust(e,!0);for(var r=!1,i=0,o=n;i<o.length;i++){var a=o[i];try{a.listener(e)}catch(e){setTimeout((function(){throw e}),1)}if(r=r||e.defaultPrevented,a.once&&this.removeEventData(t,a),e.cancelBubble)break}return!r},e.prototype.setEventTarget=function(e,t){void 0!==e.setTarget&&e.setTarget(t)},e.prototype.setEventCurrentTarget=function(e,t){void 0!==e.setCurrentTarget&&e.setCurrentTarget(t)},e.prototype.setEventPhase=function(e,t){void 0!==e.setEventPhase&&e.setEventPhase(t)},e.prototype.setEventTrust=function(e,t){void 0!==e.setTrust&&e.setTrust(t)},e.prototype.removeEventListener=function(e,t,n){var r=this.getListenerCallback(t),i=this.events.get(e);if(i&&0!==i.length){var o=i.find((function(e){return e.listener===r}));o&&(this.removeEventData(i,o),0===i.length&&this.events.delete(e))}},e.prototype.removeEventData=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},e.prototype.createEventData=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=0),{listener:e,once:t,priority:n}},e.prototype.getListenerCallback=function(e){if("function"==typeof e)return e;if("object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"handleEvent"))return e.handleEvent;throw Error("invalid EventListener "+e.toString())},e}(),CJ=OJ,IJ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),LJ=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},NJ=Symbol("__update_index_getter_handler__"),DJ=Symbol("__update_index_getter__"),RJ=Symbol("__index_defined__"),MJ=function(e){function t(t){var n=e.call(this)||this;return n.onchange=null,n.onaddtrack=null,n.onremovetrack=null,n._params=t,n._items=[],n}return IJ(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),t.prototype[Symbol.iterator]=function(){return new PJ(this._items)},t.prototype.getTrackById=function(e){return this._items.find((function(t){return t.id===e}))||null},t.create=function(e){var n=new t(e);return"undefined"!=typeof Proxy&&function(){try{var e={_0:0},t=new Proxy(e,{get:function(e,t){return void 0!==e["_"+t]?e["_"+t]:e[t]}});return e._1=1,0===t[0]&&1===t[1]}catch(e){return!1}}()?new Proxy(n,{get:function(e,t){return"number"!=typeof t&&isNaN(Number(t.toString()))?e[t]:e._items[t]}}):(n[NJ]=t[DJ],n)},t[DJ]=function(){var e=this[RJ],t="number"==typeof e?e:0,n=this._items.length;if(!(t>n)){for(var r=function(e){Object.defineProperty(i,""+e,{get:function(){return this._items[e]},configurable:!0,enumerable:!0,writable:!1})},i=this,o=t;o<n;++o)r(o);this[RJ]=n}},LJ([kJ("change")],t.prototype,"onchange",void 0),LJ([kJ("addtrack")],t.prototype,"onaddtrack",void 0),LJ([kJ("removetrack")],t.prototype,"onremovetrack",void 0),t}(CJ),jJ=MJ;function FJ(e){return Object.entries(e).filter((function(e){return e[0],null!=e[1]})).map((function(e){var t=e[0],n=e[1];return t+"="+encodeURIComponent(n)})).join("&")}function VJ(e,t,n){return new Promise((function(r,i){var o=function(i){r(i),e.removeEventListener(t,o),n&&e.removeEventListener(n,a)},a=function(r){i(r),e.removeEventListener(t,o),n&&e.removeEventListener(n,a)};e.addEventListener(t,o),n&&e.addEventListener(n,a)}))}function UJ(e,t){void 0===t&&(t={});var n=new XMLHttpRequest,r=t.method,i=void 0===r?"GET":r,o=t.responseType,a=void 0===o?"":o,s=t.withCredentials,u=void 0!==s&&s,l=t.async,c=void 0===l||l,d=t.header;if(n.open(i,e,c),n.responseType=a,n.withCredentials=u,d)for(var f=0,h=Object.entries(d);f<h.length;f++){var p=h[f],v=p[0],m=p[1];n.setRequestHeader(v,m)}return n}function BJ(e,t){void 0===t&&(t={});var n=t.method;return"GET"===(void 0===n?"GET":n).toUpperCase()?function(e,t){void 0===t&&(t={});var n=UJ(e,t),r=VJ(n,"load","error").then((function(){return n.response}));return n.send(),r}(e,t):function(e,t){void 0===t&&(t={});var n=t.body;Object.assign(t,{method:"post"});var r=UJ(e,t),i=VJ(r,"load","error").then((function(){return r.response}));return r.send("object"==typeof n?FJ(n):n),i}(e,t)}var zJ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),GJ=function(e){function t(t,n){var r=e.call(this,t)||this;return r.track=n,r}return zJ(t,e),t.LOAD="load",t.ERROR="error",t.CUE_CHANGE="cuechange",t.CHANGE="change",t}(Q$),qJ=function(e){function t(t,n,r){void 0===r&&(r="subtitles");var i=e.call(this)||this;i._mode="disabled",i._onCueChange=function(e){i.dispatchEvent(e)};var o=t.language,a=t.label;return i.id=c$.v4(),i.language=o,i.label=a,i.kind=r,i.source=n||t.source,i.dataset=t,i}return zJ(t,e),Object.defineProperty(t.prototype,"activeCues",{get:function(){var e,t;return null!==(t=null===(e=this.trackElement)||void 0===e?void 0:e.track.activeCues)&&void 0!==t?t:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(e){var t=this;this._mode!==e&&(this._mode=e,"disabled"===e||this.trackElement?this.trackElement&&(this.trackElement.track.mode=e):this._loadTextTrack(this.source).then((function(){t.trackElement=t._createTrackElement({src:window.URL.createObjectURL(t.blob),language:t.language,label:t.label,kind:t.kind}),t.trackElement.track.addEventListener("cuechange",t._onCueChange),t.dispatchEvent(new GJ(GJ.LOAD,t))})),this.dispatchEvent(new GJ(GJ.CHANGE,this)))},enumerable:!1,configurable:!0}),t.prototype._createTrackElement=function(e){var t=e.src,n=e.language,r=e.label,i=e.kind,o=void 0===i?"subtitles":i,a=document.createElement("track");return a.setAttribute("src",t),a.setAttribute("srclang",n),a.setAttribute("label",r),a.setAttribute("kind",o),a},t.prototype.addCue=function(e){},t.prototype.removeCue=function(e){},t.prototype._loadTextTrack=function(e){var t,n=this;if(!e||""===e)throw Error("MediaTextTrack: Invalid Source");return BJ(e).then((t={type:"text/vtt"},function(e){return new Blob([e],t)})).then((function(e){n.blob=e})).catch((function(){throw Error("TextTrack Load Fail")}))},t}(CJ),HJ=qJ,WJ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),KJ=function(e){function t(t){var n=e.call(this)||this;return n.bindTrack(t),n}return WJ(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeCues",{get:function(){return this._nativeTrack.activeCues},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cues",{get:function(){return this._nativeTrack.cues},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kind",{get:function(){return this._nativeTrack.kind},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._nativeTrack.label},set:function(e){Object.defineProperty(this._nativeTrack,"label",{get:function(){return e},configurable:!0})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this._nativeTrack.language},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inBandMetadataTrackDispatchType",{get:function(){return this._nativeTrack.inBandMetadataTrackDispatchType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._nativeTrack.mode},set:function(e){this._mode=e,this._nativeTrack.mode!==e&&(this._nativeTrack.mode=e,this.dispatchEvent(new GJ(GJ.CHANGE,this)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oncuechange",{get:function(){return this._nativeTrack.oncuechange},set:function(e){this._nativeTrack.oncuechange=e},enumerable:!1,configurable:!0}),t.prototype.addCue=function(e){this._nativeTrack.addCue(e)},t.prototype.removeCue=function(e){this._nativeTrack.removeCue(e)},Object.defineProperty(t.prototype,"trackElement",{get:function(){return this._nativeTrack},enumerable:!1,configurable:!0}),t.prototype.bindTrack=function(e){var t=this,n=this._mode;this._id=this._getTrackId(e),this._nativeTrack=e,this._nativeTrack.mode=n||"disabled",e.addEventListener("cuechange",(function(e){return t.dispatchEvent(e)}))},t.prototype._getTrackId=function(e){return[e.kind,e.label,e.language].filter((function(e){return!!e})).join("_")},t}(CJ),YJ=KJ,XJ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$J=function(e){function t(t){var n=e.call(this)||this;return n._nativeTrack=t,n}return XJ(t,e),Object.defineProperty(t.prototype,"activeCues",{get:function(){return this._nativeTrack.activeCues},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cues",{get:function(){return this._nativeTrack.cues},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kind",{get:function(){return this._nativeTrack.kind},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._nativeTrack.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this._nativeTrack.language},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inBandMetadataTrackDispatchType",{get:function(){return this._nativeTrack.inBandMetadataTrackDispatchType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._nativeTrack.mode},set:function(e){this._nativeTrack.mode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oncuechange",{get:function(){return this._nativeTrack.oncuechange},set:function(e){this._nativeTrack.oncuechange=e},enumerable:!1,configurable:!0}),t.prototype.addCue=function(e){this._nativeTrack.addCue(e)},t.prototype.removeCue=function(e){this._nativeTrack.removeCue(e)},t.prototype.addEventListener=function(e,t,n){this._nativeTrack.addEventListener(e,t,n)},t.prototype.removeEventListener=function(e,t,n){this._nativeTrack.addEventListener(e,t,n)},Object.defineProperty(t.prototype,"trackElement",{get:function(){return this._nativeTrack},enumerable:!1,configurable:!0}),t.prototype.bindTrack=function(e){var t=this._nativeTrack.mode;this._nativeTrack=e,this._nativeTrack.mode=t},t}(CJ),QJ=$J,JJ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZJ=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},eZ=function(e){function t(t,n){var r=e.call(this,t)||this;return r.track=n,r}return JJ(t,e),t.CHANGE="change",t.ADD_TRACK="addtrack",t.REMOVE_TRACK="removetrack",t.LOAD="load",t}(Q$),tZ=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onTrackChange=function(e){t.dispatchEvent(new eZ(eZ.CHANGE,e.track))},t._onTrackLoad=function(e){t.dispatchEvent(new eZ(eZ.LOAD,e.track))},t}return JJ(t,e),t.prototype[Symbol.iterator]=function(){var e,t;return ZJ(this,(function(n){switch(n.label){case 0:e=this.length,t=0,n.label=1;case 1:return t<e?[4,this[t]]:[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}}))},t.prototype.item=function(e){return this[e]},Object.defineProperty(t.prototype,"length",{get:function(){return this._getTracks().length},enumerable:!1,configurable:!0}),t.prototype.addTrack=function(e){this._insertTrackTo(e,this.length),this._subscribeTrackEvents(e),this.dispatchEvent(new eZ(eZ.ADD_TRACK,e))},t.prototype._insertTrackTo=function(e,t){Object.defineProperty(this,t,{value:e,enumerable:!0,configurable:!0})},t.prototype.removeTrack=function(e){var t=this,n=this._getTracks(),r=n.length,i=n.filter((function(t){return t!==e}));i.forEach((function(e,n){t._insertTrackTo(e,n)}));for(var o=i.length;o<r;o++)delete this[o];this._unsubscribeTrackEvents(e),this.dispatchEvent(new eZ(eZ.REMOVE_TRACK,e))},t.prototype._getTracks=function(){var e=this;return Object.getOwnPropertyNames(this).filter((function(e){return isFinite(Number(e))&&!1===isNaN(Number(e))})).map((function(t){return e[Number(t)]}))},t.prototype.clear=function(){var e=this;this._getTracks().forEach((function(t,n){var r=Number(n);t.trackElement&&"showing"===t.mode&&(t.mode="disabled"),e._unsubscribeTrackEvents(e[r]),delete e[r]}))},t.prototype._subscribeTrackEvents=function(e){e.addEventListener(GJ.CHANGE,this._onTrackChange),e.addEventListener(GJ.LOAD,this._onTrackLoad)},t.prototype._unsubscribeTrackEvents=function(e){e.removeEventListener(GJ.CHANGE,this._onTrackChange),e.removeEventListener(GJ.LOAD,this._onTrackLoad)},t.prototype.getTrackById=function(e){var t;return null!==(t=this._getTracks().find((function(t){return t.id===e})))&&void 0!==t?t:null},t}(CJ),nZ=tZ,rZ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iZ=function(e){function t(t,n){var r=e.call(this,t)||this;return r.selected=n,r}return rZ(t,e),t.CHANGE="change",t}(Q$),oZ=function(e){function t(t){var n=e.call(this)||this,r=t.src,i=t.label,o=void 0===i?"":i,a=t.width,s=t.height,u=t.selected,l=void 0!==u&&u,c=t.kind,d=void 0===c?"main":c,f=t.language,h=void 0===f?"":f,p=t.sourceBuffer,v=void 0===p?null:p,m=t.id,g=void 0===m?"":m,y=t.encodingOptionID,b=void 0===y?"":y,_=t.audioBitrate,E=void 0===_?NaN:_,w=t.videoBitrate,S=void 0===w?NaN:w;return n.src=r,n.label=o,n.width=a,n.height=s,n._selected=l,n.kind=d,n.language=h,n.sourceBuffer=v,n.id=g,n.encodingOptionID=b,n.videoBitrate=S,n.audioBitrate=E,n}return rZ(t,e),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){e!==this.selected&&(this._selected=e,this.dispatchEvent(new iZ(iZ.CHANGE,this.selected)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"codecs",{get:function(){return{}},enumerable:!1,configurable:!0}),t}(CJ),aZ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sZ=function(e){function t(t,n){var r=e.call(this,t)||this;return r.track=n,r}return aZ(t,e),t.CHANGE="change",t.ADD_TRACK="addtrack",t.REMOVE_TRACK="removetrack",t}(Q$),uZ=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onaddtrack=null,t.onremovetrack=null,t.onchange=null,t.onTrackChange=function(e){!1!==e.selected&&(t._disablePrevSelectedTrack(e.target),t.dispatchEvent(new sZ(sZ.CHANGE,e.target)))},t._getTracks=function(){return Object.getOwnPropertyNames(t).filter((function(e){var t=parseInt(e,10);return isFinite(t)})).map((function(e){return t[Number(e)]}))},t}return aZ(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return this._getTracks().length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._getTracks().findIndex((function(e){return!0===e.selected}))},enumerable:!1,configurable:!0}),t.prototype.item=function(e){return this[e]},t.prototype.getTrackById=function(e){return this._getTracks().find((function(t){return t.id===e}))||null},t.prototype.addTrack=function(e){var t=this.length;Object.defineProperty(this,t,{value:e,enumerable:!0,configurable:!0}),this.attachTrackEvents(e),this.dispatchEvent(new sZ(sZ.ADD_TRACK,e))},t.prototype.removeTrack=function(e){var t=this,n=Array.from(this),r=n.indexOf(e);-1!==r&&(n.splice(r,1),n.forEach((function(e,n){Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0})})),delete this[n.length],this.dispatchEvent(new sZ(sZ.REMOVE_TRACK,e)))},t.prototype.clear=function(){var e=this;this._getTracks().forEach((function(t,n){var r=Number(n);e.detachTrackEvents(e[r]),delete e[r]}))},t.prototype.attachTrackEvents=function(e){e.addEventListener(iZ.CHANGE,this.onTrackChange)},t.prototype.detachTrackEvents=function(e){e.removeEventListener(iZ.CHANGE,this.onTrackChange)},t.prototype._disablePrevSelectedTrack=function(e){this._getTracks().some((function(t){var n=!0===t.selected&&t!==e;return n&&(t.selected=!1),n}))},t}(CJ),lZ=uZ,cZ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dZ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cZ(t,e),t.LOAD_START="loadstart",t.PROGRESS="progress",t.SUSPEND="suspend",t.ABORT="abort",t.ERROR="error",t.EMPTIED="emptied",t.STALLED="stalled",t.LOADED_METADATA="loadedmetadata",t.LOADED_DATA="loadeddata",t.CAN_PLAY="canplay",t.CAN_PLAYTHROUGH="canplaythrough",t.PLAYING="playing",t.WAITING="waiting",t.SEEKING="seeking",t.SEEKED="seeked",t.ENDED="ended",t.DURATION_CHANGED="durationchange",t.TIME_UPDATE="timeupdate",t.PLAY="play",t.PAUSE="pause",t.RATE_CHANGE="ratechange",t.RESIZE="resize",t.VOLUME_CHANGE="volumechange",t.FULLSCREEN_CHANGE="fullscreenchange",t.FULLSCREEN_ERROR="fullscreenerror",t}(Q$),fZ=dZ;dZ.LOAD_START,dZ.PROGRESS,dZ.SUSPEND,dZ.ABORT,dZ.ERROR,dZ.EMPTIED,dZ.STALLED,dZ.LOADED_METADATA,dZ.LOADED_DATA,dZ.CAN_PLAY,dZ.CAN_PLAYTHROUGH,dZ.PLAYING,dZ.WAITING,dZ.SEEKING,dZ.SEEKED,dZ.ENDED,dZ.DURATION_CHANGED,dZ.TIME_UPDATE,dZ.PLAY,dZ.PAUSE,dZ.RATE_CHANGE,dZ.RESIZE,dZ.VOLUME_CHANGE;var hZ=function(e,t){void 0===t&&(t=""),this.MEDIA_ERR_ABORTED=1,this.MEDIA_ERR_DECODE=3,this.MEDIA_ERR_NETWORK=2,this.MEDIA_ERR_SRC_NOT_SUPPORTED=4,this.MS_MEDIA_ERR_ENCRYPTED=5,this.code=e,this.message=t},pZ=[{type:"seeking",shouldUpdateReadyState:!1,shouldUpdateNetworkState:!1},{type:"waiting",shouldUpdateReadyState:!1,shouldUpdateNetworkState:!1},{type:"seeked",shouldUpdateReadyState:!0,shouldUpdateNetworkState:!1},{type:"loadeddata",shouldUpdateReadyState:!1,shouldUpdateNetworkState:!1},{type:"canplay",shouldUpdateReadyState:!1,shouldUpdateNetworkState:!1},{type:"canplaythrough",shouldUpdateReadyState:!1,shouldUpdateNetworkState:!1},{type:"playing",shouldUpdateReadyState:!0,shouldUpdateNetworkState:!1},{type:"pause",shouldUpdateReadyState:!1,shouldUpdateNetworkState:!1},{type:"suspend",shouldUpdateReadyState:!1,shouldUpdateNetworkState:!0},{type:"progress",shouldUpdateReadyState:!1,shouldUpdateNetworkState:!1},{type:"ratechange",shouldUpdateReadyState:!1,shouldUpdateNetworkState:!1},{type:"volumechange",shouldUpdateReadyState:!1,shouldUpdateNetworkState:!1},{type:"fullscreenchange",shouldUpdateReadyState:!1,shouldUpdateNetworkState:!1},{type:"fullscreenerror",shouldUpdateReadyState:!1,shouldUpdateNetworkState:!1}];function vZ(e){var t={};return function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n=r.length>1?r.reduce((function(e,t){return String(e)+String(t)}),""):1===r.length?""+r[0]:"$$__empty__$$",t[n]?t[n]:t[n]=e.apply(void 0,r)}}var mZ=vZ((function(e){return new ZF.exports.UAParser(e)})),gZ=vZ((function(e){var t;return void 0===e&&(e=navigator.userAgent),(null===(t=mZ(e).getOS())||void 0===t?void 0:t.name)||null})),yZ=vZ((function(e){var t;return void 0===e&&(e=navigator.userAgent),(null===(t=mZ(e).getOS())||void 0===t?void 0:t.version)||null})),bZ=vZ((function(e){var t;return void 0===e&&(e=navigator.userAgent),(null===(t=mZ(e).getBrowser())||void 0===t?void 0:t.name)||null})),_Z=vZ((function(e){var t;return void 0===e&&(e=navigator.userAgent),(null===(t=mZ(e).getBrowser())||void 0===t?void 0:t.version)||null})),EZ=vZ((function(e){void 0===e&&(e=navigator.userAgent);var t=mZ(e),n=t.getDevice().model,r=void 0===n?"":n,i=t.getBrowser(),o=i.name,a=void 0===o?"":o,s=i.version,u=void 0===s?"":s;if(!G$())return r+";"+a+"/"+u;var l=mZ(e.split("NAVER")[0]).getBrowser();return r+";"+a+"/"+u+";"+l.name+"/"+l.version})),wZ=vZ((function(e){return void 0===e&&(e=navigator.userAgent),{os:gZ(e),osVersion:yZ(e),browser:bZ(e),browserVersion:_Z(e),device:EZ(e)}})),SZ=vZ((function(e){void 0===e&&(e=navigator.userAgent);var t=mZ(e).getDevice();return"mobile"===t.type||"tablet"===t.type?"mobile":"desktop"})),TZ=/^(0|[1-9][0-9]*)\.(0|[1-9][0-9]*)\.(0|[1-9][0-9]*)(?:-((?:0|[1-9][0-9]*|[0-9]*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9][0-9]*|[0-9]*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,kZ=/\D*(\d*)(?:\.(\d*)(?:\.(\d*)){0,1}(?:-(\w*)\.(\d+)){0,1}){0,1}/;function xZ(e){var t,n=null!==(t=kZ.exec(e))&&void 0!==t?t:[],r=n[1],i=n[2],o=n[3],a=n[4],s=n[5];return a?+(null!=r?r:0)+"."+ +(null!=i?i:0)+"."+ +(null!=o?o:0)+"-"+a+"."+Number.parseInt(s,10):+(null!=r?r:0)+"."+ +(null!=i?i:0)+"."+ +(null!=o?o:0)}var AZ={hlg:{iOS:{"Mobile Safari":{file:{since:"14.5.0"}},Chrome:{file:{since:"14.5.0"}}},"iPad OS":{"Mobile Safari":{"media-source":{since:"14.5.0"},file:{since:"14.5.0"}},Chrome:{file:{since:"14.5.0"},"media-source":{since:"14.5.0"}}},"Mac OS":{Safari:{"media-source":{since:"10.15.0"},file:{since:"10.15.0"}}}}};function PZ(e,t,n,r,i){var o,a,s,u,l,c,d,f=null!==(o=null!=n?n:gZ())&&void 0!==o?o:"",h=null!==(a=null!=r?r:yZ())&&void 0!==a?a:"",p=null!==(s=null!=i?i:bZ())&&void 0!==s?s:"",v=e.toLowerCase(),m=null===(d=null===(c=null===(l=null===(u=AZ[v])||void 0===u?void 0:u[f])||void 0===l?void 0:l[p])||void 0===c?void 0:c[t])||void 0===d?void 0:d.since;return!!m&&function(e,t){var n,r,i,o;if(!TZ.test(e))return!1;if(!TZ.test(t))return!1;var a=null!==(r=null===(n=TZ.exec(e))||void 0===n?void 0:n.map((function(e){return Number.parseInt(e,10)})))&&void 0!==r?r:[],s=a[1],u=a[2],l=a[3],c=null!==(o=null===(i=TZ.exec(t))||void 0===i?void 0:i.map((function(e){return Number.parseInt(e,10)})))&&void 0!==o?o:[],d=c[1],f=c[2],h=c[3];return s!==d?s>d:u!==f?u>f:l===h||l>h}(xZ(h),xZ(m))}function OZ(e,t){var n;switch(void 0===t&&(t="file"),t){case"file":return""!==(null!==(n=document.querySelector("video"))&&void 0!==n?n:document.createElement("video")).canPlayType(e);case"media-source":return"undefined"!=typeof MediaSource&&MediaSource.isTypeSupported(e);default:return!1}}var CZ=function(){return CZ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},CZ.apply(this,arguments)},IZ=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},LZ=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},NZ=function(){function e(){}return e.nativeAPI=function(){return window.navigator.mediaCapabilities},e.prototype.encodingInfo=function(t){return IZ(this,void 0,void 0,(function(){return LZ(this,(function(n){return"undefined"==typeof window?[2,Promise.reject(new ReferenceError("Not available"))]:e.nativeAPI()?[2,e.nativeAPI().encodingInfo(t)]:[2,Promise.reject(new ReferenceError("Not available"))]}))}))},e.prototype.decodingInfo=function(e){return IZ(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return LZ(this,(function(u){if(t=!0,n=!1,e.video&&(n=!0,r=e.video,i=r.contentType,o=r.dynamicRange,a=r.colorDepth,s=r.transferFunction,t&&(t=OZ(i,e.type)),o&&t&&(t=function(e){var t,n,r;return null!==(r=null===(n=null===(t=window.matchMedia)||void 0===t?void 0:t.call(window,"(dynamic-range: "+e+")"))||void 0===n?void 0:n.matches)&&void 0!==r&&r}(o)),a&&Number.isFinite(a)&&t&&(t=function(e){var t,n;return e<=(null!==(n=null===(t=window.screen)||void 0===t?void 0:t.colorDepth)&&void 0!==n?n:8)}(a)),s&&t&&(t=PZ(s,e.type))),e.audio&&(n=!0,t&&(t=OZ(e.audio.contentType,e.type))),!n)throw new Error("InvalidMediaConfiguration");return[2,Promise.resolve({configuration:CZ({},e),supported:t,powerEfficient:t,smooth:t})]}))}))},e.instance=new e,e}(),DZ=NZ,RZ=function(){return RZ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},RZ.apply(this,arguments)};function MZ(e){var t=document.createElement("a");if(t.href=e,void 0===t.hash||!t.hash)return{};var n=t.hash.slice(1).split("&").map((function(e){return e.split("=")})).filter((function(e){var t=e[0],n=e[1];return void 0!==t&&void 0!==n})),r=n.reduce((function(e,t){var n,r=t[0],i=t[1];return RZ(RZ({},e),((n={})[r]=decodeURIComponent(i),n))}),{});return r}function jZ(e,t){var n,r=(n=MZ(e))&&n.t?n.t:"";return r&&0!==parseInt(r,10)?function(e,t){if(!t)return e;var n=MZ(e)||{};n.t=t;var r=FJ(n);return-1===e.indexOf("#")?e+"#"+r:e.replace(/#.+/g,"#"+r)}(t,r):t}var FZ=function(){function e(){this._timer=-1,this._count=0,this._callbacks=[],this._onTick=this._onTick.bind(this)}return e.getInstance=function(){return e._instance},e.prototype.addCallback=function(e){this._callbacks.indexOf(e)<0&&this._callbacks.push(e)},e.prototype.removeCallback=function(e){var t=this._callbacks.indexOf(e);t>=0&&this._callbacks.splice(t,1)},e.prototype.start=function(){return-1===this._timer&&(this._timer=window.setInterval(this._onTick,1e3)),this._timer},e.prototype.stop=function(){window.clearInterval(this._timer),this._timer=-1},e.prototype.resetCount=function(){this._count=0},e.prototype._onTick=function(){var e=this;this._callbacks.forEach((function(t){t(e._count)})),this._count++},e._instance=new e,e}(),VZ=FZ,UZ=Symbol("postprocessor-type"),BZ=function(){return BZ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},BZ.apply(this,arguments)},zZ=function(){function e(){}return e.prototype.initialize=function(t){this._processorMap=e._registeredProcessors.reduce((function(e,n){var r;try{var i=new n;return i.initialize(t),BZ(BZ({},e),((r={})[n[UZ]]=i,r))}catch(t){return console.error(t),e}}),{})},e.prototype.configure=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){var n,r=t[UZ];r&&(null===(n=e._processorMap[r])||void 0===n||n.configure(t))}))},e.prototype.getControls=function(e){var t;return null===(t=this._processorMap[e])||void 0===t?void 0:t.control},e.prototype.clear=function(){throw new Error("Not implemented yet")},e._registeredProcessors=[],e.registerProcessor=function(t){e._registeredProcessors.find((function(e){return e===t}))||e._registeredProcessors.push(t)},e}(),GZ=zZ;function qZ(e,t){return Object.prototype.hasOwnProperty.call(e,t)||Object.prototype.hasOwnProperty.call(Object.getPrototypeOf(e),t)}var HZ=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},r=t||{},i=e.split(";"),o=r.decode||WZ,a=0;a<i.length;a++){var s=i[a],u=s.indexOf("=");if(!(u<0)){var l=s.substring(0,u).trim();if(null==n[l]){var c=s.substring(u+1,s.length).trim();'"'===c[0]&&(c=c.slice(1,-1)),n[l]=KZ(c,o)}}}return n},WZ=decodeURIComponent;function KZ(e,t){try{return t(e)}catch(t){return e}}var YZ,XZ=/^http(s?):\/\/apis.naver.com/;function $Z(e,t){return t&&XZ.test(e)?e.replace(/apis.naver.com/,t+".apis.naver.com"):e}(YZ=("undefined"!=typeof globalThis?globalThis:"object"==typeof window&&window?window:"object"==typeof self&&self?self:"object"==typeof n.g&&n.g||void 0!==n.g?n.g:function(){return this}.call(null)).TextEncoder)||(YZ=function(){function e(){}return e.prototype.encodeInto=function(e,t){for(var n,r,i,o,a=t.byteLength,s=e.length,u=0,l=0,c=0,d=0,f=new Array(3);d<s;++d){if((i=e.charCodeAt(d))>=128)for(r=(n=unescape(encodeURIComponent(e[d]))).length,o=0;o<r;++o)f[o]=n.charCodeAt(o);else r=1,f[0]=i;if(c+r>a)break;for(l+=1,u+=r,o=0;o<r;++o)t[c+o]=f[o];c+=r}return{read:l,written:u}},Object.defineProperty(e.prototype,"encoding",{get:function(){return"utf-8"},enumerable:!1,configurable:!0}),e.prototype.encode=function(e){for(var t=unescape(encodeURIComponent(e||"")),n=t.length,r=new Uint8Array(n),i=0;i<n;++i)r[i]=t.charCodeAt(i);return r},e}());var QZ,JZ=YZ,ZZ=function(){function e(){}return e.prototype.encode=function(e){if(1===e.version)return(new JZ).encode(JSON.stringify(e)).buffer;if(2===e.version){var t=e.version,n=e.drmType,r=e.licenseRequestInfo,i=e.initDataType,o=e.initData,a=(new JZ).encode(JSON.stringify({version:t,drmType:n,licenseRequestInfo:r,initData:o})),s=(null==o?void 0:o.byteLength)||0,u=new ArrayBuffer(4+a.byteLength+4+s+4+i.length),l=new DataView(u),c=0;l.setUint32(c,a.byteLength),c+=4,new Uint8Array(u,c,a.byteLength).set(a),c+=a.byteLength,l.setUint32(c,s),c+=4,o&&(new Uint8Array(u,c,s).set(new Uint8Array(o)),c+=s),l.setUint32(c,i.length),c+=4;for(var d=0;d<i.length;++d)l.setUint8(c+d,i.charCodeAt(d));return u}throw new Error("Invalid data format")},e}();!function(e){!function(t){var n="object"==typeof c?c:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=o(e);function o(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===n.Reflect?n.Reflect=e:i=o(n.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,i=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,u=!a&&!s,l={create:a?function(){return ie(Object.create(null))}:s?function(){return ie({__proto__:null})}:function(){return ie({})},has:u?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:u?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),d="object"==typeof r&&r.env&&"true"===r.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=d||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?te():Map,h=d||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?ne():Set,p=new(d||"function"!=typeof WeakMap?re():WeakMap);function v(e,t,n,r){if(M(n)){if(!H(e))throw new TypeError;if(!K(t))throw new TypeError;return k(e,t)}if(!H(e))throw new TypeError;if(!V(t))throw new TypeError;if(!V(r)&&!M(r)&&!j(r))throw new TypeError;return j(r)&&(r=void 0),x(e,t,n=q(n),r)}function m(e,t){function n(n,r){if(!V(n))throw new TypeError;if(!M(r)&&!Y(r))throw new TypeError;L(e,t,n,r)}return n}function g(e,t,n,r){if(!V(n))throw new TypeError;return M(r)||(r=q(r)),L(e,t,n,r)}function y(e,t,n){if(!V(t))throw new TypeError;return M(n)||(n=q(n)),P(e,t,n)}function b(e,t,n){if(!V(t))throw new TypeError;return M(n)||(n=q(n)),O(e,t,n)}function _(e,t,n){if(!V(t))throw new TypeError;return M(n)||(n=q(n)),C(e,t,n)}function E(e,t,n){if(!V(t))throw new TypeError;return M(n)||(n=q(n)),I(e,t,n)}function w(e,t){if(!V(e))throw new TypeError;return M(t)||(t=q(t)),N(e,t)}function S(e,t){if(!V(e))throw new TypeError;return M(t)||(t=q(t)),D(e,t)}function T(e,t,n){if(!V(t))throw new TypeError;M(n)||(n=q(n));var r=A(t,n,!1);if(M(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=p.get(t);return i.delete(n),i.size>0||p.delete(t),!0}function k(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!M(r)&&!j(r)){if(!K(r))throw new TypeError;t=r}}return t}function x(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!M(o)&&!j(o)){if(!V(o))throw new TypeError;r=o}}return r}function A(e,t,n){var r=p.get(e);if(M(r)){if(!n)return;r=new f,p.set(e,r)}var i=r.get(t);if(M(i)){if(!n)return;i=new f,r.set(t,i)}return i}function P(e,t,n){if(O(e,t,n))return!0;var r=ee(t);return!j(r)&&P(e,r,n)}function O(e,t,n){var r=A(t,n,!1);return!M(r)&&z(r.has(e))}function C(e,t,n){if(O(e,t,n))return I(e,t,n);var r=ee(t);return j(r)?void 0:C(e,r,n)}function I(e,t,n){var r=A(t,n,!1);if(!M(r))return r.get(e)}function L(e,t,n,r){A(n,r,!0).set(e,t)}function N(e,t){var n=D(e,t),r=ee(e);if(null===r)return n;var i=N(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new h,a=[],s=0,u=n;s<u.length;s++){var l=u[s];o.has(l)||(o.add(l),a.push(l))}for(var c=0,d=i;c<d.length;c++)l=d[c],o.has(l)||(o.add(l),a.push(l));return a}function D(e,t){var n=[],r=A(e,t,!1);if(M(r))return n;for(var i=$(r.keys()),o=0;;){var a=J(i);if(!a)return n.length=o,n;var s=Q(a);try{n[o]=s}catch(e){try{Z(i)}finally{throw e}}o++}}function R(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function M(e){return void 0===e}function j(e){return null===e}function F(e){return"symbol"==typeof e}function V(e){return"object"==typeof e?null!==e:"function"==typeof e}function U(e,t){switch(R(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=X(e,i);if(void 0!==r){var o=r.call(e,n);if(V(o))throw new TypeError;return o}return B(e,"default"===n?"number":n)}function B(e,t){if("string"===t){var n=e.toString;if(W(n)&&!V(i=n.call(e)))return i;if(W(r=e.valueOf)&&!V(i=r.call(e)))return i}else{var r;if(W(r=e.valueOf)&&!V(i=r.call(e)))return i;var i,o=e.toString;if(W(o)&&!V(i=o.call(e)))return i}throw new TypeError}function z(e){return!!e}function G(e){return""+e}function q(e){var t=U(e,3);return F(t)?t:G(t)}function H(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function W(e){return"function"==typeof e}function K(e){return"function"==typeof e}function Y(e){switch(R(e)){case 3:case 4:return!0;default:return!1}}function X(e,t){var n=e[t];if(null!=n){if(!W(n))throw new TypeError;return n}}function $(e){var t=X(e,o);if(!W(t))throw new TypeError;var n=t.call(e);if(!V(n))throw new TypeError;return n}function Q(e){return e.value}function J(e){var t=e.next();return!t.done&&t}function Z(e){var t=e.return;t&&t.call(e)}function ee(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c)return t;if(t!==c)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function te(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}function ne(){return function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}()}function re(){var e=16,n=l.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+u()}while(l.has(n,e));return n[e]=!0,e}function o(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:l.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function u(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function ie(e){return e.__=void 0,delete e.__,e}e("decorate",v),e("metadata",m),e("defineMetadata",g),e("hasMetadata",y),e("hasOwnMetadata",b),e("getMetadata",_),e("getOwnMetadata",E),e("getMetadataKeys",w),e("getOwnMetadataKeys",S),e("deleteMetadata",T)}(i)}()}(QZ||(QZ={}));var e0,t0="dataPropMetaKey";function n0(e){return Reflect.metadata(t0,{kind:0,opts:e})}function r0(e){return Reflect.metadata(t0,{kind:1,opts:e})}function i0(e){return function(t){return t===e}}function o0(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.indexOf(t)>-1}}function a0(e,t){for(var n=Object.keys(e.prototype).filter((function(t){return Object.prototype.hasOwnProperty.call(e.prototype,t)})),r=0,i=n;r<i.length;r++){var o=i[r],a=Reflect.getMetadata(t0,e.prototype,o);if(a&&(1!==a.kind||Object.prototype.hasOwnProperty.call(t,o))&&a.opts){if(a.opts.type&&typeof t[o]!==a.opts.type)throw new TypeError("'"+o+"' is not type of "+a.opts.type);if(a.opts.validate&&!a.opts.validate(t[o],t))throw new TypeError("'"+o+"' field is not valid")}}}!function(e){e[e.OPTIONAL=0]="OPTIONAL",e[e.REQUIRED=1]="REQUIRED"}(e0||(e0={}));var s0=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u0="aegis-token",l0="aegis-aeds",c0=function(){function e(){}return s0([n0({type:"string"})],e.prototype,"licenseUrl",void 0),s0([n0({type:"string"})],e.prototype,"certificateUrl",void 0),e}();function d0(e){for(var t,n=65535,r=0;r<e.length;r++){n^=e[r];for(var i=0;i<8;i++)t=1&n,n>>=1,t&&(n^=40961)}return n}!function(){function e(){}s0([r0({type:"number",validate:i0(1)})],e.prototype,"version",void 0),s0([r0({type:"string",validate:o0("FairPlay","PlayReady","Widevine")})],e.prototype,"drmType",void 0),s0([n0({type:"object",validate:a0.bind(null,c0)})],e.prototype,"licenseRequestInfo",void 0)}(),function(){function e(){}var t;s0([r0({type:"number",validate:i0(2)})],e.prototype,"version",void 0),s0([r0({type:"string",validate:o0("FairPlay","PlayReady","Widevine")})],e.prototype,"drmType",void 0),s0([n0({type:"object",validate:a0.bind(null,c0)})],e.prototype,"licenseRequestInfo",void 0),s0([r0({type:"object",validate:(t=ArrayBuffer,function(e){return e instanceof t})})],e.prototype,"initData",void 0),s0([r0({type:"string"})],e.prototype,"initDataType",void 0)}();var f0,h0,p0=function(){return p0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p0.apply(this,arguments)};!function(e){e.CorePlayer="webplayer-coreplayer"}(f0||(f0={})),function(e){e.Console="console",e.Silence="silence",e.Real="real"}(h0||(h0={}));var v0=function(){function e(e){this._data={},this._host="//nelo2-col.navercorp.com/_store",e&&this.add(e)}return e.shared=function(t,n){return e._map[t]||(e._map[t]=new e(n)),e._map[t]},e.sharedOnWeakMap=function(t,n){return e._weakmap.has(t)||e._weakmap.set(t,new e(n)),e._weakmap.get(t)},e.prototype.add=function(e){this._data=p0(p0({},this._data),e)},e.prototype.remove=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];delete this._data[r]}},e.prototype.send=function(t){var n=p0(p0({},this._data),t);if("console"===e.MODE||"silence"===e.MODE)return"console"===e.MODE&&this._log(n),Promise.resolve();var r=this._stringify(n);if(!r)return Promise.resolve();var i={url:this._host,responseType:"text",body:r,method:"POST"};return O$(i).pipe(dU(1)).toPromise()},e.prototype.addServiceId=function(e){this.add({sid:e})},e.prototype.addVID=function(e){this.add({vid:e})},e.prototype.addTID=function(e){this.add({tid:e})},Object.defineProperty(e.prototype,"data",{get:function(){return p0({},this._data)},enumerable:!1,configurable:!0}),e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(e){}return null},e.prototype._log=function(e){console.log(e)},e.MODE="real",e._map={},e._weakmap=new WeakMap,e}(),m0=v0;function g0(e){var t={};return((e.match(/\?.+/g)||[e])[0].match(/[^?&]+/g)||[]).map((function(e){return e.match(/[^=]+/g)||[]})).forEach((function(e){var n=e[0],r=e[1];t[n]=r?decodeURIComponent(r):r})),t}function y0(e,t){void 0===t&&(t="");var n=e.encodingOption,r=n.name,i=n.height,o=n.id;if(!r&&!o&&!i)return"";var a="",s=r.match(/\d+/),u=o.match(/^\d+[ps]/i);return s?a=""+s[0]+t:i>0?a=""+i+t:u&&(a=u[0].replace(/[a-z]/i,t)),a}var b0=new RegExp("^([A-Za-z][A-Za-z0-9+\\-.]*):(?:(//)(?:((?:[A-Za-z0-9\\-._~!$&'()*+,;=:]|%[0-9A-Fa-f]{2})*)@)?((?:\\[(?:(?:(?:(?:[0-9A-Fa-f]{1,4}:){6}|::(?:[0-9A-Fa-f]{1,4}:){5}|(?:[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,1}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){3}|(?:(?:[0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){2}|(?:(?:[0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}:|(?:(?:[0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})?::)(?:[0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{1,4}|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))|(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)|[Vv][0-9A-Fa-f]+\\.[A-Za-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)|(?:[A-Za-z0-9\\-._~!$&'()*+,;=]|%[0-9A-Fa-f]{2})*))(?::([0-9]*))?((?:/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)|/((?:(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)?)|((?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)|)(?:\\?((?:[A-Za-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9A-Fa-f]{2})*))?(?:\\#((?:[A-Za-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9A-Fa-f]{2})*))?$");function _0(e){var t=e.match(b0);if(null===t)throw new Error("Invalid URL");var n="",r="";if(t[3]&&t[3].length>1){var i=t[3].split(":");switch(i.length){case 2:n=i[0],r=i[1];break;case 1:n=t[3];break;default:throw new Error("Internal Error")}}return{username:n,password:r,protocol:t[1]+":",host:t[4],query:g0(t[9]||""),hash:MZ(e||"")}}function E0(){var e=SZ();return"desktop"===e?"HTML5_PC":"mobile"===e?"HTML5_MO":"html5_wpc"}var w0=function(){return w0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},w0.apply(this,arguments)},S0=[3,5,8,13,21,34,60];function T0(e,t,n,r){void 0===t&&(t=!1);var i=$Z("https://apis.naver.com/policy/policy/policy?"+FJ(w0({sid:e,live:t},n&&{stp:n})),r);return O$({url:i,method:"GET"}).pipe(Pj((function(e){return e.response})))}var k0=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},x0=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},A0=function(){function e(e,t){this._player=e,this._adsPlayer=t,this._initialized=!1,this._prepared=!1,this._playing=!1,this._pauseSent=!1,this._adOrMain=!1,this.timeToAggregate=new wM,this.subscriptions=[],this._abort$=sF(this._player,fZ.ABORT),this._playing$=sF(this._player,fZ.PLAYING),this._pause$=sF(this._player,fZ.PAUSE),this._timeupdate$=sF(this._player,fZ.TIME_UPDATE),this._ended$=sF(this._player,fZ.ENDED),this._error$=sF(this._player,fZ.ERROR),this._adStarted$=sF(this._adsPlayer,DF.AdEventTypes.AdStarted),this._contentResumeRequest$=sF(this._adsPlayer,DF.AdEventTypes.ContentResumeRequested),this._adPaused$=sF(this._adsPlayer,DF.AdEventTypes.AdPaused),this._adStopped$=sF(this._adsPlayer,DF.AdEventTypes.AdStopped),this._adRemainingTimeChanged$=sF(this._adsPlayer,DF.AdEventTypes.AdRemainingTimeChange)}return e.prototype.prepare=function(){return k0(this,void 0,void 0,(function(){var e=this;return x0(this,(function(t){return this.subscriptions.push(this._makePauseSwitch().subscribe((function(){e._playing=!1,e._pauseSent=!1}))),this.subscriptions.push(this._makePlayingSwitch().subscribe((function(){e._playing=!0}))),this.subscriptions.push(this._makeAdSwitch().subscribe((function(){e._adOrMain=!0}))),this.subscriptions.push(this._makeMainSwitch().subscribe((function(){e._adOrMain=!1}))),this.subscriptions.push(this._makeStartCondition().pipe(DB(this.loop$.pipe(RB(this._ended$)))).subscribe((function(){e.timeToAggregate.next(e._adOrMain),e.clear()}))),this.subscriptions.push(this._makeStartCondition().pipe(IB((function(){return hF(e._makeSchedule$(),e._ended$)})),gF((function(){return e._playing||!1===e._pauseSent})),RB(this._endCondition$())).subscribe((function(){e._pauseSent=!0,e.timeToAggregate.next(e._adOrMain)}))),[2,this.timeToAggregate]}))}))},Object.defineProperty(e.prototype,"available",{get:function(){return this._initialized&&this._prepared},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeTable",{get:function(){var e;return 0!==(e=this._qualityPolicy&&this._qualityPolicy.timeTable?this._qualityPolicy.timeTable:S0)[0]&&(null==e||e.unshift(0)),e},enumerable:!1,configurable:!0}),e.prototype._makeSchedule$=function(){var e=Yj(this.timeTable).pipe(Pj((function(e){return 1e3*e})),NV((function(e){return $M(e).pipe(HV(e))}))),t=e.pipe(DU(),IB((function(e){return dF(e)})));return hF(e,t).pipe(XB())},e.prototype._makeStartCondition=function(){return hF((e=this._player,sF(e,fZ.TIME_UPDATE).pipe(gF((function(e){return!e.target.paused&&0!==e.target.playbackRate})),mV(3),Pj((function(e){return e[0]})),xU())).pipe(xU()),this._adStarted$);var e},e.prototype._makePlayingSwitch=function(){return hF(this._playing$,this._adStarted$,this._timeupdate$.pipe(ZU("target"),gF((function(e){return!e.paused}))),this._adRemainingTimeChanged$).pipe(RB(this._endCondition$()))},e.prototype._makePauseSwitch=function(){return hF(this._pause$,this._adPaused$,this._adStopped$).pipe()},e.prototype._makeAdSwitch=function(){return this._adStarted$.pipe(RB(this._endCondition$()))},e.prototype._makeMainSwitch=function(){return this._contentResumeRequest$.pipe(RB(this._endCondition$()))},e.prototype._endCondition$=function(){return EF(this._abort$,this.cancel$,this.loop$)},e.prototype.send=function(e){if(this._qualityPolicy){var t=this._qualityPolicy.url;O$({url:t,method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},responseType:"text",withCredentials:!0,body:JSON.stringify({lv:1,lsv:mJ,ltt:Date.now(),ld:[e]})}).subscribe()}},e.prototype.sendError=function(e){if(this._errorPolicy){var t=this._errorPolicy.url;O$({url:t,method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},responseType:"text",withCredentials:!0,body:JSON.stringify({lv:1,lsv:mJ,ltt:Date.now(),ld:[e]})}).subscribe()}},e.prototype.clear=function(){this._initialized=!1,this._prepared=!1,this._tid=void 0,this._tidgt=void 0,this._qualityPolicy=void 0,this._errorPolicy=void 0,this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions=[]},e}(),P0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O0=function(){return O0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},O0.apply(this,arguments)},C0=function(e){function t(t,n,r,i){var o=r[0],a=r[1],s=e.call(this,t,n)||this;try{s._qualityPolicy=O0(O0({},o),{url:$Z(o.url,i)}),s._errorPolicy=O0(O0({},a),{url:$Z(a.url,i)})}catch(e){s._prepared=!1}return s}return P0(t,e),t.prototype.initialize=function(){return this._prepared=!!this._qualityPolicy&&!!this._errorPolicy,Promise.resolve()},t}(A0),I0=C0,L0=function(){this.devt="html5_wpc",this.prv="N",this.aup="N",this.stpb="N",this.cpl="en"};function N0(e){return void 0!==e.errorCode}var D0,R0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e.Loop="loop"}(D0||(D0={}));var M0,j0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R0(t,e),t.Types=D0,t}(Q$),F0=j0,V0=[{keySystem:"com.microsoft.playready",configurations:[{initDataTypes:["skd"],sessionTypes:["temporary"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"',robustness:"SL150"}],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"'}]}]},{keySystem:"com.apple.fps",configurations:[{initDataTypes:["cenc"],sessionTypes:["temporary"],videoCapabilities:[{contentType:"application/vnd.apple.mpegurl",robustness:""}],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"'}]}]},{keySystem:"com.widevine.alpha",configurations:[{initDataTypes:["cenc"],sessionTypes:["temporary"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"',robustness:"SW_SECURE_CRYPTO"}],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"'}]}]}],U0=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},B0=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},z0=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}},G0=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function q0(){var e,t;return U0(this,void 0,void 0,(function(){var n,r,i,o,a;return B0(this,(function(s){switch(s.label){case 0:n=M0?new Set(G0([M0],V0)).values():V0,s.label=1;case 1:s.trys.push([1,9,10,15]),r=z0(n),s.label=2;case 2:return[4,r.next()];case 3:if((i=s.sent()).done)return[3,8];o=i.value,s.label=4;case 4:return s.trys.push([4,6,,7]),[4,pJ.requestMediaKeySystemAccess(o.keySystem,o.configurations)];case 5:return s.sent()?(M0=o,[3,8]):[3,7];case 6:return s.sent(),[3,7];case 7:return[3,2];case 8:return[3,15];case 9:return a=s.sent(),e={error:a},[3,15];case 10:return s.trys.push([10,,13,14]),i&&!i.done&&(t=r.return)?[4,t.call(r)]:[3,12];case 11:s.sent(),s.label=12;case 12:return[3,14];case 13:if(e)throw e.error;return[7];case 14:return[7];case 15:return[2,null==M0?void 0:M0.keySystem]}}))}))}var H0,W0=[{englishName:"Abkhazian",nativeName:"аҧсуа бызшәа, аҧсшәа",twoLetterISOCode:"ab",threeLetterISOCode1:"abk",threeLetterISOCode2:"abk",threeLetterISOCode3:"abk"},{englishName:"Afar",nativeName:"Afaraf",twoLetterISOCode:"aa",threeLetterISOCode1:"aar",threeLetterISOCode2:"aar",threeLetterISOCode3:"aar"},{englishName:"Afrikaans",nativeName:"Afrikaans",twoLetterISOCode:"af",threeLetterISOCode1:"afr",threeLetterISOCode2:"afr",threeLetterISOCode3:"afr"},{englishName:"Akan",nativeName:"Akan",twoLetterISOCode:"ak",threeLetterISOCode1:"aka",threeLetterISOCode2:"aka",threeLetterISOCode3:"aka"},{englishName:"Albanian",nativeName:"Shqip",twoLetterISOCode:"sq",threeLetterISOCode1:"sqi",threeLetterISOCode2:"alb",threeLetterISOCode3:"sqi"},{englishName:"Amharic",nativeName:"አማርኛ",twoLetterISOCode:"am",threeLetterISOCode1:"amh",threeLetterISOCode2:"amh",threeLetterISOCode3:"amh"},{englishName:"Arabic",nativeName:"العربية",twoLetterISOCode:"ar",threeLetterISOCode1:"ara",threeLetterISOCode2:"ara",threeLetterISOCode3:"ara"},{englishName:"Aragonese",nativeName:"aragonés",twoLetterISOCode:"an",threeLetterISOCode1:"arg",threeLetterISOCode2:"arg",threeLetterISOCode3:"arg"},{englishName:"Armenian",nativeName:"Հայերեն",twoLetterISOCode:"hy",threeLetterISOCode1:"hye",threeLetterISOCode2:"arm",threeLetterISOCode3:"hye"},{englishName:"Assamese",nativeName:"অসমীয়া",twoLetterISOCode:"as",threeLetterISOCode1:"asm",threeLetterISOCode2:"asm",threeLetterISOCode3:"asm"},{englishName:"Avaric",nativeName:"авар мацӀ, магӀарул мацӀ",twoLetterISOCode:"av",threeLetterISOCode1:"ava",threeLetterISOCode2:"ava",threeLetterISOCode3:"ava"},{englishName:"Avestan",nativeName:"avesta",twoLetterISOCode:"ae",threeLetterISOCode1:"ave",threeLetterISOCode2:"ave",threeLetterISOCode3:"ave"},{englishName:"Aymara",nativeName:"aymar aru",twoLetterISOCode:"ay",threeLetterISOCode1:"aym",threeLetterISOCode2:"aym",threeLetterISOCode3:"aym"},{englishName:"Azerbaijani",nativeName:"azərbaycan dili, تۆرکجه",twoLetterISOCode:"az",threeLetterISOCode1:"aze",threeLetterISOCode2:"aze",threeLetterISOCode3:"aze"},{englishName:"Bambara",nativeName:"bamanankan",twoLetterISOCode:"bm",threeLetterISOCode1:"bam",threeLetterISOCode2:"bam",threeLetterISOCode3:"bam"},{englishName:"Bashkir",nativeName:"башҡорт теле",twoLetterISOCode:"ba",threeLetterISOCode1:"bak",threeLetterISOCode2:"bak",threeLetterISOCode3:"bak"},{englishName:"Basque",nativeName:"euskara, euskera",twoLetterISOCode:"eu",threeLetterISOCode1:"eus",threeLetterISOCode2:"baq",threeLetterISOCode3:"eus"},{englishName:"Belarusian",nativeName:"беларуская мова",twoLetterISOCode:"be",threeLetterISOCode1:"bel",threeLetterISOCode2:"bel",threeLetterISOCode3:"bel"},{englishName:"Bengali",nativeName:"বাংলা",twoLetterISOCode:"bn",threeLetterISOCode1:"ben",threeLetterISOCode2:"ben",threeLetterISOCode3:"ben"},{englishName:"Bihari languages",nativeName:"भोजपुरी",twoLetterISOCode:"bh",threeLetterISOCode1:"bih",threeLetterISOCode2:"bih",threeLetterISOCode3:""},{englishName:"Bislama",nativeName:"Bislama",twoLetterISOCode:"bi",threeLetterISOCode1:"bis",threeLetterISOCode2:"bis",threeLetterISOCode3:"bis"},{englishName:"Bosnian",nativeName:"bosanski jezik",twoLetterISOCode:"bs",threeLetterISOCode1:"bos",threeLetterISOCode2:"bos",threeLetterISOCode3:"bos"},{englishName:"Breton",nativeName:"brezhoneg",twoLetterISOCode:"br",threeLetterISOCode1:"bre",threeLetterISOCode2:"bre",threeLetterISOCode3:"bre"},{englishName:"Bulgarian",nativeName:"български език",twoLetterISOCode:"bg",threeLetterISOCode1:"bul",threeLetterISOCode2:"bul",threeLetterISOCode3:"bul"},{englishName:"Burmese",nativeName:"ဗမာစာ",twoLetterISOCode:"my",threeLetterISOCode1:"mya",threeLetterISOCode2:"bur",threeLetterISOCode3:"mya"},{englishName:"Catalan, Valencian",nativeName:"català, valencià",twoLetterISOCode:"ca",threeLetterISOCode1:"cat",threeLetterISOCode2:"cat",threeLetterISOCode3:"cat"},{englishName:"Chamorro",nativeName:"Chamoru",twoLetterISOCode:"ch",threeLetterISOCode1:"cha",threeLetterISOCode2:"cha",threeLetterISOCode3:"cha"},{englishName:"Chechen",nativeName:"нохчийн мотт",twoLetterISOCode:"ce",threeLetterISOCode1:"che",threeLetterISOCode2:"che",threeLetterISOCode3:"che"},{englishName:"Chichewa, Chewa, Nyanja",nativeName:"chiCheŵa, chinyanja",twoLetterISOCode:"ny",threeLetterISOCode1:"nya",threeLetterISOCode2:"nya",threeLetterISOCode3:"nya"},{englishName:"Chinese",nativeName:"中文",twoLetterISOCode:"zh",threeLetterISOCode1:"zho",threeLetterISOCode2:"chi",threeLetterISOCode3:"zho"},{englishName:"Chuvash",nativeName:"чӑваш чӗлхи",twoLetterISOCode:"cv",threeLetterISOCode1:"chv",threeLetterISOCode2:"chv",threeLetterISOCode3:"chv"},{englishName:"Cornish",nativeName:"Kernewek",twoLetterISOCode:"kw",threeLetterISOCode1:"cor",threeLetterISOCode2:"cor",threeLetterISOCode3:"cor"},{englishName:"Corsican",nativeName:"corsu, lingua corsa",twoLetterISOCode:"co",threeLetterISOCode1:"cos",threeLetterISOCode2:"cos",threeLetterISOCode3:"cos"},{englishName:"Cree",nativeName:"ᓀᐦᐃᔭᐍᐏᐣ",twoLetterISOCode:"cr",threeLetterISOCode1:"cre",threeLetterISOCode2:"cre",threeLetterISOCode3:"cre"},{englishName:"Croatian",nativeName:"hrvatski jezik",twoLetterISOCode:"hr",threeLetterISOCode1:"hrv",threeLetterISOCode2:"hrv",threeLetterISOCode3:"hrv"},{englishName:"Czech",nativeName:"čeština, český jazyk",twoLetterISOCode:"cs",threeLetterISOCode1:"ces",threeLetterISOCode2:"cze",threeLetterISOCode3:"ces"},{englishName:"Danish",nativeName:"dansk",twoLetterISOCode:"da",threeLetterISOCode1:"dan",threeLetterISOCode2:"dan",threeLetterISOCode3:"dan"},{englishName:"Divehi, Dhivehi, Maldivian",nativeName:"ދިވެހި",twoLetterISOCode:"dv",threeLetterISOCode1:"div",threeLetterISOCode2:"div",threeLetterISOCode3:"div"},{englishName:"Dutch, Flemish",nativeName:"Nederlands, Vlaams",twoLetterISOCode:"nl",threeLetterISOCode1:"nld",threeLetterISOCode2:"dut",threeLetterISOCode3:"nld"},{englishName:"Dzongkha",nativeName:"རྫོང་ཁ",twoLetterISOCode:"dz",threeLetterISOCode1:"dzo",threeLetterISOCode2:"dzo",threeLetterISOCode3:"dzo"},{englishName:"English",nativeName:"English",twoLetterISOCode:"en",threeLetterISOCode1:"eng",threeLetterISOCode2:"eng",threeLetterISOCode3:"eng"},{englishName:"Esperanto",nativeName:"Esperanto",twoLetterISOCode:"eo",threeLetterISOCode1:"epo",threeLetterISOCode2:"epo",threeLetterISOCode3:"epo"},{englishName:"Estonian",nativeName:"eesti, eesti keel",twoLetterISOCode:"et",threeLetterISOCode1:"est",threeLetterISOCode2:"est",threeLetterISOCode3:"est"},{englishName:"Ewe",nativeName:"Eʋegbe",twoLetterISOCode:"ee",threeLetterISOCode1:"ewe",threeLetterISOCode2:"ewe",threeLetterISOCode3:"ewe"},{englishName:"Faroese",nativeName:"føroyskt",twoLetterISOCode:"fo",threeLetterISOCode1:"fao",threeLetterISOCode2:"fao",threeLetterISOCode3:"fao"},{englishName:"Fijian",nativeName:"vosa Vakaviti",twoLetterISOCode:"fj",threeLetterISOCode1:"fij",threeLetterISOCode2:"fij",threeLetterISOCode3:"fij"},{englishName:"Finnish",nativeName:"suomi, suomen kieli",twoLetterISOCode:"fi",threeLetterISOCode1:"fin",threeLetterISOCode2:"fin",threeLetterISOCode3:"fin"},{englishName:"French",nativeName:"français, langue française",twoLetterISOCode:"fr",threeLetterISOCode1:"fra",threeLetterISOCode2:"fre",threeLetterISOCode3:"fra"},{englishName:"Fulah",nativeName:"Fulfulde, Pulaar, Pular",twoLetterISOCode:"ff",threeLetterISOCode1:"ful",threeLetterISOCode2:"ful",threeLetterISOCode3:"ful"},{englishName:"Galician",nativeName:"Galego",twoLetterISOCode:"gl",threeLetterISOCode1:"glg",threeLetterISOCode2:"glg",threeLetterISOCode3:"glg"},{englishName:"Georgian",nativeName:"ქართული",twoLetterISOCode:"ka",threeLetterISOCode1:"kat",threeLetterISOCode2:"geo",threeLetterISOCode3:"kat"},{englishName:"German",nativeName:"Deutsch",twoLetterISOCode:"de",threeLetterISOCode1:"deu",threeLetterISOCode2:"ger",threeLetterISOCode3:"deu"},{englishName:"Greek, Modern (1453–)",nativeName:"ελληνικά",twoLetterISOCode:"el",threeLetterISOCode1:"ell",threeLetterISOCode2:"gre",threeLetterISOCode3:"ell"},{englishName:"Guarani",nativeName:"Avañe'ẽ",twoLetterISOCode:"gn",threeLetterISOCode1:"grn",threeLetterISOCode2:"grn",threeLetterISOCode3:"grn"},{englishName:"Gujarati",nativeName:"ગુજરાતી",twoLetterISOCode:"gu",threeLetterISOCode1:"guj",threeLetterISOCode2:"guj",threeLetterISOCode3:"guj"},{englishName:"Haitian, Haitian Creole",nativeName:"Kreyòl ayisyen",twoLetterISOCode:"ht",threeLetterISOCode1:"hat",threeLetterISOCode2:"hat",threeLetterISOCode3:"hat"},{englishName:"Hausa",nativeName:"(Hausa) هَوُسَ",twoLetterISOCode:"ha",threeLetterISOCode1:"hau",threeLetterISOCode2:"hau",threeLetterISOCode3:"hau"},{englishName:"Hebrew",nativeName:"עברית",twoLetterISOCode:"he",threeLetterISOCode1:"heb",threeLetterISOCode2:"heb",threeLetterISOCode3:"heb"},{englishName:"Herero",nativeName:"Otjiherero",twoLetterISOCode:"hz",threeLetterISOCode1:"her",threeLetterISOCode2:"her",threeLetterISOCode3:"her"},{englishName:"Hindi",nativeName:"हिन्दी, हिंदी",twoLetterISOCode:"hi",threeLetterISOCode1:"hin",threeLetterISOCode2:"hin",threeLetterISOCode3:"hin"},{englishName:"Hiri Motu",nativeName:"Hiri Motu",twoLetterISOCode:"ho",threeLetterISOCode1:"hmo",threeLetterISOCode2:"hmo",threeLetterISOCode3:"hmo"},{englishName:"Hungarian",nativeName:"magyar",twoLetterISOCode:"hu",threeLetterISOCode1:"hun",threeLetterISOCode2:"hun",threeLetterISOCode3:"hun"},{englishName:"Interlingua (International Auxiliary Language Association)",nativeName:"Interlingua",twoLetterISOCode:"ia",threeLetterISOCode1:"ina",threeLetterISOCode2:"ina",threeLetterISOCode3:"ina"},{englishName:"Indonesian",nativeName:"Bahasa Indonesia",twoLetterISOCode:"id",threeLetterISOCode1:"ind",threeLetterISOCode2:"ind",threeLetterISOCode3:"ind"},{englishName:"Interlingue, Occidental",nativeName:"(originally:) Occidental, (after WWII:) Interlingue",twoLetterISOCode:"ie",threeLetterISOCode1:"ile",threeLetterISOCode2:"ile",threeLetterISOCode3:"ile"},{englishName:"Irish",nativeName:"Gaeilge",twoLetterISOCode:"ga",threeLetterISOCode1:"gle",threeLetterISOCode2:"gle",threeLetterISOCode3:"gle"},{englishName:"Igbo",nativeName:"Asụsụ Igbo",twoLetterISOCode:"ig",threeLetterISOCode1:"ibo",threeLetterISOCode2:"ibo",threeLetterISOCode3:"ibo"},{englishName:"Inupiaq",nativeName:"Iñupiaq, Iñupiatun",twoLetterISOCode:"ik",threeLetterISOCode1:"ipk",threeLetterISOCode2:"ipk",threeLetterISOCode3:"ipk"},{englishName:"Ido",nativeName:"Ido",twoLetterISOCode:"io",threeLetterISOCode1:"ido",threeLetterISOCode2:"ido",threeLetterISOCode3:"ido"},{englishName:"Icelandic",nativeName:"Íslenska",twoLetterISOCode:"is",threeLetterISOCode1:"isl",threeLetterISOCode2:"ice",threeLetterISOCode3:"isl"},{englishName:"Italian",nativeName:"Italiano",twoLetterISOCode:"it",threeLetterISOCode1:"ita",threeLetterISOCode2:"ita",threeLetterISOCode3:"ita"},{englishName:"Inuktitut",nativeName:"ᐃᓄᒃᑎᑐᑦ",twoLetterISOCode:"iu",threeLetterISOCode1:"iku",threeLetterISOCode2:"iku",threeLetterISOCode3:"iku"},{englishName:"Japanese",nativeName:"日本語",twoLetterISOCode:"ja",threeLetterISOCode1:"jpn",threeLetterISOCode2:"jpn",threeLetterISOCode3:"jpn"},{englishName:"Javanese",nativeName:"ꦧꦱꦗꦮ, Basa Jawa",twoLetterISOCode:"jv",threeLetterISOCode1:"jav",threeLetterISOCode2:"jav",threeLetterISOCode3:"jav"},{englishName:"Kalaallisut, Greenlandic",nativeName:"kalaallisut, kalaallit oqaasii",twoLetterISOCode:"kl",threeLetterISOCode1:"kal",threeLetterISOCode2:"kal",threeLetterISOCode3:"kal"},{englishName:"Kannada",nativeName:"ಕನ್ನಡ",twoLetterISOCode:"kn",threeLetterISOCode1:"kan",threeLetterISOCode2:"kan",threeLetterISOCode3:"kan"},{englishName:"Kanuri",nativeName:"Kanuri",twoLetterISOCode:"kr",threeLetterISOCode1:"kau",threeLetterISOCode2:"kau",threeLetterISOCode3:"kau"},{englishName:"Kashmiri",nativeName:"कश्मीरी, كشميري‎",twoLetterISOCode:"ks",threeLetterISOCode1:"kas",threeLetterISOCode2:"kas",threeLetterISOCode3:"kas"},{englishName:"Kazakh",nativeName:"қазақ тілі",twoLetterISOCode:"kk",threeLetterISOCode1:"kaz",threeLetterISOCode2:"kaz",threeLetterISOCode3:"kaz"},{englishName:"Central Khmer",nativeName:"ខ្មែរ, ខេមរភាសា, ភាសាខ្មែរ",twoLetterISOCode:"km",threeLetterISOCode1:"khm",threeLetterISOCode2:"khm",threeLetterISOCode3:"khm"},{englishName:"Kikuyu, Gikuyu",nativeName:"Gĩkũyũ",twoLetterISOCode:"ki",threeLetterISOCode1:"kik",threeLetterISOCode2:"kik",threeLetterISOCode3:"kik"},{englishName:"Kinyarwanda",nativeName:"Ikinyarwanda",twoLetterISOCode:"rw",threeLetterISOCode1:"kin",threeLetterISOCode2:"kin",threeLetterISOCode3:"kin"},{englishName:"Kirghiz, Kyrgyz",nativeName:"Кыргызча, Кыргыз тили",twoLetterISOCode:"ky",threeLetterISOCode1:"kir",threeLetterISOCode2:"kir",threeLetterISOCode3:"kir"},{englishName:"Komi",nativeName:"коми кыв",twoLetterISOCode:"kv",threeLetterISOCode1:"kom",threeLetterISOCode2:"kom",threeLetterISOCode3:"kom"},{englishName:"Kongo",nativeName:"Kikongo",twoLetterISOCode:"kg",threeLetterISOCode1:"kon",threeLetterISOCode2:"kon",threeLetterISOCode3:"kon"},{englishName:"Korean",nativeName:"한국어",twoLetterISOCode:"ko",threeLetterISOCode1:"kor",threeLetterISOCode2:"kor",threeLetterISOCode3:"kor"},{englishName:"Kurdish",nativeName:"Kurdî, کوردی‎",twoLetterISOCode:"ku",threeLetterISOCode1:"kur",threeLetterISOCode2:"kur",threeLetterISOCode3:"kur"},{englishName:"Kuanyama, Kwanyama",nativeName:"Kuanyama",twoLetterISOCode:"kj",threeLetterISOCode1:"kua",threeLetterISOCode2:"kua",threeLetterISOCode3:"kua"},{englishName:"Latin",nativeName:"latine, lingua latina",twoLetterISOCode:"la",threeLetterISOCode1:"lat",threeLetterISOCode2:"lat",threeLetterISOCode3:"lat"},{englishName:"Luxembourgish, Letzeburgesch",nativeName:"Lëtzebuergesch",twoLetterISOCode:"lb",threeLetterISOCode1:"ltz",threeLetterISOCode2:"ltz",threeLetterISOCode3:"ltz"},{englishName:"Ganda",nativeName:"Luganda",twoLetterISOCode:"lg",threeLetterISOCode1:"lug",threeLetterISOCode2:"lug",threeLetterISOCode3:"lug"},{englishName:"Limburgan, Limburger, Limburgish",nativeName:"Limburgs",twoLetterISOCode:"li",threeLetterISOCode1:"lim",threeLetterISOCode2:"lim",threeLetterISOCode3:"lim"},{englishName:"Lingala",nativeName:"Lingála",twoLetterISOCode:"ln",threeLetterISOCode1:"lin",threeLetterISOCode2:"lin",threeLetterISOCode3:"lin"},{englishName:"Lao",nativeName:"ພາສາລາວ",twoLetterISOCode:"lo",threeLetterISOCode1:"lao",threeLetterISOCode2:"lao",threeLetterISOCode3:"lao"},{englishName:"Lithuanian",nativeName:"lietuvių kalba",twoLetterISOCode:"lt",threeLetterISOCode1:"lit",threeLetterISOCode2:"lit",threeLetterISOCode3:"lit"},{englishName:"Luba-Katanga",nativeName:"Kiluba",twoLetterISOCode:"lu",threeLetterISOCode1:"lub",threeLetterISOCode2:"lub",threeLetterISOCode3:"lub"},{englishName:"Latvian",nativeName:"latviešu valoda",twoLetterISOCode:"lv",threeLetterISOCode1:"lav",threeLetterISOCode2:"lav",threeLetterISOCode3:"lav"},{englishName:"Manx",nativeName:"Gaelg, Gailck",twoLetterISOCode:"gv",threeLetterISOCode1:"glv",threeLetterISOCode2:"glv",threeLetterISOCode3:"glv"},{englishName:"Macedonian",nativeName:"македонски јазик",twoLetterISOCode:"mk",threeLetterISOCode1:"mkd",threeLetterISOCode2:"mac",threeLetterISOCode3:"mkd"},{englishName:"Malagasy",nativeName:"fiteny malagasy",twoLetterISOCode:"mg",threeLetterISOCode1:"mlg",threeLetterISOCode2:"mlg",threeLetterISOCode3:"mlg"},{englishName:"Malay",nativeName:"Bahasa Melayu, بهاس ملايو‎",twoLetterISOCode:"ms",threeLetterISOCode1:"msa",threeLetterISOCode2:"may",threeLetterISOCode3:"msa"},{englishName:"Malayalam",nativeName:"മലയാളം",twoLetterISOCode:"ml",threeLetterISOCode1:"mal",threeLetterISOCode2:"mal",threeLetterISOCode3:"mal"},{englishName:"Maltese",nativeName:"Malti",twoLetterISOCode:"mt",threeLetterISOCode1:"mlt",threeLetterISOCode2:"mlt",threeLetterISOCode3:"mlt"},{englishName:"Maori",nativeName:"te reo Māori",twoLetterISOCode:"mi",threeLetterISOCode1:"mri",threeLetterISOCode2:"mao",threeLetterISOCode3:"mri"},{englishName:"Marathi",nativeName:"मराठी",twoLetterISOCode:"mr",threeLetterISOCode1:"mar",threeLetterISOCode2:"mar",threeLetterISOCode3:"mar"},{englishName:"Marshallese",nativeName:"Kajin M̧ajeļ",twoLetterISOCode:"mh",threeLetterISOCode1:"mah",threeLetterISOCode2:"mah",threeLetterISOCode3:"mah"},{englishName:"Mongolian",nativeName:"Монгол хэл",twoLetterISOCode:"mn",threeLetterISOCode1:"mon",threeLetterISOCode2:"mon",threeLetterISOCode3:"mon"},{englishName:"Nauru",nativeName:"Dorerin Naoero",twoLetterISOCode:"na",threeLetterISOCode1:"nau",threeLetterISOCode2:"nau",threeLetterISOCode3:"nau"},{englishName:"Navajo, Navaho",nativeName:"Diné bizaad",twoLetterISOCode:"nv",threeLetterISOCode1:"nav",threeLetterISOCode2:"nav",threeLetterISOCode3:"nav"},{englishName:"North Ndebele",nativeName:"isiNdebele",twoLetterISOCode:"nd",threeLetterISOCode1:"nde",threeLetterISOCode2:"nde",threeLetterISOCode3:"nde"},{englishName:"Nepali",nativeName:"नेपाली",twoLetterISOCode:"ne",threeLetterISOCode1:"nep",threeLetterISOCode2:"nep",threeLetterISOCode3:"nep"},{englishName:"Ndonga",nativeName:"Owambo",twoLetterISOCode:"ng",threeLetterISOCode1:"ndo",threeLetterISOCode2:"ndo",threeLetterISOCode3:"ndo"},{englishName:"Norwegian Bokmål",nativeName:"Norsk Bokmål",twoLetterISOCode:"nb",threeLetterISOCode1:"nob",threeLetterISOCode2:"nob",threeLetterISOCode3:"nob"},{englishName:"Norwegian Nynorsk",nativeName:"Norsk Nynorsk",twoLetterISOCode:"nn",threeLetterISOCode1:"nno",threeLetterISOCode2:"nno",threeLetterISOCode3:"nno"},{englishName:"Norwegian",nativeName:"Norsk",twoLetterISOCode:"no",threeLetterISOCode1:"nor",threeLetterISOCode2:"nor",threeLetterISOCode3:"nor"},{englishName:"Sichuan Yi, Nuosu",nativeName:"ꆈꌠ꒿ Nuosuhxop",twoLetterISOCode:"ii",threeLetterISOCode1:"iii",threeLetterISOCode2:"iii",threeLetterISOCode3:"iii"},{englishName:"South Ndebele",nativeName:"isiNdebele",twoLetterISOCode:"nr",threeLetterISOCode1:"nbl",threeLetterISOCode2:"nbl",threeLetterISOCode3:"nbl"},{englishName:"Occitan",nativeName:"occitan, lenga d'òc",twoLetterISOCode:"oc",threeLetterISOCode1:"oci",threeLetterISOCode2:"oci",threeLetterISOCode3:"oci"},{englishName:"Ojibwa",nativeName:"ᐊᓂᔑᓈᐯᒧᐎᓐ",twoLetterISOCode:"oj",threeLetterISOCode1:"oji",threeLetterISOCode2:"oji",threeLetterISOCode3:"oji"},{englishName:"Church Slavic, Old Slavonic, Church Slavonic, Old Bulgarian, Old Church Slavonic",nativeName:"ѩзыкъ словѣньскъ",twoLetterISOCode:"cu",threeLetterISOCode1:"chu",threeLetterISOCode2:"chu",threeLetterISOCode3:"chu"},{englishName:"Oromo",nativeName:"Afaan Oromoo",twoLetterISOCode:"om",threeLetterISOCode1:"orm",threeLetterISOCode2:"orm",threeLetterISOCode3:"orm"},{englishName:"Oriya",nativeName:"ଓଡ଼ିଆ",twoLetterISOCode:"or",threeLetterISOCode1:"ori",threeLetterISOCode2:"ori",threeLetterISOCode3:"ori"},{englishName:"Ossetian, Ossetic",nativeName:"ирон æвзаг",twoLetterISOCode:"os",threeLetterISOCode1:"oss",threeLetterISOCode2:"oss",threeLetterISOCode3:"oss"},{englishName:"Punjabi, Panjabi",nativeName:"ਪੰਜਾਬੀ, پنجابی‎",twoLetterISOCode:"pa",threeLetterISOCode1:"pan",threeLetterISOCode2:"pan",threeLetterISOCode3:"pan"},{englishName:"Pali",nativeName:"पालि, पाळि",twoLetterISOCode:"pi",threeLetterISOCode1:"pli",threeLetterISOCode2:"pli",threeLetterISOCode3:"pli"},{englishName:"Persian",nativeName:"فارسی",twoLetterISOCode:"fa",threeLetterISOCode1:"fas",threeLetterISOCode2:"per",threeLetterISOCode3:"fas"},{englishName:"Polish",nativeName:"język polski, polszczyzna",twoLetterISOCode:"pl",threeLetterISOCode1:"pol",threeLetterISOCode2:"pol",threeLetterISOCode3:"pol"},{englishName:"Pashto, Pushto",nativeName:"پښتو",twoLetterISOCode:"ps",threeLetterISOCode1:"pus",threeLetterISOCode2:"pus",threeLetterISOCode3:"pus"},{englishName:"Portuguese",nativeName:"Português",twoLetterISOCode:"pt",threeLetterISOCode1:"por",threeLetterISOCode2:"por",threeLetterISOCode3:"por"},{englishName:"Quechua",nativeName:"Runa Simi, Kichwa",twoLetterISOCode:"qu",threeLetterISOCode1:"que",threeLetterISOCode2:"que",threeLetterISOCode3:"que"},{englishName:"Romansh",nativeName:"Rumantsch Grischun",twoLetterISOCode:"rm",threeLetterISOCode1:"roh",threeLetterISOCode2:"roh",threeLetterISOCode3:"roh"},{englishName:"Rundi",nativeName:"Ikirundi",twoLetterISOCode:"rn",threeLetterISOCode1:"run",threeLetterISOCode2:"run",threeLetterISOCode3:"run"},{englishName:"Romanian, Moldavian, Moldovan",nativeName:"Română",twoLetterISOCode:"ro",threeLetterISOCode1:"ron",threeLetterISOCode2:"rum",threeLetterISOCode3:"ron"},{englishName:"Russian",nativeName:"русский",twoLetterISOCode:"ru",threeLetterISOCode1:"rus",threeLetterISOCode2:"rus",threeLetterISOCode3:"rus"},{englishName:"Sanskrit",nativeName:"संस्कृतम्",twoLetterISOCode:"sa",threeLetterISOCode1:"san",threeLetterISOCode2:"san",threeLetterISOCode3:"san"},{englishName:"Sardinian",nativeName:"sardu",twoLetterISOCode:"sc",threeLetterISOCode1:"srd",threeLetterISOCode2:"srd",threeLetterISOCode3:"srd"},{englishName:"Sindhi",nativeName:"सिन्धी, سنڌي، سندھی‎",twoLetterISOCode:"sd",threeLetterISOCode1:"snd",threeLetterISOCode2:"snd",threeLetterISOCode3:"snd"},{englishName:"Northern Sami",nativeName:"Davvisámegiella",twoLetterISOCode:"se",threeLetterISOCode1:"sme",threeLetterISOCode2:"sme",threeLetterISOCode3:"sme"},{englishName:"Samoan",nativeName:"gagana fa'a Samoa",twoLetterISOCode:"sm",threeLetterISOCode1:"smo",threeLetterISOCode2:"smo",threeLetterISOCode3:"smo"},{englishName:"Sango",nativeName:"yângâ tî sängö",twoLetterISOCode:"sg",threeLetterISOCode1:"sag",threeLetterISOCode2:"sag",threeLetterISOCode3:"sag"},{englishName:"Serbian",nativeName:"српски језик",twoLetterISOCode:"sr",threeLetterISOCode1:"srp",threeLetterISOCode2:"srp",threeLetterISOCode3:"srp"},{englishName:"Gaelic, Scottish Gaelic",nativeName:"Gàidhlig",twoLetterISOCode:"gd",threeLetterISOCode1:"gla",threeLetterISOCode2:"gla",threeLetterISOCode3:"gla"},{englishName:"Shona",nativeName:"chiShona",twoLetterISOCode:"sn",threeLetterISOCode1:"sna",threeLetterISOCode2:"sna",threeLetterISOCode3:"sna"},{englishName:"Sinhala, Sinhalese",nativeName:"සිංහල",twoLetterISOCode:"si",threeLetterISOCode1:"sin",threeLetterISOCode2:"sin",threeLetterISOCode3:"sin"},{englishName:"Slovak",nativeName:"Slovenčina, Slovenský jazyk",twoLetterISOCode:"sk",threeLetterISOCode1:"slk",threeLetterISOCode2:"slo",threeLetterISOCode3:"slk"},{englishName:"Slovenian",nativeName:"Slovenski jezik, Slovenščina",twoLetterISOCode:"sl",threeLetterISOCode1:"slv",threeLetterISOCode2:"slv",threeLetterISOCode3:"slv"},{englishName:"Somali",nativeName:"Soomaaliga, af Soomaali",twoLetterISOCode:"so",threeLetterISOCode1:"som",threeLetterISOCode2:"som",threeLetterISOCode3:"som"},{englishName:"Southern Sotho",nativeName:"Sesotho",twoLetterISOCode:"st",threeLetterISOCode1:"sot",threeLetterISOCode2:"sot",threeLetterISOCode3:"sot"},{englishName:"Spanish, Castilian",nativeName:"Español",twoLetterISOCode:"es",threeLetterISOCode1:"spa",threeLetterISOCode2:"spa",threeLetterISOCode3:"spa"},{englishName:"Sundanese",nativeName:"Basa Sunda",twoLetterISOCode:"su",threeLetterISOCode1:"sun",threeLetterISOCode2:"sun",threeLetterISOCode3:"sun"},{englishName:"Swahili",nativeName:"Kiswahili",twoLetterISOCode:"sw",threeLetterISOCode1:"swa",threeLetterISOCode2:"swa",threeLetterISOCode3:"swa"},{englishName:"Swati",nativeName:"SiSwati",twoLetterISOCode:"ss",threeLetterISOCode1:"ssw",threeLetterISOCode2:"ssw",threeLetterISOCode3:"ssw"},{englishName:"Swedish",nativeName:"Svenska",twoLetterISOCode:"sv",threeLetterISOCode1:"swe",threeLetterISOCode2:"swe",threeLetterISOCode3:"swe"},{englishName:"Tamil",nativeName:"தமிழ்",twoLetterISOCode:"ta",threeLetterISOCode1:"tam",threeLetterISOCode2:"tam",threeLetterISOCode3:"tam"},{englishName:"Telugu",nativeName:"తెలుగు",twoLetterISOCode:"te",threeLetterISOCode1:"tel",threeLetterISOCode2:"tel",threeLetterISOCode3:"tel"},{englishName:"Tajik",nativeName:"тоҷикӣ, toçikī, تاجیکی‎",twoLetterISOCode:"tg",threeLetterISOCode1:"tgk",threeLetterISOCode2:"tgk",threeLetterISOCode3:"tgk"},{englishName:"Thai",nativeName:"ไทย",twoLetterISOCode:"th",threeLetterISOCode1:"tha",threeLetterISOCode2:"tha",threeLetterISOCode3:"tha"},{englishName:"Tigrinya",nativeName:"ትግርኛ",twoLetterISOCode:"ti",threeLetterISOCode1:"tir",threeLetterISOCode2:"tir",threeLetterISOCode3:"tir"},{englishName:"Tibetan",nativeName:"བོད་ཡིག",twoLetterISOCode:"bo",threeLetterISOCode1:"bod",threeLetterISOCode2:"tib",threeLetterISOCode3:"bod"},{englishName:"Turkmen",nativeName:"Türkmen, Түркмен",twoLetterISOCode:"tk",threeLetterISOCode1:"tuk",threeLetterISOCode2:"tuk",threeLetterISOCode3:"tuk"},{englishName:"Tagalog",nativeName:"Wikang Tagalog",twoLetterISOCode:"tl",threeLetterISOCode1:"tgl",threeLetterISOCode2:"tgl",threeLetterISOCode3:"tgl"},{englishName:"Tswana",nativeName:"Setswana",twoLetterISOCode:"tn",threeLetterISOCode1:"tsn",threeLetterISOCode2:"tsn",threeLetterISOCode3:"tsn"},{englishName:"Tonga (Tonga Islands)",nativeName:"Faka Tonga",twoLetterISOCode:"to",threeLetterISOCode1:"ton",threeLetterISOCode2:"ton",threeLetterISOCode3:"ton"},{englishName:"Turkish",nativeName:"Türkçe",twoLetterISOCode:"tr",threeLetterISOCode1:"tur",threeLetterISOCode2:"tur",threeLetterISOCode3:"tur"},{englishName:"Tsonga",nativeName:"Xitsonga",twoLetterISOCode:"ts",threeLetterISOCode1:"tso",threeLetterISOCode2:"tso",threeLetterISOCode3:"tso"},{englishName:"Tatar",nativeName:"татар теле, tatar tele",twoLetterISOCode:"tt",threeLetterISOCode1:"tat",threeLetterISOCode2:"tat",threeLetterISOCode3:"tat"},{englishName:"Twi",nativeName:"Twi",twoLetterISOCode:"tw",threeLetterISOCode1:"twi",threeLetterISOCode2:"twi",threeLetterISOCode3:"twi"},{englishName:"Tahitian",nativeName:"Reo Tahiti",twoLetterISOCode:"ty",threeLetterISOCode1:"tah",threeLetterISOCode2:"tah",threeLetterISOCode3:"tah"},{englishName:"Uighur, Uyghur",nativeName:"ئۇيغۇرچە‎, Uyghurche",twoLetterISOCode:"ug",threeLetterISOCode1:"uig",threeLetterISOCode2:"uig",threeLetterISOCode3:"uig"},{englishName:"Ukrainian",nativeName:"Українська",twoLetterISOCode:"uk",threeLetterISOCode1:"ukr",threeLetterISOCode2:"ukr",threeLetterISOCode3:"ukr"},{englishName:"Urdu",nativeName:"اردو",twoLetterISOCode:"ur",threeLetterISOCode1:"urd",threeLetterISOCode2:"urd",threeLetterISOCode3:"urd"},{englishName:"Uzbek",nativeName:"Oʻzbek, Ўзбек, أۇزبېك‎",twoLetterISOCode:"uz",threeLetterISOCode1:"uzb",threeLetterISOCode2:"uzb",threeLetterISOCode3:"uzb"},{englishName:"Venda",nativeName:"Tshivenḓa",twoLetterISOCode:"ve",threeLetterISOCode1:"ven",threeLetterISOCode2:"ven",threeLetterISOCode3:"ven"},{englishName:"Vietnamese",nativeName:"Tiếng Việt",twoLetterISOCode:"vi",threeLetterISOCode1:"vie",threeLetterISOCode2:"vie",threeLetterISOCode3:"vie"},{englishName:"Volapük",nativeName:"Volapük",twoLetterISOCode:"vo",threeLetterISOCode1:"vol",threeLetterISOCode2:"vol",threeLetterISOCode3:"vol"},{englishName:"Walloon",nativeName:"Walon",twoLetterISOCode:"wa",threeLetterISOCode1:"wln",threeLetterISOCode2:"wln",threeLetterISOCode3:"wln"},{englishName:"Welsh",nativeName:"Cymraeg",twoLetterISOCode:"cy",threeLetterISOCode1:"cym",threeLetterISOCode2:"wel",threeLetterISOCode3:"cym"},{englishName:"Wolof",nativeName:"Wollof",twoLetterISOCode:"wo",threeLetterISOCode1:"wol",threeLetterISOCode2:"wol",threeLetterISOCode3:"wol"},{englishName:"Western Frisian",nativeName:"Frysk",twoLetterISOCode:"fy",threeLetterISOCode1:"fry",threeLetterISOCode2:"fry",threeLetterISOCode3:"fry"},{englishName:"Xhosa",nativeName:"isiXhosa",twoLetterISOCode:"xh",threeLetterISOCode1:"xho",threeLetterISOCode2:"xho",threeLetterISOCode3:"xho"},{englishName:"Yiddish",nativeName:"ייִדיש",twoLetterISOCode:"yi",threeLetterISOCode1:"yid",threeLetterISOCode2:"yid",threeLetterISOCode3:"yid"},{englishName:"Yoruba",nativeName:"Yorùbá",twoLetterISOCode:"yo",threeLetterISOCode1:"yor",threeLetterISOCode2:"yor",threeLetterISOCode3:"yor"},{englishName:"Zhuang, Chuang",nativeName:"Saɯ cueŋƅ, Saw cuengh",twoLetterISOCode:"za",threeLetterISOCode1:"zha",threeLetterISOCode2:"zha",threeLetterISOCode3:"zha"},{englishName:"Zulu",nativeName:"isiZulu",twoLetterISOCode:"zu",threeLetterISOCode1:"zul",threeLetterISOCode2:"zul",threeLetterISOCode3:"zul"}];!function(e){e.ISO_639_1="ISO_639_1",e.ISO_639_2T="ISO_639_2T",e.ISO_639_2B="ISO_639_2B",e.ISO_639_3="ISO_639_3"}(H0||(H0={}));var K0={ISO_639_1:"twoLetterISOCode",ISO_639_2T:"threeLetterISOCode1",ISO_639_2B:"threeLetterISOCode2",ISO_639_3:"threeLetterISOCode3"};function Y0(e,t,n){return e.find((function(e){return Boolean(n.find((function(n){return e[n]===t})))}))}var X0=function(){function e(e){this._languageInfo=e}return e.prototype.getNativeName=function(){return this._languageInfo.nativeName},e.prototype.getEnglishName=function(){return this._languageInfo.englishName},e.prototype.getStandardCode=function(e){var t=K0[e];return t?this._languageInfo[t]:null},e.findByTwoLetterCode=function(t){var n=Y0(W0,t,["twoLetterISOCode"]);return n?new e(n):null},e.findByThreeLetterCode=function(t){var n=Y0(W0,t,["threeLetterISOCode1","threeLetterISOCode2","threeLetterISOCode2"]);return n?new e(n):null},e.findByEnglishName=function(t){var n=Y0(W0,t,["englishName"]);return n?new e(n):null},e.find=function(t){switch(t.length){case 2:return e.findByTwoLetterCode(t);case 3:return e.findByThreeLetterCode(t);default:return e.findByEnglishName(t)}},e.dataset=W0,e}(),$0=function(){return $0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$0.apply(this,arguments)};function Q0(e){var t;return $0(((t={})[UZ]="lang",t),e)}!function(){function e(){}e.prototype.configure=function(e){Array.from(this._target.textTracks).filter((function(e){return"captions"===e.kind||"subtitles"===e.kind})).forEach((function(e){var t,n=e,r=null===(t=X0.find(e.language))||void 0===t?void 0:t.getNativeName();n.label=null!=r?r:e.label}))},e.prototype.initialize=function(e){this._target=e},e.prototype.isPreconditionSatisfied=function(){return!0},e.prototype.resolvePrecondition=function(){return Promise.resolve(!0)},e[UZ]="lang"}();var J0=function(){return J0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},J0.apply(this,arguments)};function Z0(e){var t;return J0(((t={})[WQ]="normalize",t.enable=!!e,t),e)}var e1=function(){return e1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},e1.apply(this,arguments)};function t1(e,t){if(t){var n=t.contentEncoding,r=t.data,i=t.targetLoudness,o=t.mode,a=r?function(e){return new Uint8Array(Array.from(atob(e)).map((function(e){return e.charCodeAt(0)}))).buffer}("BASE64_SAFE"===n?r.replace(/-/g,"+").replace(/_/g,"/"):r):void 0;try{e.configurePreProcessor(e1(e1({},Z0({mode:o,targetLoudness:i})),{data:a}))}catch(e){}}else try{e.configurePreProcessor(Z0())}catch(e){}}var n1=function(){return n1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n1.apply(this,arguments)};function r1(e){var t;return n1(n1(((t={})[WQ]="vr",t),e),{enable:!!e})}var i1={EQUIRECTANGULAR:"equirectangular"},o1={MONO:""};function a1(e,t){if(!t||B$()){var n=r1();return n.enable=!1,void e.configurePreProcessor(n)}var r;e.configurePreProcessor(r1((r={projectionType:t.projectionType,stereoMode:t.stereoMode,projectionHeader:{yaw:t.yaw,pitch:t.pitch,roll:t.roll}},{projectionType:i1[r.projectionType],stereoFormat:o1[r.stereoMode]})))}function s1(e){var t=e,n=r1();n.enable=!1,t.configurePreProcessor(n),t.crossOrigin=null}function u1(e,t){return void 0===e&&(e=[]),e.find((function(e){return e.name===t}))}function l1(e,t,n){return void 0===n&&(n=0),sF(e,"timeupdate").pipe(gF((function(){return!e.paused&&0!==e.playbackRate})),Pj(t),gF((function(e){return e>=n})),mV(3),xU())}function c1(e){return sF(e,fZ.PLAYING).pipe(xU())}function d1(e,t){return!!window.navigator.sendBeacon&&(n="undefined"!=typeof URLSearchParams?new URLSearchParams({p:JSON.stringify(t)}):new Blob(["p="+encodeURIComponent(JSON.stringify(t))],{type:"application/x-www-form-urlencoded;charset=UTF-8"}),window.navigator.sendBeacon(e,n));var n}function f1(e,t){return O$({url:e,method:"POST",responseType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:{p:JSON.stringify(t)},withCredentials:!0}).toPromise()}function h1(e){var t=null!==e.source,n=null!==e.sourceFrom;return t&&n}function p1(e,t,n){return n-e>t-n?t:e}var v1,m1=[144,270,360,480,720,1080,1440,2160,2880,4380];function g1(e,t){return function(e,t){var n=t.length,r=0,i=n-1,o=0;if(e<=t[r])return t[r];if(e>=t[i])return t[i];for(;r<i;){if(e===t[o=(r+i)/2|0])return e;if(e<t[o]){if(o>0&&e>t[o-1])return p1(t[o-1],t[o],e);i=o}else{if(o<n-1&&e<t[o+1])return p1(t[o],t[o+1],e);r=o+1}}return t[o]}(Math.min(e,t),m1)}function y1(e){var t=e.maxBitrate||1/0,n=e.maxResolution||1/0;return function(e){var r=e.bitrate.video<=t,i=g1(e.encodingOption.width,e.encodingOption.height)<=n;return r&&i}}function b1(e){var t,n,r,i,o=y0(e,"p");return new oZ({src:e.source,label:o,selected:!1,id:e.id,width:e.encodingOption.width,height:e.encodingOption.height,encodingOptionID:e.encodingOption.id,videoBitrate:null!==(n=null===(t=e.bitrate)||void 0===t?void 0:t.video)&&void 0!==n?n:NaN,audioBitrate:null!==(i=null===(r=e.bitrate)||void 0===r?void 0:r.audio)&&void 0!==i?i:NaN})}!function(e){e.GLAD="GLAD",e.UNKNOWN="unknown"}(v1||(v1={}));var _1=/%(\d+)d/;function E1(e){var t=e.format,n=e.version,r=e.mediaSequence,i=e.extInfos,o=_1.exec(t);if(!o)return"";var a=parseInt(o[1],10),s=i.map((function(e,n){return["#EXTINF:"+e,t.replace(_1,(function(){return(""+n).padStart(a,"0")}))].join("\n")})),u=["#EXTM3U","#EXT-X-VERSION:"+n,"#EXT-X-MEDIA-SEQUENCE:"+r,"#EXT-X-TARGETDURATION:"+Math.ceil(Math.max.apply(Math,i))];return[].concat(u,s,"#EXT-X-ENDLIST").join("\n")}var w1=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},S1=function(){return S1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},S1.apply(this,arguments)};function T1(e,t){return e.reduce((function(e,n){var r=Math.min(e.width,e.height),i=Math.min(n.width,n.height);return Math.abs(t-r)>Math.abs(t-i)?n:e}))}function k1(e,t,n){if(void 0===n&&(n=!0),!e||(null==e?void 0:e.length)<=0)return NaN;var r=0;if(Number.isFinite(t)){var i=T1(e.filter((function(e){var t;return"abr"!==(null===(t=e.label)||void 0===t?void 0:t.toLowerCase())})),t);if(i)return e.indexOf(i)}if(n){var o=e.findIndex((function(e){var t;return"abr"===(null===(t=e.label)||void 0===t?void 0:t.toLowerCase())}));r=o>=0?o:r}return r}var x1=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},A1=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},P1=function(){function e(e){this._init=e,this._delegate={createMediaKeys:this._createMediaKeys.bind(this)}}return e.prototype.isSubsystemOf=function(e){return this._init.keySystemIdentifiers.indexOf(e)>-1},e.prototype.requestMediaKeySystemAccess=function(e,t){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r];if(n=this.queryConfig(e,o))break}if(!n)throw new Error("NotSupportedError");return this.createAccess(e,n)},e.prototype.createAccess=function(e,t){return x1(this,void 0,void 0,(function(){return A1(this,(function(n){return[2,new wQ(e,t,this._delegate)]}))}))},e.prototype.getMediaKeysController=function(e){return this.contains(e)?e:null},e.prototype.queryConfig=function(e,t){var n,r,i={};if(t.initDataTypes){if(-1===t.initDataTypes.indexOf("uri-redirect"))return null;i.initDataTypes=["uri-redirect"]}if(t.videoCapabilities){var o=null===(n=t.videoCapabilities)||void 0===n?void 0:n.find((function(e){return!("application/x-mpegURL"!==e.contentType&&"vnd.apple.mpegURL"!==e.contentType||e.robustness&&""!==e.robustness)}));if(!o)return null;i.videoCapabilities=[o]}if(t.audioCapabilities){var a=null===(r=t.audioCapabilities)||void 0===r?void 0:r.find((function(e){return!("application/x-mpegURL"!==e.contentType&&"vnd.apple.mpegURL"!==e.contentType||e.robustness&&""!==e.robustness)}));if(!a)return null;i.audioCapabilities=[a]}if(t.sessionTypes){if(-1===t.sessionTypes.indexOf("temporary"))return null;i.sessionTypes=["temporary"]}return t.distinctiveIdentifier||t.label||t.persistentState?null:i},e.prototype.contains=function(e){return gQ(e,mQ(this._init.keysController))},e.prototype._createMediaKeys=function(){return x1(this,void 0,void 0,(function(){return A1(this,(function(e){return[2,new this._init.keysController]}))}))},e}(),O1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C1=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},I1=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},L1=function(e){function t(t){var n=e.call(this)||this;n.onkeystatuseschange=null,n.onmessage=null,n._controller=t;var r=n._handleEvent.bind(n);return n._controller.addEventListener("keystatueschange",r),n._controller.addEventListener("message",r),n}return O1(t,e),Object.defineProperty(t.prototype,"closed",{get:function(){return this._controller.closed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expiration",{get:function(){return this._controller.expiration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyStatuses",{get:function(){return this._controller.keyStatuses},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._controller.sessionId},enumerable:!1,configurable:!0}),t.prototype.close=function(){return C1(this,void 0,void 0,(function(){return I1(this,(function(e){return[2,this._controller.close()]}))}))},t.prototype.generateRequest=function(e,t){return C1(this,void 0,void 0,(function(){return I1(this,(function(n){return[2,this._controller.generateRequest(e,t)]}))}))},t.prototype.load=function(e){return C1(this,void 0,void 0,(function(){return I1(this,(function(t){return[2,this._controller.load(e)]}))}))},t.prototype.remove=function(){return C1(this,void 0,void 0,(function(){return I1(this,(function(e){return[2,this._controller.remove()]}))}))},t.prototype.update=function(e){return C1(this,void 0,void 0,(function(){return I1(this,(function(t){return[2,this._controller.update(e)]}))}))},t.prototype._handleEvent=function(e){var t,n;if("message"===e.type){var r=e,i=new xQ({message:r.message,messageType:r.messageType});return null===(t=this.onmessage)||void 0===t||t.call(this,i),void this.dispatchEvent(i)}var o=new Q$(e.type);"keystatueschange"===e.type&&(null===(n=this.onkeystatuseschange)||void 0===n||n.call(this,o)),this.dispatchEvent(e)},t}(Tz),N1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D1=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},R1=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},M1=function(e){function t(t){var n=e.call(this)||this;if(n.onkeystatuseschange=null,n.onmessage=null,"persistent-license"===t)throw new Error("Not supported");return n.sessionId="",n.keyStatuses=new Map,n._kid=null,n._type=null,n._closedOrClosing=!1,n.closed=new Promise((function(e,t){n._signalCloseOk=e,n._signalCloseError=t})),n}return N1(t,e),Object.defineProperty(t.prototype,"expiration",{get:function(){return NaN},enumerable:!1,configurable:!0}),t.prototype.generateRequest=function(e,t){return D1(this,void 0,void 0,(function(){var n,r,i;return R1(this,(function(o){if("uri-redirect"!==e)throw new Error("Not Supported initDataType");try{n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(ArrayBuffer.isView(t)?t.buffer:t))),r=n.kid,i=n.type,this._kid=r,this._type=i}catch(e){throw new TypeError("Invalid initialization data.")}return this.dispatchEvent(new xQ({messageType:"license-request",message:new ArrayBuffer(0)})),[2]}))}))},t.prototype.load=function(e){return D1(this,void 0,void 0,(function(){return R1(this,(function(e){return[2,!1]}))}))},t.prototype.close=function(){return this._closedOrClosing?Promise.resolve():this._closeInternal()},t.prototype._closeInternal=function(){return D1(this,void 0,void 0,(function(){return R1(this,(function(e){return this._closedOrClosing=!0,this._kid=null,this._type=null,this._signalCloseOk(),[2]}))}))},t.prototype.remove=function(){return D1(this,void 0,void 0,(function(){return R1(this,(function(e){return[2,this.close()]}))}))},t.prototype.update=function(e){return D1(this,void 0,void 0,(function(){return R1(this,(function(e){return[2]}))}))},t.prototype.hasUsableLicenseKey=function(){return!0},t.prototype.decryptUri=function(e){return e},t.prototype.updateKeyState=function(e,t){this.keyStatuses.set((new JZ).encode(e),t),this.dispatchEvent(new Q$("keystatuseschange"))},t}(CJ),j1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F1=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},V1=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},U1=function(e){function t(){var t=e.call(this)||this;return t._handleKeyMessageEvent=function(e){},t._handleKeyStatusesChangeEvent=function(e){},t._keySessionController=null,t}return j1(t,e),t.prototype.attachMedia=function(e){return e instanceof pJ?e.setMediaKeys(this):Promise.resolve()},t.prototype.createSession=function(e){return void 0===e&&(e="temporary"),this._keySessionController&&this._clearSessionController(this._keySessionController),this._keySessionController=this.createKeySessionController(e),this._keySessionController.addEventListener("message",this._handleKeyMessageEvent),this._keySessionController.addEventListener("keystatuseschange",this._handleKeyStatusesChangeEvent),new L1(this._keySessionController)},t.prototype.createKeySessionController=function(e){return new M1(e)},t.prototype.setServerCertificate=function(e){return Promise.reject(new Error("Not supported"))},t.prototype.decryptRequestUri=function(e){return F1(this,void 0,void 0,(function(){return V1(this,(function(t){switch(t.label){case 0:if(!this._keySessionController)throw new Error("The session is not yet initialized.");return this._keySessionController.hasUsableLicenseKey()?[3,2]:[4,VJ(this._keySessionController,"keystatuseschange")];case 1:t.sent(),t.label=2;case 2:return[2,this._keySessionController.decryptUri(e)]}}))}))},t.prototype.close=function(){return Promise.resolve()},t.prototype._clearSessionController=function(e){e.removeEventListener("message",this._handleKeyMessageEvent),e.removeEventListener("keystatuseschange",this._handleKeyStatusesChangeEvent)},t}(CJ);function B1(e,t){var n=e.indexOf("?")>-1?"&":"?";return""+e+n+t}var z1,G1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q1=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},H1=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},W1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._keys=null,t}return G1(t,e),t.prototype.update=function(e){return q1(this,void 0,void 0,(function(){var t,n,r;return H1(this,(function(i){t=null,n=null;try{if(r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(ArrayBuffer.isView(e)?e.buffer:e))),t=r.keys,n=r.kid,!t||!n||this._kid!==n)throw new TypeError("Invalid response format.");this._keys=t}catch(e){return[2]}return this.updateKeyState(n,"usable"),[2]}))}))},t.prototype.decryptUri=function(e){if(!this._keys||!this._keys.length)return e;var t,n,r=e.indexOf("#");r>-1?(t=e.substring(0,r),n=e.substring(r)):(t=e,n="");var i=this._keys.filter((function(e){return"param"===e.type})).map((function(e){return e.name+"="+e.value})).join("&");return B1(t,i)+n},t.prototype.hasUsableLicenseKey=function(){return null!==this._keys},t}(M1),K1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Y1=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},X1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return K1(t,e),t.prototype.createKeySessionController=function(e){return new W1(e)},Y1([vQ("VodKeysController")],t)}(U1),$1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Q1=function(e){function t(){return e.call(this,{keySystemIdentifiers:["com.naver.vod","com.naver.vod.1_0"],keysController:X1})||this}return $1(t,e),t}(P1),J1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Z1=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},e2=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};!function(e){e.META_API="meta_api"}(z1||(z1={}));var t2,n2,r2,i2=function(e){function t(t,n,r){void 0===r&&(r="metadata");var i=e.call(this,t,n,r)||this;return i._metadata={},i._fetchMetadata=function(e){return Z1(i,void 0,void 0,(function(){var t;return e2(this,(function(n){switch(n.label){case 0:return"marker"===e.componentType?[3,1]:[3,3];case 1:return[4,this._fetchMarkerData(e.url)];case 2:return(t=n.sent())&&(this._metadata.marker=t,this.dispatchEvent(new GJ(GJ.CUE_CHANGE,this))),[3,3];case 3:return[2]}}))}))},i.policies=t.policies,i.policies&&(i._networkState=0),i}return J1(t,e),t.prototype._fetchAllMetadata=function(e){return Z1(this,void 0,void 0,(function(){return e2(this,(function(t){switch(t.label){case 0:return this._networkState=2,[4,Promise.all(e.map(this._fetchMetadata))];case 1:return t.sent(),this._networkState=1,[2]}}))}))},t.prototype._fetchMarkerData=function(e){return Z1(this,void 0,void 0,(function(){var t,n,r,i,o,a;return e2(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,O$({url:e,method:"GET",responseType:"json"}).pipe(ZU("response")).toPromise()];case 1:return t=s.sent(),n=t.tracks[0].components[0],r=n.customData,i=n.events,o={playTimeMap:{maxCount:r.maxCount,map:r.timeCountMap},points:i.map((function(e){var t;return{score:null===(t=e.customData)||void 0===t?void 0:t.score,mt:e.method.point.pointTime}}))},[2,o];case 2:return a=s.sent(),console.warn(a),[3,3];case 3:return[2,null]}}))}))},Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(e){this._mode!==e&&(this._mode=e,"disabled"!==e&&0===this.networkState&&this._fetchAllMetadata(this.policies))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"networkState",{get:function(){return this._networkState},enumerable:!1,configurable:!0}),t}(HJ),o2=i2;!function(e){e.REAL="real",e.STAGE="stage",e.DEV="dev"}(t2||(t2={})),function(e){e.REAL="apis.naver.com/rmcnmv/rmcnmv/vod/play/v2.0",e.STAGE="play-stage.rmcnmv.naver.com/vod/play/v2.0",e.DEV="dev.apis.naver.com/rmcnmv/rmcnmv/vod/play/v2.0"}(n2||(n2={})),function(e){e[e.DEFAULT_ABR_INITIAL_QUALITY=480]="DEFAULT_ABR_INITIAL_QUALITY",e[e.DEFAULT_ABR_MAX_QUALITY=720]="DEFAULT_ABR_MAX_QUALITY",e[e.DEFAULT_PD_INITIAL_QUALITY=720]="DEFAULT_PD_INITIAL_QUALITY"}(r2||(r2={}));var a2=function(){function e(){this._env="real"}return e.prototype.set=function(e){var t,n,r=e.query,i=e.hash;if(r){var o=(null===(t=e.query)||void 0===t?void 0:t.env)||(null===(n=e.query)||void 0===n?void 0:n.providerEnv)||"real";this.env=o}i&&(this.track=parseInt(i.track,10),this.maxBitrate=parseInt(i["max-bitrate"],10),this.startTime=parseInt(i.t,10),this.maxResolution=parseInt(i["max-resolution"],10),this.startLevel=parseInt(i["start-level"],10),this.maxLevel=parseInt(i["max-level"]||i["cap-track"]||i.capTrack,10),this._pop=i.pop)},e.prototype.setByParam=function(e){e.startTime&&(this.startTime=e.startTime),e.track&&(this.track=e.track),e.maxResolution&&(this.maxResolution=e.maxResolution),e.maxBitrate&&(this.maxBitrate=e.maxBitrate),e.startLevel&&(this.startLevel=e.startLevel),e.maxLevel&&(this.maxLevel=e.maxLevel)},Object.defineProperty(e.prototype,"env",{get:function(){return this._env},set:function(e){switch(e){case"real":case"stage":case"dev":this._env=e;break;default:this._env="real"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pop",{get:function(){return this._pop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playAPIDomain",{get:function(){switch(this.env){case"real":default:return"apis.naver.com/rmcnmv/rmcnmv/vod/play/v2.0";case"stage":return"play-stage.rmcnmv.naver.com/vod/play/v2.0";case"dev":return"dev.apis.naver.com/rmcnmv/rmcnmv/vod/play/v2.0"}},enumerable:!1,configurable:!0}),e.prototype.getPlayAPIUrl=function(e,t,n,r){var i={key:n,sid:e};r&&Object.assign(i,r);var o=window.location.protocol,a=Object.entries(i).map((function(e){var t=e[0],n=e[1];return t+"="+encodeURIComponent(n)})).join("&");return $Z(o+"//"+this.playAPIDomain+"/"+t+"?"+a,this.pop)},e}(),s2=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u2=function(e){function t(t,n,r){void 0===n&&(n="unknown error"),void 0===r&&(r="unknown error");var i=e.call(this)||this;return i.code=t,i.message=n,i.detailMessage=r,i.code=t,i.message=n,i}return s2(t,e),t}(Error);function l2(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}var c2={FairPlay:"com.apple.fps",Widevine:"com.widevine.alpha",PlayReady:"com.microsoft.playready"};function d2(e){for(var t=0,n=Object.entries(c2);t<n.length;t++){var r=n[t],i=r[0];if(r[1]===e)return i}throw new TypeError("Unknown keySystem")}var f2=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h2=function(){return h2=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h2.apply(this,arguments)},p2=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},v2=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function m2(e){var t,n,r;return"string"==(r=typeof(n=null===(t=null==e?void 0:e.encodingOption)||void 0===t?void 0:t.isEncodingComplete))?"true"===n.toLowerCase():"boolean"===r&&!!n}aW.registerAdsSourceFactory("glad:",DF.GLADRequestFactory),dQ.getInstance().define(new Q1);var g2=function(e){function t(t){var n,r,i=e.call(this)||this;i.id=c$.v4(),i.protocol="vod:",i._cancel$=new wM,i._shouldRequestPlayAPI=!0,i._caches=[],i._loop$=new wM,i._getPlayInfo=function(){var e,t,n=i._config.getPlayAPIUrl(i._serviceId,i._videoId,i._key,h2({pid:null!==(t=null===(e=i.player)||void 0===e?void 0:e.id)&&void 0!==t?t:i.id,nonce:Date.now()},i._params));return O$({url:n,method:"GET",responseType:"json",withCredentials:!0}).pipe(ZU("response"))},i._data=null,i._serverTime=null,i._clientStartTime=NaN,i._expireTime=null,i._error=null,i._videoId="",i._key="",i._mediaType="main",i._replay=!1,i._params=new L0,i._config=new a2;try{var o=_0(t);i._serviceId=o.username||"",i._key=o.password||"",i._videoId=o.host,i._config.set(o),i._params.devt=null!==(r=null===(n=null==o?void 0:o.query)||void 0===n?void 0:n.devt)&&void 0!==r?r:E0(),i._params=h2(h2({},i._params),o.query),i._params.adt||(i._params.adi=i._params.adi||'[{"adSystem":"null"}]',i._params.adu=i._params.adu||"/")}catch(e){i._throwError(100,"invalid url")}return i._initializeClientId(),i._initializeDimensions(),i._nelo=new m0({projectName:"webplayer-coreplayer",projectVersion:vJ,sid:i._serviceId,vid:i._videoId,protocol:i.protocol}),i}return f2(t,e),t.prototype._initializeClientId=function(){var e;this._clientId=null!==(e=this._clientId)&&void 0!==e?e:HZ(document.cookie).NNB||c$.v4()},t.fromJSON=function(e,n){var r,i=g0((null===(r=e.meta.apiList.find((function(e){return"count"===e.name})))||void 0===r?void 0:r.source)||""),o=i.sid,a=void 0===o?"local":o,s=i.key,u=new t("vod://"+a+":"+(void 0===s?"nothing":s)+"@"+e.meta.masterVideoId);return u._injectResponse(e,n),u._shouldRequestPlayAPI=!1,GX.mark(u,"mediaProvider.request.ok",{api:"playApi"}),u},t.prototype._injectResponse=function(e,t){this._data=e,t&&this._config.setByParam(t)},t.prototype.load=function(){return p2(this,void 0,void 0,(function(){var e;return v2(this,(function(t){switch(t.label){case 0:return this._verifyAuths(),this._cancel$.next(),this._data&&!this._replay?[3,2]:(this._replay=!1,e=this,[4,this._loadPlayInfo()]);case 1:e._data=t.sent(),t.label=2;case 2:return[4,this._updateMetadata(this._data)];case 3:return t.sent(),[2]}}))}))},t.prototype._checkExpireTime=function(){if(this._serverTime&&this._expireTime&&this._clientStartTime){var e=this._expireTime.getTime()-this._serverTime.getTime();Date.now()-this._clientStartTime>e&&this._throwError(112,"playback session expired")}},t.prototype._readServerTime=function(){var e=this._data.serverTime;if(this._clientStartTime=Date.now(),e)try{var t=new Date(e);if(isNaN(t.getTime()))return void(this._serverTime=null);this._serverTime=t}catch(e){this._serverTime=null}else this._serverTime=null},t.prototype._readExpireTime=function(){var e=this._data.expireTime;if(e)try{var t=new Date(e);if(isNaN(t.getTime()))return void(this._expireTime=null);if(t.getTime()<Date.now())return void(this._expireTime=null);this._expireTime=t}catch(e){this._expireTime=null}else this._expireTime=null},t.prototype._updateMetadata=function(e,t){return void 0===t&&(t={enableAdInfoChanges:!0,enableDurationChanges:!0,enableVideoTrackChanges:!0,enablePosterChanges:!0,enableTextTrackChanges:!0}),p2(this,void 0,void 0,(function(){var n=this;return v2(this,(function(r){switch(r.label){case 0:return this._createStatistic(),this._observePlayback(),this._readServerTime(),this._readExpireTime(),this._player&&sF(this._player,fZ.ERROR).pipe(RB(EF(this._cancel$,this._loop$))).subscribe((function(){n._checkExpireTime()})),[4,this._updatePlayer(e,t)];case 1:return r.sent(),[2]}}))}))},t.prototype._initializeDimensions=function(){var e=this;GX.init(this,{dimensions:{sid:function(){return Number(e._serviceId)},vid:function(){var t;return(null===(t=e._data)||void 0===t?void 0:t.meta.masterVideoId)||""},tid:function(){var t;return(null===(t=e._data)||void 0===t?void 0:t.tId)||""},u:function(){return""},inout:function(){return"in"},os:function(){return gZ()||""},osv:function(){return yZ()||""},device:function(){return EZ()||""},stp:function(){return"2010"===e._serviceId?1:0},tidCreatedAt:function(){var t;return null===(t=e._data)||void 0===t?void 0:t.transactionCreatedTime},ownerSid:function(){var t;return null===(t=e._data)||void 0===t?void 0:t.meta.serviceId},pageUrl:function(){return location.href},referer:function(){return document.referrer},cdnProvider:function(){var t;return e.player?e._getCdnProvider(null===(t=e.player)||void 0===t?void 0:t.currentSrc):null},live:function(){return!1},bitrate:function(){var t;return(null===(t=e._getCurrentVideoTrackInfo())||void 0===t?void 0:t.bitrate)||{video:0,audio:0}},clientId:function(){return e._clientId},userAgent:function(){return navigator.userAgent},deviceType:function(){return(e._params.devt||"html5_wpc").toLowerCase()},providerName:function(){var t,n,r;return null===(r=null===(n=null===(t=e.data)||void 0===t?void 0:t.meta)||void 0===n?void 0:n.provider)||void 0===r?void 0:r.name},serviceTrackingId:function(){var t;return(null===(t=e._params)||void 0===t?void 0:t.stid)||void 0},serviceContentId:function(){var t;return e._params.scid||(null===(t=e.data)||void 0===t?void 0:t.meta.contentId)||void 0},serviceCategoryCode:function(){if(e._params.scc)return e._params.scc.split(",")},mediaType:function(){return"MAIN"}}})},t.prototype._createStatistic=function(){this._data&&this.player&&(this._processPC(),this._processPT(),this._processQoE(),this._processVTS())},t.prototype._processPC=function(){var e,t,n=this,r=u1((null===(t=null===(e=this._data)||void 0===e?void 0:e.meta)||void 0===t?void 0:t.apiList)||[],"count");if(r){var i=r.source,o=r.offset,a=void 0===o?0:o;r.offsetType;var s=r.callbackData,u=void 0===s?{}:s;if(i){var l=$Z(i,this.config.pop),c=EF(sF(this.player,fZ.ABORT),this._cancel$,this._loop$);l1(this.player,(function(){return GX.aggregate("watch-time",[n.player])}),1e3*a).pipe(RB(c)).subscribe({next:function(){var e=h2(h2({},GX.aggregate("pc",[n,n.player])),u);f1(l,e)}})}}},t.prototype._processPT=function(){var e,t,n=this,r=u1((null===(t=null===(e=this._data)||void 0===e?void 0:e.meta)||void 0===t?void 0:t.apiList)||[],"playTime");if(r){var i=r.source,o=r.callbackData;if(i){var a=$Z(i,this.config.pop);c1(this.player).pipe(RB(hF(this._cancel$,this._loop$)),IB((function(){return EF(EF(sF(n.player,fZ.ABORT),sF(n.player,fZ.ENDED),n._cancel$,n._loop$).pipe(Pj((function(){return f1}))),sF(window,"beforeunload").pipe(Pj((function(){return d1})))).pipe(xU())}))).subscribe((function(e){var t,r,i=h2(h2({infos:[h2(h2({},null===(r=null===(t=GX.aggregate("pt",[n,n.player]))||void 0===t?void 0:t.infos)||void 0===r?void 0:r[0]),o)]},o),{callbackData:o});e(a,i)}))}}},t.prototype._handleErrorLog=function(){},t.prototype._processQoE=function(){var e,t,n;return p2(this,void 0,void 0,(function(){var r,i,o=this;return v2(this,(function(a){switch(a.label){case 0:return(null===(t=null===(e=this._data)||void 0===e?void 0:e.trackings["stat-policy"])||void 0===t?void 0:t.length)>=1?((r=new I0(this._player,this._player.adsController,this._data.trackings["stat-policy"],this.config.pop)).loop$=this._loop$,r.cancel$=this._cancel$,[4,r.initialize()]):[2];case 1:return a.sent(),[4,r.prepare()];case 2:return i=a.sent(),null===(n=this._qoeSubscription)||void 0===n||n.unsubscribe(),this._qoeSubscription=i.subscribe((function(e){var t;e?(GX.mark(o,"statistic.event.qoetickend"),GX.mark(o.player.adsController,"statistic.event.qoetickend"),(t=GX.aggregate("quality-log",[o,o.player.adsController])).incrementalSnapshot=GX.aggregate("qoe-inc-snapshot",[o.player]),GX.mark(o,"statistic.event.qoetickstart"),GX.mark(o.player.adsController,"statistic.event.qoetickstart")):(GX.mark(o,"statistic.event.qoetickend"),GX.mark(o.player,"statistic.event.qoetickend"),t=GX.aggregate("quality-log",[o,o.player]),GX.mark(o,"statistic.event.qoetickstart"),GX.mark(o.player,"statistic.event.qoetickstart")),r.send(t)})),sF(this._player,fZ.ERROR).pipe(dU(1),RB(hF(this._cancel$,sF(this._player,"abort")))).subscribe((function(){o._qoeSubscription.unsubscribe(),GX.mark(o,"statistic.event.qoetickend"),GX.mark(o.player,"statistic.event.qoetickend");var e=GX.aggregate("quality-log",[o,o.player]);GX.mark(o,"statistic.event.qoetickstart"),GX.mark(o.player,"statistic.event.qoetickstart"),r.sendError(e)})),[2]}}))}))},t.prototype._processVTS=function(){var e,t=this,n=this._data;if(null===(e=null==n?void 0:n.trackings)||void 0===e?void 0:e.default){var r=sF(this._player,fZ.ABORT),i=sF(this._player,fZ.TIME_UPDATE),o=EF(r,this._cancel$,this._loop$),a=i.pipe(Pj((function(){return Math.floor(GX.aggregate("watch-time",[t.player])/1e3)})));Yj(n.trackings.default).pipe(gF((function(e){return"progress"===e.event||"repetition"===e.event})),Pj((function(e){return h2(h2({},e),{offset:parseInt(""+e.offset,10)})})),Jj((function(e){if("progress"===e.event)return a.pipe(gF((function(t){return t>=e.offset})),gF((function(){return!t.player.paused})),xU(),Pj((function(){return e.url})));var n=e.offset;return a.pipe(gF((function(e){return n<=e})),gF((function(){return!t.player.paused})),UB((function(){n+=e.offset})),Pj((function(t){return e.url+"?vts_time="+t})))})),RB(o)).subscribe((function(e){O$({url:e,method:"GET",responseType:"text",withCredentials:!0}).subscribe()}))}},t.prototype._observePlayback=function(){var e=this;if(this._player){var t=sF(this._player,fZ.ABORT),n=sF(this._player,fZ.ENDED),r=EF(t,this._cancel$,this._loop$);n.pipe(RB(r)).subscribe((function(){e._replay=!0}))}},t.prototype.close=function(){this._cancel$.next(),this._player.setMediaKeys(null),this._clearCaches(),this._cleanUpPreProcessing()},t.prototype.loop=function(){return p2(this,void 0,void 0,(function(){var e;return v2(this,(function(t){switch(t.label){case 0:return this.dispatchEvent(new F0(F0.Types.Loop))?(this._loop$.next(),this._shouldRequestPlayAPI?(e=this,[4,this._loadPlayInfo()]):[3,2]):[2,!1];case 1:return e._data=t.sent(),[3,3];case 2:GX.mark(this,"mediaProvider.request.skip"),t.label=3;case 3:return GX.mark(this.player,"player.action.loop"),[2,this._updateMetadata(this._data,{enableAdInfoChanges:!0,enableVideoTrackChanges:!1,enableTextTrackChanges:!1,enablePosterChanges:!1,enableDurationChanges:!1}).then((function(){return!0}))]}}))}))},t.prototype._clearCaches=function(){return p2(this,void 0,void 0,(function(){var e,t,n,r,i;return v2(this,(function(o){switch(o.label){case 0:if(!(this._caches.length>0))return[3,4];for(e=this._player._getSourceCaches(),t=[],n=0,r=this._caches;n<r.length;n++)i=r[n],t.push(e.delete(i));o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Promise.all(t)];case 2:case 3:return o.sent(),[3,4];case 4:return[2]}}))}))},t.prototype._verifyAuths=function(){this._verifyVideoId(),this._verifyKey()},t.prototype._verifyVideoId=function(){this._videoId||this._throwError(101,"invalid videoId")},t.prototype._verifyKey=function(){this._key||this._throwError(102,"invalid videoKey")},t.prototype._throwError=function(e,t,n){throw this._error=new u2(e,t,null!=n?n:t),this._nelo&&this._nelo.send({type:"error",code:e,message:t,stack:this._error.stack||"not tracable"}),this._error},t.prototype._loadPlayInfo=function(){var e;return p2(this,void 0,void 0,(function(){var t,n,r,i;return v2(this,(function(o){switch(o.label){case 0:return!this._params.drm||this._aegisInitDataType?[3,3]:["aegis",l0,u0].indexOf(this._params.drm)>-1?(this._aegisInitDataType="aegis"===this._params.drm?l0:this._params.drm,[4,q0()]):[3,2];case 1:if(!(n=o.sent()))throw new Error("No available key system access");return this._params.drm=d2(n),[3,3];case 2:this._throwError(110,"invalid drm type"),o.label=3;case 3:return o.trys.push([3,5,,6]),GX.mark(this,"mediaProvider.request.start",{api:"playApi"}),[4,EF((r=this._getPlayInfo()).pipe(CV((function(){return kF(1e3).pipe(DB(r)).pipe(oB(1))}))),this._cancel$.pipe(DB(QM(new Error("Abort"))))).toPromise()];case 4:return t=o.sent(),[3,6];case 5:if("Abort"===(i=o.sent()).message)throw i;throw GX.mark(this,"mediaProvider.request.fail",{api:"playApi"}),this._throwError(103,"api request failed"),this._error;case 6:return N0(t)&&(GX.mark(this,"mediaProvider.response.error",{api:"playApi",code:null==t?void 0:t.errorCode}),this._data=t,this._throwError(104,t&&t.errorCode?t.errorCode:"error response",null!==(e=null==t?void 0:t.errorMessage)&&void 0!==e?e:"error response")),this._data=t,GX.mark(this,"mediaProvider.request.ok",{api:"playApi"}),[2,t]}}))}))},t.prototype._updatePlayer=function(e,t){return p2(this,void 0,void 0,(function(){return v2(this,(function(n){switch(n.label){case 0:return this.player?(t.enablePosterChanges&&this._updatePoster(e),this._updatePreProcessing(e),t.enableDurationChanges&&this._updateDuration(e),t.enableTextTrackChanges&&this._updateTextTracks(e),t.enableVideoTrackChanges?[4,this._updateVideoTracks(e)]:[3,2]):[2];case 1:n.sent(),n.label=2;case 2:return t.enableAdInfoChanges?[4,this._updateAdInfo(e)]:[3,4];case 3:n.sent(),n.label=4;case 4:return this._updatePostProcessing(e),[2]}}))}))},t.prototype._updateAdInfo=function(e){var t,n;return p2(this,void 0,void 0,(function(){var r,i,o,a,s,u,l,c,d,f,h,p,v,m;return v2(this,(function(g){switch(g.label){case 0:for(r=null,i=0,o=0;o<this.player.videoTracks.length;++o)this.player.videoTracks[o].selected&&(r=this.player.videoTracks[o]);return r?(a=r.encodingOptionID,(s=null===(t=this.data)||void 0===t?void 0:t.videos.list.find((function(e){return e.encodingOption.id===a})))&&s.bitrate?(u=s.bitrate,f=u.audio,d=u.video,i=f+d):(l=null===(n=this.data)||void 0===n?void 0:n.videos.list.find((function(e){return!0===e.isDefault})),(c=null==l?void 0:l.bitrate)&&(d=isFinite(c.video)?c.video:0,f=isFinite(c.audio)?c.audio:0,i=d+f))):i=0,isFinite(i)||(i=0),h=e.meta.advertise,p=function(e){if(!e||!e.info)return"unknown";var t=null;try{t=JSON.parse(e.info)}catch(e){}if(!t||0===t.length)return"unknown";for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.adSystem&&"null"!==i.adSystem)return i.adSystem.toUpperCase()}return"unknown"}(h),v={startOffset:this._config.startTime,contentDuration:this.player.duration,transactionId:e.tId,serviceId:this._serviceId,videoId:this._videoId,ownerServiceId:e.meta.serviceId,live:!1,vr:"360"===e.videos.dimension||"180"===e.videos.dimension},m={playerId:this.player.id,glad:this._params.glad},"GLAD"===p&&this._updateGladInfo(e),[4,this.player.adsController.initAd(this.player.clientWidth,this.player.clientHeight,DF.AdViewModeTypes.NORMAL,i,v,m)];case 1:return g.sent(),[2]}}))}))},t.prototype._updateGladInfo=function(e){var t=e.meta.advertise,n=function(e){if(!e||!e.url)return null;var t=null;try{t=_0(e.url)}catch(e){}return t||null}(t);n&&"glad:"===n.protocol&&"load"===n.host&&(null==t?void 0:t.url)&&(this.player.adsController.src=t.url)},t.prototype._updatePoster=function(e){this.player.poster=e.meta.cover.source},t.prototype._updateDuration=function(e){var t=NaN,n=e.videos.list.find(m2);n&&(t=n.duration),isFinite(t)&&this.player._setDuration(t)},t.prototype._updateDimension=function(e){var t=e.find((function(e){return e.selected}));t&&this.player._setVideoSize(t.width,t.height)},t.prototype._updateTextTracks=function(e){var t=[];if(e.captions&&t.push.apply(t,e.captions.list.map((function(e){return new HJ(e)}))),e.metaPolicy){var n=new o2({policies:e.metaPolicy,label:"meta_api"});t.push(n)}t.length&&this.player._setTextTracks(t)},t.prototype._cleanUpPreProcessing=function(){s1(this.player)},t.prototype._updatePreProcessing=function(e){var t,n,r,i,o;if("360"!==e.videos.dimension&&"180"!==e.videos.dimension||!(null===(n=null===(t=e.videos)||void 0===t?void 0:t.dimensionRendering)||void 0===n?void 0:n.sphericalVideoV1))a1(this.player);else{var a=e.videos.dimensionRendering.sphericalVideoV1,s=a.projectionType,u=a.stereoMode,l=a.projectionHeader;a1(this.player,{projectionType:s,stereoMode:u,yaw:(null==l?void 0:l.yaw)||0,pitch:(null==l?void 0:l.pitch)||0,roll:(null==l?void 0:l.roll)||0})}if(null===(i=null===(r=e.externalFeature)||void 0===r?void 0:r.loudnessNormalization)||void 0===i?void 0:i.enable){var c=null===(o=e.externalFeature)||void 0===o?void 0:o.loudnessNormalization,d=c.contentEncoding,f=c.data,h=c.properties,p=h.targetLoudness,v=h.mode;t1(this.player,{contentEncoding:d,data:f,targetLoudness:p,mode:v})}else t1(this.player)},t.prototype._updatePostProcessing=function(e){this.player.configurePostProcessor(Q0({enable:!0}))},t.prototype._getStartLevel=function(e){return this._getNearestResolution(this.config.startLevel||480,e.videos.list)},t.prototype._getMaxLevel=function(e){return this._getNearestResolution(this.config.maxLevel||720,e.videos.list)},t.prototype._getNearestResolution=function(e,t){var n=t.map((function(e){return parseInt(y0(e),10)})).sort((function(e,t){return e-t})),r=n.length-1,i=null;if(e<=n[0])i=n[0];else if(e>=n[r])i=n[r];else for(var o=0;o<=r;o++){if(e===n[o]){i=n[o];break}if(e<n[o]){i=n[o-1];break}}return i+"p"},t.prototype._convertHlsStreamToTracks=function(e,t,n,r,i){return p2(this,void 0,void 0,(function(){var o,a,s,u,l,c,d,f,h,p=this;return v2(this,(function(v){switch(v.label){case 0:return o=t.source,a=t.videos,s=t.keys,u=a.filter(y1(r)),l=function(e){var t=e.map((function(e){var t,n,r,i=y0(e,"p");return new oZ({src:e.source,label:i,selected:!1,id:e.id,width:e.encodingOption.width,height:e.encodingOption.height,encodingOptionID:e.encodingOption.id,videoBitrate:null!==(t=e.bitrate.video)&&void 0!==t?t:NaN,audioBitrate:null!==(r=null===(n=e.bitrate)||void 0===n?void 0:n.audio)&&void 0!==r?r:NaN})}));return t}(u),t.keys?[4,this._setMediaKeys("com.naver.vod.1_0","uri-redirect","application/x-mpegURL","temporary",e,t.keys)]:[3,2];case 1:v.sent(),v.label=2;case 2:return o&&(c=function(e,t,n){var r=n.startLevel,i=void 0===r?480:r,o=n.capLevel,a=void 0===o?720:o;n.keys;var s=FJ(S1(S1({},Number.isFinite(i)&&{level_start:i}),Number.isFinite(a)&&{level_cap:a})),u=Array.from(t).find((function(e){return parseInt(y0(e,"p"),10)===i}));return new oZ({src:e+(e.indexOf("#")>0?"&":"#")+s,label:"ABR",selected:!1,id:"ABR",width:u?u.encodingOption.width:-1,height:u?u.encodingOption.height:-1,encodingOptionID:"abr"})}(o,u,{keys:t.keys,startLevel:n.level_start,capLevel:n.level_cap}),c&&l.unshift(c)),i.canUseTemplate?(d=this._player._getSourceCaches(),f=[],h=function(e,t,n){var r=n&&n.filter((function(e){return"param"===e.type})).map((function(e){return e.name+"="+encodeURIComponent(e.value)})).join("")||[],i=t.map((function(e){var t;if(r.length>0){var n=e.source.indexOf("?")>-1?"&":"?";t=""+e.source+n+r}else t=e.source;var i=e.template.body,o=i.bandwidth,a=i.resolution;return{url:t,body:E1(i),indexTag:"#EXT-X-STREAM-INF:BANDWIDTH="+o+",RESOLUTION="+a+"\n"+e.source}})),o=w1(["#EXTM3U","#EXT-X-VERSION:3"],i.map((function(e){return e.indexTag}))).join("\n");return{playListURL:e+(e.indexOf("?")>0?"&":"?")+r,playListTag:o,chunks:i}}(o,u,s),h.chunks.forEach((function(e){f.push(d.put(e.url,e.body)),p._caches.push(e.url)})),f.push(d.put(h.playListURL,h.playListTag)),this._caches.push(h.playListURL),[4,Promise.all(f)]):[3,4];case 3:v.sent(),v.label=4;case 4:return[2,l]}}))}))},t.prototype._setMediaKeys=function(e,t,n,r,i,o){return p2(this,void 0,void 0,(function(){var a,s;return v2(this,(function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),[4,pJ.requestMediaKeySystemAccess(e,[{initDataTypes:[t],videoCapabilities:[{contentType:n}]}])];case 1:return[4,u.sent().createMediaKeys()];case 2:return a=u.sent(),[4,this._player.setMediaKeys(a)];case 3:return u.sent(),(s=a.createSession(r)).onmessage=function(){s.update((new JZ).encode(JSON.stringify({kid:i,keys:o})))},[4,s.generateRequest(t,(new JZ).encode(JSON.stringify({kid:i,type:"static"})))];case 4:return u.sent(),[3,6];case 5:return u.sent(),this._throwError(109,"video track load fail"),[3,6];case 6:return[2]}}))}))},t.prototype._updateVideoTracks=function(e){var t,n;return p2(this,void 0,void 0,(function(){var r,i,o,a,s,u,l,c,d,f,h;return v2(this,(function(p){switch(p.label){case 0:if(!e.videos.list.some(m2))return this._throwError(62277026294,"NOW_ENCODING"),[2];if(r=null===(t=e.streams)||void 0===t?void 0:t.find((function(e){return"HLS"===e.type})),i=this.player.canPlayType("application/x-mpegURL")||this.player.canPlayType("vnd.apple.mpegURL"),o=!!(null===(n=null==r?void 0:r.keys)||void 0===n?void 0:n.find((function(e){return"param"===e.type}))),a=!!this.player.canPlayType("vnd.naver.mpegURL"),s=Boolean(r&&i&&(!o||a)),this._aegisInitDataType&&this._params.drm&&function(e){return!e.errorCode&&e.videos.list.every((function(e){return e.drm&&e.drm.type&&e.drm.source}))}(e))return this.player.canPlayType('application/vnd.naver.dash; profiles="urn:mpeg:dash:profile:isoff-on-demand:2011"')||this.player.canPlayType("application/dash+xml")?(u=this._createDrmTracks())&&0!==u.length?(this.config.track&&(l=k1(u,this.config.track,!1),u[l].selected=!0),this._player._setVideoTracks(u),this._updateDimension(u),this._observeEncryptedEvent(),[2]):(this._throwError(109,"video track load fail"),[2]):(this._throwError(111,"not support encrypted media"),[2]);if(!s)return 0===(c=e.videos.list.filter(h1).filter(m2).filter(y1({maxBitrate:this.config.maxBitrate,maxResolution:this.config.maxResolution})).map(b1)).length?(this._throwError(109,"video track load fail"),[2]):(h=k1(c,this.config.track||720),c[h].selected=!0,this._player._setVideoTracks(c),this._updateDimension(c),[2]);p.label=1;case 1:return p.trys.push([1,3,,4]),d={level_start:parseInt(this._getStartLevel(e),10),level_cap:parseInt(this._getMaxLevel(e),10)},[4,this._convertHlsStreamToTracks(e.meta.masterVideoId,r,d,{maxResolution:this.config.maxResolution,maxBitrate:this.config.maxBitrate},{canUseTemplate:!1})];case 2:return(f=p.sent()).length<=0?(this._throwError(109,"video track load fail"),[2]):(h=k1(f,this.config.track),f[h].selected=!0,this._player._setVideoTracks(f),this._updateDimension(f),[3,4]);case 3:return p.sent(),[3,4];case 4:return[2]}}))}))},t.prototype._createDrmTracks=function(){var e=this.data,t=null==e?void 0:e.videos.list,n=null==t?void 0:t.map((function(e){var t;return new oZ({label:e.encodingOption.name,src:String(null===(t=e.drm)||void 0===t?void 0:t.source),selected:!1,id:e.id,width:e.encodingOption.width,height:e.encodingOption.height,encodingOptionID:e.id,videoBitrate:e.bitrate.video,audioBitrate:e.bitrate.audio})}));if(n)return n.sort((function(e,t){var n=Math.min(e.width,e.height),r=Math.min(t.width,t.height);return n>r?-1:Number(n<r)})),n;this._throwError(109,"video track load fail")},t.prototype._getSelectedVideoInfo=function(){var e=this.data,t=this.player.videoTracks[this.player.videoTracks.selectedIndex];if(e&&t)return e.videos.list.find((function(e){return e.id===t.id}));console.error("PLAYAPI response not found")},t.prototype._observeEncryptedEvent=function(){var e=this,t=function(t){return new gM((function(n){var r=function(e){return n.next(e)};return e.player._addEventListener(t,r),function(){e._player._removeEventListener(t,r)}}))},n=t("encrypted"),r=t("loadstart");n.pipe(RB(this._cancel$),tU((function(e){return d0(new Uint8Array(e.initData))}),r)).subscribe((function(t){var n=t,r=n.initData,i=n.initDataType;e._dispatchEncryptedEvent(i,r)}))},t.prototype._dispatchEncryptedEvent=function(e,t){var n,r,i=this._aegisInitDataType,o=this._params.drm,a=null===(r=this._getSelectedVideoInfo())||void 0===r?void 0:r.drm;if(i&&o&&a){var s={version:2,drmType:o,initDataType:e,initData:t};(a.licenseUrl||a.certificationUrl)&&(s.licenseRequestInfo=((n={})[o]={licenseUrl:a.licenseUrl,certificateUrl:a.certificationUrl},n)),this.player.dispatchEvent(new VQ({initDataType:i,initData:(new ZZ).encode(s)}))}else console.error("cannot dispatch EncryptedEvent")},t.prototype._getCdnProvider=function(e){var t=this._data,n=l2(e),r=null==t?void 0:t.videos.list.find((function(e){return l2(e.source)===n}));if(r)return r.sourceFrom;if(t&&(null==t?void 0:t.streams))for(var i=0,o=null==t?void 0:t.streams;i<o.length;i++){var a=o[i];if(a.source===n)return a.sourceFrom;for(var s=0,u=a.videos;s<u.length;s++){var l=u[s];if(l.source===n)return l.sourceFrom}}return null},t.prototype._getCurrentVideoTrackInfo=function(){var e,t,n,r,i,o,a=null===(t=null===(e=this._player)||void 0===e?void 0:e.videoTracks)||void 0===t?void 0:t.selectedIndex,s=null===(r=null===(n=this._player)||void 0===n?void 0:n.videoTracks)||void 0===r?void 0:r[a];if(!s)return null;var u=null===(o=null===(i=this._data)||void 0===i?void 0:i.videos)||void 0===o?void 0:o.list;if(!u)return null;if("ABR"===s.id){var l=s,c=l.width,d=l.height,f=c>d,h=f?"width":"height",p=f?c:d,v=1/0,m=null;return u.forEach((function(e){var t=e.encodingOption[h],n=Math.abs(t-p);isNaN(n)||0===e.encodingOption[h]||(!m||v>n)&&(m=e,v=n)})),m}var g=u.findIndex((function(e){return e.encodingOption.id===s.encodingOptionID}));return u[g]||null},Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"player",{get:function(){return this._player},set:function(e){if(this._player&&GX.mark(this,"mediaProvider.player.detach"),this._player=e,this._player){var t=m0.sharedOnWeakMap(this.player);this._nelo&&t.add(this._nelo.data),this._nelo=t,GX.mark(this,"mediaProvider.player.attach")}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"masterVideoId",{get:function(){return this._data&&!N0(this.data)?this._data.meta.masterVideoId:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serviceId",{get:function(){return this._data&&!N0(this.data)?this._data.meta.serviceId.toString():""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this._key},enumerable:!1,configurable:!0}),t.prototype._dumpState=function(){var e,t;return{tid:null===(e=this._data)||void 0===e?void 0:e.tId,tidgt:null===(t=this._data)||void 0===t?void 0:t.transactionCreatedTime,protocol:this.protocol,error:this._error}},t}(CJ),y2=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b2=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},_2=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},E2=function(e){function t(t){var n=e.call(this)||this;if(n.protocol="data:","string"==typeof t){var r=_0(t);n.protocol=r.protocol,n.data={videoTracks:JSON.parse(r.query.videoTracks),poster:r.query.poster,textTracks:r.query.textTracks?JSON.parse(r.query.textTracks):void 0}}else n.data=t;return n._nelo=new m0({projectName:"webplayer-coreplayer",projectVersion:vJ,protocol:n.protocol}),n}return y2(t,e),t.prototype.load=function(){return b2(this,void 0,void 0,(function(){return _2(this,(function(e){switch(e.label){case 0:return this.data?[4,this._updatePlayer(this.data)]:(this._setError(MediaError.MEDIA_ERR_NETWORK,"cannot find media data"),[2]);case 1:return e.sent(),[2]}}))}))},t.prototype._updatePlayer=function(e){return b2(this,void 0,void 0,(function(){var t;return _2(this,(function(n){return this.player||this._setError(MediaError.MEDIA_ERR_NETWORK,"player not found"),function(e){return!!e.videoTracks&&0!==e.videoTracks.length}(e)||this._setError(MediaError.MEDIA_ERR_NETWORK,"videoTracks no found"),t=e.videoTracks.find((function(e){return!!e.selected}))||e.videoTracks[0],e.poster&&this._updatePoster(e.poster),this._updateDuration(t.duration),this._updateDimension(t.width,t.height),e.textTracks&&this._updateTextTracks(e.textTracks),this._updateVideoTracks(e.videoTracks),[2]}))}))},t.prototype._updatePoster=function(e){this.player.poster=e},t.prototype._updateDuration=function(e){this.player._setDuration(void 0===e?1/0:e)},t.prototype._updateDimension=function(e,t){this.player._setVideoSize(e,t)},t.prototype._updateTextTracks=function(e){var t=e.map((function(e){return new HJ(e,e.source,e.kind||"subtitles")}));this.player._setTextTracks(t)},t.prototype._updateVideoTracks=function(e){var t=e.map((function(e){return new oZ({src:e.src,label:e.label,id:e.id,width:e.width,height:e.height,selected:e.selected})}));this.player._setVideoTracks(t)},t.prototype.close=function(){},t.prototype.loop=function(){return b2(this,void 0,void 0,(function(){return _2(this,(function(e){return[2,!0]}))}))},t.prototype._setError=function(e,t){throw this._error={code:e,message:t},this._nelo.send({code:e,message:t}),this._error},t.prototype._onPlayerChanged=function(){},Object.defineProperty(t.prototype,"player",{get:function(){return this._player},set:function(e){this._player=e,this._onPlayerChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),t}(CJ),w2={},S2={},T2={};!function(e){var t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n="["+t+"]["+t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",r=new RegExp("^"+n+"$");e.isExist=function(e){return void 0!==e},e.isEmptyObject=function(e){return 0===Object.keys(e).length},e.merge=function(e,t,n){if(t)for(var r=Object.keys(t),i=r.length,o=0;o<i;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]},e.getValue=function(t){return e.isExist(t)?t:""},e.buildOptions=function(e,t,n){var r={};if(!e)return t;for(var i=0;i<n.length;i++)void 0!==e[n[i]]?r[n[i]]=e[n[i]]:r[n[i]]=t[n[i]];return r},e.isTagNameInArrayMode=function(e,t,n){return!1!==t&&(t instanceof RegExp?t.test(e):"function"==typeof t?!!t(e,n):"strict"===t)},e.isName=function(e){return!(null==r.exec(e))},e.getAllMatches=function(e,t){for(var n=[],r=t.exec(e);r;){var i=[];i.startIndex=t.lastIndex-r[0].length;for(var o=r.length,a=0;a<o;a++)i.push(r[a]);n.push(i),r=t.exec(e)}return n},e.nameRegexp=n}(T2);var k2=T2;S2.convertToJson=function e(t,n,r){var i={};if(!n.alwaysCreateTextNode&&(!t.child||k2.isEmptyObject(t.child))&&(!t.attrsMap||k2.isEmptyObject(t.attrsMap)))return k2.isExist(t.val)?t.val:"";if(k2.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==n.cdataPositionChar)){var o=k2.isTagNameInArrayMode(t.tagname,n.arrayMode,r);i[n.textNodeName]=o?[t.val]:t.val}k2.merge(i,t.attrsMap,n.arrayMode);for(var a=Object.keys(t.child),s=0;s<a.length;s++){var u=a[s];if(t.child[u]&&t.child[u].length>1)for(var l in i[u]=[],t.child[u])t.child[u].hasOwnProperty(l)&&i[u].push(e(t.child[u][l],n,u));else{var c=e(t.child[u][0],n,u),d=!0===n.arrayMode&&"object"==typeof c||k2.isTagNameInArrayMode(u,n.arrayMode,r);i[u]=d?[c]:c}}return i};var x2={},A2={exports:{}};!function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}(A2);var P2=function(e){return e&&e.Math===Math&&e},O2=P2("object"==typeof globalThis&&globalThis)||P2("object"==typeof window&&window)||P2("object"==typeof self&&self)||P2("object"==typeof c&&c)||P2("object"==typeof c&&c)||function(){return this}()||Function("return this")(),C2=function(e){try{return!!e()}catch(e){return!0}},I2=!C2((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),L2=I2,N2=Function.prototype,D2=N2.apply,R2=N2.call,M2="object"==typeof Reflect&&Reflect.apply||(L2?R2.bind(D2):function(){return R2.apply(D2,arguments)}),j2=I2,F2=Function.prototype,V2=F2.call,U2=j2&&F2.bind.bind(V2,V2),B2=j2?U2:function(e){return function(){return V2.apply(e,arguments)}},z2=B2,G2=z2({}.toString),q2=z2("".slice),H2=function(e){return q2(G2(e),8,-1)},W2=H2,K2=B2,Y2=function(e){if("Function"===W2(e))return K2(e)},X2="object"==typeof document&&document.all,$2={all:X2,IS_HTMLDDA:void 0===X2&&void 0!==X2},Q2=$2.all,J2=$2.IS_HTMLDDA?function(e){return"function"==typeof e||e===Q2}:function(e){return"function"==typeof e},Z2={},e3=!C2((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),t3=I2,n3=Function.prototype.call,r3=t3?n3.bind(n3):function(){return n3.apply(n3,arguments)},i3={},o3={}.propertyIsEnumerable,a3=Object.getOwnPropertyDescriptor,s3=a3&&!o3.call({1:2},1);i3.f=s3?function(e){var t=a3(this,e);return!!t&&t.enumerable}:o3;var u3,l3,d3=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},f3=C2,h3=H2,p3=Object,v3=B2("".split),m3=f3((function(){return!p3("z").propertyIsEnumerable(0)}))?function(e){return"String"===h3(e)?v3(e,""):p3(e)}:p3,g3=function(e){return null==e},y3=g3,b3=TypeError,_3=function(e){if(y3(e))throw new b3("Can't call method on "+e);return e},E3=m3,w3=_3,S3=function(e){return E3(w3(e))},T3=J2,k3=$2.all,x3=$2.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:T3(e)||e===k3}:function(e){return"object"==typeof e?null!==e:T3(e)},A3={},P3=A3,O3=O2,C3=J2,I3=function(e){return C3(e)?e:void 0},L3=B2({}.isPrototypeOf),N3=O2,D3="undefined"!=typeof navigator&&String(navigator.userAgent)||"",R3=N3.process,M3=N3.Deno,j3=R3&&R3.versions||M3&&M3.version,F3=j3&&j3.v8;F3&&(l3=(u3=F3.split("."))[0]>0&&u3[0]<4?1:+(u3[0]+u3[1])),!l3&&D3&&(!(u3=D3.match(/Edge\/(\d+)/))||u3[1]>=74)&&(u3=D3.match(/Chrome\/(\d+)/))&&(l3=+u3[1]);var V3=l3,U3=C2,B3=O2.String,z3=!!Object.getOwnPropertySymbols&&!U3((function(){var e=Symbol("symbol detection");return!B3(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V3&&V3<41})),G3=z3&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,q3=function(e,t){return arguments.length<2?I3(P3[e])||I3(O3[e]):P3[e]&&P3[e][t]||O3[e]&&O3[e][t]},H3=J2,W3=L3,K3=Object,Y3=G3?function(e){return"symbol"==typeof e}:function(e){var t=q3("Symbol");return H3(t)&&W3(t.prototype,K3(e))},X3=String,$3=J2,Q3=function(e){try{return X3(e)}catch(e){return"Object"}},J3=TypeError,Z3=function(e){if($3(e))return e;throw new J3(Q3(e)+" is not a function")},e4=Z3,t4=g3,n4=r3,r4=J2,i4=x3,o4=TypeError,a4={exports:{}},s4=O2,u4=Object.defineProperty,l4=function(e,t){try{u4(s4,e,{value:t,configurable:!0,writable:!0})}catch(n){s4[e]=t}return t},c4="__core-js_shared__",d4=O2[c4]||l4(c4,{});(a4.exports=function(e,t){return d4[e]||(d4[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.33.3",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"});var f4=_3,h4=Object,p4=function(e){return h4(f4(e))},v4=p4,m4=B2({}.hasOwnProperty),g4=Object.hasOwn||function(e,t){return m4(v4(e),t)},y4=B2,b4=0,_4=Math.random(),E4=y4(1..toString),w4=O2,S4=a4.exports,T4=g4,k4=function(e){return"Symbol("+(void 0===e?"":e)+")_"+E4(++b4+_4,36)},x4=z3,A4=G3,P4=w4.Symbol,O4=S4("wks"),C4=A4?P4.for||P4:P4&&P4.withoutSetter||k4,I4=function(e){return T4(O4,e)||(O4[e]=x4&&T4(P4,e)?P4[e]:C4("Symbol."+e)),O4[e]},L4=r3,N4=x3,D4=Y3,R4=function(e,t){var n=e[t];return t4(n)?void 0:e4(n)},M4=function(e,t){var n,r;if("string"===t&&r4(n=e.toString)&&!i4(r=n4(n,e)))return r;if(r4(n=e.valueOf)&&!i4(r=n4(n,e)))return r;if("string"!==t&&r4(n=e.toString)&&!i4(r=n4(n,e)))return r;throw new o4("Can't convert object to primitive value")},j4=TypeError,F4=I4("toPrimitive"),V4=function(e,t){if(!N4(e)||D4(e))return e;var n,r=R4(e,F4);if(r){if(void 0===t&&(t="default"),n=L4(r,e,t),!N4(n)||D4(n))return n;throw new j4("Can't convert object to primitive value")}return void 0===t&&(t="number"),M4(e,t)},U4=Y3,B4=function(e){var t=V4(e,"string");return U4(t)?t:t+""},z4=x3,G4=O2.document,q4=z4(G4)&&z4(G4.createElement),H4=function(e){return q4?G4.createElement(e):{}},W4=!e3&&!C2((function(){return 7!==Object.defineProperty(H4("div"),"a",{get:function(){return 7}}).a})),K4=e3,Y4=r3,X4=i3,$4=d3,Q4=S3,J4=B4,Z4=g4,e5=W4,t5=Object.getOwnPropertyDescriptor;Z2.f=K4?t5:function(e,t){if(e=Q4(e),t=J4(t),e5)try{return t5(e,t)}catch(e){}if(Z4(e,t))return $4(!Y4(X4.f,e,t),e[t])};var n5=C2,r5=J2,i5=/#|\.prototype\./,o5=function(e,t){var n=s5[a5(e)];return n===l5||n!==u5&&(r5(t)?n5(t):!!t)},a5=o5.normalize=function(e){return String(e).replace(i5,".").toLowerCase()},s5=o5.data={},u5=o5.NATIVE="N",l5=o5.POLYFILL="P",c5=o5,d5=Z3,f5=I2,h5=Y2(Y2.bind),p5={},v5=e3&&C2((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),m5=x3,g5=String,y5=TypeError,b5=e3,_5=W4,E5=v5,w5=function(e){if(m5(e))return e;throw new y5(g5(e)+" is not an object")},S5=B4,T5=TypeError,k5=Object.defineProperty,x5=Object.getOwnPropertyDescriptor,A5="enumerable",P5="configurable",O5="writable";p5.f=b5?E5?function(e,t,n){if(w5(e),t=S5(t),w5(n),"function"==typeof e&&"prototype"===t&&"value"in n&&O5 in n&&!n[O5]){var r=x5(e,t);r&&r[O5]&&(e[t]=n.value,n={configurable:P5 in n?n[P5]:r[P5],enumerable:A5 in n?n[A5]:r[A5],writable:!1})}return k5(e,t,n)}:k5:function(e,t,n){if(w5(e),t=S5(t),w5(n),_5)try{return k5(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new T5("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var C5=p5,I5=d3,L5=e3?function(e,t,n){return C5.f(e,t,I5(1,n))}:function(e,t,n){return e[t]=n,e},N5=O2,D5=M2,R5=Y2,M5=J2,j5=Z2.f,F5=c5,V5=A3,U5=function(e,t){return d5(e),void 0===t?e:f5?h5(e,t):function(){return e.apply(t,arguments)}},B5=L5,z5=g4,G5=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return D5(e,this,arguments)};return t.prototype=e.prototype,t},q5=function(e,t){var n,r,i,o,a,s,u,l,c,d=e.target,f=e.global,h=e.stat,p=e.proto,v=f?N5:h?N5[d]:(N5[d]||{}).prototype,m=f?V5:V5[d]||B5(V5,d,{})[d],g=m.prototype;for(o in t)r=!(n=F5(f?o:d+(h?".":"#")+o,e.forced))&&v&&z5(v,o),s=m[o],r&&(u=e.dontCallGetSet?(c=j5(v,o))&&c.value:v[o]),a=r&&u?u:t[o],r&&typeof s==typeof a||(l=e.bind&&r?U5(a,N5):e.wrap&&r?G5(a):p&&M5(a)?R5(a):a,(e.sham||a&&a.sham||s&&s.sham)&&B5(l,"sham",!0),B5(m,o,l),p&&(z5(V5,i=d+"Prototype")||B5(V5,i,{}),B5(V5[i],o,a),e.real&&g&&(n||!g[o])&&B5(g,o,a)))},H5=Math.ceil,W5=Math.floor,K5=Math.trunc||function(e){var t=+e;return(t>0?W5:H5)(t)},Y5=K5,X5=function(e){var t=+e;return t!=t||0===t?0:Y5(t)},$5=X5,Q5=Math.max,J5=Math.min,Z5=X5,e6=Math.min,t6=function(e){return e>0?e6(Z5(e),9007199254740991):0},n6=S3,r6=function(e,t){var n=$5(e);return n<0?Q5(n+t,0):J5(n,t)},i6=function(e){return t6(e.length)},o6=function(e){return function(t,n,r){var i,o=n6(t),a=i6(o),s=r6(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},a6={includes:o6(!0),indexOf:o6(!1)},s6=g4,u6=S3,l6=a6.indexOf,c6={},d6=B2([].push),f6=function(e,t){var n,r=u6(e),i=0,o=[];for(n in r)!s6(c6,n)&&s6(r,n)&&d6(o,n);for(;t.length>i;)s6(r,n=t[i++])&&(~l6(o,n)||d6(o,n));return o},h6=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],p6=Object.keys||function(e){return f6(e,h6)},v6={};v6.f=Object.getOwnPropertySymbols;var m6=e3,g6=B2,y6=r3,b6=C2,_6=p6,E6=v6,w6=i3,S6=p4,T6=m3,k6=Object.assign,x6=Object.defineProperty,A6=g6([].concat),P6=!k6||b6((function(){if(m6&&1!==k6({b:1},k6(x6({},"a",{enumerable:!0,get:function(){x6(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!==k6({},e)[n]||_6(k6({},t)).join("")!==r}))?function(e,t){for(var n=S6(e),r=arguments.length,i=1,o=E6.f,a=w6.f;r>i;)for(var s,u=T6(arguments[i++]),l=o?A6(_6(u),o(u)):_6(u),c=l.length,d=0;c>d;)s=l[d++],m6&&!y6(a,u,s)||(n[s]=u[s]);return n}:k6,O6=P6;q5({target:"Object",stat:!0,arity:2,forced:Object.assign!==O6},{assign:O6});var C6=A3.Object.assign,I6={};I6[I4("toStringTag")]="z";var L6="[object z]"===String(I6),N6=J2,D6=H2,R6=I4("toStringTag"),M6=Object,j6="Arguments"===D6(function(){return arguments}()),F6=L6?D6:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=M6(e),R6))?n:j6?D6(t):"Object"===(r=D6(t))&&N6(t.callee)?"Arguments":r},V6=F6,U6=String,B6=function(e){if("Symbol"===V6(e))throw new TypeError("Cannot convert a Symbol value to a string");return U6(e)},z6="\t\n\v\f\r                　\u2028\u2029\ufeff",G6=_3,q6=B6,H6=z6,W6=B2("".replace),K6=RegExp("^["+H6+"]+"),Y6=RegExp("(^|[^"+H6+"])["+H6+"]+$"),X6=function(e){return function(t){var n=q6(G6(t));return 1&e&&(n=W6(n,K6,"")),2&e&&(n=W6(n,Y6,"$1")),n}},$6={start:X6(1),end:X6(2),trim:X6(3)},Q6=e3,J6=g4,Z6=Function.prototype,e8=Q6&&Object.getOwnPropertyDescriptor,t8=J6(Z6,"name"),n8=[t8&&"something"===function(){}.name,t8&&(!Q6||Q6&&e8(Z6,"name").configurable)][0],r8=C2,i8=z6,o8=$6.trim,a8=function(e){return r8((function(){return!!i8[e]()||"​᠎"!=="​᠎"[e]()||n8&&i8[e].name!==e}))};q5({target:"String",proto:!0,forced:a8("trim")},{trim:function(){return o8(this)}});var s8=O2,u8=A3,l8=function(e,t){var n=u8[e+"Prototype"],r=n&&n[t];if(r)return r;var i=s8[e],o=i&&i.prototype;return o&&o[t]},c8=l8("String","trim"),d8=L3,f8=c8,h8=String.prototype,p8=function(e){var t=e.trim;return"string"==typeof e||e===h8||d8(h8,e)&&t===h8.trim?f8:t},v8=O2,m8=C2,g8=B2,y8=B6,b8=$6.trim,_8=z6,E8=v8.parseInt,w8=v8.Symbol,S8=w8&&w8.iterator,T8=/^[+-]?0x/i,k8=g8(T8.exec),x8=8!==E8(_8+"08")||22!==E8(_8+"0x16")||S8&&!m8((function(){E8(Object(S8))}))?function(e,t){var n=b8(y8(e));return E8(n,t>>>0||(k8(T8,n)?16:10))}:E8;q5({target:"Number",stat:!0,forced:Number.parseInt!==x8},{parseInt:x8});var A8=A3.Number.parseInt,P8=C2,O8=q5,C8=a6.indexOf,I8=function(e,t){var n=[][e];return!!n&&P8((function(){n.call(null,t||function(){return 1},1)}))},L8=Y2([].indexOf),N8=!!L8&&1/L8([1],1,-0)<0;O8({target:"Array",proto:!0,forced:N8||!I8("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return N8?L8(this,e,t)||0:C8(this,e,t)}});var D8=l8("Array","indexOf"),R8=L3,M8=D8,j8=Array.prototype,F8=function(e){var t=e.indexOf;return e===j8||R8(j8,e)&&t===j8.indexOf?M8:t},V8=A2.exports,U8=V8(C6),B8=V8(p8),z8=V8(A8),G8=V8(F8),q8=/^[-+]?0x[a-fA-F0-9]+$/,H8=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/,W8={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},K8=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=(0,U8.default)({},W8,t),!e||"string"!=typeof e)return e;var n=(0,B8.default)(e).call(e);if(void 0!==t.skipLike&&t.skipLike.test(n))return e;if(t.hex&&q8.test(n))return(0,z8.default)(n,16);var r=H8.exec(n);if(r){var i=r[1],o=r[2],a=function(e){return e&&-1!==(0,G8.default)(e).call(e,".")?("."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1)),e):e}(r[3]),s=r[4]||r[6];if(!t.leadingZeros&&o.length>0&&i&&"."!==n[2])return e;if(!t.leadingZeros&&o.length>0&&!i&&"."!==n[1])return e;var u=Number(n),l=""+u;return-1!==l.search(/[eE]/)||s?t.eNotation?u:e:-1!==(0,G8.default)(n).call(n,".")?"0"===l&&""===a||l===a||i&&l==="-"+a?u:e:o?a===l||i+a===l?u:e:n===l||n===i+l?u:e}return e},Y8=T2,X8=T2.buildOptions,$8=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}},Q8=K8;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Y8.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var J8={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[],alwaysCreateTextNode:!1};x2.defaultOptions=J8;var Z8=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];function e7(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=n7(t=n.tagValueProcessor(t,e),n.parseNodeValue,n.numParseOptions)),t}function t7(e,t){if(t.ignoreNameSpace){var n=e.split(":"),r="/"===e.charAt(0)?"/":"";if("xmlns"===n[0])return"";2===n.length&&(e=r+n[1])}return e}function n7(e,t,n){if(t&&"string"==typeof e){var r=e.trim();return"true"===r||"false"!==r&&Q8(e,n)}return Y8.isExist(e)?e:""}x2.props=Z8;var r7=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function i7(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");for(var n=Y8.getAllMatches(e,r7),r=n.length,i={},o=0;o<r;o++){var a=t7(n[o][1],t);a.length&&(void 0!==n[o][4]?(t.trimValues&&(n[o][4]=n[o][4].trim()),n[o][4]=t.attrValueProcessor(n[o][4],a),i[t.attributeNamePrefix+a]=n7(n[o][4],t.parseAttributeValue,t.numParseOptions)):t.allowBooleanAttributes&&(i[t.attributeNamePrefix+a]=!0))}if(!Object.keys(i).length)return;if(t.attrNodeName){var s={};return s[t.attrNodeName]=i,s}return i}}function o7(e,t){for(var n,r="",i=t;i<e.length;i++){var o=e[i];if(n)o===n&&(n="");else if('"'===o||"'"===o)n=o;else{if(">"===o)return{data:r,index:i};"\t"===o&&(o=" ")}r+=o}}function a7(e,t,n,r){var i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}x2.getTraversalObj=function(e,t){e=e.replace(/\r\n?/g,"\n"),t=X8(t,J8,Z8);for(var n=new $8("!xml"),r=n,i="",o=0;o<e.length;o++)if("<"===e[o])if("/"===e[o+1]){var a=a7(e,">",o,"Closing Tag is not closed."),s=e.substring(o+2,a).trim();if(t.ignoreNameSpace){var u=s.indexOf(":");-1!==u&&(s=s.substr(u+1))}r&&(r.val?r.val=Y8.getValue(r.val)+""+e7(s,i,t):r.val=e7(s,i,t)),t.stopNodes.length&&t.stopNodes.includes(r.tagname)&&(r.child=[],null==r.attrsMap&&(r.attrsMap={}),r.val=e.substr(r.startIndex+1,o-r.startIndex-1)),r=r.parent,i="",o=a}else if("?"===e[o+1])o=a7(e,"?>",o,"Pi Tag is not closed.");else if("!--"===e.substr(o+1,3))o=a7(e,"--\x3e",o,"Comment is not closed.");else if("!D"===e.substr(o+1,2)){var l=a7(e,">",o,"DOCTYPE is not closed.");o=e.substring(o,l).indexOf("[")>=0?e.indexOf("]>",o)+1:l}else if("!["===e.substr(o+1,2)){var c=a7(e,"]]>",o,"CDATA is not closed.")-2,d=e.substring(o+9,c);if(i&&(r.val=Y8.getValue(r.val)+""+e7(r.tagname,i,t),i=""),t.cdataTagName){var f=new $8(t.cdataTagName,r,d);r.addChild(f),r.val=Y8.getValue(r.val)+t.cdataPositionChar,d&&(f.val=d)}else r.val=(r.val||"")+(d||"");o=c+2}else{var h=o7(e,o+1),p=h.data,v=h.index,m=p.indexOf(" "),g=p,y=!0;if(-1!==m&&(g=p.substr(0,m).replace(/\s\s*$/,""),p=p.substr(m+1)),t.ignoreNameSpace){var b=g.indexOf(":");-1!==b&&(y=(g=g.substr(b+1))!==h.data.substr(b+1))}if(r&&i&&"!xml"!==r.tagname&&(r.val=Y8.getValue(r.val)+""+e7(r.tagname,i,t)),p.length>0&&p.lastIndexOf("/")===p.length-1){p="/"===g[g.length-1]?g=g.substr(0,g.length-1):p.substr(0,p.length-1);var _=new $8(g,r,"");g!==p&&(_.attrsMap=i7(p,t)),r.addChild(_)}else{var E=new $8(g,r);t.stopNodes.length&&t.stopNodes.includes(E.tagname)&&(E.startIndex=v),g!==p&&y&&(E.attrsMap=i7(p,t)),r.addChild(E),r=E}i="",o=v}else i+=e[o];return n};var s7={},u7=T2,l7={allowBooleanAttributes:!1},c7=["allowBooleanAttributes"];function d7(e,t){for(var n=t;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{var r=e.substr(n,t-n);if(t>5&&"xml"===r)return b7("InvalidXml","XML declaration allowed only at the start of the document.",E7(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function f7(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){var n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&0==--n)break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}s7.validate=function(e,t){t=u7.buildOptions(t,l7,c7);var n,r=[],i=!1,o=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(var a=0;a<e.length;a++)if("<"===e[a]&&"?"===e[a+1]){if((a=d7(e,a+=2)).err)return a}else{if("<"!==e[a]){if(" "===e[a]||"\t"===e[a]||"\n"===e[a]||"\r"===e[a])continue;return b7("InvalidChar","char '"+e[a]+"' is not expected.",E7(e,a))}var s=a;if("!"===e[++a]){a=f7(e,a);continue}var u=!1;"/"===e[a]&&(u=!0,a++);for(var l="";a<e.length&&">"!==e[a]&&" "!==e[a]&&"\t"!==e[a]&&"\n"!==e[a]&&"\r"!==e[a];a++)l+=e[a];if("/"===(l=l.trim())[l.length-1]&&(l=l.substring(0,l.length-1),a--),n=l,!u7.isName(n))return b7("InvalidTag",0===l.trim().length?"Invalid space after '<'.":"Tag '"+l+"' is an invalid name.",E7(e,a));var c=v7(e,a);if(!1===c)return b7("InvalidAttr","Attributes for '"+l+"' have open quote.",E7(e,a));var d=c.value;if(a=c.index,"/"===d[d.length-1]){var f=a-d.length,h=g7(d=d.substring(0,d.length-1),t);if(!0!==h)return b7(h.err.code,h.err.msg,E7(e,f+h.err.line));i=!0}else if(u){if(!c.tagClosed)return b7("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",E7(e,a));if(d.trim().length>0)return b7("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",E7(e,s));var p=r.pop();if(l!==p.tagName){var v=E7(e,p.tagStartPos);return b7("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+v.line+", col "+v.col+") instead of closing tag '"+l+"'.",E7(e,s))}0==r.length&&(o=!0)}else{var m=g7(d,t);if(!0!==m)return b7(m.err.code,m.err.msg,E7(e,a-d.length+m.err.line));if(!0===o)return b7("InvalidXml","Multiple possible root nodes found.",E7(e,a));r.push({tagName:l,tagStartPos:s}),i=!0}for(a++;a<e.length;a++)if("<"===e[a]){if("!"===e[a+1]){a=f7(e,++a);continue}if("?"!==e[a+1])break;if((a=d7(e,++a)).err)return a}else if("&"===e[a]){var g=y7(e,a);if(-1==g)return b7("InvalidChar","char '&' is not expected.",E7(e,a));a=g}"<"===e[a]&&a--}return i?1==r.length?b7("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",E7(e,r[0].tagStartPos)):!(r.length>0)||b7("InvalidXml","Invalid '"+JSON.stringify(r.map((function(e){return e.tagName})),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):b7("InvalidXml","Start tag expected.",1)};var h7='"',p7="'";function v7(e,t){for(var n="",r="",i=!1;t<e.length;t++){if(e[t]===h7||e[t]===p7)""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}var m7=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function g7(e,t){for(var n=u7.getAllMatches(e,m7),r={},i=0;i<n.length;i++){if(0===n[i][1].length)return b7("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",w7(n[i]));if(void 0===n[i][3]&&!t.allowBooleanAttributes)return b7("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",w7(n[i]));var o=n[i][2];if(!_7(o))return b7("InvalidAttr","Attribute '"+o+"' is an invalid name.",w7(n[i]));if(r.hasOwnProperty(o))return b7("InvalidAttr","Attribute '"+o+"' is repeated.",w7(n[i]));r[o]=1}return!0}function y7(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){var n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);for(var n=0;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function b7(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function _7(e){return u7.isName(e)}function E7(e,t){var n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function w7(e){return e.startIndex+e[1].length}var S7={},T7=function(e){return String.fromCharCode(e)},k7={nilChar:T7(176),missingChar:T7(201),nilPremitive:T7(175),missingPremitive:T7(200),emptyChar:T7(178),emptyValue:T7(177),boundryChar:T7(179),objStart:T7(198),arrStart:T7(204),arrayEnd:T7(185)},x7=[k7.nilChar,k7.nilPremitive,k7.missingChar,k7.missingPremitive,k7.boundryChar,k7.emptyChar,k7.emptyValue,k7.arrayEnd,k7.objStart,k7.arrStart],A7=function e(t,n,r){if("string"==typeof n)return t&&t[0]&&void 0!==t[0].val?P7(t[0].val):P7(t);var i,o=void 0===(i=t)?k7.missingChar:null===i?k7.nilChar:!(i.child&&0===Object.keys(i.child).length&&(!i.attrsMap||0===Object.keys(i.attrsMap).length))||k7.emptyChar;if(!0===o){var a="";if(Array.isArray(n)){a+=k7.arrStart;var s=n[0],u=t.length;if("string"==typeof s)for(var l=0;l<u;l++){var c=P7(t[l].val);a=O7(a,c)}else for(var d=0;d<u;d++){var f=e(t[d],s,r);a=O7(a,f)}a+=k7.arrayEnd}else{a+=k7.objStart;var h=Object.keys(n);for(var p in Array.isArray(t)&&(t=t[0]),h){var v=h[p],m=void 0;m=!r.ignoreAttributes&&t.attrsMap&&t.attrsMap[v]?e(t.attrsMap[v],n[v],r):v===r.textNodeName?e(t.val,n[v],r):e(t.child[v],n[v],r),a=O7(a,m)}}return a}return o},P7=function(e){switch(e){case void 0:return k7.missingPremitive;case null:return k7.nilPremitive;case"":return k7.emptyValue;default:return e}},O7=function(e,t){return C7(t[0])||C7(e[e.length-1])||(e+=k7.boundryChar),e+t},C7=function(e){return-1!==x7.indexOf(e)},I7=x2,L7=T2.buildOptions;S7.convert2nimn=function(e,t,n){return n=L7(n,I7.defaultOptions,I7.props),A7(e,t,n)};var N7={},D7=T2,R7=T2.buildOptions,M7=x2,j7=function e(t,n,r){for(var i="{",o=Object.keys(t.child),a=0;a<o.length;a++){var s=o[a];if(t.child[s]&&t.child[s].length>1){for(var u in i+='"'+s+'" : [ ',t.child[s])i+=e(t.child[s][u],n)+" , ";i=i.substr(0,i.length-1)+" ] "}else i+='"'+s+'" : '+e(t.child[s][0],n)+" ,"}return D7.merge(i,t.attrsMap),D7.isEmptyObject(i)?D7.isExist(t.val)?t.val:"":(D7.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==n.cdataPositionChar)&&(i+='"'+n.textNodeName+'" : '+function(e){return!0!==e&&!1!==e&&isNaN(e)?'"'+e+'"':e}(t.val)),","===i[i.length-1]&&(i=i.substr(0,i.length-2)),i+"}")};N7.convertToJsonString=function(e,t){return(t=R7(t,M7.defaultOptions,M7.props)).indentBy=t.indentBy||"",j7(e,t)};var F7=T2.buildOptions,V7={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},U7=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function B7(e){this.options=F7(e,V7,U7),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=$7),this.options.cdataTagName?this.isCDATA=Q7:this.isCDATA=function(){return!1},this.replaceCDATAstr=G7,this.replaceCDATAarr=q7,this.processTextOrObjNode=z7,this.options.format?(this.indentate=X7,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=Y7,this.buildObjNode=W7):(this.buildTextNode=K7,this.buildObjNode=H7),this.buildTextValNode=K7,this.buildObjectNode=H7}function z7(e,t,n){var r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextNode(r.val,t,r.attrStr,n):this.buildObjNode(r.val,t,r.attrStr,n)}function G7(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function q7(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(var n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function H7(e,t,n,r){return n&&-1===e.indexOf("<")?this.indentate(r)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(r)+"<"+t+n+this.tagEndChar+e+this.indentate(r)+"</"+t+this.tagEndChar}function W7(e,t,n,r){return""!==e?this.buildObjectNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function K7(e,t,n,r){return this.indentate(r)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function Y7(e,t,n,r){return""!==e?this.buildTextValNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function X7(e){return this.options.indentBy.repeat(e)}function $7(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function Q7(e){return e===this.options.cdataTagName}B7.prototype.parse=function(e){var t;return Array.isArray(e)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&((t={})[this.options.rootNodeName]=e,e=t),this.j2x(e,0).val},B7.prototype.j2x=function(e,t){var n="",r="";for(var i in e)if(void 0===e[i]);else if(null===e[i])r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)r+=this.buildTextNode(e[i],i,"",t);else if("object"!=typeof e[i]){var o=this.isAttribute(i);o?n+=" "+o+'="'+this.options.attrValueProcessor(""+e[i])+'"':this.isCDATA(i)?e[this.options.textNodeName]?r+=this.replaceCDATAstr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAstr("",e[i]):i===this.options.textNodeName?e[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+e[i])):r+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i]))if(this.isCDATA(i))r+=this.indentate(t),e[this.options.textNodeName]?r+=this.replaceCDATAarr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAarr("",e[i]);else for(var a=e[i].length,s=0;s<a;s++){var u=e[i][s];void 0===u||(r+=null===u?this.indentate(t)+"<"+i+"/"+this.tagEndChar:"object"==typeof u?this.processTextOrObjNode(u,i,t):this.buildTextNode(u,i,"",t))}else if(this.options.attrNodeName&&i===this.options.attrNodeName)for(var l=Object.keys(e[i]),c=l.length,d=0;d<c;d++)n+=" "+l[d]+'="'+this.options.attrValueProcessor(""+e[i][l[d]])+'"';else r+=this.processTextOrObjNode(e[i],i,t);return{attrStr:n,val:r}};var J7=B7;!function(e){var t=S2,n=x2,r=x2,i=T2.buildOptions,o=s7;e.parse=function(e,a,s){if(void 0===a&&(a={}),s){!0===s&&(s={});var u=o.validate(e,s);if(!0!==u)throw Error(u.err.msg)}a.parseTrueNumberOnly&&!1!==a.parseNodeValue&&!a.numParseOptions&&(a.numParseOptions={leadingZeros:!1});var l=i(a,r.defaultOptions,r.props),c=n.getTraversalObj(e,l);return t.convertToJson(c,l)},e.convertTonimn=S7.convert2nimn,e.getTraversalObj=n.getTraversalObj,e.convertToJson=t.convertToJson,e.convertToJsonString=N7.convertToJsonString,e.validate=o.validate,e.j2xParser=J7,e.parseToNimn=function(t,n,r){return e.convertTonimn(e.getTraversalObj(t,r),n,r)}}(w2);var Z7,e9=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},t9=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},n9=function(){function e(e){this.caches=e}return e.prototype.load=function(e,t){return e9(this,void 0,void 0,(function(){var n,r,i;return t9(this,(function(o){switch(o.label){case 0:return!this.caches||(null==t?void 0:t.noCache)?[3,3]:[4,(n=this.caches).match(e)];case 1:return"string"==typeof(r=o.sent())?[2,r]:[4,this.fetch(e)];case 2:return i=o.sent(),n.put(e,i),[2,i];case 3:return[2,this.fetch(e)]}}))}))},e.prototype.fetch=function(e){return O$({url:e,responseType:"text",method:"GET"}).pipe(ZU("response")).toPromise()},e}(),r9=n9;function i9(e){var t=/([^?#$]+)/.exec(""+e);if(!t)return"";var n=/^(?:[^/]*\/)*/.exec(t[0]);return n?n[0]:""}function o9(e){var t;return null!==(t=c2[e])&&void 0!==t?t:null}function a9(e,t){return e.reduce((function(e,n){return e.concat(t(n))}),[])}function s9(e){return!!e&&(e.label?"ABR"===e.label.toUpperCase():!!e.encodingOptionID&&"ABR"===e.encodingOptionID.toUpperCase())}!function(e){e[e.INSTALLED=3]="INSTALLED",e[e.EXT_NOT_INSTALLED=1]="EXT_NOT_INSTALLED",e[e.CLIENT_NOT_INSTALLED=2]="CLIENT_NOT_INSTALLED",e[e.CONNECTING=0]="CONNECTING",e[e.UNAVAILABLE=-1]="UNAVAILABLE"}(Z7||(Z7={}));var u9,l9=Z7;!function(e){e.WINDOWS="WINDOWS",e.MAC="MAC",e.ETC_PC="ETC_PC",e.ANDROID="ANDROID",e.IOS="IOS",e.WIN_MOBILE="WIN_MOBILE",e.ETC_MOBILE="ETC_MOBILE"}(u9||(u9={}));var c9=u9;function d9(e){void 0===e&&(e=navigator.userAgent);var t=mZ(e);switch(t.getOS().name){case"Windows":return c9.WINDOWS;case"Mac OS":return c9.MAC;case"Android":return c9.ANDROID;case"iOS":return c9.IOS;case"Windows Phone":case"Windows Mobile":return c9.WIN_MOBILE}return t.getDevice()?c9.ETC_MOBILE:c9.ETC_PC}function f9(e){return e.replace(/[A-Z]/g,(function(e,t){var n=e.toLowerCase();return 0===t?n:"-"+n}))}var h9,p9={levelStart:"level_start",levelCap:"level_cap"};!function(e){e.UNEXPECTED_LAUNCHER_STATE="Unexpected Launcher State",e.UNEXPECTED_LIVE_CONNECTOR_STATE="Unexpected Live Connector State",e.EXT_NOT_INSTALLED="Extension is not installed",e.LAUNCHER_NOT_INSTALLED="Launcher is not installed",e.LIVE_CONNECTOR_NOT_INSTALLED="LiveConnector No Installed",e.LIVE_CONNECTOR_FAILED_TO_LAUNCH="LiveConnector is failed to launch",e.FAILED_TO_GET_HLS_PORT="Failed to get HLS port",e.MISSING_ESSENTIAL_KEY="Missing essential key",e.FAILED_TO_PARSE_JSON="Failed to parse json",e.UNEXPECTED_ERROR="Unexpected error"}(h9||(h9={}));var v9,m9,g9,y9,b9={1e3:"LiveConnector No Installed",1001:"Missing essential key",1002:"Failed to parse json"};function _9(e){switch(e){case"real":default:return 2;case"stage":return 1;case"dev":return 0}}function E9(e){switch(e){case 2:case 1:default:return"http://appdown.naver.com";case 0:return"http://alpha-www.ncast.navercorp.com"}}!function(e){e[e.Dev=0]="Dev",e[e.Stage=1]="Stage",e[e.Real=2]="Real"}(v9||(v9={})),function(e){e.Dev="http://alpha-www.ncast.navercorp.com",e.Stage="http://appdown.naver.com",e.Real="http://appdown.naver.com"}(m9||(m9={})),function(e){e.Dev="http://dev.livecloud.navercorp.com/xray/p2p/v1/config",e.Stage="http://stg.livecloud.navercorp.com/xray/p2p/v1/config",e.Real="http://livecloud.navercorp.com/xray/p2p/v1/config"}(g9||(g9={})),function(e){e.SetupFile="/naver/nliveconnector/NLiveConnectorSetup.exe",e.VersionInfoProxy="/naver/nliveconnector/upgrade/VersionInfo_Proxy.xml",e.VersionInfo="/naver/nliveconnector/upgrade/VersionInfo.xml"}(y9||(y9={}));var w9,S9=function(){function e(){}return e.getSetupFileUrl=function(e){return(location.protocol.startsWith("https")?"https://appdown.pstatic.net":E9(_9(e)))+"/naver/nliveconnector/NLiveConnectorSetup.exe"},e.getConfigUrl=function(e){return 2===e?"http://livecloud.navercorp.com/xray/p2p/v1/config":1===e?"http://stg.livecloud.navercorp.com/xray/p2p/v1/config":"http://dev.livecloud.navercorp.com/xray/p2p/v1/config"},e.getUpdateUrl=function(e){return E9(e)+"/naver/nliveconnector/upgrade/VersionInfo.xml"},e.getProxyVersionInfoPath=function(e){return E9(e)+"/naver/nliveconnector/upgrade/VersionInfo_Proxy.xml"},e.serviceId="nliveconnector",e.proxyVersion="1.0.0.0",e}(),T9=function(e){this.protocol="naverliveconnector",this.startPort=36528,this.portCount=3,this.encrypt=!0,this.initTimeout=5e3,this.sessionTimeout=3e4,this.idleTimeout=3e4,this.autoRefresh=!0,this.execute=" /server "+S9.getProxyVersionInfoPath(e)};(w9=w9||{}).ajaxWrapper=w9.ajaxWrapper||{},w9.ajaxWrapper.CreateAjaxObj=function(){return window.XDomainRequest&&window.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType?(w9.plugout.common.logging("naver.ajaxWrapper.XDRWrapper is created"),w9.ajaxWrapper.XDRWrapper()):navigator&&-1!=navigator.userAgent.indexOf("MSIE")&&!document.documentMode?(w9.plugout.common.logging("Not support CORS"),null):(w9.plugout.common.logging("naver.ajaxWrapper.XHRWrapper is created"),w9.ajaxWrapper.XHRWrapper())},w9.ajaxWrapper.XDRWrapper=function(){return{sendAjax:function(e){var t=function(){try{return new XDomainRequest}catch(e){w9.plugout.common.logging("Error - XDomainRequest creation exception")}}();function n(){t.onload=null,t.onprogress=null,t.onerror=null,t.ontimeout=null}return t.onload=function(){n();var r="Content-Length: "+t.responseText.length+"\r\nContent-Type: "+t.contentType,i={text:t.responseText};e.listener(200,"success",i,r)},t.onprogress=function(){},t.onerror=function(){n(),e.listener(500,"error",{errMsg:t.responseText})},t.ontimeout=function(){n(),e.listener(500,"timeout",{},null),w9.plugout.common.logging("XDR TimeoutOccured")},t.open(e.method,e.url),/^\d+$/.test(e.timeout)&&(t.timeout=e.timeout),t.send(e.data),{abort:function(n){var r=n||"canceled";t&&(t.abort(),e.listener(0,r))}}}}},w9.ajaxWrapper.XHRWrapper=function(){function e(){}return{sendAjax:function(t){var n,r,i=function(){var e=null;if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}return e}();return i.open(t.method,t.url,t.async,t.username,t.password),/^\d+$/.test(t.timeout)&&(i.timeout=t.timeout),i.send(void 0!==t.data&&t.data||null),n=function(r,o){var a,s,u;if(n&&(o||4==i.readyState)){if(n=void 0,i.ontimeout=void 0,i.onreadystatechange=e,o)4!=i.readyState&&(i.abort(),n=void 0);else{u={},a=i.status,"string"==typeof i.responseText&&(u.text=i.responseText);try{s=i.statusText}catch(e){s="",w9.plugout.common.logging("Error - Exception in statusText = xhr.statusText")}a?1223==a&&(a=204):a=u.statusText?200:404}u&&(n=void 0,t.listener(a,s,u,i.getAllResponseHeaders()))}},r=function(){n=void 0,r=void 0,t.listener(500,"timeout",null,null),w9.plugout.common.logging(new Date+", XHR TimeoutOccured")},i.ontimeout=r,t.async?4==i.readyState?setTimeout(n):i.onreadystatechange=n:n(),{abort:function(e){var r=e||"canceled";n&&(n(void 0,!0),t.listener(0,r))}}}}},(w9=w9||{}).plugout=w9.plugout||{},w9.plugout.base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){for(var t,n,r,i,o,a,s,u="",l=0;l<e.length;)i=(t=e[l++])>>2,o=(3&t)<<4|(n=e[l++])>>4,a=(15&n)<<2|(r=e[l++])>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),u=u+this._keyStr.charAt(i)+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(s);return u},decode:function(e){var t,n,r,i,o,a,s=[],u=0,l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)t=this._keyStr.indexOf(e[u++])<<2|(i=this._keyStr.indexOf(e[u++]))>>4,n=(15&i)<<4|(o=this._keyStr.indexOf(e[u++]))>>2,r=(3&o)<<6|(a=this._keyStr.indexOf(e[u++])),s[l++]=t,64!=o&&(s[l++]=n),64!=a&&(s[l++]=r);return s}},w9.plugout.utf8={encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},decode:function(e){for(var t="",n=0,r=0,i=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(i=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&i),n+=2):(i=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&c3),n+=3);return t}},w9.plugout.encrypt_by_key=function(e,t){for(var n=w9.plugout.utf8.encode(t),r=[],i=0,o=0;o<n.length;o++){var a=n.charCodeAt(o)^e.charCodeAt([i%e.length]);r[o]=a,++i}return w9.plugout.base64.encode(r)},w9.plugout.decrypt_by_key=function(e,t){for(var n=w9.plugout.base64.decode(t),r="",i=0,o=0;o<n.length;o++){var a=n[o]^e.charCodeAt([i%e.length]);r+=String.fromCharCode(a),++i}return w9.plugout.utf8.decode(r)},(w9=w9||{}).plugout=w9.plugout||{},w9.plugout.DEFAULT_URL="http://127.0.0.1",w9.plugout.ajaxWrapper=function(e){var t=this,n=window.XDomainRequest&&window.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType?(w9.plugout.common.logging("naver.ajaxWrapper.XDRWrapper is created"),w9.ajaxWrapper.XDRWrapper()):navigator&&-1!=navigator.userAgent.indexOf("MSIE")&&!document.documentMode?(w9.plugout.common.logging("Not support CORS"),null):(w9.plugout.common.logging("naver.ajaxWrapper.XHRWrapper is created"),w9.ajaxWrapper.XHRWrapper()),r=!1,i=w9.plugout.constants.socket,o=w9.plugout.errorcode.socket;function a(e,t){return w9.plugout.DEFAULT_URL+":"+e+t}function s(e,t,i,o,s){var u=w9.plugout.common.curry(l,this,s);""!==o&&(o=JSON.stringify(o),w9.plugout.common.logging("Data in sendOnly = "+o),r&&(o=w9.plugout.encrypt_by_key(w9.plugout.constants.ENCRYPT_KEY,o)),w9.plugout.common.logging("Encrypted Data in sendOnly = "+o)),n.sendAjax({url:a(e,t),data:o,method:"POST",listener:u,async:!0,timeout:i})}function u(e,t,n){return e({code:t,detail:n},null),!0}function l(e,t,n,a,s){var l={code:i.SUCCESS,detail:null,content:null};if(200!=t)return u(e,o.INVALID_HTTP_CODE,n);var c=null;if(l.content=a.text||"",l.content&&""!==l.content){var d=l.content;if(r&&!(d=function(e){var t=null;try{w9.plugout.common.logging("Encrypted Data in Recv = "+e),t=w9.plugout.decrypt_by_key(w9.plugout.constants.ENCRYPT_KEY,e),w9.plugout.common.logging("Data in Recv = "+e)}catch(n){w9.plugout.common.logging("Decryption error in processDecrypt : "+e),t=null}return t||!1}(l.content)))return u(e,o.FAILURE_DECRYPT,"FAILURE DECRYPT");if(l.content=d,!(c=function(e){var t=null;try{w9.plugout.common.logging("Data in processJsonParsing = "+e),t=JSON.parse(e)}catch(n){w9.plugout.common.logging("Parsing Exception in processJsonParsing : "+e),t=null}return!(!t||!t.rt)&&t}(d)))return u(e,o.INVALID_JSON,"INVALID_JSON")}e(l,c)}return r=e,t.sendAuth=function(e,t,n,r){s(e,"/auth",t,n,r)},t.sendReconnect=function(e,t,n,r){s(e,"/reconnect",t,n,r)},t.sendMsg=function(e,t,n,r){s(e,"/msg",t,n,r)},t.sendPing=function(e,t,n,r){s(e,"/ping",t,n,r)},t.sendClose=function(e,t,n,r){s(e,"/close",t,n,r)},t},(w9=w9||{}).plugout.constants={},w9.plugout.constants.ENCRYPT_KEY="8EDD7B56DB9540E6BE7487A6D3FE196E",w9.plugout.constants.socket={STATE_CONNECTING:0,STATE_CONNECTED:1,STATE_CLOSING:2,STATE_CLOSED:3,INFINITY:-1,INTERVAL_CONNECTING:1e3,INTERVAL_PING:1e3,CLOSE_USER:0,CLOSE_ERROR:-1,SUCCESS:0,FAILURE:-1},w9.plugout.errorcode={},w9.plugout.errorcode.socket={INVALID_AUTHKEY:1100,FAIL_TO_CREATE_SESSION:1101,FAIL_TO_RECREATE_SESSION:1102,NO_SESSION_KEY:1103,PROXY_PARSING_ERROR:1200,FAILED_CREATE_JSON:1300,FAILED_PROCESS_COMMAND:1400,NOT_ALLOWED_COMMAND:1401,FAILURE_CONNECTING:5011,FAILURE_HB:5012,FAILURE_SHORT_CONNECTING:5013,INVALID_HTTP_CODE:5014,INVALID_JSON:5015,FAILURE_DECRYPT:5016,INVALID_FORMAT:5017,REQUEST_TIMEOUT:5018},w9.plugout.common=w9.plugout.common||{},w9.plugout.common.logging=function(e){},w9.plugout.common.ArrayLengthLoop=function(e){if(e.length)return e.length;var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},w9.plugout.common.curry=function(e,t){for(var n=t||window,r=[],i=Array.prototype.slice,o=2,a=w9.plugout.common.ArrayLengthLoop(arguments);o<a;++o)r.push(arguments[o]);return function(){e.apply(n,r.concat(i.apply(arguments)))}},w9.plugout.common.ArrayIndexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=w9.plugout.common.ArrayLengthLoop(e),r=0;r<n;++r)if(e[r]==t)return r;return-1},(w9=w9||{}).plugout=w9.plugout||{},w9.plugout.connector=function(e){var t=null,n=null,r=null,i={},o=null,a=null,s=!1,u=w9.plugout.constants.socket,l=w9.plugout.errorcode.socket;if(!e.ajaxObj)throw new Error(-1,"Invalid conf");function c(){return o&&(clearTimeout(o),o=null),s=!1,t=null,n=null,!0}function d(e){var t=w9.plugout.common.curry(h,this,e);return a?(data={tabId:a},r.sendReconnect(e,i.eachConnectionTimeout,data,t),!0):(r.sendAuth(e,i.eachConnectionTimeout,"",t),!0)}function f(){if(!s)return!1;var e=n;return w9.plugout.common.logging("Failed to lookupPort"),c(),e({code:l.FAILURE_CONNECTING,detail:"FAILURE CONNECTING"}),!0}function h(e,n,r){if(s)if(function(e,t,n){return!(-1==w9.plugout.common.ArrayIndexOf(i.ports,e)||t.code!=u.SUCCESS||!n||"auth"!=n.rt&&"reconnect"!=n.rt||!n.tabId||i.tabId&&n.tabId!==i.tabId)}(e,n,r)){var o=t;c(),o({tabId:r.tabId,port:e})}else d(e)}r=e.ajaxObj,this.connect=function(e,r,u,l){if(s)return!1;if(!function(e,r,o,u){return!(!e||!r||(t=e,n=r,s=!0,i=o,a=u,w9.plugout.common.logging("Plugout_Connector conf = "+JSON.stringify(i)),0))}(e,r,u,l))return!1;o=setTimeout(f,i.connectionTimeout);for(var c=w9.plugout.common.ArrayLengthLoop(i.ports),h=0;h<c;h++)d(i.ports[h]);return!0}},(w9=w9||{}).plugout=w9.plugout||{},w9.plugout.healthChecker=function(e){var t=this,n=null,r=null,i=null,o=!1,a=!1,s=null,u=null,l=null,c=!1,d=0;w9.plugout.constants.socket;var f=w9.plugout.errorcode.socket;if(!e.ajaxObj)throw new Error(-1,"Invalid Options");function h(e,p){return!(!o||((v=new Date-a)>i.hbTimeout&&(w9.plugout.common.logging("HB Timeout check is failed (IOInterval : "+v+", Timeout : "+i.hbTimeout+")"),1)?(n.onHeartBeatError({code:f.FAILURE_HB,detail:"FAILURE HB"}),t.stopHeartBeat(),1):(function(e){var t=w9.plugout.common.curry(r.sendPing,r,e,i.timeout,{tabId:s},h);d<=0?(c=!1,d=0):d--;var n=null;n=c?i.quickHbInterval:i.hbInterval,l&&(clearTimeout(l),l=null),l=setTimeout(t,n)}(u),!p||!p.rt||"pong"!==p.rt&&"msg"!==p.rt&&"multimsg"!==p.rt?(m=f.INVALID_FORMAT,g="INVALID FORMAT",n.onHeartBeatError({code:m,detail:g}),1):(t.updateLastIOTime(),"msg"!=p.rt&&"multimsg"!=p.rt||n.onReceiveMsg(e,p),0))));var v,m,g}return r=e.ajaxObj,t.startHeartBeat=function(e,t,l,c){return!(o||!e||!function(e,t,r,l){return!!e&&(n=e,i=l,o=!0,a=new Date,s=t,u=r,w9.plugout.common.logging("Plugout_HealthChecker Options = "+JSON.stringify(i)),!0)}(e,t,l,c)||(r.sendPing(l,i.timeout,{tabId:s},h),0))},t.startQuickHeartBeat=function(){return!!o&&(c=!0,d=i.quickHbCount-1,l&&(clearTimeout(l),l=null),r.sendPing(u,i.timeout,{tabId:s},h),!0)},t.clearQuickHeartBeat=function(){return!!o&&(c=!1,d=0,!0)},t.updateLastIOTime=function(){return!!o&&(a=new Date,!0)},t.stopHeartBeat=function(){return!!o&&(n=null,o=!1,a=null,s=null,u=null,w9.plugout.common.logging("Plugout_HealthChecker is finalized"),!0)},t},(w9=w9||{}).plugout=w9.plugout||{},w9.plugout.sessionImpl=function(e,t){var n=this,r=null,i=null,o=null,a=null,s=null,u=null,l=w9.plugout.constants.socket,c=w9.plugout.errorcode.socket;if(!function(e,t){return!!e&&(u=e,i=l.STATE_CLOSED,r=t,w9.plugout.common.logging("Plugout_Session conf = "+JSON.stringify(r)),!0)}(e,t))throw new Error(-1,"Invalid conf");function d(e){var t={text:JSON.stringify(e)};return"function"==typeof n.onmessage&&setTimeout((function(){n.onmessage(t)}),0),!0}function f(e,t){var r={code:e,detail:t};return"function"==typeof n.onerror&&setTimeout((function(){n.onerror(r)}),0),e!=c.INVALID_AUTHKEY&&e!=c.FAILURE_HB||h({code:l.CLOSE_ERROR}),!0}function h(e){i=l.STATE_CLOSED,a=null,s&&(s.stopHeartBeat(),s=null),"function"==typeof n.onclose&&setTimeout((function(){n.onclose(e)}),0)}return n.onReceiveMsg=function(e,t){return e.code!=l.SUCCESS?(f(e.code,e.detail),!0):t&&t.rt&&t.rslt&&"false"!==t.rslt?"multimsg"==t.rt?(s.clearQuickHeartBeat(),t.param?(function(e){for(var t=0;t<e.length;t++)d(e[t].param)}(t.param),!0):(f(c.INVALID_FORMAT,"INVALID FORMAT"),!0)):"msg"!=t.rt?"ok"==t.rt?(s.startQuickHeartBeat(),!0):(f(c.INVALID_FORMAT,"INVALID FORMAT"),!0):(s.clearQuickHeartBeat(),t.param?void d(t.param):(f(c.INVALID_FORMAT,"INVALID FORMAT"),!0)):(t.errCode&&t.errMsg?f(t.errCode,t.errMsg):f(c.INVALID_FORMAT,"INVALID FORMAT"),!1)},n.onconnected=function(e){},n.onerror=function(e){},n.onmessage=function(e){},n.onclose=function(e){},n.onHeartBeatError=function(e){f(e.code,e.detail)},n.changeConnectingState=function(){i=l.STATE_CONNECTING},n.onConnect=function(e){if(i!==l.STATE_CONNECTING)return!1;i=l.STATE_CONNECTED,o=e.tabId,a=e.port,r.enableHB&&(s=new w9.plugout.healthChecker({ajaxObj:u})).startHeartBeat(n,o,a,r),"function"==typeof n.onconnected&&n.onconnected(e)},n.onShortConnectFailure=function(e){if(i!==l.STATE_CONNECTING)return!1;i=l.STATE_CLOSED,o=null,a=null,"function"==typeof n.onerror&&(e.code=l.FAILURE_SHORT_CONNECTING,n.onerror(e)),h({code:l.CLOSE_ERROR})},n.onConnectFailure=function(e){if(i!==l.STATE_CONNECTING)return!1;i=l.STATE_CLOSED,o=null,a=null,"function"==typeof n.onerror&&setTimeout((function(){n.onerror(e)}),0),h({code:l.CLOSE_ERROR})},n.send=function(e){return i===l.STATE_CONNECTED&&(e.tabId=o,u.sendMsg(a,r.timeout,e,n.onReceiveMsg))},n.close=function(){if(i===l.STATE_CLOSED)return!1;h({code:l.CLOSE_USER})},n.state=function(){return i},n},(w9=w9||{}).session=function(e){var t,n=this,r=w9.plugout.constants.socket,i=w9.plugout.errorcode.socket,o=null,a=null,s=null,u=null;if(!function(e){var t=/^[0-9]{1,6}$/;if((o={}).timeout=e.timeout||1e3,!t.test(o.timeout))return!1;if(o.hbInterval=e.hbInterval||o.timeout,!t.test(o.hbInterval))return!1;if(o.quickHbInterval=e.quickHbInterval||o.hbInterval,!t.test(o.quickHbInterval))return!1;if(o.quickHbCount=e.quickHbCount||5,!t.test(o.quickHbCount))return!1;if(o.hbTimeout=e.hbTimeout||3*o.timeout,!t.test(o.hbTimeout))return!1;if(o.connectionTimeout=e.connectionTimeout||5e3,!t.test(o.connectionTimeout))return!1;if(o.eachConnectionTimeout=e.eachConnectionTimeout||1e3,!t.test(o.eachConnectionTimeout))return!1;if(o.port=e.port||8080,"number"!=typeof o.port||o.port<80||o.port>65535)return!1;o.url=e.url||"http://127.0.0.1",o.portcount=e.portcount||1,o.enableHB=e.enableHB||!0,o.enableEncrypt=e.enableEncrypt,"boolean"!=typeof o.enableEncrypt&&(o.enableEncrypt=!0),o.ports=[];for(var n=0;n<o.portcount;n++)o.ports.push(o.port+n);return w9.plugout.common.logging("Session conf = "+JSON.stringify(o)),!0}(e))throw new Error(-1,"Invalid conf");function l(e){return s=null,"function"==typeof n.onclose&&setTimeout((function(){n.onclose(e)}),0),!0}return t=new w9.plugout.ajaxWrapper(o.enableEncrypt),(a=new w9.plugout.sessionImpl(t,o)).onconnected=function(e){u=e.tabId,function(e){"function"==typeof n.onconnected&&setTimeout((function(){n.onconnected(e)}),0)}(e)},a.onerror=function(e){!function(e){"function"==typeof n.onerror&&setTimeout((function(){n.onerror(e)}),0),e.code!=i.INVALID_AUTHKEY&&e.code!=i.FAILURE_HB||l({code:r.CLOSE_ERROR})}(e)},a.onclose=function(e){l(e)},a.onmessage=function(e){!function(e){"function"==typeof n.onmessage&&setTimeout((function(){n.onmessage(e)}),0)}(e)},n.shortConnect=function(){return a.state()===r.STATE_CLOSED&&(s=new w9.plugout.connector({ajaxObj:t}),a.changeConnectingState(),s.connect(a.onConnect,a.onShortConnectFailure,{ports:o.ports,connectionTimeout:1e3,eachConnectionTimeout:1e3},u),!0)},n.connect=function(){return a.state()===r.STATE_CLOSED&&(s=new w9.plugout.connector({ajaxObj:t}),a.changeConnectingState(),s.connect(a.onConnect,a.onConnectFailure,o,u),!0)},n.send=function(e){return a.send(e)},n.close=function(){return a.close()},n.state=function(){return a.state()},n},w9.plugout=w9.plugout||{},w9.plugout.browser={isWhale:function(){return"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("whale")>-1},isEdge:function(){return"undefined"!=typeof navigator&&/edge\/\d+/i.test(navigator.userAgent)},isNewEdge:function(){return"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("edg")>-1},isOpera:function(){return"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().match(/opera|opr\//)},isChrome:function(){return"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().match(/chrom(e|ium)\//)&&!w9.plugout.browser.isOpera()&&!w9.plugout.browser.isEdge()&&!w9.plugout.browser.isWhale()},isFirefox:function(){return"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1}};var k9={EXT_ID:w9.plugout.browser.isWhale()?"jielicmbabjkjaeffodlffnaiiflnphp":w9.plugout.browser.isNewEdge()?"jedbgfnhnpbfcbplibkacnmiafbojobk":"ooadnieabchijkibjpeieeliohjidnjj",EXT_URL:w9.plugout.browser.isWhale()?"https://store.whale.naver.com/detail/jielicmbabjkjaeffodlffnaiiflnphp":w9.plugout.browser.isNewEdge()?"https://microsoftedge.microsoft.com/addons/detail/jedbgfnhnpbfcbplibkacnmiafbojobk":"https://chrome.google.com/webstore/detail/ooadnieabchijkibjpeieeliohjidnjj",DLG_ID:"ext_dlg",INSTALLED:0,NOT_INSTALLED:-1,NOT_EXT_INSTALLED:-2,NOT_ALLOWED_DOMAIN:-5,isInstall:function(e,t,n){var r=function(t){if(null==t){if(null!=n){if(null==n.autoClose)var r=!1;else r=n.autoClose;var i=n.title,o=n.text,a=n.button;w9.extension.showDialog(r,i,o,a)}null!=e&&e(w9.extension.NOT_EXT_INSTALLED,w9.extension.EXT_URL)}else"install"==t&&(null!=n&&w9.extension.hideDialog(),null!=e&&e(w9.extension.INSTALLED))};if(null!=window.location.ancestorOrigins){var i=window.location.ancestorOrigins.length,o=i>0?window.location.ancestorOrigins[i-1]:window.location.href;if(!(o.match(/^https?:\/\/([^\/]+\.)?nhncorp\.com(\/|$)*/i)||o.match(/^https?:\/\/([^\/]+\.)?navercorp\.com(\/|$)*/i)||o.match(/^https?:\/\/([^\/]+\.)?naver\.com(\/|$)*/i)))return void(null!=e&&e(w9.extension.NOT_ALLOWED_DOMAIN))}null!=chrome.runtime?chrome.runtime.sendMessage(w9.extension.EXT_ID,{svc:"install"},r):r()},setOnMessage:function(e){window.addEventListener("message",e)},sendMessage:function(e,t,n){chrome.runtime.sendMessage(w9.extension.EXT_ID,{svc:e,ver:t,param:n},(function(e){}))},hideDialog:function(){var e=document.getElementById(w9.extension.DLG_ID);null!=e&&(e.style.display="none")},openLink:function(){window.open(w9.extension.EXT_URL),w9.extension.hideDialog()},showDialog:function(e,t,n,r){if(null==document.getElementById(w9.extension.DLG_ID)){var i=".ly_pop{display:block;position:fixed;left:50%;z-index:1001;padding:36px 20px 34px;background:#fff;border:1px solid #74787e;font-family:'나눔고딕',NanumGothic,Dotum,AppleGothic,sans-serif;font-size:12px;color:#000;text-align:center}\t\t\t\t\t.ly_pop .ly_header{position:relative}\t\t\t\t\t.ly_pop .title{font-size:14px;line-height:21px;color:#000}\t\t\t\t\t.ly_pop .title em{color:#298cdd}\t\t\t\t\t.ly_pop .text{margin:7px 0 16px;line-height:18px;color:#666}\t\t\t\t\t.ly_pop .btn_confirm{display:inline-block;width:auto;height:25px;padding:0 19px;border:0;border-top:1px solid #19aae2;border-bottom:1px solid #1593c4;background:#2DB400;font-weight:bold;line-height:26px;color:#fff;text-align:center;text-decoration:none}\t\t\t\t\t.ly_pop .btn_close{display:block;overflow:hidden;position:absolute;top:3px;right:3px;width:19px;height:19px;background:url(http://static.naver.net/software/2013/04/sp_bu.png) 3px -737px no-repeat;text-indent:-9999px}\t\t\t\t\t.dimmed{position:fixed;top:0;left:0;z-index:1000;width:100%;height:100%;background-color:#000;opacity: .5;filter:alpha(opacity=50)}",o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=i:o.appendChild(document.createTextNode(i)),document.getElementsByTagName("head")[0].appendChild(o);var a=document.createElement("div"),s=w9.plugout.browser.isWhale()?"웨일":"크롬",u=w9.plugout.browser.isWhale()?"웨일 스토어":"크롬 웹스토어";a.id=w9.extension.DLG_ID,a.innerHTML="<div class='ly_pop' style='display:block;width:420px;margin-left:-230px;top:30%;'>\t\t\t\t\t\t\t\t\t\t\t\t<div class='ly_header'>\t\t\t\t\t\t\t\t\t\t\t\t\t<strong class='title'>"+(null==t?"서비스 이용을 위해 "+s+" 확장 프로그램 설치가 필요합니다.":t)+"</strong>\t\t\t\t\t\t\t\t\t\t\t\t\t<p class='text'>"+(null==n?(null==r?"확인":r)+" 버튼을 누르면 "+u+"로 이동합니다.":n)+"</p>"+(1==e?"<a href='#' onclick='naver.extension.openLink(); return false;' class='btn_confirm'>"+(null==r?"확인":r)+"</a>":"<a href='"+w9.extension.EXT_URL+"' target='_blank' class='btn_confirm'>확인</a>")+"</div>\t\t\t\t\t\t\t\t\t\t\t\t<a href='#' onclick='naver.extension.hideDialog(); return false;' class='btn_close'>닫기</a>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t<div class='dimmed' id='home_dimmed' style='display:block'></div>",document.body.appendChild(a)}var l=document.getElementById(w9.extension.DLG_ID);null!=l&&(l.style.display="block")}},x9={INSTALLED:0,NOT_INSTALLED:-1,NOT_EXT_INSTALLED:-2,NOT_ALLOWED_DOMAIN:-5,CONNECTING:-3,RE_CONNECT:-4,ENCODE_KEY:"8EDD7B56DB9540E6BE7487A6D3FE196E",DEFAULT_INIT_TIMEOUT:1e4,DEFAULT_SESSION_TIMEOUT:3e4,DEFAULT_IDLE_TIMEOUT:3e4,DEFAULT_PORT_COUNT:3,socket:null,callback:null,socketParam:null,msgListener:null,installed:!1,listener:{onconnected:function(e){w9.plugout.common.logging("naver.extension.socket.onconnected"),w9.extension.installed=!0,w9.extension.callback(w9.extension.INSTALLED)},onerror:function(e){w9.plugout.common.logging("naver.extension.socket.onerror : (code :"+e.code+")"),5011==e.code&&w9.extension.callback(w9.extension.NOT_INSTALLED)},onclose:function(e){if(w9.plugout.common.logging("naver.extension.socket.onclose : "+e.code),-1==e.code){if(w9.extension.socket.state()==w9.plugout.constants.socket.STATE_CONNECTED)return;1==w9.extension.installed&&w9.extension._launchUrl()}},onmessage:function(e){w9.plugout.common.logging("naver.extension.socket.onmessage : "+e.text);try{w9.extension.msgListener({data:e.text})}catch(e){w9.plugout.common.logging(e)}}},_launchUrlProtocolWithIframe:function(e){try{if(w9.plugout.common.logging("launchUrlProtocolWithIframe called"),document.getElementById("plugoutUrlScheme"))document.getElementById("plugoutUrlScheme").src=e;else{var t=document.createElement("div");if(t){var n=e.replace('"','"');t.innerHTML='<div style="display:none;"><iframe id="plugoutUrlScheme"></iframe></div>',document.body.appendChild(t),document.getElementById("plugoutUrlScheme").src=n}}w9.extension.socket.connect()}catch(e){w9.plugout.common.logging("_launchUrlProtocolWithIframe error : "+e.message)}},_launchUrlProtocolWithMsLaunchUriEdge:function(e){navigator&&void 0!==navigator.msLaunchUri&&(w9.plugout.common.logging("launchUrlProtocolWithMsLaunchUriEdge called"),navigator.msLaunchUri(e,(function(){}),(function(){})),w9.extension.socket.connect())},_launchUrlProtocolWithMsLaunchUri:function(e){navigator&&void 0!==navigator.msLaunchUri&&(w9.plugout.common.logging("launchUrlProtocolWithMsLaunchUri called"),navigator.msLaunchUri(e,(function(){w9.plugout.common.logging("msLaunchUri success"),w9.extension.socket.connect()}),(function(){w9.plugout.common.logging("msLaunchUri failed"),w9.extension.callback(w9.extension.NOT_INSTALLED)})))},_launchUrl:function(){w9.plugout.common.logging("naver.socket.launchUrl");var e=w9.extension.socketParam;(null==e.initTimeout||e.initTimeout<=0)&&(e.initTimeout=w9.extension.DEFAULT_INIT_TIMEOUT),(null==e.sessionTimeout||e.sessionTimeout<=0)&&(e.sessionTimeout=w9.extension.DEFAULT_SESSION_TIMEOUT),(null==e.idleTimeout||e.idleTimeout<=0)&&(e.idleTimeout=w9.extension.DEFAULT_IDLE_TIMEOUT);var t="s^"+e.startPort+"&n^"+e.portCount+"&x^"+e.initTimeout+"&y^"+e.sessionTimeout+"&z^"+e.idleTimeout+"&e^"+(e.encrypt?"y":"n"),n=e.protocol+"://p^"+w9.plugout.encrypt_by_key(w9.extension.ENCODE_KEY,t)+e.execute;w9.plugout.common.logging("url : "+n),1==w9.plugout.browser.isEdge()?w9.extension._launchUrlProtocolWithMsLaunchUriEdge(n):w9.plugout.browser.isFirefox()||w9.plugout.browser.isOpera()?w9.extension._launchUrlProtocolWithIframe(n):w9.extension._launchUrlProtocolWithMsLaunchUri(n)},isInstall:function(e,t){null!=e&&(null!=t&&null!=t.protocol&&null!=t.startPort?(null!=t.portCount&&0!=t.portCount||(t.portCount=w9.extension.DEFAULT_PORT_COUNT),null==t.encrypt&&(t.encrypt=!0),null==w9.extension.socket||w9.extension.socket.state()!=w9.plugout.constants.socket.STATE_CONNECTED?(w9.extension.callback=e,null==w9.extension.socket?(w9.extension.socketParam=t,w9.extension.socket=w9.session({url:"http://127.0.0.1",port:t.startPort,portcount:t.portCount,enableEncrypt:t.encrypt,connectionTimeout:1e4,hbInterval:1e3,quickHbInterval:100,quickHbCount:5,timeout:5e3,async:!0}),w9.extension.socket.onconnected=w9.extension.listener.onconnected,w9.extension.socket.onerror=w9.extension.listener.onerror,w9.extension.socket.onclose=w9.extension.listener.onclose,w9.extension.socket.onmessage=w9.extension.listener.onmessage,w9.extension._launchUrl()):(null==t.autoRefresh||null==t.autoRefresh||t.autoRefresh)&&w9.extension._launchUrl()):e(w9.extension.INSTALLED)):e(w9.extension.NOT_INSTALLED))},setOnMessage:function(e){w9.plugout.browser.isChrome()||w9.plugout.browser.isWhale()?window.addEventListener("message",e):w9.extension.msgListener=e},sendMessage:function(e,t,n){var r=new Object;n.svc=e,n.ver=t,r.param=n,w9.plugout.common.logging("naver.extension.sendMessage : "+JSON.stringify(r)),w9.extension.socket.send(r)}};"undefined"==typeof window||void 0!==window.naver&&null!=window.naver||(window.naver={}),w9.plugout.browser.isWhale()||w9.plugout.browser.isChrome()||w9.plugout.browser.isNewEdge()?w9.extension=k9:w9.extension=x9;var A9=w9.extension.isInstall,P9=w9.extension.sendMessage,O9=w9.extension.setOnMessage,C9=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},I9=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function L9(e){return function(t){return e===t.command||"error"===t.command}}var N9,D9,R9,M9=function(){function e(){this._message$=new wM,e.INSTANCE=this,O9(this._onMessage.bind(this))}return e.getState=function(t){var n;return void 0===t&&(t="real"),C9(this,void 0,void 0,(function(){return I9(this,(function(r){return"windows"===(null===(n=gZ())||void 0===n?void 0:n.toLowerCase())&&e.isSupportedBrowser()?[2,e.getExtensionState(t).then((function(t){return 0===t?e.getClientState():t}))]:[2,Promise.resolve(-1e3)]}))}))},e.getExtensionState=function(e){return void 0===e&&(e="real"),C9(this,void 0,void 0,(function(){var t;return I9(this,(function(n){return t=_9(e),[2,new Promise((function(e){A9((function(t){return e(t)}),new T9(t))}))]}))}))},e.getClientState=function(){return C9(this,void 0,void 0,(function(){var t;return I9(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e.getInstance()._isInstall().pipe(dU(1)).toPromise()];case 1:return n.sent()?[2,0]:[2,-1];case 2:if("LiveConnector No Installed"===(t=n.sent()))return[2,-1];throw t;case 3:return[2]}}))}))},e.isSupportedBrowser=function(){var e,t=null===(e=bZ())||void 0===e?void 0:e.toLowerCase();return!!t&&["chrome","edge","chromium","opera","firefox","ie","whale"].indexOf(t)>-1},e.p2pClientDownloadUrl=function(e){return void 0===e&&(e="real"),S9.getSetupFileUrl(e)},Object.defineProperty(e,"extensionStoreUrl",{get:function(){return w9.extension.EXT_URL},enumerable:!1,configurable:!0}),e.setConfigUrl=function(t){e.getInstance()._configUrl=t},e.getInstance=function(){return e.INSTANCE||(e.INSTANCE=new e),this.INSTANCE},e.prototype.prepare=function(t,n){var r=this;void 0===t&&(t="real");var i=_9(t);return $M("prepare").pipe(IB((function(){return r._isLauncherInstall(i)})),IB((function(){return r._isInstall()})),IB((function(){return r._launch(i)})),IB((function(){return r._waitForReady(i)})),IB((function(){return r._getHlsPort()})),IB((function(t){return $M(e.convertHlsUrl(n,t))})))},e.convertHlsUrl=function(e,t){void 0===t&&(t=17080);var n=e.indexOf("?"),r="http://localhost:"+t+e.substr(0,n+1),i=encodeURIComponent(e.substr(n+1).split("&").map((function(e){var t=e.indexOf("="),n=e.substr(0,t),r=e.substr(t+1);return n+"="+encodeURIComponent(r)})).join("&"));return""+r+i},e.prototype._onMessage=function(e){var t,n;try{n=JSON.parse(e.data)}catch(e){return}if(n.err){var r=null!==(t=b9[n.errCode])&&void 0!==t?t:"Unexpected error";this._message$.next({command:"error",value:r})}else this._message$.next({command:n.cmd,value:n.rslt})},e.prototype._isLauncherInstall=function(e){return new gM((function(t){A9((function(e){switch(e){case 0:t.next(e),t.complete();break;case-1:t.error("Launcher is not installed");break;case-2:t.error("Extension is not installed");break;default:t.error("Unexpected Launcher State")}}),new T9(e))}))},e.prototype._isInstall=function(){var e="isInstall";return P9(S9.serviceId,S9.proxyVersion,{cmd:e}),this._message$.pipe(gF(L9(e)),Pj((function(e){if("error"===e.command)throw e.value;return"true"===e.value})),dU(1))},e.prototype._launch=function(e){var t,n="launchNative",r=null!==(t=this._configUrl)&&void 0!==t?t:S9.getConfigUrl(e),i=S9.getUpdateUrl(e);return P9(S9.serviceId,S9.proxyVersion,{cmd:n,config:r,update:i}),this._message$.pipe(gF(L9(n)),Pj((function(e){if("true"===e.value)return!0;throw"LiveConnector is failed to launch"})),dU(1))},e.prototype._waitForReady=function(t){var n,r=this,i="getLiveConnectorStatus";return kF(0,e.STATUS_INTERVAL_TIME_MS).pipe(UB((function(t){n=t%e.RETRY_TO_LAUNCH_COUNT,P9(S9.serviceId,S9.proxyVersion,{cmd:i})})),DB(this._message$),gF((function(e){return e.command===i})),Pj((function(e){return e.value})),IB((function(i){if("-1"===i)throw"LiveConnector No Installed";if(void 0===i)throw"Unexpected Live Connector State";return n===e.RETRY_TO_LAUNCH_COUNT-1?r._launch(t).pipe(RU(i)):$M(i)})),gF((function(e){return"2"===e})),xU())},e.prototype._getHlsPort=function(){var e="getHlsPort";return P9(S9.serviceId,S9.proxyVersion,{cmd:e}),this._message$.pipe(gF(L9(e)),Pj((function(e){var t=parseInt(e.value,10);if(isNaN(t))throw"Failed to get HLS port";return t})),dU(1))},e.STATUS_INTERVAL_TIME_MS=1e3,e.RETRY_TO_LAUNCH_COUNT=5,e}(),j9=M9;!function(e){e.BOOKED="BOOKED",e.STARTED="STARTED",e.STOPPED="STOPPED",e.ENDED="ENDED"}(N9||(N9={})),function(e){e.REAL="real",e.STAGE="stage",e.DEV="dev"}(D9||(D9={})),function(e){e.REAL="livecloud.navercorp.com/xray",e.STAGE="stg.livecloud.navercorp.com/xray",e.DEV="dev.livecloud.navercorp.com/xray"}(R9||(R9={}));var F9,V9=function(){function e(){this._env="real",this.defaultWatchingLogInterval=30,this.useTrackPath=!1,this.codecEfficiencyMap={avc1:10,hvc1:10,hev1:10,dvh1:10}}return e.prototype.set=function(e){var t,n,r=e.query,i=e.hash;if(r){var o=(null===(t=e.query)||void 0===t?void 0:t.env)||(null===(n=e.query)||void 0===n?void 0:n.providerEnv)||"real";this.env=o}i&&(this.maxBitrate=parseInt(i["max-bitrate"],10),this.maxResolution=parseInt(i["max-resolution"],10),this.track=parseInt(i.track,10),this.startLevel=parseInt(i["start-level"],10),this.maxLevel=parseInt(i["max-level"]||i["cap-track"]||i.capTrack,10),this.videoId=i["video-id"])},Object.defineProperty(e.prototype,"env",{get:function(){return this._env},set:function(e){switch(e){case"real":case"stage":case"dev":this._env=e;break;default:this._env="real"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"liveAPIDomain",{get:function(){switch(this.env){case"real":default:return"livecloud.navercorp.com/xray";case"stage":return"stg.livecloud.navercorp.com/xray";case"dev":return"dev.livecloud.navercorp.com/xray"}},enumerable:!1,configurable:!0}),e.prototype.setParam=function(e){e.maxBitrate&&(this.maxBitrate=e.maxBitrate),e.maxResolution&&(this.maxResolution=e.maxResolution),e.track&&(this.track=e.track),e.trackKind&&(this.trackKind=e.trackKind),e.startLevel&&(this.startLevel=e.startLevel),e.maxLevel&&(this.maxLevel=e.maxLevel),Number.isFinite(e.serviceId)&&(this.serviceId=e.serviceId),2010===e.serviceId&&(this.serviceType=e.serviceType),e.pop&&(this.pop=e.pop),e.useTrackPath&&(this.useTrackPath=e.useTrackPath),e.codecEfficiencyMap&&(this.codecEfficiencyMap=e.codecEfficiencyMap)},e.prototype.getLivePlaybackAPIUrl=function(e,t,n){var r={countryCode:t,devt:n,p2p:!0,includeTrackPath:!0,includeThumbnail:!0,timeMachine:!1},i=window.location.protocol,o=Object.entries(r).map((function(e){var t=e[0],n=e[1];return t+"="+encodeURIComponent(n)})).join("&");return $Z(i+"//"+this.liveAPIDomain+"/livecloud/lives/v2/"+e+"/playback?"+o,this.pop)},e.prototype.getLivePollingStatusAPIUrl=function(e){return $Z(window.location.protocol+"//"+this.liveAPIDomain+"/livecloud/lives/v2/"+e+"/polling-status",this.pop)},e}(),U9=V9,B9=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z9=function(e){function t(t,n){void 0===n&&(n="unknown error");var r=e.call(this)||this;return r.code=t,r.message=n,r}return B9(t,e),t}(Error),G9=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e.Loop="loop",e.WatchData="watchdata",e.TrafficThrottled="trafficthrottled",e.TrafficRestored="trafficrestored",e.VerifyingLiveStatus="verifyinglivestatus"}(F9||(F9={}));var q9=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.detail=null==n?void 0:n.detail,r}return G9(t,e),t.Types=F9,t}(Q$),H9=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W9=function(e){function t(t,n,r){var i=e.call(this,r)||this;return i.env=t,i.p2pPath=n,i}return H9(t,e),t.prototype.prepare=function(){var e=this;return j9.getInstance().prepare(this.env,this.p2pPath).pipe(gF((function(t){return e.src!==t&&!0===e.selected})),UB((function(t){Object.defineProperty(e,"src",{value:t,enumerable:!1,configurable:!0,writable:!1})})))},t}(oZ),K9={LIVE_CLOUD_DOLBY_VISON_PROFILE_8:{label:"LIVE_CLOUD_DOLBY_VISON_PROFILE_8",type:"file",video:{contentType:'video/mp4;codecs="dvh1.08"',dynamicRange:"high",transferFunction:"hlg"}},LIVE_CLOUD_DOLBY_HDR_COMPATIBLE_HEVC:{label:"LIVE_CLOUD_DOLBY_HDR_COMPATIBLE_HEVC",type:"file",video:{contentType:'video/mp4;codecs="hvc1.2"',dynamicRange:"high",transferFunction:"hlg"}}},Y9=[".ts",".m4v",".m4a",".m4i",".m4s",".mp4"],X9=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$9=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Q9=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},J9=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._keyInfo=null,t._token=null,t}return X9(t,e),t.prototype.update=function(e){return $9(this,void 0,void 0,(function(){var t,n,r,i;return Q9(this,(function(o){t=null,n=null,r=null;try{if(i=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(ArrayBuffer.isView(e)?e.buffer:e))),t=i.kid,n=i.key,r=i.target,!t||!n||!r||t!==this._kid)throw new TypeError("Invalid response format.");this._keyInfo=i}catch(e){return[2]}return this.updateKeyState(t,"usable"),[2]}))}))},t.prototype._isTokenAvailable=function(e){return[".m3u8",".multiview",".mpd"].some((function(t){return e.indexOf(t)>-1}))},t.prototype.decryptUri=function(e){if(!this._keyInfo)return"";if(this._isTokenAvailable(e)){var t=new RegExp(this._keyInfo.key+"=([^&?#]{1,})","g").exec(e);return t&&(this._token=t[1]),e}return this._token&&function(e){return!!e&&Y9.some((function(t){return e.indexOf(t)>-1}))}(e)?B1(e,this._keyInfo.target+"="+this._token):e},t.prototype.hasUsableLicenseKey=function(){return null!==this._keyInfo},t}(M1),Z9=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eee=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},tee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Z9(t,e),t.prototype.createKeySessionController=function(e){return new J9(e)},eee([vQ("SMPKeysController")],t)}(U1),nee=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ree=function(e){function t(){return e.call(this,{keySystemIdentifiers:["com.naver.lip.smp","com.naver.lip.smp.1_0"],keysController:tee})||this}return nee(t,e),t.prototype.requestMediaKeySystemAccess=function(t,n){if(fQ())throw new Error("Not Supported");return e.prototype.requestMediaKeySystemAccess.call(this,t,n)},t}(P1),iee=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oee=function(){return oee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oee.apply(this,arguments)},aee=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},see=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},uee=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n)||this;return a._sid=r,a._stp=i,a._pop=o,a}return iee(t,e),t.prototype.prepare=function(){return aee(this,void 0,void 0,(function(){var t=this;return see(this,(function(n){switch(n.label){case 0:return[4,e.prototype.prepare.call(this)];case 1:return n.sent(),this.subscriptions.push(this._makeStartCondition().pipe(DB(hF(sF(window,"unload").pipe(RB(this._ended$)),this._abort$))).subscribe((function(){t.timeToAggregate.next(t._adOrMain)}))),[2,this.timeToAggregate]}}))}))},t.prototype.initialize=function(){return aee(this,void 0,void 0,(function(){var e,t,n,r;return see(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,T0(this._sid,!0,this._stp,this._pop).toPromise()];case 1:return e=i.sent().qoe,t=e.host,n=e.path,r=e.timeTable,this._qualityPolicy={url:$Z(location.protocol+"//"+t+n,this._pop),timeTable:r,event:"quality",type:"qoeLive"},this._errorPolicy=oee(oee({},this._qualityPolicy),{event:"error"}),[3,3];case 2:return i.sent(),this._prepared=!1,[3,3];case 3:return this._prepared=!!this._qualityPolicy&&!!this._errorPolicy,[2]}}))}))},t}(A0),lee=uee,cee=function(){return cee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cee.apply(this,arguments)},dee=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},fee=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},hee={H264:"avc1",HEVC:"hvc1",dolbyVision:"dvh1"};function pee(e){return dee(this,void 0,void 0,(function(){var t,n,r;return fee(this,(function(i){switch(i.label){case 0:return t=e.videoCodec,n=e.dolbyVisionProfile,"H264"===t?[2,!0]:(r=n?hee.dolbyVision:t?hee[t]:"avc1",[4,DZ.instance.decodingInfo({type:"file",video:cee({contentType:'video/mp4;codecs="'+r+'"'},n&&{colorDepth:24,dynamicRange:"high",transferFunction:"hlg"})})]);case 1:return[2,i.sent().supported]}}))}))}function vee(e,t){var n=Object.entries(e);return!!n.length&&n.every((function(e){var n=e[0],r=e[1];return void 0!==t[n]&&r===t[n]}))}function mee(e,t){return void 0===t&&(t="application/x-mpegURL"),"data:"+t+","+encodeURIComponent(e)+"\n"}var gee=["dvh1","hvc1","avc1"];function yee(e,t){var n,r;if(!Gte(e)||!Gte(t))return 0;var i=null===(n=e.value.attrs)||void 0===n?void 0:n.find((function(e){return"CODECS"===e.name})),o=null===(r=t.value.attrs)||void 0===r?void 0:r.find((function(e){return"CODECS"===e.name}));return i&&o?gee.findIndex((function(e){return i.value.includes(e)}))-gee.findIndex((function(e){return o.value.includes(e)})):0}var bee=function(){return bee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},bee.apply(this,arguments)},_ee=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Eee=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function wee(e){var t,n,r,i,o,a,s;return _ee(this,void 0,void 0,(function(){var u,l;return Eee(this,(function(c){switch(c.label){case 0:return(u=null===(r=null===(n=null===(t=e.value)||void 0===t?void 0:t.attrs)||void 0===n?void 0:n.find((function(e){return"CODECS"===e.name})))||void 0===r?void 0:r.value)?(l=null===(s=null===(a=null===(o=null===(i=e.value)||void 0===i?void 0:i.attrs)||void 0===o?void 0:o.find((function(e){return"VIDEO-RANGE"===e.name})))||void 0===a?void 0:a.value)||void 0===s?void 0:s.toLowerCase(),[4,DZ.instance.decodingInfo({type:"media-source",video:bee({contentType:'video/mp4;codec="'+u+'"'},l&&{transferFunction:l,dynamicRange:"high",colorDepth:24})})]):[2,!0];case 1:return[2,c.sent().supported]}}))}))}var See=/"([^"]+)"/,Tee=/^#([^$]+)$/m,kee=/^#EXTM3U$/,xee=/^#EXT-X-ENDLIST$/,Aee=/^#EXT-X-INDEPENDENT-SEGMENTS$/,Pee=/^#EXT-X-VERSION:(\d+)$/m,Oee=/^#EXT-X-VERSION:(VOD|EVENT)$/m,Cee=/(\d+)x(\d+)/,Iee=/^(\s*)$/m,Lee=new RegExp("([\\w-]+)=("+See.source+"|"+Cee.source+"|([^,$]+))","mg"),Nee=new RegExp(Lee.source+"(?:,\\s*"+Lee.source+")*","mg"),Dee=new RegExp("^#EXT-X-STREAM-INF:\\s*("+Nee.source+")$\\n^([^$]+)$","m"),Ree=new RegExp("^#EXT-X-MEDIA:\\s*("+Nee.source+")$","m"),Mee=/^#EXT-X-TARGETDURATION:(\d+)$/m,jee=/^#EXTINF:(\d+(?:\.\d+)?),\s*\n^([^$]+)$/m,Fee=/^\w+:/,Vee=new RegExp("^#EXT-X-MAP:\\s*("+Nee.source+")$","m"),Uee=/^#EXT-X-BYTERANGE:(\d+)(?:@(\d+))?\s*\n^(.+)$/m;function Bee(e){var t=e.match(Tee);return t?{statement:{type:"COMMENT",name:null,value:t[1],toString:function(){return"#"+this.value}}}:null}function zee(){return null}function Gee(e){return e}var qee=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Hee=function(){function e(){this.type="TAG",this.name="EXT-X-BYTERANGE"}var t;return t=e,e.prototype.toString=function(){return"#EXT-X-BYTERANGE:"+this.value.byteLength+"@"+this.value.byteOffset+"\n"+this.value.uri},e.parse=function(e,n,r){var i=[e,r[n+1]||""].join("\n").match(Uee);if(!i)return null;var o=new t;return o.value={byteLength:parseInt(i[1],10),byteOffset:"string"==typeof i[2]?parseInt(i[2],10):0,uri:i[3]},{next:zee,statement:o}},t=qee([Gee],e)}();function Wee(e,t,n){return Hee.parse(e,t,n)}var Kee=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Yee=function(){function e(){this.type="TAG",this.name="EXT-X-ENDLIST"}var t;return t=e,e.prototype.toString=function(){return"#EXT-X-ENDLIST"},e.parse=function(e){return e.match(xee)?{statement:new t}:null},t=Kee([Gee],e)}();function Xee(e){return Yee.parse(e)}var $ee=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Qee=function(){function e(){this.type="TAG",this.name="EXT-X-INDEPENDENT-SEGMENTS"}var t;return t=e,e.prototype.toString=function(){return"#EXT-X-INDEPENDENT-SEGMENTS"},e.parse=function(e){return e.match(Aee)?{statement:new t}:null},t=$ee([Gee],e)}();function Jee(e){return Qee.parse(e)}var Zee=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ete=function(){function e(){this.type="TAG",this.name="EXTINF"}var t;return t=e,e.prototype.toString=function(){var e,t=(e=this.value.duration,isFinite(e)&&Math.floor(e)===e?this.value.duration.toPrecision(6):this.value.duration);return this.value.uri?"#EXTINF:"+t+",\n"+this.value.uri:"#EXTINF:"+t+","},e.parse=function(e,n,r){var i=[e,r[n+1]||""].join("\n").match(jee);if(!i)return null;var o=new t;return o.value={duration:parseFloat(i[1]),uri:i[2].startsWith("#EXT-X-BYTE-RANGE")?void 0:i[2]},{next:zee,statement:o}},t=Zee([Gee],e)}();function tte(e,t,n){return ete.parse(e,t,n)}var nte=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},rte=function(){function e(){this.type="TAG",this.name="EXTM3U"}var t;return t=e,e.prototype.toString=function(){return"#EXTM3U"},e.parse=function(e){return e.match(kee)?{statement:new t}:null},t=nte([Gee],e)}();function ite(e){return rte.parse(e)}var ote=function(){function e(e,t){this.name=e,this.value=t}return e.prototype.toString=function(){return this.name+"="+this.value},e}(),ate=ote;function ste(e){var t,n=[];for(Lee.lastIndex=0;null!==(t=Lee.exec(e));)n.push(new ate(t[1],t[2]));return n}var ute=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},lte=function(){function e(){this.type="TAG",this.name="EXT-X-MAP"}var t;return t=e,e.prototype.toString=function(){return"#EXT-X-MAP:"+this.value.attrs.map((function(e){return e.toString()}))},e.parse=function(e){var n=e.match(Vee);if(!n)return null;var r=ste(n[1]),i=new t;return i.value={attrs:r},{statement:i}},t=ute([Gee],e)}();function cte(e){return lte.parse(e)}var dte=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},fte=function(){function e(){this.type="TAG",this.name="EXT-X-MEDIA"}var t;return t=e,e.prototype.toString=function(){return"#EXT-X-MEDIA:"+this.value.attrs.map((function(e){return e.toString()}))},e.parse=function(e){var n=e.match(Ree);if(!n)return null;var r=ste(n[1]),i=new t;return i.value={attrs:r},{statement:i}},t=dte([Gee],e)}();function hte(e){return fte.parse(e)}var pte=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},vte=function(){function e(){this.type="TAG",this.name="EXT-X-PLAYLIST-TYPE"}var t;return t=e,e.prototype.toString=function(){return"#EXT-X-PLAYLIST-TYPE:"+this.value},e.parse=function(e){var n=e.match(Oee);if(!n)return null;var r=new t;return r.value=n[1],{statement:r}},t=pte([Gee],e)}();function mte(e){return vte.parse(e)}var gte=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},yte=function(){function e(){this.type="TAG",this.name="EXT-X-STREAM-INF"}var t;return t=e,e.prototype.toString=function(){return"#EXT-X-STREAM-INF:"+this.value.attrs.map((function(e){return e.toString()}))+"\n"+this.value.uri},e.parse=function(e,n,r){var i=[e,r[n+1]||""].join("\n").match(Dee);if(!i)return null;var o=ste(i[1]),a=i[i.length-1],s=new t;return s.value={attrs:o,uri:a},{next:zee,statement:s}},t=gte([Gee],e)}();function bte(e,t,n){return yte.parse(e,t,n)}var _te=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ete=function(){function e(){this.type="TAG",this.name="EXT-X-TARGETDURATION"}var t;return t=e,e.prototype.toString=function(){return"#EXT-X-TARGETDURATION:"+this.value},e.parse=function(e){var n=e.match(Mee);if(!n)return null;var r=new t;return r.value=parseInt(n[1],10),{statement:r}},t=_te([Gee],e)}();function wte(e){return Ete.parse(e)}var Ste=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Tte=function(){function e(){this.type="TAG",this.name="EXT-X-VERSION"}var t;return t=e,e.prototype.toString=function(){return"#EXT-X-VERSION:"+this.value},e.parse=function(e){var n=e.match(Pee);if(!n)return null;var r=new t;return r.value=parseInt(n[1],10),{statement:r}},t=Ste([Gee],e)}();function kte(e){return Tte.parse(e)}function xte(e){var t=e.match(Iee);return t?{statement:{type:"WHITESPACE",name:null,value:t[1],toString:function(){return this.value}}}:null}function Ate(e,t,n){for(var r=0,i=[ite,kte,mte,hte,bte,cte,tte,Wee,Xee,Jee,wte,Bee,xte];r<i.length;r++){var o=(0,i[r])(e,t,n);if(o)return o}return null}var Pte,Ote,Cte=function(){function e(e){this._options=e||{}}return e.prototype.parse=function(e){for(var t=e.split(/\n/),n=[],r=null,i=0;i<t.length;++i)(r=((null==r?void 0:r.next)||Ate)(t[i],i,t))&&n.push(r.statement);return n},e}(),Ite=Cte;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LEVEL=1]="LEVEL",e[e.MASTER=2]="MASTER"}(Pte||(Pte={})),function(e){e.LIVE="LIVE",e.EVENT="EVENT",e.VOD="VOD"}(Ote||(Ote={}));var Lte=function(){function e(e){void 0===e&&(e=[]),this._baseUrl="",this.source=e}return Object.defineProperty(e.prototype,"baseUrl",{get:function(){return this._baseUrl},set:function(e){this._baseUrl!==e&&(this._baseUrl=e,this._updateUriValues(),this._updateUriAttributes())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._getPlaylistType()},set:function(e){this._setPlaylistType(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kind",{get:function(){return this._getPlaylistKind()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetDuration",{get:function(){return this._getTargetDuration()},set:function(e){this._setTargetDuration(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._getVersion()},set:function(e){this._setVersion(e)},enumerable:!1,configurable:!0}),e.prototype.findOne=function(e){return this.source.find((function(t){var n;return(null===(n=t)||void 0===n?void 0:n.name)===e}))||null},e.prototype.findAll=function(e){return this.source.filter((function(t){var n;return(null===(n=t)||void 0===n?void 0:n.name)===e}))},e.prototype.insertBefore=function(e,t){var n=this.source.indexOf(t);if(-1===n)throw new Error("ref not found");this.source.splice(n,0,e)},e.prototype.push=function(e){this.source.push(e)},e.prototype.remove=function(e){var t=this.source.indexOf(e);-1!==t&&this.source.splice(t,1)},e.prototype.buildToString=function(){return this.findOne("EXTM3U")||this.source.unshift(new rte),this.type!==Ote.VOD||this.findOne("EXT-X-ENDLIST")||this.source.push(new Yee),this.source.map((function(e){return e.toString()})).join("\n")},e.prototype._updateUriValues=function(){for(var e=this.source.filter((function(e){var t,n;return"string"==typeof(null===(n=null===(t=e)||void 0===t?void 0:t.value)||void 0===n?void 0:n.uri)})),t=0,n=e;t<n.length;t++){var r=n[t];r.value.uri.match(Fee)||(r.value.uri=""+this._baseUrl+r.value.uri)}},e.prototype._updateUriAttributes=function(){for(var e=this.source.filter((function(e){var t;return null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.attrs})),t="",n=0,r=e;n<r.length;n++)for(var i=0,o=r[n].value.attrs;i<o.length;i++){var a=o[i];if("URI"===a.name){var s=a.value.match(See);s&&((t=s[1]).match(Fee)||(a.value='"'+this._baseUrl+t+'"'))}}},e.prototype._getPlaylistType=function(){var e=this.findOne("EXT-X-PLAYLIST-TYPE");return e?"EVENT"===e.value?Ote.EVENT:Ote.VOD:Ote.LIVE},e.prototype._setPlaylistType=function(e){if(this.type!==e){var t=this.findOne("EXT-X-PLAYLIST-TYPE");if(t)e===Ote.LIVE?this.remove(t):t.value=Ote[e];else if(e!==Ote.LIVE){var n=new vte;n.value=Ote[e];var r=this.findOne("EXTM3U"),i=this.findOne("EXT-X-VERSION");r?i?this.insertBefore(n,i):this.insertBefore(n,r):this.source.unshift(n)}}},e.prototype._getPlaylistKind=function(){return this.findOne("EXTINF")||this.findOne("EXT-X-TARGETDURATION")?1:this.findOne("EXT-X-MEDIA")||this.findOne("EXT-X-STREAM-INF")?2:0},e.prototype._getTargetDuration=function(){var e;return(null===(e=this.findOne("EXT-X-TARGETDURATION"))||void 0===e?void 0:e.value)||NaN},e.prototype._setTargetDuration=function(e){if(this.targetDuration!==e){if(2===this.kind)throw new Error("Master playlist cannot get targetduration");var t=this.findOne("EXT-X-TARGETDURATION");if(t)t.value=e;else{var n=new Ete;n.value=e;var r=this.findOne("EXTM3U"),i=this.findOne("EXT-X-VERSION");r?i?this.insertBefore(n,i):this.insertBefore(n,r):this.source.unshift(n)}}},e.prototype._setVersion=function(e){if(this.version!==e){if(isNaN(e))throw new TypeError("Invalid Parameter");var t=this.findOne("EXT-X-VERSION");if(t)t.value=e;else{var n=new Tte;n.value=e;var r=this.findOne("EXTM3U");r?this.insertBefore(n,r):this.source.unshift(n)}}},e.prototype._getVersion=function(){var e;return(null===(e=this.findOne("EXT-X-VERSION"))||void 0===e?void 0:e.value)||NaN},e}(),Nte=Lte,Dte={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{av01:!0,avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,dvh1:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function Rte(e,t){var n=Dte[t];return!!n&&!0===n[e.slice(0,4)]}function Mte(e){return function(t){return"TAG"===t.type&&t.name===e}}var jte=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fte=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Vte=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ute=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Bte=Mte("EXTINF"),zte=Mte("EXT-X-BYTERANGE"),Gte=Mte("EXT-X-STREAM-INF"),qte=Mte("EXT-X-ENDLIST");function Hte(e,t){var n,r;return(null===(r=null===(n=null==e?void 0:e.value)||void 0===n?void 0:n.attrs)||void 0===r?void 0:r.find((function(e){return e.name===t})))||null}function Wte(e){var t,n=e.find(Gte);if(n){var r=Hte(n,"CODECS");if(r){for(var i=null===(t=r.value)||void 0===t?void 0:t.replace(/"+/g,"").split(/[ ,]+/),o={},a=0,s=["video","audio"];a<s.length;a++)for(var u=s[a],l=0,c=i;l<c.length;l++){var d=c[l];Rte(d,u)&&(o[u]=d)}return o}}}function Kte(e){Hte(e,"CLOSED-CAPTIONS")||e.value.attrs.push(new ate("CLOSED-CAPTIONS","NONE"))}function Yte(e){var t=Hte(e,"BANDWIDTH");if(t){var n=parseInt(t.value,10);isNaN(n)||(t.value=Math.floor(1.5*n).toString())}}function Xte(e){var t=e.value.match(Cee);if(!t)return-1;var n=parseInt(t[1],10),r=parseInt(t[2],10);return n&&r&&n>=r?r:n}function $te(e,t){var n=[],r=[];return Array.prototype.forEach.call(e,(function(e){t(e)?n.push(e):r.push(e)})),[n,r]}function Qte(e){return!e.audioOnly}!function(e){function t(){var t=e.call(this)||this;return t.codecs={video:void 0,audio:void 0,audioChannel:"2"},t._src="",t._caches=null,t._video=null,t._error=null,t._maxBitrate=null,t.mediaKeysController=null,t._m3u8Loader=new r9(null),t}jte(t,e),t.prototype.destroy=function(){this._src="",this._caches=null,this._video=null,this._error=null},t.prototype.load=function(){if(!this._video)throw new Error("VideoElement is not assigned");var e=rQ(this._src),t=e?e.uri:this._src;this._loadInternal(t,e).catch(console.error)},t.prototype._loadInternal=function(e,t){var n;return Fte(this,void 0,void 0,(function(){return Vte(this,(function(r){switch(r.label){case 0:return[4,null===(n=this._caches)||void 0===n?void 0:n.match(e)];case 1:return r.sent()||t||this.mediaKeysController?[3,2]:(this._load(e),[3,4]);case 2:return[4,this._parseAndLoad(e,t).catch(console.error)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},Object.defineProperty(t.prototype,"src",{get:function(){return this._src},set:function(e){this._error=null,this._src=e;var t=rQ(this._src);this._maxBitrate=(null==t?void 0:t.maxBitrate)||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoElement",{get:function(){return this._video},set:function(e){this._video=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caches",{get:function(){return this._caches},set:function(e){this._caches=e,this._m3u8Loader.caches=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxBitrate",{get:function(){return this._maxBitrate},set:function(e){var t=this;if(this._maxBitrate!==e&&(this._maxBitrate=e,this.load(),this.videoElement&&!this.videoElement.paused)){var n=sF(this.videoElement,"loadedmetadata"),r=hF(sF(this.videoElement,"abort"),sF(this.videoElement,"ended"),sF(this.videoElement,"error"));n.pipe(RB(r),dU(1)).subscribe((function(){var e;null===(e=t.videoElement)||void 0===e||e.play()}))}},enumerable:!1,configurable:!0}),t.prototype._load=function(e){this._video&&(this._video.src===e||(this._video.src=e,this._video.currentTime=0),this._video.load())},t.prototype._parseAndLoad=function(e,t){return Fte(this,void 0,void 0,(function(){var n,r;return Vte(this,(function(i){switch(i.label){case 0:return[4,this._parse(e,t)];case 1:return n=i.sent(),this._video?(r=this._video.paused,this._load(n),r?[3,3]:[4,this._video.play().catch(console.error)]):[2];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype._decryptUrl=function(e){return Fte(this,void 0,void 0,(function(){return Vte(this,(function(t){return[2,this.mediaKeysController?this.mediaKeysController.decryptRequestUri(e):e]}))}))},t.prototype._parse=function(e,t){return Fte(this,void 0,void 0,(function(){var n,r,i,o;return Vte(this,(function(a){switch(a.label){case 0:return n=new Ite,[4,this._decryptUrl(e)];case 1:return r=a.sent(),[4,this._m3u8Loader.load(r)];case 2:return i=a.sent(),(o=n.parse(i).filter(wee)).some(Bte)?function(e){return e.some(qte)}(o)?[2,this._parseMediaPlaylist(r,o,t)]:[2,e]:[2,this._parseMasterPlaylist(r,o,t)]}}))}))},t.prototype._parseMediaPlaylist=function(e,t,n){var r;return Fte(this,void 0,void 0,(function(){var n,i,o,a,s=this;return Vte(this,(function(u){switch(u.label){case 0:return(n=new Nte(t)).baseUrl=i9(e),[4,null===(r=this.caches)||void 0===r?void 0:r.match(e)];case 1:return u.sent()?(i=t.filter(Bte),o=t.filter(zte),a=Ute(Ute([],i),o).map((function(e){return Fte(s,void 0,void 0,(function(){var t;return Vte(this,(function(n){switch(n.label){case 0:return e.value.uri?(t=e.value,[4,this._decryptUrl(e.value.uri)]):[3,2];case 1:t.uri=n.sent(),n.label=2;case 2:return[2]}}))}))})),[4,Promise.all(a)]):[3,3];case 2:u.sent(),u.label=3;case 3:return[2,mee(n.buildToString())]}}))}))},t.prototype._parseMasterPlaylist=function(e,t,n){var r,i;return Fte(this,void 0,void 0,(function(){var o,a,s,u,l,c,d,f,h,p,v,m,g,y,b,_,E,w,S,T,k,x=this;return Vte(this,(function(A){switch(A.label){case 0:return o=t,n&&(o=o.filter((O=n.levelCap,"number"!=typeof O?function(){return!0}:function(e){var t=Hte(e,"RESOLUTION");if(!t)return!0;var n=Xte(t);return-1===n||n<=O})).filter((function(e){var t=n.streamType;return!t||"EXT-X-STREAM-INF"!==e.name||t.conditions.every((function(t){var n,r;return null===(r=null===(n=e.value)||void 0===n?void 0:n.attrs)||void 0===r?void 0:r.find(vee.bind(null,t))}))}))),this._maxBitrate&&isFinite(this._maxBitrate)&&(o=o.filter("number"!=typeof(P=this._maxBitrate)?function(){return!0}:function(e){var t=Hte(e,"BANDWIDTH");if(!t)return!0;var n=parseInt(t.value,10);return!!isNaN(n)||n<=P})),a=o.filter(Gte).sort(yee),s=(k=[]).concat.apply(k,o.map((function(e){var t,n;return null===(n=null===(t=e.value)||void 0===t?void 0:t.attrs)||void 0===n?void 0:n.filter((function(e){return"URI"===e.name}))})).filter(Boolean)),(u=Wte(a))&&(this.codecs.video=u.video,this.codecs.audio=u.audio),"iOS"===gZ()&&parseInt(""+yZ(),10)>=11?a.forEach(Kte):"Mac OS"===gZ()&&"Safari"===bZ()&&(l=((null===(r=_Z())||void 0===r?void 0:r.split("."))||[]).map((function(e){return parseInt(e,10)})),c=l[0],d=void 0===c?0:c,f=l[1],h=void 0===f?0:f,p=l[2],v=void 0===p?0:p,(d>14||14===d&&h>1||14===d&&1===h&&v>=2)&&a.forEach(Kte)),a.forEach(Yte),(m=new Nte(o)).baseUrl=i9(e),n&&function(e,t){if("number"==typeof t){var n=e.filter(Gte),r=n.map((function(e){return Hte(e,"RESOLUTION")})).map((function(e){return e?Xte(e):-1})).findIndex((function(e){return e===t}));if(-1!==r&&0!==r){var i=e.indexOf(n[r]),o=e.splice(i,1)[0],a=e.indexOf(n[0]);e.splice(a,0,o)}}}(o,n.levelStart),g=!1,a.length>0?(_=(b=this._m3u8Loader).fetch,[4,this._decryptUrl(a[0].value.uri)]):[3,3];case 1:return[4,_.apply(b,[A.sent()])];case 2:y=A.sent(),E=(new Ite).parse(y),w=E.filter(Mte("EXT-X-PLAYLIST-TYPE")),(E.filter(Mte("EXT-X-ENDLIST")).length>0||"VOD"===(null===(i=w[0])||void 0===i?void 0:i.value))&&(g=!0),A.label=3;case 3:return[4,Promise.all(a.map((function(e){return Fte(x,void 0,void 0,(function(){var t,n,r,i,o,a,s;return Vte(this,(function(u){switch(u.label){case 0:return g?(n=(t=this._m3u8Loader).load,[4,this._decryptUrl(e.value.uri)]):[3,3];case 1:return[4,n.apply(t,[u.sent()])];case 2:return u.sent(),[2,!0];case 3:return null!==(s=this._caches)&&void 0!==s?[3,4]:(i=void 0,[3,6]);case 4:return a=(o=s).match,[4,this._decryptUrl(e.value.uri)];case 5:i=a.apply(o,[u.sent()]),u.label=6;case 6:return[4,i];case 7:return r=u.sent(),[2,Boolean(r)]}}))}))})))];case 4:return A.sent().every(Boolean)?(S=Promise.all(a.map((function(e,t){return x._parse(e.value.uri,n).then((function(e){a[t].value.uri=e}))}))),T=Promise.all(s.map((function(e,t){return x._parse(JSON.parse(e.value),n).then((function(e){s[t].value='"'+e.trim()+'"'}))}))),[4,Promise.all([T,S])]):[3,6];case 5:A.sent(),A.label=6;case 6:return[2,mee(m.buildToString())]}var P,O}))}))},t.prototype._dumpState=function(){return{type:"HLSNative",error:this.error}}}(CJ);var Jte=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zte=function(){return Zte=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zte.apply(this,arguments)};function ene(e){return{label:Math.min(e.videoWidth,e.videoHeight).toString()+"p",selected:!1,id:e.encodingTrackId,width:e.videoWidth,height:e.videoHeight,videoBitrate:e.videoBitRate/1e3,audioBitrate:e.audioBitRate/1e3,videoCodec:e.videoCodec,videoProfile:e.videoProfile,audioCodec:e.audioCodec,audioProfile:e.audioProfile}}var tne=function(e){function t(t){var n=e.call(this,t)||this,r=t.videoCodec,i=t.videoProfile,o=t.audioCodec,a=t.audioProfile,s=t.dolbyVisionProfile;return n.videoCodec=r,n.videoProfile=i,n.audioCodec=o,n.audioProfile=a,n.dolbyVisionProfile=s,n}return Jte(t,e),Object.defineProperty(t.prototype,"codecs",{get:function(){var e;return{video:this.dolbyVisionProfile?"dvh1":null===(e=this.videoCodec)||void 0===e?void 0:e.toLocaleLowerCase(),audio:this.audioCodec}},enumerable:!1,configurable:!0}),t.from=function(e,n){var r;return"object"==typeof(r=e)&&Object.prototype.hasOwnProperty.call(r,"encodingTrackId")?new t(Zte(Zte({},ene(e)),{src:n})):new t(Zte(Zte({},e),n&&{src:n}))},t}(oZ),nne=tne;function rne(e,t){return nne.from({label:"ABR",selected:!1,id:"ABR",width:t?t.videoWidth:-1,height:t?t.videoHeight:-1,encodingOptionID:"abr",videoCodec:null==t?void 0:t.videoCodec,videoProfile:null==t?void 0:t.videoProfile,audioCodec:null==t?void 0:t.audioCodec,audioProfile:null==t?void 0:t.audioProfile},e)}function ine(e){return function(t){return!0===t.audioOnly&&!e}}function one(e){return function(t){return t.audioBitRate+t.videoBitRate===e}}var ane,sne,une=[2160,1440,1080,720,480,360,270,180,144];function lne(e,t){return e.find((function(e){return function(e,t,n){void 0===t&&(t=1/0),void 0===n&&(n=une);var r=Math.min(e,t);if(Number.isNaN(r))return 0;if(r===1/0)return n[0];for(var i=1/0,o=0;o<n.length;o++){var a=Math.abs(r-n[o]);if(i<a)return n[o-1];i=a}return n[n.length-1]}(e.videoWidth,e.videoHeight)===t}))}!function(e){e[e.DEFAULT_ABR_START_LEVEL=480]="DEFAULT_ABR_START_LEVEL",e[e.DEFAULT_ABR_MAX_LEVEL=720]="DEFAULT_ABR_MAX_LEVEL",e[e.DEFAULT_PD_INITIAL_QUALITY=720]="DEFAULT_PD_INITIAL_QUALITY"}(ane||(ane={})),function(e){e.ANY="ANY",e.VIDEO="VIDEO",e.AUDIO="AUDIO"}(sne||(sne={}));var cne=["dvhe.","dvh1.","dvav."];function dne(e){var t=new Set,n=e.videoCodec,r=e.audioCodec,i=e.bandwidth,o=e.resolution,a=e.frameRate,s=e.videoRange;return t.size>0&&t.clear(),n&&r?t.add("muxed"):n?t.add("nosnd"):r&&t.add("audio"),t.add("bw_"+i),n&&(t.add(n.substring(0,4)),o?t.add("size_"+o):t.add("size_unk"),isNaN(a)?t.add("fps_unk"):t.add("fps_"+a),s&&(t.add("color_"+s.toLowerCase()),function(e,t){var n;void 0===t&&(t="ANY");for(var r=0,i=cne;r<i.length;r++){var o=i[r];if(e.startsWith(o)){n="VIDEO";break}}return!n&&e.startsWith("ec-3")&&(n="VIDEO"),void 0!==n&&("ANY"===t||n===t)}(n.toLowerCase(),"VIDEO")&&t.add("dolby"))),r&&t.add(r.substring(0,4)),t}function fne(e,t){var n={};return Array.isArray(e)?(e.forEach((function(e){var r=t(e);(n[r]||(n[r]=[])).push(e)})),n):n}var hne=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},pne=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},vne=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},mne=Mte("EXT-X-MEDIA"),gne=function(){function e(e,t,n,r,i,o){this._encodingTracks=e,this._path=t,this._livePollingStatus=n,this._config=r,this._cache=i,this._strictMode=o}return e.prototype.filterTracks=function(){return hne(this,void 0,void 0,(function(){var e,t,n,r,i;return pne(this,(function(o){switch(o.label){case 0:if(this._filteredEncodingTracks)return[2,this._filteredEncodingTracks];e=this._encodingTracks.filter(Qte).filter((a={maxResolution:this._config.maxResolution,maxBitrate:this._config.maxBitrate},s=a.maxBitrate||1/0,u=a.maxResolution||1/0,function(e){var t=e.videoBitRate<=s,n=g1(e.videoWidth,e.videoHeight)<=u;return t&&n})),t=[],n=0,r=e,o.label=1;case 1:return n<r.length?[4,pee(i=r[n])]:[3,4];case 2:o.sent()&&t.push(i),o.label=3;case 3:return n++,[3,1];case 4:return this._filteredEncodingTracks=t,[2,this._filteredEncodingTracks]}var a,s,u}))}))},e.prototype.manipulate=function(){var e;return hne(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return pne(this,(function(u){switch(u.label){case 0:return this._encodingTracks&&0!==(null===(e=this._encodingTracks)||void 0===e?void 0:e.length)?[4,this.filterTracks()]:[2,Promise.resolve([])];case 1:return t=u.sent(),n=[],this._config.useTrackPath&&t.some((function(e){return!!e.path}))?[3,3]:(i=(r=n.push).apply,o=[n],[4,this._manipulateMediaTracksFromStreams(this._path,this._cache)]);case 2:return i.apply(r,o.concat([u.sent()])),[3,4];case 3:n.push.apply(n,this._manipulateMediaTracksWithTrackPath(t)),u.label=4;case 4:return s=(a=n).unshift,[4,this._createABRTrack(n)];case 5:return s.apply(a,[u.sent()]),[2,this._sanitizeTracks(n)]}}))}))},e.prototype._getVideoCodecIdentifier=function(e){for(var t=new Set,n=0,r=e;n<r.length;n++){var i=r[n];i.videoCodec&&t.add(i.videoCodec.substring(0,4))}return t},e.prototype._removeInefficientStreamInf=function(e){return hne(this,void 0,void 0,(function(){var t,n,r,i=this;return pne(this,(function(o){switch(o.label){case 0:return[4,new r9(this._cache).load(this._path)];case 1:return t=o.sent(),n=(new Ite).parse(t),(r=n.filter((function(t){if("EXT-X-STREAM-INF"!==t.name)return!0;var n=t.value.attrs.find((function(e){return"CODECS"===e.name}));if(!n)return!1;var r=n.value.replace(/["']+/g,"");return i.getCodecEfficiency(r)>=e}))).length?[2,new Nte(r).buildToString()]:[2,""]}}))}))},e.prototype._createABRTrack=function(e){return hne(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,l=this;return pne(this,(function(c){switch(c.label){case 0:return m=this._config.startLevel,t=isFinite(m)?m:480,v=this._config.maxLevel,n=isFinite(v)?v:720,p=this._livePollingStatus,r=p&&"PLAYABLE"!==p.playableStatus&&p.trafficThrottling>0?p.trafficThrottling:NaN,d=this._path,h=(f={levelStart:t,levelCap:n,maxBitrate:r})?function(e){var t=[];return e.levelStart&&t.push("level_start="+e.levelStart),e.levelCap&&t.push("level_cap="+e.levelCap),e.maxBitrate&&t.push("max-bitrate="+e.maxBitrate),t.join("&")}(f):"",i=d+(h.length>0?"#"+h:""),(o=this._getVideoCodecIdentifier(e)).size>0?(a=Array.from(o).reduce((function(e,t){var n=l.getCodecEfficiency(t);return n>e?n:e}),0),[4,this._removeInefficientStreamInf(a)]):[3,2];case 1:(s=c.sent())&&this._cache.put(this._path,s),c.label=2;case 2:return u=lne(this._encodingTracks,t),[2,rne(i,u)]}var d,f,h,p,v,m}))}))},e.prototype.getCodecEfficiency=function(e){var t=e.substring(0,4),n=this._config.codecEfficiencyMap;if(n&&void 0!==typeof n[t])return n[t];switch(t){case"avc1":return 5;case"dvhe":case"dvh1":case"hvc1":case"hev1":return 10;default:return 0}},e.prototype._manipulateMediaTracksFromStreams=function(e,t){return hne(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c,d,f,h,p,v,m=this;return pne(this,(function(g){switch(g.label){case 0:return[4,new r9(t).load(e)];case 1:return n=g.sent(),r=(new Ite).parse(n),i=$te(r,Gte),o=i[0],a=i[1],s=i9(e),u=o.map((function(e){return function(e,t,n){for(var r=t.value.uri,i=new Set,o=[t],a={type:"file",video:void 0,audio:void 0},s=NaN,u="",l=NaN,c="",d="SDR",f=null,h=null,p=null,v=null,m=null,g=null,y=0,b=t.value.attrs;y<b.length;y++){var _=b[y];switch(_.name){case"BANDWIDTH":s=parseInt(_.value,10);break;case"CODECS":u=_.value;break;case"RESOLUTION":c=_.value;break;case"FRAME-RATE":l=parseFloat(_.value);break;case"VIDEO-RANGE":d=_.value;break;case"VIDEO":p=_.value;break;case"AUDIO":v=_.value;break;case"SUBTITLES":m=_.value;break;case"CLOSED-CAPTIONS":g=_.value}}if(u){var E=Wte([t]);if(E){if(E.video)switch(a.video={contentType:'video/mp4; codecs="'+E.video+'"'},f=E.video.toLowerCase(),d){case"HLG":a.video.transferFunction="hlg",a.video.colorDepth=24,a.video.dynamicRange="high";break;case"PQ":a.video.transferFunction="pq",a.video.colorDepth=24,a.video.dynamicRange="high"}E.audio&&(h=E.audio.toLowerCase())}}return{baseUrl:e,streamInfs:o,nonStreamStatements:n,decodingPreset:a,bandwidth:s,resolution:c,videoCodec:f,audioCodec:h,videoRange:d,frameRate:l,originalUri:r,characteristics:i,videoGroup:p,audioGroup:v,subtitlesGroup:m,closedCaptionsGroup:g}}(s,e,a)})),l=[],[4,Promise.all(u.map((function(e){return hne(m,void 0,void 0,(function(){var t,n;return pne(this,(function(r){switch(r.label){case 0:if(!e.decodingPreset.video&&!e.decodingPreset.audio)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,DZ.instance.decodingInfo(e.decodingPreset)];case 2:return n=r.sent(),t=n.supported,[3,4];case 3:return r.sent(),t=!1,[3,4];case 4:return[3,6];case 5:t=!this._strictMode,r.label=6;case 6:return t&&l.push(e),[2]}}))}))})))];case 2:for(g.sent(),l.forEach((function(e){dne(e).forEach((function(t){e.characteristics.add(t)}))})),c=vne([],l),d=[],f=function(e){var t=c.indexOf(e);-1!==t&&c.splice(t,1)},h=function(){var e=c.shift();if(!e)return"break";var t=c.filter((function(t){return t.originalUri===e.originalUri&&t.videoGroup===e.videoGroup&&t.audioGroup===e.audioGroup&&t.subtitlesGroup===e.subtitlesGroup&&t.closedCaptionsGroup===e.closedCaptionsGroup}));if(t.length>0){var n=vne([e],t),r=n.find((function(e){return e.characteristics.has("dolby")}));if(r)e.videoCodec=r.videoCodec;else{var i=n.map((function(e){return e.videoCodec||""})).map((function(e){return[e,m.getCodecEfficiency(e)]})),o=i.reduce((function(e,t){return e[1]<t[1]?t:e}),i[0]);e.videoCodec=o[0]}t.forEach((function(t){t.characteristics.forEach((function(t){e.characteristics.add(t)})),f(t)})),e.streamInfs=t.reduce((function(e,t){return e.concat(t.streamInfs)}),e.streamInfs),d.push(e)}else d.push(e)};c.length&&"break"!==h(););return p=fne(d,(function(e){return e.resolution+"_"+(e.videoCodec||"novid")})),v=[],[4,Promise.all(Object.entries(p).map((function(e){var n=e[0],r=e[1];return hne(m,void 0,void 0,(function(){var e,i,o,u,l,c,d,f,h,p,m,g,y,b,_,E,w,S;return pne(this,(function(T){switch(T.label){case 0:return-1!==n.indexOf("_novid")?[2]:(e=new Set,i=new Set,o=new Set,u=new Set,r.forEach((function(t){t.audioGroup&&e.add(t.audioGroup),t.subtitlesGroup&&i.add(t.subtitlesGroup),t.closedCaptionsGroup&&o.add(t.closedCaptionsGroup),t.characteristics.forEach((function(e){u.add(e)}))})),l=a.filter((function(t){if(!mne(t))return!0;for(var n,r,a=0,s=t.value.attrs.length;a<s&&(!n||!r);++a){var u=t.value.attrs[a];switch(u.name){case"GROUP-ID":n=u.value;break;case"TYPE":r=u.value}}if(r&&n)switch(r){case"AUDIO":if(e.has(n))return!0;break;case"SUBTITLES":if(i.has(n))return!0;break;case"CLOSED-CAPTIONS":if(o.has(n))return!0}return!1})),r.forEach((function(e){l=l.concat(e.streamInfs)})),(c=new Nte(l)).baseUrl=s,d=s+"tracks/"+n+"/stream.m3u8",[4,t.put(d,c.buildToString())]);case 1:for(T.sent(),f={id:Array.from(u).join("."),src:d,width:0,height:0},h=r[0].resolution,p=r[0].videoCodec,m=r[0].audioCodec,g=r.reduce((function(e,t){return Math.max(e,t.bandwidth)}),0),p&&(f.videoCodec=p),m&&(f.audioCodec=m),y=NaN,function(e,t){var n=(""+e).match(Cee);if(!n)return!1;var r=n[1],i=n[2];return t.width=parseInt(r,10),t.height=parseInt(i,10),!0}(h,f)&&(y=Math.min(f.width,f.height))>=150&&(y-=y%10),isNaN(y)?f.label="unk":f.label=y+"p",b=this._encodingTracks,_=this._encodingTracks,S=[(k=f.width,x=f.height,function(e){return e.videoWidth===k&&e.videoHeight===x}),one(g),ine(m)];!E&&S.length>0;)switch(w=S.shift(),(b=b.filter(w)).length){case 0:b=_;break;case 1:E=b[0];break;default:_=b}return E?(f.videoBitrate=E.videoBitRate/1e3,f.audioBitrate=E.audioBitRate/1e3):(f.videoBitrate=g/1e3-1,f.audioBitrate=1),v.push(new nne(f)),[2]}var k,x}))}))})))];case 3:return g.sent(),[2,v]}}))}))},e.prototype._manipulateMediaTracksWithTrackPath=function(e){return e.map((function(e){return nne.from(e,e.path)})).filter((function(e){return!!e}))},e.prototype._sanitizeTracks=function(e){for(var t=[],n=function(e){return e?t.find((function(t){return t.src===e.src}))?"continue":void t.push(e):"continue"},r=0,i=e;r<i.length;r++)n(i[r]);return t},e}(),yne=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function bne(e){var t,n=e.encodingTrack[0],r=Math.min(n.videoWidth,n.videoHeight),i=((null===(t=/preprocessor_(.+)/g.exec(n.multiviewTrackInfoId||""))||void 0===t?void 0:t[1])||"").replace(/^./,(function(e){return e.toUpperCase()}));return r+"p"+(i.length?" ":"")+i}var _ne=function(e){function t(t){var n=e.call(this,t)||this,r=t.encodingTrack,i=t.multiviewTrackInfo,o=t.mediaId;return n.encodingTrack=r,n.multiviewTrackInfo=i,n.mediaId=o,n}return yne(t,e),t}(nne);function Ene(e){if(e)for(var t=0;t<e.length;t++)e[t]=255*Math.random()|0;return e}var wne=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sne=function(){return Sne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Sne.apply(this,arguments)},Tne=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},kne=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},xne=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}},Ane=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function Pne(e){return e.split(",").map((function(e){return e.trim()})).map(o9).filter((function(e){return null!==e}))}dQ.getInstance().define(new ree);var One={main:"HLS","low-latency":"DASH"};function Cne(e,t){return new gM((function(n){var r=function(e){n.next(e)};return e._addEventListener(t,r),function(){e._removeEventListener(t,r)}}))}var Ine,Lne=function(e){function t(t){var n=e.call(this)||this;n.id=c$.v4(),n.protocol="live:",n._cancel$=new wM,n._loop$=new wM,n._p2pDisabled=!1,n._shouldRequestLivePlaybackAPI=!0,n._watchingLog={url:"",isFirst:!0,enabled:!0,subscription:void 0,delayMs:new wM},n._getLivePlayback=function(){var e=n._config.getLivePlaybackAPIUrl(n._liveId,n._countryCode,n._devt);return O$({url:e,method:"GET",responseType:"json"}).pipe(ZU("response"))},n._getWatchingLog=function(e,t){var r=n._getSelectedVideoTrack(),i=r?Math.min(r.width,r.height):"",o="html5_wpc"!==n._devt&&n._devt?n._devt:"HTML5_PC",a={first:t,osType:d9(navigator.userAgent),playerType:o,quality:i},s={url:e,method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},responseType:"json",body:JSON.stringify(a)};return O$(s).pipe(ZU("response"))},n._config=new U9;try{var r=_0(t);n._liveId=r.host,n._countryCode=r.query["country-code"],n._devt=r.query.devt||E0(),n._p2pDisabled="Windows"!==gZ()||"true"===r.query["p2p-disabled"],n._config.set(r),n._initializeDimensions(),n._initializeTransaction(),n._initializeClientId()}catch(e){throw n._setError(100,"invalid url")}return n._nelo=new m0({projectName:"webplayer-coreplayer",projectVersion:vJ,protocol:n.protocol,liveId:n._liveId}),n}return wne(t,e),t.fromJSON=function(e,n){var r,i,o=n.devt||E0(),a=n.countryCode,s=null===(r=n.p2pDisabled)||void 0===r||r,u=null!==(i=n.p2pConfigServer)&&void 0!==i?i:"real",l=new t("live://"+e.meta.liveId+"?devt="+o+"&country-code="+a+"&p2p-disabled="+s+"&env="+u);return GX.mark(l,"mediaProvider.request.start"),l._injectPlaybackResponse(e,n),GX.mark(l,"mediaProvider.request.ok"),l},t.getP2PState=function(e){return void 0===e&&(e="real"),j9.getState(e).then((function(e){switch(e){case 0:return l9.INSTALLED;case-2:return l9.EXT_NOT_INSTALLED;case-1:return l9.CLIENT_NOT_INSTALLED;case-3:return l9.CONNECTING;default:return l9.UNAVAILABLE}}))},t.p2pClientDownloadUrl=function(e){return void 0===e&&(e="real"),j9.p2pClientDownloadUrl(e)},Object.defineProperty(t,"extensionStoreUrl",{get:function(){return j9.extensionStoreUrl},enumerable:!1,configurable:!0}),t.getABRTrackFromMediaInfo=function(e,n){var r="";n&&(r=function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=r[n],o=i[0],a=i[1],s=p9[o]||f9(o);t.push(s+"="+encodeURIComponent(a))}return t.join("&")}(n));var i=r.length>0?"#"+r:"",o=""+e.path+i,a=t.getInitialTrack(e.encodingTrack,n),s={src:o,label:"ABR",selected:!1,id:e.protocol+"_"+(e.drm||"nondrm")+"_ABR",width:a?a.videoWidth:-1,height:a?a.videoHeight:-1,encodingOptionID:"abr",videoCodec:null==a?void 0:a.videoCodec,videoProfile:null==a?void 0:a.videoProfile,audioCodec:null==a?void 0:a.audioCodec,audioProfile:null==a?void 0:a.audioProfile,dolbyVisionProfile:null==a?void 0:a.dolbyVisionProfile};return"DASH"===e.protocol&&(s.kind="low-latency"),new nne(s)},t.getTracksFromTrackInfo=function(e,n){return n.map((function(n){return new nne(Sne({src:n.path},t._getTrackParam(e,n)))}))},t.getTracksFromMPD=function(e,n,r,i){return Tne(this,void 0,void 0,(function(){var i;return kne(this,(function(o){return i=n.indexOf("#")>-1?"&":"#",[2,r.map((function(r){var o=FJ({"experimental-video-bitrate":r.videoBitRate,"experimental-audio-bitrate":r.audioBitRate});return new nne(Sne({src:""+n+i+o,kind:"low-latency"},t._getTrackParam(e,r)))}))]}))}))},t.getTracksFromMPD_v0=function(e,n,r,i){return Tne(this,void 0,void 0,(function(){var o,a,s,u,l,c,d,f;return kne(this,(function(h){switch(h.label){case 0:return[4,O$({url:n,responseType:"text",method:"GET"}).pipe(ZU("response")).toPromise()];case 1:return o=h.sent(),a=i9(n),s={ignoreAttributes:!1,attributeNamePrefix:"@",arrayMode:!0,parseNodeValue:!1},u=w2.parse(o,s),l=new w2.j2xParser(s),c=u.MPD[0].Period[0].AdaptationSet.find((function(e){return"video/mp4"===e["@mimeType"]})),u.MPD[0].BaseURL=a,d=c.Representation,f=d.map((function(n){var o=parseInt(n["@width"],10),a=parseInt(n["@height"],10),s=r.find((function(e){return e.videoWidth===o&&e.videoHeight===a})),d="mpd-loader://"+c$.v4()+".mpd/",f=new nne(Sne({src:d},t._getTrackParam(e,s)));c.Representation=[n];var h=l.parse(u),p=null==i?void 0:i.put(d,h);return{body:h,width:o,height:a,uri:d,track:f,cachePutPromise:p}})),[4,Promise.all(f.map((function(e){return e.cachePutPromise||Promise.resolve()})))];case 2:return h.sent(),[2,f.map((function(e){return e.track}))]}}))}))},t.getP2PTracksFromTrackInfo=function(e,n,r){return Tne(this,void 0,void 0,(function(){var i;return kne(this,(function(o){return 0===(i=n.filter((function(e){return!!e.p2pPath}))).length?[2,[]]:[2,i.map((function(n){return new W9(r,n.p2pPath,Sne(Sne({src:j9.convertHlsUrl(n.p2pPath)},t._getTrackParam(e,n)),{kind:"p2p"}))}))]}))}))},t._getTrackParam=function(e,t){return{label:Math.min(t.videoWidth,t.videoHeight).toString()+"p",selected:!1,id:e.protocol+"_"+(e.drm||"nondrm")+"_"+t.encodingTrackId,width:t.videoWidth,height:t.videoHeight,videoBitrate:t.videoBitRate/1e3,audioBitrate:t.audioBitRate/1e3,videoCodec:t.videoCodec,videoProfile:t.videoProfile,audioCodec:t.audioCodec,audioProfile:t.audioProfile,dolbyVisionProfile:t.dolbyVisionProfile}},t.getInitialTrack=function(e,t){return t&&t.levelStart?e.find((function(e){return Math.min(e.videoWidth,e.videoHeight)===t.levelStart})):Ane([],e).sort((function(e,t){var n=Math.min(e.videoWidth,e.videoHeight),r=Math.min(t.videoWidth,t.videoHeight);return n<r?-1:Number(n>r)}))[0]},t.hasTrackPath=function(e){return e.some((function(e){return!!e.path}))},t.hasP2PPath=function(e){return e.some((function(e){return!!e.p2pPath}))},t._filterRestrictedVideo=function(e){var t=e.maxBitrate||1/0,n=e.maxResolution||1/0;return function(e){var r=e.videoBitRate<=t,i=g1(e.videoWidth,e.videoHeight)<=n;return r&&i}},t._filterAudioOnlyTrack=function(e){return!e.audioOnly},t.pickInitialTrackFromVideoTracks=function(e,t,n){var r,i=e;if(n&&(i=e.filter((function(e){return e.kind===n}))),isFinite(t)){var o=i.filter((function(e){return"abr"!==e.label.toLowerCase()}));o.length>0&&(r=T1(o,t))}return r||i.find(s9)||i[0]||e[0]},t.prototype._injectPlaybackResponse=function(e,t){this._param=t,this._config.setParam(t),this._data=JSON.parse(JSON.stringify(e)),this._watchingLog.url=t.watchingApiUrl,this._shouldRequestLivePlaybackAPI=!1},Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"player",{get:function(){return this._player},set:function(e){if(this._player&&GX.mark(this,"mediaProvider.player.detach"),this._player=e,this._player){var t=m0.sharedOnWeakMap(this.player);this._nelo&&t.add(this._nelo.data),this._nelo=t,GX.mark(this,"mediaProvider.player.attach"),this._attachPlayer(e)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"p2pClientDownloadUrl",{get:function(){return S9.getSetupFileUrl(this.config.env)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_startLevel",{get:function(){return this.config.startLevel||480},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_maxLevel",{get:function(){return this.config.maxLevel||720},enumerable:!1,configurable:!0}),t.prototype.load=function(){var e;return Tne(this,void 0,void 0,(function(){var t,n;return kne(this,(function(r){switch(r.label){case 0:return this._verifyAuths(),this._cancel$.next(),null===(e=this._qoeProcessor)||void 0===e||e.cancel$.next(),this._shouldRequestLivePlaybackAPI?this._data&&!this._replay?[3,2]:(this._replay=!1,t=this,[4,this._loadLivePlayback()]):[3,3];case 1:t._data=r.sent(),r.label=2;case 2:return[3,4];case 3:if(!this._data)throw this._setError(110,"not exist playinfo");r.label=4;case 4:return n=this._data,this._verifyLiveStatus(n.live.status),[4,this._updateMetadata(this._data)];case 5:return r.sent(),[2]}}))}))},t.prototype.close=function(){var e,t;this._cancel$.next(),null===(e=this._qoeProcessor)||void 0===e||e.cancel$.next(),null===(t=this._qoeProcessor)||void 0===t||t.clear(),this._player.setMediaKeys(null)},t.prototype.loop=function(){var e;return Tne(this,void 0,void 0,(function(){var t;return kne(this,(function(n){switch(n.label){case 0:if(!this.dispatchEvent(new q9(q9.Types.Loop)))return[2,!1];if(!this._shouldRequestLivePlaybackAPI)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,this._loadLivePlayback()];case 2:return t._data=n.sent(),[3,4];case 3:return n.sent(),[2,!1];case 4:return GX.mark(this.player,"player.action.loop"),this._loop$.next(),null===(e=this._qoeProcessor)||void 0===e||e.loop$.next(),[2,this._updateMetadata(this._data,{enablePosterChanges:!1,enableMediaChanges:!1,enableAdInfoChanges:!0}).then((function(){return!0}))]}}))}))},t.prototype.updateLiveStatus=function(e){this._updatePlayableStatus(e.playableStatus,e.trafficThrottling)},t.prototype._updatePlayableStatus=function(e,t){var n,r;switch(void 0===t&&(t=-1),e){case"PLAYABLE":var i=this._updateMediaControlsMaxBitrate(null),o=this._removeOverTrafficTrack(1/0);(i||o)&&this.dispatchEvent(new q9(q9.Types.TrafficRestored));break;case"PLAYABLE_LOW_RESOLUTION":if(t>-1){i=!1,this.isABRTrackSelected()&&(i=this._updateMediaControlsMaxBitrate(t));var a=this._removeOverTrafficTrack(t);(i||a)&&(this.dispatchEvent(new q9(q9.Types.TrafficThrottled,{detail:{bandwidthLimit:t,enforceABS:!1,playableStatus:e}})),null===(n=this._nelo)||void 0===n||n.send({type:"trafficthrottled",bandwidthLimit:t,enforceABS:!1,playableStatus:e,liveId:this._liveId}))}break;case"FORCE_LOW_RESOLUTION":if(t>-1){i=!1;var s=!1;this.isABRTrackSelected()?i=this._updateMediaControlsMaxBitrate(t):s=this._enforceChangeToABRTrack(t),a=this._removeOverTrafficTrack(t),(i||s||a)&&(this.dispatchEvent(new q9(q9.Types.TrafficThrottled,{detail:{bandwidthLimit:t,enforceABS:s,playableStatus:e}})),null===(r=this._nelo)||void 0===r||r.send({type:"trafficthrottled",bandwidthLimit:t,enforceABS:s,playableStatus:e,liveId:this._liveId}))}}},t.prototype.isABRTrackSelected=function(){return!(!this.player.videoTracks||0===this.player.videoTracks.length)&&s9(this.player.videoTracks[this.player.videoTracks.selectedIndex])},t.prototype._updateMediaControlsMaxBitrate=function(e){var t=this.player.getPreProcessorControl("hls");return!!t&&t.maxBitrate!==e&&(t.maxBitrate=e,!0)},t.prototype._shouldChangeToABRTrack=function(e,t){return!e||"p2p"!==e.kind&&!(!e.videoBitrate||1e3*e.videoBitrate<=t)},t.prototype._enforceChangeToABRTrack=function(e){var n,r=this.player.videoTracks,i=r[r.selectedIndex];if(!this._shouldChangeToABRTrack(i,e))return!1;var o=this.data,a=Array.from(r).filter(s9);if(0===a.length)return!1;for(var s=function(r){var i=null===(n=One[r.kind])||void 0===n?void 0:n.toUpperCase(),a=o.media.find((function(e){return e.protocol.toUpperCase()===i}));if(!a)return"continue";var s=t.getABRTrackFromMediaInfo(a,{levelStart:parseInt(u._getLevelStart(o),10),levelCap:parseInt(u._getMaxLevel(o),10),maxBitrate:e});r.src=s.src},u=this,l=0,c=a;l<c.length;l++)s(c[l]);var d=(null==i?void 0:i.kind)||"main";return a.sort((function(e){return e.kind===d?-1:1})),a[0].selected=!0,!0},t.prototype._isOverTrafficTrack=function(e){return function(t){return!isNaN(e)&&"p2p"!==t.kind&&!s9(t)&&!t.selected&&1e3*t.videoBitrate+1e3*t.audioBitrate>e}},t.prototype._removeOverTrafficTrack=function(e){for(var t=function(e,t){for(var n=[],r=[],i=0,o=e;i<o.length;i++){var a=o[i];t(a)?n.push(a):r.push(a)}return[n,r]}(this._originalTracks||Array.from(this.player.videoTracks),this._isOverTrafficTrack(e)),n=t[0],r=t[1],i=Array.from(this.player.videoTracks),o=r.length!==i.length,a=0,s=n;a<s.length;a++){var u=s[a];this.player.videoTracks.removeTrack(u)}for(var l=0,c=r;l<c.length;l++)u=c[l],-1===i.indexOf(u)&&this.player.videoTracks.addTrack(u);return o},Object.defineProperty(t.prototype,"setWatchingLogEnabled",{set:function(e){var t;e!==this._watchingLog.enabled&&this._player&&(e||(null===(t=this._watchingLog.subscription)||void 0===t||t.unsubscribe(),this._watchingLog.subscription=void 0),this._watchingLog.enabled=e)},enumerable:!1,configurable:!0}),t.prototype._updateMetadata=function(e,t){var n,r,i;return void 0===t&&(t={enablePosterChanges:!0,enableMediaChanges:!0,enableAdInfoChanges:!0}),Tne(this,void 0,void 0,(function(){return kne(this,(function(o){switch(o.label){case 0:return(null!==(i=null===(r=null===(n=e.meta)||void 0===n?void 0:n.videoId)||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0&&this._processQoE(),this._initWatchingLog(),this._observePlayback(),this._observeVideoTracks(),e.meta.paidLive&&function(e){return!!e.media.find((function(e){var t,n;return-1!==(null===(n=null===(t=e.contentProtection)||void 0===t?void 0:t.algorithm)||void 0===n?void 0:n.toLowerCase().indexOf("akamai-smp"))}))}(e)?[4,this._setMediaKeys("com.naver.lip.smp","uri-redirect","application/x-mpegURL","temporary",e.meta.liveId.toString())]:[3,2];case 1:o.sent(),o.label=2;case 2:return this._error?[2]:[4,this._updatePlayer(e,t)];case 3:return o.sent(),this._postProcessing(),[2]}}))}))},t.prototype._postProcessing=function(){try{this.player.configurePostProcessor(Q0({enable:!0}))}catch(e){this._nelo.send({type:"error",code:199,message:e.message,stack:e.stack||"not tracable",liveId:this._liveId})}},t.prototype._setMediaKeys=function(e,t,n,r,i){return Tne(this,void 0,void 0,(function(){var o,a,s;return kne(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,pJ.requestMediaKeySystemAccess(e,[{initDataTypes:[t],videoCapabilities:[{contentType:n}]}])];case 1:return o=u.sent(),[3,3];case 2:return u.sent(),this._setError(109,"video track load fail"),this.player._setError(4),[2];case 3:return u.trys.push([3,7,,8]),[4,o.createMediaKeys()];case 4:return a=u.sent(),[4,this._player.setMediaKeys(a)];case 5:return u.sent(),(s=a.createSession(r)).onmessage=function(){s.update((new JZ).encode(JSON.stringify({kid:i,key:"hdnts",target:"__bgda__"})))},[4,s.generateRequest(t,(new JZ).encode(JSON.stringify({kid:i,type:"dynamic"})))];case 6:return u.sent(),[3,8];case 7:return u.sent(),this._setError(109,"video track load fail"),this._player._setError(3),[3,8];case 8:return[2]}}))}))},t.prototype._updatePlayer=function(e,t){return Tne(this,void 0,void 0,(function(){return kne(this,(function(n){switch(n.label){case 0:return this.player?(this._cleanUpPreProcessing(),t.enablePosterChanges&&this._updatePoster(e),t.enableMediaChanges?[4,this._updateVideoTracks(e)]:[3,2]):[2];case 1:n.sent(),n.label=2;case 2:return t.enableAdInfoChanges?[4,this._updateAdInfo()]:[3,4];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},t.prototype._updatePoster=function(e){e.serviceMeta.coverImgUrl&&(this.player.poster=e.serviceMeta.coverImgUrl)},t.prototype._updateVideoTracks=function(e){var n,r,i,o,a,s,u;return Tne(this,void 0,void 0,(function(){var l,c,d,f,h,p,v,m,g,y,b,_,E,w,S,T,k,x,A,P,O,C,I,L=this;return kne(this,(function(N){switch(N.label){case 0:if(l=""!==this.player.canPlayType("application/x-mpegURL"),c=l&&(null===(a=e.media)||void 0===a?void 0:a.find((function(e){return"HLS"===e.protocol.toUpperCase()}))),d=""!==this.player.canPlayType('application/vnd.naver.dash; profiles="urn:mpeg:dash:profile:isoff-live:2011"')&&(null===(s=e.media)||void 0===s?void 0:s.find((function(e){return"DASH"===e.protocol.toUpperCase()}))),f=null,h=[],!d)return[3,19];if(b=!1,!d.drm)return[3,16];_=Pne(d.drm),N.label=1;case 1:N.trys.push([1,9,10,15]),p=xne(_),N.label=2;case 2:return[4,p.next()];case 3:if((v=N.sent()).done)return[3,8];S=v.value,N.label=4;case 4:return N.trys.push([4,6,,7]),[4,pJ.requestMediaKeySystemAccess(S,[{videoCapabilities:[{contentType:'video/mp4; codecs="avc1.640033"'}],initDataTypes:["cenc"]}])];case 5:return f=N.sent(),b=!0,[3,8];case 6:return N.sent(),[3,7];case 7:return[3,2];case 8:return[3,15];case 9:return m=N.sent(),n={error:m},[3,15];case 10:return N.trys.push([10,,13,14]),v&&!v.done&&(r=p.return)?[4,r.call(p)]:[3,12];case 11:N.sent(),N.label=12;case 12:return[3,14];case 13:if(n)throw n.error;return[7];case 14:return[7];case 15:return[3,17];case 16:d.drm||(b=!0),N.label=17;case 17:return!d||!d.drm&&fQ()?[3,19]:(y=(g=h).concat,[4,this._updateDashVideoTrack(e,d)]);case 18:h=y.apply(g,[N.sent()]),N.label=19;case 19:if(!c)return[3,40];if(b=!1,!c.drm)return[3,35];_=Pne(c.drm),N.label=20;case 20:N.trys.push([20,28,29,34]),E=xne(_),N.label=21;case 21:return[4,E.next()];case 22:if((w=N.sent()).done)return[3,27];S=w.value,N.label=23;case 23:return N.trys.push([23,25,,26]),[4,pJ.requestMediaKeySystemAccess(S,[{videoCapabilities:[{contentType:'video/mp4; codecs="avc1.640033"'}],initDataTypes:["skd"]}])];case 24:return f=N.sent(),b=!0,[3,27];case 25:return N.sent(),[3,26];case 26:return[3,21];case 27:return[3,34];case 28:return T=N.sent(),i={error:T},[3,34];case 29:return N.trys.push([29,,32,33]),w&&!w.done&&(o=E.return)?[4,o.call(E)]:[3,31];case 30:N.sent(),N.label=31;case 31:return[3,33];case 32:if(i)throw i.error;return[7];case 33:return[7];case 34:return[3,36];case 35:c.drm||(b=!0),N.label=36;case 36:return b?this._isMultiViewStream()?[4,this._updateMultiviewTrack(e)]:[3,38]:[3,40];case 37:return h=N.sent(),[3,40];case 38:return x=(k=h).concat,[4,this._updateHlsVideoTrack(e,c)];case 39:h=x.apply(k,[N.sent()]),N.label=40;case 40:return(null==h?void 0:h.length)&&(h=h.filter((function(e){return s9(e)||g1(e.width,e.height)<=(L.config.maxResolution||1/0)}))),this._originalTracks=Ane([],h),A=(null===(u=e.livePollingStatus)||void 0===u?void 0:u.trafficThrottling)||0,P=this._isOverTrafficTrack(A<=0?NaN:A),h=h.filter((function(e){return!P(e)})),(O=h.find((function(e){return e.selected}))||t.pickInitialTrackFromVideoTracks(h,this.config.track,this.config.trackKind))?(O.selected=!0,"p2p"!==O.kind?[3,42]:[4,O.prepare().toPromise()]):[3,42];case 41:N.sent(),N.label=42;case 42:return e.livePollingStatus&&"PLAYABLE"!==e.livePollingStatus.playableStatus&&(C=e.livePollingStatus.trafficThrottling,"FORCE_LOW_RESOLUTION"===e.livePollingStatus.playableStatus)&&this._shouldChangeToABRTrack(O,C)&&(I=h.find(s9),O&&(O.selected=!1),I&&(I.selected=!0)),h.length?(this._player._setVideoTracks(h),this._player._setDuration(1/0),this._updateDimension(h),f&&this._observeEncryptedEvent(f),[2]):(this._setError(111,"not exist mediainfo"),this.player._setError(q$.MEDIA_ERR_SRC_NOT_SUPPORTED),[2])}}))}))},t.prototype._observeEncryptedEvent=function(e){var t=this,n=function(e){return new gM((function(n){var r=function(e){return n.next(e)};return t.player._addEventListener(e,r),function(){t.player._removeEventListener(e,r)}}))},r=n("encrypted"),i=n("loadstart");r.pipe(RB(this._cancel$),tU((function(e){return d0(new Uint8Array(e.initData))}),i)).subscribe((function(n){var r=n,i=r.initData,o=r.initDataType;t._dispatchEncryptedEvent(e.keySystem,o,i)}))},t.prototype._dispatchEncryptedEvent=function(e,t,n){var r=(new ZZ).encode({version:2,drmType:d2(e),initDataType:t,initData:n});this.player.dispatchEvent(new VQ({initDataType:u0,initData:r}))},t.prototype._filterTracks=function(e){var n,r;return Tne(this,void 0,void 0,(function(){var i,o,a,s,u,l;return kne(this,(function(c){switch(c.label){case 0:i=e.encodingTrack.filter(t._filterAudioOnlyTrack).filter(t._filterRestrictedVideo({maxResolution:this.config.maxResolution,maxBitrate:this.config.maxBitrate})),o=[],c.label=1;case 1:c.trys.push([1,7,8,13]),a=xne(i),c.label=2;case 2:return[4,a.next()];case 3:return(s=c.sent()).done?[3,6]:[4,pee(u=s.value)];case 4:c.sent()&&o.push(u),c.label=5;case 5:return[3,2];case 6:return[3,13];case 7:return l=c.sent(),n={error:l},[3,13];case 8:return c.trys.push([8,,11,12]),s&&!s.done&&(r=a.return)?[4,r.call(a)]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,12];case 11:if(n)throw n.error;return[7];case 12:return[7];case 13:return[2,o]}}))}))},t.prototype._updateMultiviewTrack=function(e){var t=this._player._getSourceCaches(),n=new r9(null),r="extensible"===this.player.canPlayType("application/vnd.naver.multiview"),i=a9(e.multiview,(function(e){return e.multiviewTrackInfo}));return Promise.all(e.media.map((function(e){for(var t,n=0,r=e.encodingTrack;n<r.length;n++){var o=r[n];if(o.multiviewTrackInfoId){t=o.multiviewTrackInfoId;break}}var a=i.find((function(e){return e.multiviewTrackInfoId===t}));if(!a)throw new Error("cannot find track info");return[e,a]})).map((function(e){var i=e[0],o=e[1];return n.load(i.path).then((function(e){var n=Sne(Sne({},ene(i.encodingTrack[0])),{id:o.trackId,kind:-1!==i.mediaId.indexOf("output-g1")?"main":"alternate",label:bne(i),encodingTrack:i.encodingTrack,multiviewTrackInfo:o,mediaId:i.mediaId,src:r?i.path.replace(/\.m3u8/,".multiview"):i.path}),a=new _ne(n);return t.put(a.src,e),a}))})))},t.prototype._isMultiViewStream=function(){if(!this.data)return!1;var e=this.data;return e.multiview&&e.multiview.length>0},t.prototype._updateDashVideoTrack=function(e,n){return Tne(this,void 0,void 0,(function(){var r,i,o,a,s,u,l;return kne(this,(function(c){switch(c.label){case 0:return[4,this._filterTracks(n)];case 1:r=c.sent(),i=t.getABRTrackFromMediaInfo(n,{levelStart:parseInt(this._getLevelStart(e),10),levelCap:parseInt(this._getMaxLevel(e),10),maxBitrate:this._getMaxBitrate(e)}),o=[i],c.label=2;case 2:return c.trys.push([2,6,,7]),t.hasTrackPath(r)?(o.push.apply(o,t.getTracksFromTrackInfo(n,r)),[3,5]):[3,3];case 3:return s=(a=o.push).apply,u=[o],[4,t.getTracksFromMPD(n,n.path,r,this._player._getSourceCaches())];case 4:s.apply(a,u.concat([c.sent()])),c.label=5;case 5:return[3,7];case 6:throw l=c.sent(),this._throwException(l);case 7:return[2,o]}}))}))},t.prototype._updateHlsVideoTrack=function(e,n){var r;return Tne(this,void 0,void 0,(function(){var i,o,a,s,u,l,c;return kne(this,(function(d){switch(d.label){case 0:i=new gne(n.encodingTrack,n.path,e.livePollingStatus,this.config,this.player._getSourceCaches(),!1),d.label=1;case 1:return d.trys.push([1,6,,7]),[4,i.manipulate()];case 2:return o=d.sent(),[4,i.filterTracks()];case 3:return a=d.sent(),this._p2pDisabled||!t.hasP2PPath(a)?[3,5]:(j9.setConfigUrl(null===(r=e.api.find((function(e){return"p2p-config"===e.name})))||void 0===r?void 0:r.path),u=(s=o.push).apply,l=[o],[4,t.getP2PTracksFromTrackInfo(n,a,this.config.env)]);case 4:u.apply(s,l.concat([d.sent()])),d.label=5;case 5:return[2,o];case 6:throw c=d.sent(),this._throwException(c);case 7:return[2]}}))}))},t.prototype._getMaxBitrate=function(e){if(e.livePollingStatus&&"PLAYABLE"!==e.livePollingStatus.playableStatus&&e.livePollingStatus.trafficThrottling>0)return e.livePollingStatus.trafficThrottling},t.prototype._updateAdInfo=function(){var e,t;return Tne(this,void 0,void 0,(function(){var n,r,i,o,a,s;return kne(this,(function(u){switch(u.label){case 0:for(n=null,r=0,i=0;i<(null===(e=this.player.videoTracks)||void 0===e?void 0:e.length);++i)this.player.videoTracks[i].selected&&(n=this.player.videoTracks[i]);return n&&(o=n.videoBitrate,a=n.audioBitrate,(s=(isFinite(o)?o:0)+(isFinite(a)?a:0))>0&&(r=s)),[4,this.player.adsController.initAd(this.player.clientWidth,this.player.clientHeight,DF.AdViewModeTypes.NORMAL,r,{transactionId:this._tid||"",serviceId:this.config.serviceId||"",videoId:(null===(t=this.data)||void 0===t?void 0:t.meta.videoId)||"",ownerServiceId:"",live:!0,vr:!1},{playerId:this.player.id})];case 1:return u.sent(),[2]}}))}))},t.prototype._observePlayback=function(){var e=this;if(this._player){var t=sF(this._player,fZ.ABORT),n=sF(this._player,fZ.ENDED),r=EF(t,this._cancel$,this._loop$);n.pipe(RB(r)).subscribe((function(){e._replay=!0}))}},t.prototype._observeVideoTracks=function(){var e=this;if(this._player){var t=sF(this._player.videoTracks,sZ.CHANGE),n=EF(sF(this._player,fZ.ABORT),this._cancel$);t.pipe(RB(n)).subscribe((function(t){var n,r=t;if(r.track){var i=r.track;null===(n=e._p2pSubscription)||void 0===n||n.unsubscribe(),i.selected&&"p2p"===i.kind&&(e._p2pSubscription=i.prepare().subscribe((function(){e._p2pSubscription=void 0,e.player._refreshSelectedTrack()}),(function(t){throw e._p2pSubscription=void 0,e._throwException(t)})))}}))}},t.prototype._loadLivePlayback=function(){return Tne(this,void 0,void 0,(function(){var e,t,n,r;return kne(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),GX.mark(this,"mediaProvider.request.start",{api:"liveApi"}),[4,EF((t=this._getLivePlayback()).pipe(CV((function(){return kF(1e3).pipe(DB(t)).pipe(oB(1))}))),this._cancel$.pipe(DB(QM(new Error("Abort"))))).toPromise()];case 1:return e=i.sent(),[3,3];case 2:if("Abort"===(n=i.sent()).message)throw n;throw GX.mark(this,"mediaProvider.request.fail",{api:"liveApi"}),this._setError(104,"api request failed");case 3:if(void 0!==e.code)throw r=e,GX.mark(this,"mediaProvider.response.error",{api:"liveApi",code:r.code}),this._data=e,this._setError(105,r&&r.code?"["+r.code+"]"+r.description:"error response");return GX.mark(this,"mediaProvider.request.ok",{api:"liveApi"}),[2,e]}}))}))},t.prototype._getSelectedVideoTrack=function(){for(var e=null,t=0;t<this.player.videoTracks.length;++t)this.player.videoTracks[t].selected&&(e=this.player.videoTracks[t]);return e},t.prototype._getLevelStart=function(e){return this._getNearestResolution(this.config.startLevel||480,e.media[0].encodingTrack)},t.prototype._getMaxLevel=function(e){return this._getNearestResolution(this.config.maxLevel||720,e.media[0].encodingTrack)},t.prototype._getNearestResolution=function(e,t){var n=t.map((function(e){var t=e.videoWidth,n=e.videoHeight;return Math.min(t,n)})).sort((function(e,t){return e-t})),r=n.length-1,i=null;if(e<=n[0])i=n[0];else if(e>=n[r])i=n[r];else for(var o=0;o<=r;o++){if(e===n[o]){i=n[o];break}if(e<n[o]){i=n[o-1];break}}return i+"p"},t.prototype._updateDimension=function(e){var t=e.find((function(e){return e.selected}));t&&this.player._setVideoSize(t.width,t.height)},t.prototype._initWatchingLog=function(){var e=this,t=sF(this._player,fZ.PLAYING),n=sF(this._player,fZ.PAUSE),r=sF(this._player,fZ.ABORT),i=sF(this._player,fZ.ERROR),o=sF(this._player,fZ.ENDED);t.pipe(RB(EF(r,this._cancel$)),gF((function(){return e._watchingLog.enabled&&(!e._watchingLog.subscription||e._watchingLog.subscription.closed)}))).subscribe((function(){e._watchingLog.subscription=e._watchingLog.delayMs.pipe(gF((function(){return void 0!==e._watchingLog.url})),Jj((function(e){return kF(1e3*e)})),RB(EF(n,i,o,r,e._cancel$)),Jj((function(){return e._getWatchingLog(e._watchingLog.url,e._watchingLog.isFirst)}))).subscribe((function(t){var n;e._watchingLog.isFirst=!1,e.dispatchEvent(new q9(q9.Types.WatchData,{cancelable:!1,detail:t})),e._watchingLog.delayMs.next(null!==(n=t.callPeriod)&&void 0!==n?n:e._config.defaultWatchingLogInterval)}),(function(){e._watchingLog.delayMs.next(e._config.defaultWatchingLogInterval)})),e._watchingLog.delayMs.next(0)}))},t.prototype._verifyAuths=function(){this._verifyLiveId(),this._verifyCountryCode(),this._verifyDevt()},t.prototype._verifyLiveId=function(){if(!this._liveId)throw this._setError(101,"invalid videoId")},t.prototype._verifyCountryCode=function(){if(!this._countryCode)throw this._setError(102,"invalid countryCode")},t.prototype._verifyDevt=function(){if(!this._devt)throw this._setError(103,"invalid devt")},t.prototype._verifyLiveStatus=function(e){var t=null;if(this.dispatchEvent(new q9(q9.Types.VerifyingLiveStatus,{detail:e}))){switch(e){case N9.BOOKED:t=new z9(106,"live not started yet");break;case N9.STOPPED:t=new z9(107,"live stopped");break;case N9.ENDED:t=new z9(108,"live ended")}if(t)throw this._setError(t.code,t.message)}},t.prototype._throwException=function(e){var t=109,n="video track load fail";switch(e){case"Unexpected Launcher State":t=111,n="live-connector launcher has unexpected state.";break;case"Unexpected Live Connector State":t=112,n="live-connector has unexpected state.";break;case"Extension is not installed":t=113,n="live-connector launcher is not installed.";break;case"Launcher is not installed":t=114,n="live-connector launcher is not installed";break;case"LiveConnector No Installed":t=115,n="live-connector is not installed";break;case"LiveConnector is failed to launch":t=116,n="failed to launch live-connector";break;case"Failed to get HLS port":t=117,n="live-connector failed to get hls port";break;case"Missing essential key":case"Failed to parse json":case"Unexpected error":t=118,n="live-connector occured unexpected error"}return this._setError(t,n)},t.prototype._setError=function(e,t){return this._error=new z9(e,t),this._nelo&&this._nelo.send({type:"error",code:e,message:t,stack:this._error.stack||"not tracable",liveId:this._liveId}),this._error},t.prototype._cleanUpPreProcessing=function(){s1(this.player)},t.prototype._initializeDimensions=function(){var e=this;GX.init(this,{dimensions:{liveId:function(){var t,n;return(null===(n=null===(t=e._data)||void 0===t?void 0:t.meta)||void 0===n?void 0:n.liveId)||""},streamSeq:function(){var t,n,r;return null!==(r=null===(n=null===(t=e._data)||void 0===t?void 0:t.meta)||void 0===n?void 0:n.streamSeq)&&void 0!==r?r:-1},vid:function(){var t,n,r;return null!==(r=null===(n=null===(t=e._data)||void 0===t?void 0:t.meta)||void 0===n?void 0:n.videoId)&&void 0!==r?r:""},tid:function(){return e._tid},sid:function(){return e._config.serviceId},u:function(){return""},inout:function(){return"in"},os:function(){return gZ()||""},osv:function(){return yZ()||""},device:function(){return EZ()||""},tidCreatedAt:function(){return e._tidgt},pageUrl:function(){return location.href},referer:function(){return document.referrer},cdnType:function(){var t,n;return null!==(n=null===(t=e._data)||void 0===t?void 0:t.meta.cdnInfo.cdnType)&&void 0!==n?n:null},live:function(){return!0},bitrate:function(){var t;try{return function(e,t){var n;if(!Number.isFinite(e)||!t||0===(null==t?void 0:t.length))throw new Error("Illegal paremeter error");var r=null!==(n=t.find((function(t){return e===t.videoHeight})))&&void 0!==n?n:{},i=r.audioBitRate,o=void 0===i?0:i,a=r.videoBitRate;return{audio:o,video:void 0===a?0:a}}(e.player.videoHeight,null===(t=e._data)||void 0===t?void 0:t.media[0].encodingTrack)}catch(e){return{audio:0,video:0}}},clientId:function(){return e._clientId},userAgent:function(){return navigator.userAgent},deviceType:function(){return(e._devt||"html5_wpc").toLowerCase()},providerName:function(){return"TODO:ProviderName"},liveOpenTime:function(){var t,n;return(null===(n=null===(t=e._data)||void 0===t?void 0:t.live)||void 0===n?void 0:n.open)?new Date(e._data.live.open).getTime():NaN},serviceTrackingId:function(){var t;return(null===(t=e._param)||void 0===t?void 0:t.serviceTrackingId)||void 0},serviceContentId:function(){var t,n,r;return(null===(t=e._param)||void 0===t?void 0:t.serviceContentId)||String((null===(r=null===(n=e.data)||void 0===n?void 0:n.meta)||void 0===r?void 0:r.streamSeq)||void 0)},serviceCategoryCode:function(){var t;if(null===(t=e._param)||void 0===t?void 0:t.serviceCategoryCode)return e._param.serviceCategoryCode},multiTrack:function(){return e._isMultiViewStream()},mediaType:function(){return"MAIN"}}})},t.prototype._processQoE=function(){var e;return Tne(this,void 0,void 0,(function(){var t,n,r,i=this;return kne(this,(function(o){switch(o.label){case 0:return(t=new lee(this._player,this._player.adsController,this._config.serviceId,this._config.serviceType,this._config.pop)).loop$=this._loop$,t.cancel$=this._cancel$,[4,t.initialize()];case 1:return o.sent(),[4,t.prepare()];case 2:return n=o.sent(),r=n.subscribe((function(e){var n;e?(GX.mark(i,"statistic.event.qoetickend"),GX.mark(i.player.adsController,"statistic.event.qoetickend"),(n=GX.aggregate("quality-log",[i,i.player.adsController])).incrementalSnapshot=GX.aggregate("qoe-inc-snapshot",[i.player]),GX.mark(i,"statistic.event.qoetickstart"),GX.mark(i.player.adsController,"statistic.event.qoetickstart")):(GX.mark(i,"statistic.event.qoetickend"),GX.mark(i.player,"statistic.event.qoetickend"),n=GX.aggregate("quality-log",[i,i.player]),GX.mark(i,"statistic.event.qoetickstart"),GX.mark(i.player,"statistic.event.qoetickstart")),t.send(n)})),sF(this._player,fZ.ERROR).pipe(dU(1),RB(hF(this._cancel$,sF(this._player,"abort")))).subscribe((function(){r.unsubscribe(),GX.mark(i,"statistic.event.qoetickend"),GX.mark(i.player,"statistic.event.qoetickend");var e=GX.aggregate("quality-log",[i,i.player]);GX.mark(i,"statistic.event.qoetickstart"),GX.mark(i.player,"statistic.event.qoetickstart"),t.sendError(e)})),null===(e=this._qoeProcessor)||void 0===e||e.clear(),this._qoeProcessor=t,[2]}}))}))},t.prototype._initializeTransaction=function(){this._tid=function(){var e=window.crypto||window.msCrypto||{getRandomValues:Ene};return function(e){return e.replace(/=/g,"")}(btoa(String.fromCharCode.apply(null,e.getRandomValues(new Uint8Array(16)))).replace(/\+/g,"-").replace(/\//g,"_"))}(),this._tidgt=+new Date},t.prototype._initializeClientId=function(){var e;this._clientId=null!==(e=this._clientId)&&void 0!==e?e:HZ(document.cookie).NNB||c$.v4()},t.prototype._attachPlayer=function(e){var t=this,n=sF(e,"abort"),r=Cne(e,"play");Cne(e,"pause").pipe(DB(r),RB(n)).subscribe((function(){var n,r;if(!1===(null===(r=null===(n=t._data)||void 0===n?void 0:n.live)||void 0===r?void 0:r.timeMachine)){var i=e.seekable;if((null==i?void 0:i.length)>0){var o=i.end(i.length-1);isFinite(o)&&(e.currentTime=o)}}}))},t.prototype._dumpState=function(){return{protocol:this.protocol,error:this.error,tid:this._tid,tidgt:this._tidgt}},t.MediaPresets=K9,t}(CJ);!function(e){e.NOT_A_MPD="NOT_A_MPD",e.INVALID_MPD_FILE="INVALID_MPD_FILE",e.EXTERNAL_PARSER_ERROR="EXTERNAL_PARSER_ERROR",e.INVALID_DATE_TIME_FORMAT="INVALID_DATE_TIME_FORMAT",e.INVALID_DURATION_FORMAT="INVALID_DURATION_FORMAT",e.MALFORMED_LOADER_INTERNAL_URI="MALFORMED_LOADER_INTERNAL_URI",e.UNKNOWN_REPRESENTATION_ID="UNKNOWN_REPRESENTATION_ID",e.INTERNAL_ERROR_NO_VIDEO_LIST="INTERNAL_ERROR_NO_VIDEO_LIST",e.INTERNAL_ERROR_NO_AUDIO_LIST="INTERNAL_ERROR_NO_AUDIO_LIST",e.INTERNAL_ERROR_NO_SUBTITLE_LIST="INTERNAL_ERROR_NO_SUBTITLE_LIST",e.INTERNAL_ERROR_NO_MPD_INFO="INTERNAL_ERROR_NO_MPD_INFO",e.NO_DURATION_SPECIFIED="NO_DURATION_SPECIFIED",e.INTERNAL_ERROR_MPD_NOT_LOADED="INTERNAL_ERROR_MPD_NOT_LOADED",e.NO_PERIOD_DEFINED="NO_PERIOD_DEFINED",e.INTERNAL_ERROR_CANNOT_SELECT_INITIAL_PERIOD="INTERNAL_ERROR_CANNOT_SELECT_INITIAL_PERIOD",e.UNKNOWN_REPRESENTATION_TYPE_REQUESTED="UNKNOWN_REPRESENTATION_TYPE_REQUESTED"}(Ine||(Ine={}));var Nne=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,Dne=function(){function e(){}return e.prototype.test=function(e){return Nne.test(e)},e.prototype.parse=function(e){var t,n=Nne.exec(e);if(null===n)throw new Error(Ine.INVALID_DATE_TIME_FORMAT);if(t=Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[4],10),parseInt(n[5],10),n[6]&&parseInt(n[6],10)||0,n[7]&&1e3*parseFloat(n[7])||0),n[9]&&n[10]){var r=60*parseInt(n[9],10)+parseInt(n[10],10);t+=("+"===n[8]?-1:1)*r*60*1e3}return new Date(t)},e}(),Rne=Dne,Mne=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,jne=function(){function e(){}return e.prototype.test=function(e){return Mne.test(e)},e.prototype.parse=function(e){var t=Mne.exec(e);if(null===t)throw new Error(Ine.INVALID_DURATION_FORMAT);var n=31536e3*parseFloat(t[3]||"0")+2592e3*parseFloat(t[5]||"0")+86400*parseFloat(t[7]||"0")+3600*parseFloat(t[9]||"0")+60*parseFloat(t[11]||"0")+parseFloat(t[13]||"0");return void 0!==t[1]&&(n=-n),n},e}(),Fne=jne,Vne=["mediaPresentationDuration","minimumUpdatePeriod","minBufferTime","timeShiftBufferDepth","suggestedPresentationDelay","maxSegmentDuration","maxSubsegmentDuration","start","duration","starttime"],Une=["availabilityStartTime","availabilityEndTime","publishTime"],Bne=["minFrameRate","maxFrameRate","frameRate"];function zne(e,t){return O$({url:e,method:"POST",responseType:"text",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(t),withCredentials:!0}).toPromise()}function Gne(e){if(!e)throw new Error("Assertion failure")}var qne=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hne=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n}return qne(t,e),Object.defineProperty(t.prototype,"aborted",{get:function(){return this._context.isAborted()},enumerable:!1,configurable:!0}),t}(CJ),Wne=function(){function e(){var e=this;this._aborted=!1,this.signal=new Hne({isAborted:function(){return e._aborted}})}return Object.defineProperty(e.prototype,"aborted",{get:function(){return this._aborted},enumerable:!1,configurable:!0}),e.prototype.abort=function(){this.signal.dispatchEvent(new Q$("abort",{cancelable:!0}))&&(this._aborted=!0)},e}(),Kne=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yne=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Xne=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.status=0,r.detail="",r.name="HttpError",Object.setPrototypeOf(r,n.prototype),r}return Kne(t,e),t}(Error),$ne=function(){function e(e,t){this._origin=e,this._abortController=t}return e.prototype.abort=function(){this._abortController.abort()},Object.defineProperty(e.prototype,"aborted",{get:function(){return this._abortController.aborted},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._origin.url},set:function(e){this._origin.url=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){return this._origin.method},set:function(e){this._origin.method=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"withCredentials",{get:function(){return this._origin.withCredentials},set:function(e){this._origin.withCredentials=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return this._origin.body},set:function(e){this._origin.body=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){return this._origin.headers},set:function(e){this._origin.headers=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"responseType",{get:function(){return this._origin.responseType},set:function(e){this._origin.responseType=e},enumerable:!1,configurable:!0}),e}(),Qne=function(){function e(e,t){var n;this.url=e,this.method=(null==t?void 0:t.method)||"GET",this.withCredentials=null!==(n=null==t?void 0:t.withCredentials)&&void 0!==n&&n,this.responseType=(null==t?void 0:t.responseType)||"text",this.body=null==t?void 0:t.body,this.headers=null==t?void 0:t.headers,this._listeners=[]}return e.prototype.run=function(){var e=new Wne,t=new $ne(this,e);this.abortController=e,this._notifyBeforeRequest(t),e.aborted||this._request(e.signal)},e.prototype.abort=function(){this.abortController&&(this.abortController.abort(),this._notifyAbort())},e.prototype.addListener=function(e){this._listeners.push(e)},e.prototype._request=function(e){O$({method:this.method,url:this.url,responseType:this.responseType,headers:this.headers,withCredentials:this.withCredentials}).pipe(RB(sF(e,"abort"))).subscribe({next:this._notifySuccess.bind(this),error:this._notifyError.bind(this)})},e.prototype._notify=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t.forEach((function(t){var r;null===(r=t[e])||void 0===r||r.call.apply(r,Yne([t],n))}))},e.prototype._notifyBeforeRequest=function(e){this._notify("onBeforeRequest",this._listeners,e)},e.prototype._notifySuccess=function(e){this._notify("onSuccess",this._listeners,e.response)},e.prototype._notifyError=function(e){var t=new Xne(e.message);t.status=e.status,t.detail=e.response,this._notify("onError",this._listeners,t)},e.prototype._notifyAbort=function(){this._notify("onAbort",this._listeners)},e}(),Jne={},Zne={};function ere(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var tre=ere({HTML:"text/html",isHTML:function(e){return e===tre.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),nre=ere({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===nre.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Zne.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Zne.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var r=0;r<e.length;r++)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];if(t.call(void 0,i,r,e))return i}},Zne.freeze=ere,Zne.MIME_TYPE=tre,Zne.NAMESPACE=nre;var rre=Zne,ire=rre.find,ore=rre.NAMESPACE;function are(e){return""!==e}function sre(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function ure(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(are):[]}(e);return Object.keys(t.reduce(sre,{}))}function lre(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function cre(e,t){var n=e.prototype;if(!(n instanceof t)){function r(){}r.prototype=t.prototype,lre(n,r=new r),e.prototype=n=r}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var dre={},fre=dre.ELEMENT_NODE=1,hre=dre.ATTRIBUTE_NODE=2,pre=dre.TEXT_NODE=3,vre=dre.CDATA_SECTION_NODE=4,mre=dre.ENTITY_REFERENCE_NODE=5,gre=dre.ENTITY_NODE=6,yre=dre.PROCESSING_INSTRUCTION_NODE=7,bre=dre.COMMENT_NODE=8,_re=dre.DOCUMENT_NODE=9,Ere=dre.DOCUMENT_TYPE_NODE=10,wre=dre.DOCUMENT_FRAGMENT_NODE=11,Sre=dre.NOTATION_NODE=12,Tre={},kre={};Tre.INDEX_SIZE_ERR=(kre[1]="Index size error",1),Tre.DOMSTRING_SIZE_ERR=(kre[2]="DOMString size error",2);var xre=Tre.HIERARCHY_REQUEST_ERR=(kre[3]="Hierarchy request error",3);Tre.WRONG_DOCUMENT_ERR=(kre[4]="Wrong document",4),Tre.INVALID_CHARACTER_ERR=(kre[5]="Invalid character",5),Tre.NO_DATA_ALLOWED_ERR=(kre[6]="No data allowed",6),Tre.NO_MODIFICATION_ALLOWED_ERR=(kre[7]="No modification allowed",7);var Are=Tre.NOT_FOUND_ERR=(kre[8]="Not found",8);Tre.NOT_SUPPORTED_ERR=(kre[9]="Not supported",9);var Pre=Tre.INUSE_ATTRIBUTE_ERR=(kre[10]="Attribute in use",10);function Ore(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,kre[e]),this.message=kre[e],Error.captureStackTrace&&Error.captureStackTrace(this,Ore);return n.code=e,t&&(this.message=this.message+": "+t),n}function Cre(){}function Ire(e,t){this._node=e,this._refresh=t,Lre(this)}function Lre(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(bie(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var r=n.length;r in e;r++)Object.prototype.hasOwnProperty.call(e,r)&&delete e[r];lre(n,e),e._inc=t}}function Nre(){}function Dre(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function Rre(e,t,n,r){if(r?t[Dre(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&zre(i,e,r),function(e,t,n){e&&e._inc++,n.namespaceURI===ore.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function Mre(e,t,n){var r=Dre(t,n);if(!(r>=0))throw new Ore(Are,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var o=e.ownerDocument;o&&(zre(o,e,n),n.ownerElement=null)}}function jre(){}function Fre(){}function Vre(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function Ure(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(Ure(e,t))return!0}while(e=e.nextSibling)}function Bre(){this.ownerDocument=this}function zre(e,t,n,r){e&&e._inc++,n.namespaceURI===ore.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function Gre(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o,delete r[r.length]}}}function qre(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,Gre(e.ownerDocument,e),t}function Hre(e){return e&&e.nodeType===Fre.DOCUMENT_TYPE_NODE}function Wre(e){return e&&e.nodeType===Fre.ELEMENT_NODE}function Kre(e){return e&&e.nodeType===Fre.TEXT_NODE}function Yre(e,t){var n=e.childNodes||[];if(ire(n,Wre)||Hre(t))return!1;var r=ire(n,Hre);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function Xre(e,t){var n=e.childNodes||[];if(ire(n,(function(e){return Wre(e)&&e!==t})))return!1;var r=ire(n,Hre);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function $re(e,t,n){if(!function(e){return e&&(e.nodeType===Fre.DOCUMENT_NODE||e.nodeType===Fre.DOCUMENT_FRAGMENT_NODE||e.nodeType===Fre.ELEMENT_NODE)}(e))throw new Ore(xre,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new Ore(Are,"child not in parent");if(!function(e){return e&&(Wre(e)||Kre(e)||Hre(e)||e.nodeType===Fre.DOCUMENT_FRAGMENT_NODE||e.nodeType===Fre.COMMENT_NODE||e.nodeType===Fre.PROCESSING_INSTRUCTION_NODE)}(t)||Hre(t)&&e.nodeType!==Fre.DOCUMENT_NODE)throw new Ore(xre,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function Qre(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===Fre.DOCUMENT_FRAGMENT_NODE){var o=i.filter(Wre);if(o.length>1||ire(i,Kre))throw new Ore(xre,"More than one element or text in fragment");if(1===o.length&&!Yre(e,n))throw new Ore(xre,"Element in fragment can not be inserted before doctype")}if(Wre(t)&&!Yre(e,n))throw new Ore(xre,"Only one element can be added and only after doctype");if(Hre(t)){if(ire(r,Hre))throw new Ore(xre,"Only one doctype is allowed");var a=ire(r,Wre);if(n&&r.indexOf(a)<r.indexOf(n))throw new Ore(xre,"Doctype can only be inserted before an element");if(!n&&a)throw new Ore(xre,"Doctype can not be appended since element is present")}}function Jre(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===Fre.DOCUMENT_FRAGMENT_NODE){var o=i.filter(Wre);if(o.length>1||ire(i,Kre))throw new Ore(xre,"More than one element or text in fragment");if(1===o.length&&!Xre(e,n))throw new Ore(xre,"Element in fragment can not be inserted before doctype")}if(Wre(t)&&!Xre(e,n))throw new Ore(xre,"Only one element can be added and only after doctype");if(Hre(t)){function s(e){return Hre(e)&&e!==n}if(ire(r,s))throw new Ore(xre,"Only one doctype is allowed");var a=ire(r,Wre);if(n&&r.indexOf(a)<r.indexOf(n))throw new Ore(xre,"Doctype can only be inserted before an element")}}function Zre(e,t,n,r){$re(e,t,n),e.nodeType===Fre.DOCUMENT_NODE&&(r||Qre)(e,t,n);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===wre){var o=t.firstChild;if(null==o)return t;var a=t.lastChild}else o=a=t;var s=n?n.previousSibling:e.lastChild;o.previousSibling=s,a.nextSibling=n,s?s.nextSibling=o:e.firstChild=o,null==n?e.lastChild=a:n.previousSibling=a;do{o.parentNode=e}while(o!==a&&(o=o.nextSibling));return Gre(e.ownerDocument||e,e),t.nodeType==wre&&(t.firstChild=t.lastChild=null),t}function eie(){this._nsMap={}}function tie(){}function nie(){}function rie(){}function iie(){}function oie(){}function aie(){}function sie(){}function uie(){}function lie(){}function cie(){}function die(){}function fie(){}function hie(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,i=r.prefix,o=r.namespaceURI;if(o&&null==i&&null==(i=r.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return mie(this,n,e,t,a),n.join("")}function pie(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!i)return!1;if("xml"===r&&i===ore.XML||i===ore.XMLNS)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix===r)return a.namespace!==i}return!0}function vie(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,Vre),'"')}function mie(e,t,n,r,i){if(i||(i=[]),r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case fre:var o=e.attributes,a=o.length,s=e.firstChild,u=e.tagName,l=u;if(!(n=ore.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var c,d=0;d<o.length;d++)if("xmlns"===o.item(d).name){c=o.item(d).value;break}if(!c)for(var f=i.length-1;f>=0;f--)if(""===(h=i[f]).prefix&&h.namespace===e.namespaceURI){c=h.namespace;break}if(c!==e.namespaceURI)for(f=i.length-1;f>=0;f--){var h;if((h=i[f]).namespace===e.namespaceURI){h.prefix&&(l=h.prefix+":"+u);break}}}t.push("<",l);for(var p=0;p<a;p++)"xmlns"==(v=o.item(p)).prefix?i.push({prefix:v.localName,namespace:v.value}):"xmlns"==v.nodeName&&i.push({prefix:"",namespace:v.value});for(p=0;p<a;p++){var v,m,g;pie(v=o.item(p),0,i)&&(vie(t,(m=v.prefix||"")?"xmlns:"+m:"xmlns",g=v.namespaceURI),i.push({prefix:m,namespace:g})),mie(v,t,n,r,i)}if(u===l&&pie(e,0,i)&&(vie(t,(m=e.prefix||"")?"xmlns:"+m:"xmlns",g=e.namespaceURI),i.push({prefix:m,namespace:g})),s||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(t.push(">"),n&&/^script$/i.test(u))for(;s;)s.data?t.push(s.data):mie(s,t,n,r,i.slice()),s=s.nextSibling;else for(;s;)mie(s,t,n,r,i.slice()),s=s.nextSibling;t.push("</",l,">")}else t.push("/>");return;case _re:case wre:for(s=e.firstChild;s;)mie(s,t,n,r,i.slice()),s=s.nextSibling;return;case hre:return vie(t,e.name,e.value);case pre:return t.push(e.data.replace(/[<&>]/g,Vre));case vre:return t.push("<![CDATA[",e.data,"]]>");case bre:return t.push("\x3c!--",e.data,"--\x3e");case Ere:var y=e.publicId,b=e.systemId;if(t.push("<!DOCTYPE ",e.name),y)t.push(" PUBLIC ",y),b&&"."!=b&&t.push(" ",b),t.push(">");else if(b&&"."!=b)t.push(" SYSTEM ",b,">");else{var _=e.internalSubset;_&&t.push(" [",_,"]"),t.push(">")}return;case yre:return t.push("<?",e.target," ",e.data,"?>");case mre:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function gie(e,t,n){var r;switch(t.nodeType){case fre:(r=t.cloneNode(!1)).ownerDocument=e;case wre:break;case hre:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(gie(e,i,n)),i=i.nextSibling;return r}function yie(e,t,n){var r=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=t[i];"object"!=typeof o&&o!=r[i]&&(r[i]=o)}switch(t.childNodes&&(r.childNodes=new Cre),r.ownerDocument=e,r.nodeType){case fre:var a=t.attributes,s=r.attributes=new Nre,u=a.length;s._ownerElement=r;for(var l=0;l<u;l++)r.setAttributeNode(yie(e,a.item(l),!0));break;case hre:n=!0}if(n)for(var c=t.firstChild;c;)r.appendChild(yie(e,c,n)),c=c.nextSibling;return r}function bie(e,t,n){e[t]=n}Tre.INVALID_STATE_ERR=(kre[11]="Invalid state",11),Tre.SYNTAX_ERR=(kre[12]="Syntax error",12),Tre.INVALID_MODIFICATION_ERR=(kre[13]="Invalid modification",13),Tre.NAMESPACE_ERR=(kre[14]="Invalid namespace",14),Tre.INVALID_ACCESS_ERR=(kre[15]="Invalid access",15),Ore.prototype=Error.prototype,lre(Tre,Ore),Cre.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)mie(this[r],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},Ire.prototype.item=function(e){return Lre(this),this[e]||null},cre(Ire,Cre),Nre.prototype={length:0,item:Cre.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new Ore(Pre);var n=this.getNamedItem(e.nodeName);return Rre(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new Ore(Pre);return t=this.getNamedItemNS(e.namespaceURI,e.localName),Rre(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return Mre(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return Mre(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},jre.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=new Bre;if(r.implementation=this,r.childNodes=new Cre,r.doctype=n||null,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new aie;return r.name=e,r.nodeName=e,r.publicId=t||"",r.systemId=n||"",r}},Fre.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Zre(this,e,t)},replaceChild:function(e,t){Zre(this,e,t,Jre),t&&this.removeChild(t)},removeChild:function(e){return qre(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return yie(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==pre&&e.nodeType==pre?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e)return r;t=t.nodeType==hre?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==hre?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},lre(dre,Fre),lre(dre,Fre.prototype),Bre.prototype={nodeName:"#document",nodeType:_re,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==wre){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return Zre(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===fre&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),qre(this,e)},replaceChild:function(e,t){Zre(this,e,t,Jre),e.ownerDocument=this,t&&this.removeChild(t),Wre(e)&&(this.documentElement=e)},importNode:function(e,t){return gie(this,e,t)},getElementById:function(e){var t=null;return Ure(this.documentElement,(function(n){if(n.nodeType==fre&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=ure(e);return new Ire(this,(function(n){var r=[];return t.length>0&&Ure(n.documentElement,(function(i){if(i!==n&&i.nodeType===fre){var o=i.getAttribute("class");if(o){var a=e===o;if(!a){var s=ure(o);a=t.every((u=s,function(e){return u&&-1!==u.indexOf(e)}))}a&&r.push(i)}}var u})),r}))},createElement:function(e){var t=new eie;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new Cre,(t.attributes=new Nre)._ownerElement=t,t},createDocumentFragment:function(){var e=new cie;return e.ownerDocument=this,e.childNodes=new Cre,e},createTextNode:function(e){var t=new rie;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new iie;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new oie;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new die;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new tie;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new lie;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new eie,r=t.split(":"),i=n.attributes=new Nre;return n.childNodes=new Cre,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new tie,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},cre(Bre,Fre),eie.prototype={nodeType:fre,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===wre?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,Gre(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new Ire(this,(function(t){var n=[];return Ure(t,(function(r){r===t||r.nodeType!=fre||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new Ire(this,(function(n){var r=[];return Ure(n,(function(i){i===n||i.nodeType!==fre||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}},Bre.prototype.getElementsByTagName=eie.prototype.getElementsByTagName,Bre.prototype.getElementsByTagNameNS=eie.prototype.getElementsByTagNameNS,cre(eie,Fre),tie.prototype.nodeType=hre,cre(tie,Fre),nie.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(kre[xre])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},cre(nie,Fre),rie.prototype={nodeName:"#text",nodeType:pre,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},cre(rie,nie),iie.prototype={nodeName:"#comment",nodeType:bre},cre(iie,nie),oie.prototype={nodeName:"#cdata-section",nodeType:vre},cre(oie,nie),aie.prototype.nodeType=Ere,cre(aie,Fre),sie.prototype.nodeType=Sre,cre(sie,Fre),uie.prototype.nodeType=gre,cre(uie,Fre),lie.prototype.nodeType=mre,cre(lie,Fre),cie.prototype.nodeName="#document-fragment",cie.prototype.nodeType=wre,cre(cie,Fre),die.prototype.nodeType=yre,cre(die,Fre),fie.prototype.serializeToString=function(e,t,n){return hie.call(e,t,n)},Fre.prototype.toString=hie;try{if(Object.defineProperty){function fMe(e){switch(e.nodeType){case fre:case wre:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(fMe(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(Ire.prototype,"length",{get:function(){return Lre(this),this.$$length}}),Object.defineProperty(Fre.prototype,"textContent",{get:function(){return fMe(this)},set:function(e){switch(this.nodeType){case fre:case wre:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),bie=function(e,t,n){e["$$"+t]=n}}}catch(kce){}Jne.DocumentType=aie,Jne.DOMException=Ore,Jne.DOMImplementation=jre,Jne.Element=eie,Jne.Node=Fre,Jne.NodeList=Cre,Jne.XMLSerializer=fie;var _ie={},Eie={};!function(e){var t=Zne.freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),e.entityMap=e.HTML_ENTITIES}(Eie);var wie={},Sie=Zne.NAMESPACE,Tie=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,kie=new RegExp("[\\-\\.0-9"+Tie.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),xie=new RegExp("^"+Tie.source+kie.source+"*(?::"+Tie.source+kie.source+"*)?$"),Aie=0,Pie=1,Oie=2,Cie=3,Iie=4,Lie=5,Nie=6,Die=7;function Rie(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,Rie)}function Mie(){}function jie(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function Fie(e,t,n,r,i,o){function a(e,t,r){n.attributeNames.hasOwnProperty(e)&&o.fatalError("Attribute "+e+" redefined"),n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),r)}for(var s,u=++t,l=Aie;;){var c=e.charAt(u);switch(c){case"=":if(l===Pie)s=e.slice(t,u),l=Cie;else{if(l!==Oie)throw new Error("attribute equal must after attrName");l=Cie}break;case"'":case'"':if(l===Cie||l===Pie){if(l===Pie&&(o.warning('attribute value must after "="'),s=e.slice(t,u)),t=u+1,!((u=e.indexOf(c,t))>0))throw new Error("attribute value no end '"+c+"' match");a(s,d=e.slice(t,u),t-1),l=Lie}else{if(l!=Iie)throw new Error('attribute value must after "="');a(s,d=e.slice(t,u),t),o.warning('attribute "'+s+'" missed start quot('+c+")!!"),t=u+1,l=Lie}break;case"/":switch(l){case Aie:n.setTagName(e.slice(t,u));case Lie:case Nie:case Die:l=Die,n.closed=!0;case Iie:case Pie:break;case Oie:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),l==Aie&&n.setTagName(e.slice(t,u)),u;case">":switch(l){case Aie:n.setTagName(e.slice(t,u));case Lie:case Nie:case Die:break;case Iie:case Pie:"/"===(d=e.slice(t,u)).slice(-1)&&(n.closed=!0,d=d.slice(0,-1));case Oie:l===Oie&&(d=s),l==Iie?(o.warning('attribute "'+d+'" missed quot(")!'),a(s,d,t)):(Sie.isHTML(r[""])&&d.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),a(d,d,t));break;case Cie:throw new Error("attribute value missed!!")}return u;case"":c=" ";default:if(c<=" ")switch(l){case Aie:n.setTagName(e.slice(t,u)),l=Nie;break;case Pie:s=e.slice(t,u),l=Oie;break;case Iie:var d=e.slice(t,u);o.warning('attribute "'+d+'" missed quot(")!!'),a(s,d,t);case Lie:l=Nie}else switch(l){case Oie:n.tagName,Sie.isHTML(r[""])&&s.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),a(s,s,t),t=u,l=Pie;break;case Lie:o.warning('attribute space is required"'+s+'"!!');case Nie:l=Pie,t=u;break;case Cie:l=Iie,t=u;break;case Die:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function Vie(e,t,n){for(var r=e.tagName,i=null,o=e.length;o--;){var a=e[o],s=a.qName,u=a.value;if((f=s.indexOf(":"))>0)var l=a.prefix=s.slice(0,f),c=s.slice(f+1),d="xmlns"===l&&c;else c=s,l=null,d="xmlns"===s&&"";a.localName=c,!1!==d&&(null==i&&(i={},zie(n,n={})),n[d]=i[d]=u,a.uri=Sie.XMLNS,t.startPrefixMapping(d,u))}for(o=e.length;o--;)(l=(a=e[o]).prefix)&&("xml"===l&&(a.uri=Sie.XML),"xmlns"!==l&&(a.uri=n[l||""]));var f;(f=r.indexOf(":"))>0?(l=e.prefix=r.slice(0,f),c=e.localName=r.slice(f+1)):(l=null,c=e.localName=r);var h=e.uri=n[l||""];if(t.startElement(h,c,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,!0;if(t.endElement(h,c,r),i)for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&t.endPrefixMapping(l)}function Uie(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),o)}return t+1}function Bie(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function zie(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function Gie(e,t,n,r){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var o=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=!1,l=!1;a>3&&(/^public$/i.test(o[2][0])?(u=o[3][0],l=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(l=o[3][0]));var c=o[a-1];return n.startDTD(s,u,l),n.endDTD(),c.index+c[0].length}return-1}function qie(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function Hie(){this.attributeNames={}}Rie.prototype=new Error,Rie.prototype.name=Rie.name,Mie.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),zie(t,t={}),function(e,t,n,r,i){function o(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function a(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(n,t)?n[t]:"#"===t.charAt(0)?o(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function s(t){if(t>v){var n=e.substring(v,t).replace(/&#?\w+;/g,a);f&&u(v),r.characters(n,0,t-v),v=t}}function u(t,n){for(;t>=c&&(n=d.exec(e));)l=n.index,c=l+n[0].length,f.lineNumber++;f.columnNumber=t-l+1}for(var l=0,c=0,d=/.*(?:\r\n?|\n)|.*$/g,f=r.locator,h=[{currentNSMap:t}],p={},v=0;;){try{var m=e.indexOf("<",v);if(m<0){if(!e.substr(v).match(/^\s*$/)){var g=r.doc,y=g.createTextNode(e.substr(v));g.appendChild(y),r.currentElement=y}return}switch(m>v&&s(m),e.charAt(m+1)){case"/":var b=e.indexOf(">",m+3),_=e.substring(m+2,b).replace(/[ \t\n\r]+$/g,""),E=h.pop();b<0?(_=e.substring(m+2).replace(/[\s<].*/,""),i.error("end tag name: "+_+" is not complete:"+E.tagName),b=m+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),i.error("end tag name: "+_+" maybe not complete"),b=m+1+_.length);var w=E.localNSMap,S=E.tagName==_;if(S||E.tagName&&E.tagName.toLowerCase()==_.toLowerCase()){if(r.endElement(E.uri,E.localName,_),w)for(var T in w)Object.prototype.hasOwnProperty.call(w,T)&&r.endPrefixMapping(T);S||i.fatalError("end tag name: "+_+" is not match the current start tagName:"+E.tagName)}else h.push(E);b++;break;case"?":f&&u(m),b=qie(e,m,r);break;case"!":f&&u(m),b=Gie(e,m,r,i);break;default:f&&u(m);var k=new Hie,x=h[h.length-1].currentNSMap,A=(b=Fie(e,m,k,x,a,i),k.length);if(!k.closed&&Bie(e,b,k.tagName,p)&&(k.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),f&&A){for(var P=jie(f,{}),O=0;O<A;O++){var C=k[O];u(C.offset),C.locator=jie(f,{})}r.locator=P,Vie(k,r,x)&&h.push(k),r.locator=f}else Vie(k,r,x)&&h.push(k);Sie.isHTML(k.uri)&&!k.closed?b=Uie(e,b,k.tagName,a,r):b++}}catch(e){if(e instanceof Rie)throw e;i.error("element parse error: "+e),b=-1}b>v?v=b:s(Math.max(m,v)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},Hie.prototype={setTagName:function(e){if(!xie.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!xie.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},wie.XMLReader=Mie,wie.ParseError=Rie;var Wie=Zne,Kie=Eie,Yie=wie,Xie=Jne.DOMImplementation,$ie=Wie.NAMESPACE,Qie=Yie.ParseError,Jie=Yie.XMLReader;function Zie(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function eoe(e){this.options=e||{locator:{}}}function toe(){this.cdata=!1}function noe(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function roe(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function ioe(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function ooe(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}eoe.prototype.parseFromString=function(e,t){var n=this.options,r=new Jie,i=n.domBuilder||new toe,o=n.errorHandler,a=n.locator,s=n.xmlns||{},u=/\/x?html?$/.test(t),l=u?Kie.HTML_ENTITIES:Kie.XML_ENTITIES;a&&i.setDocumentLocator(a),r.errorHandler=function(e,t,n){if(!e){if(t instanceof toe)return t;e=t}var r={},i=e instanceof Function;function o(t){var o=e[t];!o&&i&&(o=2==e.length?function(n){e(t,n)}:e),r[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+roe(n))}||function(){}}return n=n||{},o("warning"),o("error"),o("fatalError"),r}(o,i,a),r.domBuilder=n.domBuilder||i,u&&(s[""]=$ie.HTML),s.xml=s.xml||$ie.XML;var c=n.normalizeLineEndings||Zie;return e&&"string"==typeof e?r.parse(c(e),s,l):r.errorHandler.error("invalid doc source"),i.doc},toe.prototype={startDocument:function(){this.doc=(new Xie).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,o=i.createElementNS(e,n||t),a=r.length;ooe(this,o),this.currentElement=o,this.locator&&noe(this.locator,o);for(var s=0;s<a;s++){e=r.getURI(s);var u=r.getValue(s),l=(n=r.getQName(s),i.createAttributeNS(e,n));this.locator&&noe(r.getLocator(s),l),l.value=l.nodeValue=u,o.setAttributeNode(l)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&noe(this.locator,n),ooe(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=ioe.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&noe(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=ioe.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&noe(this.locator,r),ooe(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&noe(this.locator,i),ooe(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]\t"+e,roe(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,roe(this.locator))},fatalError:function(e){throw new Qie(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){toe.prototype[e]=function(){return null}})),_ie.__DOMHandler=toe,_ie.normalizeLineEndings=Zie,_ie.DOMParser=eoe;var aoe=_ie.DOMParser;function soe(e){return(new aoe).parseFromString("<t>"+e+"</t>","application/xml").documentElement.textContent}function uoe(e,t){return Math.abs(e-t)}function loe(e,t,n){for(var r=e.length,i=-1,o=1/0,a=NaN,s=0;s<r;++s)(a=n(e[s],t))<o&&(o=a,i=s);return i}function coe(e){return/^av01\./.test(e)||/^mp4v\./.test(e)||/^hev1\./.test(e)||/^hvc1\./.test(e)||/^avc1\./.test(e)||/^dvh1\./.test(e)||/^dvhe\./.test(e)||"vp8"===e||"vp9"===e?"video":/^mp4a\./.test(e)||"vorbis"===e||"opus"===e||"ac-3"===e||"ec-3"===e?"audio":"unknown"}const doe={aa:{name:"Afar",dir:1,native:"Afar"},ab:{name:"Abkhazian",dir:1,native:"Аҧсуа"},af:{name:"Afrikaans",dir:1,native:"Afrikaans"},ak:{name:"Akan",dir:1,native:"Akana"},am:{name:"Amharic",dir:1,native:"አማርኛ"},an:{name:"Aragonese",dir:1,native:"Aragonés"},ar:{name:"Arabic",dir:0,native:"العربية"},as:{name:"Assamese",dir:1,native:"অসমীয়া"},av:{name:"Avar",dir:1,native:"Авар"},ay:{name:"Aymara",dir:1,native:"Aymar"},az:{name:"Azerbaijani",dir:1,native:"Azərbaycanca / آذربايجان"},ba:{name:"Bashkir",dir:1,native:"Башҡорт"},be:{name:"Belarusian",dir:1,native:"Беларуская"},bg:{name:"Bulgarian",dir:1,native:"Български"},bh:{name:"Bihari",dir:1,native:"भोजपुरी"},bi:{name:"Bislama",dir:1,native:"Bislama"},bm:{name:"Bambara",dir:1,native:"Bamanankan"},bn:{name:"Bengali",dir:1,native:"বাংলা"},bo:{name:"Tibetan",dir:1,native:"བོད་ཡིག / Bod skad"},br:{name:"Breton",dir:1,native:"Brezhoneg"},bs:{name:"Bosnian",dir:1,native:"Bosanski"},ca:{name:"Catalan",dir:1,native:"Català"},ce:{name:"Chechen",dir:1,native:"Нохчийн"},ch:{name:"Chamorro",dir:1,native:"Chamoru"},co:{name:"Corsican",dir:1,native:"Corsu"},cr:{name:"Cree",dir:1,native:"Nehiyaw"},cs:{name:"Czech",dir:1,native:"Česky"},cu:{name:"Old Church Slavonic / Old Bulgarian",dir:1,native:"словѣньскъ / slověnĭskŭ"},cv:{name:"Chuvash",dir:1,native:"Чăваш"},cy:{name:"Welsh",dir:1,native:"Cymraeg"},da:{name:"Danish",dir:1,native:"Dansk"},de:{name:"German",dir:1,native:"Deutsch"},dv:{name:"Divehi",dir:0,native:"ދިވެހިބަސް"},dz:{name:"Dzongkha",dir:1,native:"ཇོང་ཁ"},ee:{name:"Ewe",dir:1,native:"Ɛʋɛ"},el:{name:"Greek",dir:1,native:"Ελληνικά"},en:{name:"English",dir:1,native:"English"},eo:{name:"Esperanto",dir:1,native:"Esperanto"},es:{name:"Spanish",dir:1,native:"Español"},et:{name:"Estonian",dir:1,native:"Eesti"},eu:{name:"Basque",dir:1,native:"Euskara"},fa:{name:"Persian",dir:0,native:"فارسی"},ff:{name:"Peul",dir:1,native:"Fulfulde"},fi:{name:"Finnish",dir:1,native:"Suomi"},fj:{name:"Fijian",dir:1,native:"Na Vosa Vakaviti"},fo:{name:"Faroese",dir:1,native:"Føroyskt"},fr:{name:"French",dir:1,native:"Français"},fy:{name:"West Frisian",dir:1,native:"Frysk"},ga:{name:"Irish",dir:1,native:"Gaeilge"},gd:{name:"Scottish Gaelic",dir:1,native:"Gàidhlig"},gl:{name:"Galician",dir:1,native:"Galego"},gn:{name:"Guarani",dir:1,native:"Avañe'ẽ"},gu:{name:"Gujarati",dir:1,native:"ગુજરાતી"},gv:{name:"Manx",dir:1,native:"Gaelg"},ha:{name:"Hausa",dir:0,native:"هَوُسَ"},he:{name:"Hebrew",dir:0,native:"עברית"},hi:{name:"Hindi",dir:1,native:"हिन्दी"},ho:{name:"Hiri Motu",dir:1,native:"Hiri Motu"},hr:{name:"Croatian",dir:1,native:"Hrvatski"},ht:{name:"Haitian",dir:1,native:"Krèyol ayisyen"},hu:{name:"Hungarian",dir:1,native:"Magyar"},hy:{name:"Armenian",dir:1,native:"Հայերեն"},hz:{name:"Herero",dir:1,native:"Otsiherero"},ia:{name:"Interlingua",dir:1,native:"Interlingua"},id:{name:"Indonesian",dir:1,native:"Bahasa Indonesia"},ie:{name:"Interlingue",dir:1,native:"Interlingue"},ig:{name:"Igbo",dir:1,native:"Igbo"},ii:{name:"Sichuan Yi",dir:1,native:"ꆇꉙ / 四川彝语"},ik:{name:"Inupiak",dir:1,native:"Iñupiak"},io:{name:"Ido",dir:1,native:"Ido"},is:{name:"Icelandic",dir:1,native:"Íslenska"},it:{name:"Italian",dir:1,native:"Italiano"},iu:{name:"Inuktitut",dir:1,native:"ᐃᓄᒃᑎᑐᑦ"},ja:{name:"Japanese",dir:1,native:"日本語"},jv:{name:"Javanese",dir:1,native:"Basa Jawa"},ka:{name:"Georgian",dir:1,native:"ქართული"},kg:{name:"Kongo",dir:1,native:"KiKongo"},ki:{name:"Kikuyu",dir:1,native:"Gĩkũyũ"},kj:{name:"Kuanyama",dir:1,native:"Kuanyama"},kk:{name:"Kazakh",dir:1,native:"Қазақша"},kl:{name:"Greenlandic",dir:1,native:"Kalaallisut"},km:{name:"Cambodian",dir:1,native:"ភាសាខ្មែរ"},kn:{name:"Kannada",dir:1,native:"ಕನ್ನಡ"},ko:{name:"Korean",dir:1,native:"한국어"},kr:{name:"Kanuri",dir:1,native:"Kanuri"},ks:{name:"Kashmiri",dir:0,native:"कश्मीरी / كشميري"},ku:{name:"Kurdish",dir:0,native:"Kurdî / كوردی"},kv:{name:"Komi",dir:1,native:"Коми"},kw:{name:"Cornish",dir:1,native:"Kernewek"},ky:{name:"Kirghiz",dir:1,native:"Kırgızca / Кыргызча"},la:{name:"Latin",dir:1,native:"Latina"},lb:{name:"Luxembourgish",dir:1,native:"Lëtzebuergesch"},lg:{name:"Ganda",dir:1,native:"Luganda"},li:{name:"Limburgian",dir:1,native:"Limburgs"},ln:{name:"Lingala",dir:1,native:"Lingála"},lo:{name:"Laotian",dir:1,native:"ລາວ / Pha xa lao"},lt:{name:"Lithuanian",dir:1,native:"Lietuvių"},lv:{name:"Latvian",dir:1,native:"Latviešu"},mg:{name:"Malagasy",dir:1,native:"Malagasy"},mh:{name:"Marshallese",dir:1,native:"Kajin Majel / Ebon"},mi:{name:"Maori",dir:1,native:"Māori"},mk:{name:"Macedonian",dir:1,native:"Македонски"},ml:{name:"Malayalam",dir:1,native:"മലയാളം"},mn:{name:"Mongolian",dir:1,native:"Монгол"},mo:{name:"Moldovan",dir:1,native:"Moldovenească"},mr:{name:"Marathi",dir:1,native:"मराठी"},ms:{name:"Malay",dir:1,native:"Bahasa Melayu"},mt:{name:"Maltese",dir:1,native:"bil-Malti"},my:{name:"Burmese",dir:1,native:"Myanmasa"},na:{name:"Nauruan",dir:1,native:"Dorerin Naoero"},nd:{name:"North Ndebele",dir:1,native:"Sindebele"},ne:{name:"Nepali",dir:1,native:"नेपाली"},ng:{name:"Ndonga",dir:1,native:"Oshiwambo"},nl:{name:"Dutch",dir:1,native:"Nederlands"},nn:{name:"Norwegian Nynorsk",dir:1,native:"Norsk (nynorsk)"},no:{name:"Norwegian",dir:1,native:"Norsk (bokmål / riksmål)"},nr:{name:"South Ndebele",dir:1,native:"isiNdebele"},nv:{name:"Navajo",dir:1,native:"Diné bizaad"},ny:{name:"Chichewa",dir:1,native:"Chi-Chewa"},oc:{name:"Occitan",dir:1,native:"Occitan"},oj:{name:"Ojibwa",dir:1,native:"ᐊᓂᔑᓈᐯᒧᐎᓐ / Anishinaabemowin"},om:{name:"Oromo",dir:1,native:"Oromoo"},or:{name:"Oriya",dir:1,native:"ଓଡ଼ିଆ"},os:{name:"Ossetian / Ossetic",dir:1,native:"Иронау"},pa:{name:"Panjabi / Punjabi",dir:1,native:"ਪੰਜਾਬੀ / पंजाबी / پنجابي"},pi:{name:"Pali",dir:1,native:"Pāli / पाऴि"},pl:{name:"Polish",dir:1,native:"Polski"},ps:{name:"Pashto",dir:0,native:"پښتو"},pt:{name:"Portuguese",dir:1,native:"Português"},qu:{name:"Quechua",dir:1,native:"Runa Simi"},rm:{name:"Raeto Romance",dir:1,native:"Rumantsch"},rn:{name:"Kirundi",dir:1,native:"Kirundi"},ro:{name:"Romanian",dir:1,native:"Română"},ru:{name:"Russian",dir:1,native:"Русский"},rw:{name:"Rwandi",dir:1,native:"Kinyarwandi"},sa:{name:"Sanskrit",dir:1,native:"संस्कृतम्"},sc:{name:"Sardinian",dir:1,native:"Sardu"},sd:{name:"Sindhi",dir:1,native:"सिनधि"},se:{name:"Northern Sami",dir:1,native:"Davvisámegiella"},sg:{name:"Sango",dir:1,native:"Sängö"},sh:{name:"Serbo-Croatian",dir:1,native:"Srpskohrvatski / Српскохрватски"},si:{name:"Sinhalese",dir:1,native:"සිංහල"},sk:{name:"Slovak",dir:1,native:"Slovenčina"},sl:{name:"Slovenian",dir:1,native:"Slovenščina"},sm:{name:"Samoan",dir:1,native:"Gagana Samoa"},sn:{name:"Shona",dir:1,native:"chiShona"},so:{name:"Somalia",dir:1,native:"Soomaaliga"},sq:{name:"Albanian",dir:1,native:"Shqip"},sr:{name:"Serbian",dir:1,native:"Српски"},ss:{name:"Swati",dir:1,native:"SiSwati"},st:{name:"Southern Sotho",dir:1,native:"Sesotho"},su:{name:"Sundanese",dir:1,native:"Basa Sunda"},sv:{name:"Swedish",dir:1,native:"Svenska"},sw:{name:"Swahili",dir:1,native:"Kiswahili"},ta:{name:"Tamil",dir:1,native:"தமிழ்"},te:{name:"Telugu",dir:1,native:"తెలుగు"},tg:{name:"Tajik",dir:1,native:"Тоҷикӣ"},th:{name:"Thai",dir:1,native:"ไทย / Phasa Thai"},ti:{name:"Tigrinya",dir:1,native:"ትግርኛ"},tk:{name:"Turkmen",dir:1,native:"Туркмен / تركمن"},tl:{name:"Tagalog",dir:1,native:"Tagalog"},tn:{name:"Tswana",dir:1,native:"Setswana"},to:{name:"Tonga",dir:1,native:"Lea Faka-Tonga"},tr:{name:"Turkish",dir:1,native:"Türkçe"},ts:{name:"Tsonga",dir:1,native:"Xitsonga"},tt:{name:"Tatar",dir:1,native:"Tatarça"},tw:{name:"Twi",dir:1,native:"Twi"},ty:{name:"Tahitian",dir:1,native:"Reo Mā`ohi"},ug:{name:"Uyghur",dir:1,native:"Uyƣurqə / ئۇيغۇرچە"},uk:{name:"Ukrainian",dir:1,native:"Українська"},ur:{name:"Urdu",dir:0,native:"اردو"},uz:{name:"Uzbek",dir:1,native:"Ўзбек"},ve:{name:"Venda",dir:1,native:"Tshivenḓa"},vi:{name:"Vietnamese",dir:1,native:"Việtnam"},vo:{name:"Volapük",dir:1,native:"Volapük"},wa:{name:"Walloon",dir:1,native:"Walon"},wo:{name:"Wolof",dir:1,native:"Wollof"},xh:{name:"Xhosa",dir:1,native:"isiXhosa"},yi:{name:"Yiddish",dir:0,native:"ייִדיש"},yo:{name:"Yoruba",dir:1,native:"Yorùbá"},za:{name:"Zhuang",dir:1,native:"Cuengh / Tôô / 壮语"},zh:{name:"Chinese",dir:1,native:"中文"},zu:{name:"Zulu",dir:1,native:"isiZulu"},nb:{name:"Norwegian Bokmål",dir:1,native:"Norsk (bokmål)"}};var foe={ko:"한국어",en:"English",ja:"日本語","zh-CN":"中文(简体)","zh-TW":"中文(繁體)",vi:"Tiếng Việt",th:"ภาษาไทย",id:"Bahasa Indonesia",es:"Español"};function hoe(e){var t,n,r,i=(null!==(n=null===(t=e.split(/[-_]/))||void 0===t?void 0:t[0])&&void 0!==n?n:e).toLowerCase();return"zh"===i?null!==(r=foe[e.replace("_","-")])&&void 0!==r?r:foe["zh-CN"]:Object.prototype.hasOwnProperty.call(foe,i)?foe[i]:function(e){if("string"!=typeof e)return;const t=e.toLowerCase();return{}.hasOwnProperty.call(doe,t)?{name:doe[t].name,native:doe[t].native,dir:1===Number(doe[t].dir)?"ltr":"rtl"}:void 0}(i).native}var poe=[function(e){return e.startsWith("avc1.")?"video":void 0},function(e){return e.startsWith("hvc1")||e.startsWith("hev1")||e.startsWith("dvh1")?"video":void 0},function(e){return e.startsWith("mp4a.")?"audio":void 0},function(e){return e.startsWith("ec-3")?"audio":void 0},function(e){return e.startsWith("eac3")?"audio":void 0}];function voe(e){for(var t,n=0;!t&&n<poe.length;++n)t=poe[n](e);return t}var moe=/\$([^$]+)\$/g;function goe(e){return e.width<e.height?e.width:e.height}var yoe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),boe=function(){return boe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},boe.apply(this,arguments)},_oe=["rec2100-hlg","rec2100-pq","srgb-linear"],Eoe=function(e){function t(t){var n,r=e.call(this)||this;return r._width=NaN,r._height=NaN,r._variants=t.variants||[],r._id=t.id||"",r._src=t.src,r._kind=t.kind||"main",r._language=t.language||"und",r._selected=null!==(n=t.selected)&&void 0!==n&&n,r._videoBitrate=t.videoBitrate,r._videoCodec=t.videoCodec,r._videoColorspaceInfo=Object.freeze(boe({},t.videoColorspaceInfo)),r._videoFrameRate=t.videoFrameRate,r._videoProjectionType=t.videoProjectionType,r._videoQuality=t.videoQuality,r._width=t.width,r._height=t.height,r}return yoe(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return this._src},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kind",{get:function(){return this._kind},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this._language},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected!==e&&(this._selected=e,this.dispatchEvent(new iZ(iZ.CHANGE,this.selected)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sourceBuffer",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){if("Auto"===this._videoQuality)return"ABR";var e=this,t=e.videoQuality,n=e.videoFrameRate,r=e.videoColorspaceInfo,i=e.videoCodec,o=void 0===i?"":i,a="";return(null==o?void 0:o.startsWith("dvh1"))||(null==o?void 0:o.startsWith("dvhe"))?a="DolbyVision":(null==r?void 0:r.colorspace)&&_oe.includes(r.colorspace)&&(a="HDR"),(t+(n&&n>30?""+o:"")+" "+a).trim()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"par",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){var e;return(null===(e=this._variants)||void 0===e?void 0:e.length)?this._variants.reduce((function(e,t){return Math.min(t.videoWidth,e)}),Number.MAX_SAFE_INTEGER):NaN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){var e;return(null===(e=this._variants)||void 0===e?void 0:e.length)?this._variants.reduce((function(e,t){return Math.min(t.videoHeight,e)}),Number.MAX_SAFE_INTEGER):NaN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){var e;return(null===(e=this._variants)||void 0===e?void 0:e.length)?this._variants.reduce((function(e,t){return Math.max(t.videoWidth,e)}),Number.MIN_SAFE_INTEGER):NaN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){var e;return(null===(e=this._variants)||void 0===e?void 0:e.length)?this._variants.reduce((function(e,t){return Math.max(t.videoHeight,e)}),Number.MIN_SAFE_INTEGER):NaN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFrameRate",{get:function(){var e;return(null===(e=this._variants)||void 0===e?void 0:e.length)?this._variants.reduce((function(e,t){return Math.max(t.videoFrameRate,e)}),Number.MIN_SAFE_INTEGER):NaN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFrameRate",{get:function(){var e;return(null===(e=this._variants)||void 0===e?void 0:e.length)?this._variants.reduce((function(e,t){return Math.min(t.videoFrameRate,e)}),Number.MAX_SAFE_INTEGER):NaN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxBandwidth",{get:function(){var e;return(null===(e=this._variants)||void 0===e?void 0:e.length)?this._variants.reduce((function(e,t){return Math.max(t.videoBitrate,e)}),Number.MIN_SAFE_INTEGER):NaN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minBandwidth",{get:function(){var e;return(null===(e=this._variants)||void 0===e?void 0:e.length)?this._variants.reduce((function(e,t){return Math.min(t.videoBitrate,e)}),Number.MAX_SAFE_INTEGER):NaN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoCodec",{get:function(){return this._videoCodec||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"codecs",{get:function(){return this._videoCodec?{video:this._videoCodec}:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoBitrate",{get:function(){return this._videoBitrate||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoQuality",{get:function(){return this._videoQuality||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoFrameRate",{get:function(){return this._videoFrameRate||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoProjectionType",{get:function(){return this._videoProjectionType||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoColorspaceInfo",{get:function(){return this._videoColorspaceInfo||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"audioLanguage",{get:function(){return this._audioLanguage||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"audioCodec",{get:function(){return this._audioCodec||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"audioBitrate",{get:function(){return this._audioBitrate||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"audioQuality",{get:function(){return this._audioQuality||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"audioSampleRate",{get:function(){return this._audioSampleRate||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"audioChannelLayout",{get:function(){return this._audioChannelLayout||null},enumerable:!1,configurable:!0}),t}(CJ),woe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Soe=function(e){function t(t,n,r){var i=this.constructor,o=e.call(this,n)||this;return o.code=t,o.message=n,o.detailMessage=r,Object.setPrototypeOf(o,i.prototype),o.name="VODPlayAPIError",o}return woe(t,e),t}(Error),Toe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),koe=function(){return koe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},koe.apply(this,arguments)},xoe=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Aoe=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Poe=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}},Ooe=function(e){return this instanceof Ooe?(this.v=e,this):new Ooe(e)},Coe=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof Ooe?Promise.resolve(e.value.v).then(u,l):c(o[0][2],e)}(i[e](t))}catch(e){c(o[0][3],e)}}function u(e){s("next",e)}function l(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},Ioe=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Loe=/\$Number(?:%0(\d+)d)?\$/,Noe={Widevine:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",PlayReady:"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",FairPlay:"urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2"};function Doe(e){switch(e.substring(0,4)){case"avc1":return 5;case"dvhe":case"dvh1":return 8;case"hvc1":return 7;default:return 0}}var Roe,Moe=function(e){function t(t){var n=e.call(this)||this;return n._player=null,n._uri=t,n._requestingMetadata=null,n._parsingMetadata=null,n._error=null,n._adaptSetIdIncrements=0,n._clientId=HZ(document.cookie).NNB||c$.v4(),n._drmKeySystem=null,n._mpd=null,n._rawData="",n._contentDuration=NaN,n._hlsTracks=null,n._pdTracks=null,n._textTracks=null,n._metaTracks=null,n._maxBitrate=NaN,n._maxDimension=NaN,n._videoId=null,n._serverTime=null,n._clientStartTime=NaN,n._expireTime=null,n._adi=null,n._adu=null,n._serviceId=null,n._tId=null,n._tIdCreatedAt=NaN,n._providers=null,n._creators=null,n._castings=null,n._serviceTrackingId=null,n._serviceContentId=null,n._serviceCategoryCode=null,n._deviceType="html5_wpc",n._drmType=null,n._summaries=[],n._seekingThumbnails=null,n._thumbnailSets=null,n._qoeTracking=null,n._qoeErrorTracking=null,n._pcTracking=null,n._ptTracking=null,n._vtsTrackings=null,n._representationContentProtectionMap=null,n._startTime=0,n._env="real",n._track=NaN,n._abrBegin=NaN,n._abrMax=NaN,n._cancel$=new wM,GX.init(n,{dimensions:{sid:function(){return Number(n._serviceId)},vid:function(){return n._videoId||""},tid:function(){return n._tId||""},tidCreatedAt:function(){return n._tIdCreatedAt},u:function(){return""},inout:function(){return"in"},os:vZ((function(){return gZ()||""})),osv:vZ((function(){return yZ()||""})),device:vZ((function(){return EZ()||""})),stp:function(){return 1},pageUrl:function(){return location.href},referer:function(){return document.referrer},cdnProvider:function(){var e,t;return(null===(t=null===(e=n._providers)||void 0===e?void 0:e[0])||void 0===t?void 0:t.name)||null},live:function(){return!1},bitrate:function(){var e=n._getSelectedVideoTrackInfo();if(!e)return{video:0,audio:0};var t=n._getDeterminedTrackBaseInfo(e);return t&&"number"==typeof t.bandwidth&&isFinite(t.bandwidth)?{video:t.bandwidth,audio:0}:{video:0,audio:0}},clientId:function(){return n._clientId},userAgent:function(){return navigator.userAgent},deviceType:function(){return n._deviceType},providerName:function(){var e,t;return null===(t=null===(e=n._providers)||void 0===e?void 0:e[0])||void 0===t?void 0:t.name},serviceTrackingId:function(){return n._serviceTrackingId},serviceContentId:function(){return n._serviceContentId},serviceCategoryCode:function(){return n._serviceCategoryCode},mediaType:function(){return"MAIN"}}}),n}return Toe(t,e),t.fromString=function(e,n){var r=new t(e);return r._responseData=n,r},Object.defineProperty(t.prototype,"protocol",{get:function(){return"vod3:"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._mpd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"player",{get:function(){return this._player},set:function(e){this._player=e,GX.mark(this,"mediaProvider.player.attach")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return null},enumerable:!1,configurable:!0}),t.prototype.load=function(){var e,t,n;return xoe(this,void 0,void 0,(function(){var r,i,o,a;return Aoe(this,(function(s){switch(s.label){case 0:this._cancel$.next(),null===(n=this._requestingMetadata)||void 0===n||n.abort(),s.label=1;case 1:s.trys.push([1,14,,15]),s.label=2;case 2:s.trys.push([2,7,8,13]),r=Poe(this._load()),s.label=3;case 3:return[4,r.next()];case 4:if((i=s.sent()).done)return[3,6];if(!i.value)return[3,6];s.label=5;case 5:return[3,3];case 6:return[3,13];case 7:return o=s.sent(),e={error:o},[3,13];case 8:return s.trys.push([8,,11,12]),i&&!i.done&&(t=r.return)?[4,t.call(r)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,12];case 11:if(e)throw e.error;return[7];case 12:return[7];case 13:return[3,15];case 14:return a=s.sent(),this._onError(a),[3,15];case 15:if(this._error)throw this._error;return[2]}}))}))},t.prototype.close=function(){var e,t;this._cancel$.next(),null===(e=this._requestingMetadata)||void 0===e||e.abort(),null===(t=this._parsingMetadata)||void 0===t||t.abort()},t.prototype.loop=function(){return xoe(this,void 0,void 0,(function(){return Aoe(this,(function(e){switch(e.label){case 0:return this.dispatchEvent(new F0(F0.Types.Loop))?(GX.mark(this.player,"player.action.loop"),this._player?(this._updateTrackings(),[4,this._updateAdInfo(this._player)]):[3,2]):[2,!1];case 1:e.sent(),e.label=2;case 2:return[2,!0]}}))}))},t.prototype.getThumbnailUrlAsync=function(e){var t,n,r,i;if(!isFinite(e)||!isFinite(this._contentDuration))return Promise.reject(new TypeError("Invalid media time"));var o=null===(t=this._seekingThumbnails)||void 0===t?void 0:t[0];if(!(o&&(null===(n=o["nvod:Page"])||void 0===n?void 0:n[0])&&(null===(r=o["nvod:Piece"])||void 0===r?void 0:r[0])&&(null===(i=o["nvod:Source"])||void 0===i?void 0:i[0])))return Promise.resolve(null);var a=o["nvod:Page"][0];a["@total"];var s=a["@row"],u=a["@column"],l=a["@totalPieceSize"],c=o["nvod:Piece"][0],d=c["@width"],f=c["@height"],h=o["nvod:Source"][0],p=h["@patternType"],v=h["#text"];if("sequence_pattern"!==p.toLowerCase())return Promise.resolve(null);var m=s*u,g=Math.max(0,Math.floor(e/this._contentDuration*l-1)),y=Math.floor(g/m),b=Math.floor(g%m),_=Math.floor(b/s),E=Math.floor(b%s)*d,w=_*f,S=v.replace(/#\./,y+"."),T="xywh="+E+","+w+","+d+","+f;return Promise.resolve(S+"#"+T)},t.prototype._checkExpireTime=function(){if(this._serverTime&&this._expireTime&&this._clientStartTime){var e=this._expireTime.getTime()-this._serverTime.getTime();Date.now()-this._clientStartTime>e&&(this._error=new u2(112,"playback session expired","playback session expired"))}},t.prototype._onBeforeRequest=function(e,t){var n=this;t.url.indexOf("&drm=aegis")>-1&&"aegis"===this._drmType&&(t.abort(),q0().then((function(r){if(!r)throw new Error("No available key system access");var i=d2(r);t.url=t.url.replace("&drm=aegis","&drm="+i),n._drmKeySystem=i,e.run()})).catch(console.error))},t.prototype._load=function(){var e;return Coe(this,arguments,(function(){var t;return Aoe(this,(function(n){switch(n.label){case 0:return[4,Ooe(this._onBeforeLoading())];case 1:return[4,n.sent()];case 2:n.sent(),n.label=3;case 3:return n.trys.push([3,11,,15]),[4,Ooe(this._requestServerData())];case 4:return n.sent(),[4,Ooe(this._onBeforeParsing())];case 5:return[4,n.sent()];case 6:return n.sent(),[4,Ooe(this._parseMetadata())];case 7:return n.sent(),[4,Ooe(this._onBeforeGeneratingTracks())];case 8:return[4,n.sent()];case 9:return n.sent(),[4,Ooe(this._readAdaptationSets())];case 10:return n.sent(),[3,15];case 11:return t=n.sent(),[4,Ooe(this._onError(t))];case 12:return[4,n.sent()];case 13:return n.sent(),103===(null===(e=this._error)||void 0===e?void 0:e.code)&&GX.mark(this,"mediaProvider.request.error",{api:"playApi",code:t.status}),[4,Ooe(void 0)];case 14:return[2,n.sent()];case 15:return this._player&&this._responseData?[4,Ooe(this._onBeforeUpdatePlayer())]:[3,19];case 16:return[4,n.sent()];case 17:return n.sent(),[4,Ooe(this._updatePlayer(this._player))];case 18:n.sent(),this._postProcessing(),this._updateAdInfo(this._player),n.label=19;case 19:return[2]}}))}))},t.prototype._postProcessing=function(){this._player.configurePostProcessor(Q0({enable:!0}))},t.prototype._createRequestObj=function(){var e,n=_0(this._uri),r=n.username,i=void 0===r?"":r,o=n.password,a=void 0===o?"":o,s=n.host,u=void 0===s?"":s,l=n.query,c=n.hash,d=parseFloat(c.startTime),f=parseInt(c.track,10),h=parseInt(c["abr-begin"]||c["start-level"],10)||t.DEFAULT_VIDEO_SCANLINE_ADAPTIVE_BEGIN,p=parseInt(c["abr-max"]||c["max-label"]||c["cap-track"],10)||t.DEFAULT_VIDEO_SCANLINE_ADAPTIVE_MAX,v=l.env||l.providerEnv||"real",m={},g=l.stid||null,y=l.scid||null,b=(null===(e=l.scc)||void 0===e?void 0:e.split(","))||null,_=l.devt||E0(),E=l.drm||null;l.adt||(m.adi=l.adi,m.adu=l.adu),this._serviceId=i,this._startTime=isFinite(d)?d:0,this._env=v,this._track=f,this._abrBegin=h,this._abrMax=p,this._serviceTrackingId=g,this._serviceContentId=y,this._serviceCategoryCode=b,this._deviceType=_,this._drmType=E;var w="test-play.vod.naver.com",S="v1/playback/"+u;switch(v){case"dev":w="dev-play.vod.naver.com";break;case"test":w="test-play.vod.naver.com";break;case"stage":w="stage-play.vod.naver.com";break;default:w="apis.naver.com",S="neonplayer/vodplay/"+S}var T=FJ(koe(koe({key:a,sid:i},l),m));return new Qne("https://"+w+"/"+S+"?"+T,{headers:{accept:"application/xml"},withCredentials:!0})},t.prototype._requestServerData=function(){return xoe(this,void 0,void 0,(function(){var e,t,n,r,i=this;return Aoe(this,(function(o){switch(o.label){case 0:return e=this._createRequestObj(),this._responseData?[2]:(this._requestingMetadata=e,t=Date.now(),[4,new Promise((function(t,n){return e.addListener({onBeforeRequest:i._onBeforeRequest.bind(i,e),onSuccess:t,onError:n,onAbort:function(){n(new Error("Aborted"))}}),e.run()}))]);case 1:return n=o.sent(),r=Date.now()-t,this._tIdCreatedAt=Math.round(t+r/2),this._requestingMetadata=null,this._responseData=n,[2]}}))}))},t.prototype._parseMetadata=function(){return xoe(this,void 0,void 0,(function(){var e,t,n=this;return Aoe(this,(function(r){if(!(e=this._responseData))throw new Error("ServerDataNotLoaded");if(t=function(e){var t=w2.parse(e,{ignoreAttributes:!1,attributeNamePrefix:"@",arrayMode:!0,parseNodeValue:!1,parseAttributeValue:!0,alwaysCreateTextNode:!0,attrValueProcessor:function(e,t){var n;if(Vne.indexOf(t)>-1)return(n=new Fne).test(e)?n.parse(e):e;if(Une.indexOf(t)>-1)return(n=new Rne).test(e)?n.parse(e):e;if(Bne.indexOf(t)>-1){var r=/^([0-9]*[0-9])(\/[0-9]*[0-9])?$/.exec(e);if(!r)return e;var i=r[1],o=r[2];return o?parseInt(i,10)/parseInt(o,10):parseInt(i,10)}return e}});return t}(e).MPD[0],this._rawData=e,"urn:naver:vod:2020"!==t["@xmlns:nvod"])throw console.error("@error: unknown scheme uri : "+t["@xmlns:nvod"]),new TypeError("UnknownVodSchemeUri");return this._mpd=t,this._readVideoId(t),this._readServerTime(t),this._readExpireTime(t),this._readContentDuration(t),this._readSupplementalProperty(t),this._player&&sF(this._player,fZ.ERROR).pipe(RB(this._cancel$)).subscribe((function(){n._checkExpireTime()})),[2,t]}))}))},t.prototype._readVideoId=function(e){this._videoId=e["@nvod:videoId"]||null},t.prototype._readServerTime=function(e){var t=e["@nvod:serverTime"];if(this._clientStartTime=Date.now(),t)try{var n=new Date(t);if(isNaN(n.getTime()))return void(this._serverTime=null);this._serverTime=n}catch(e){this._serverTime=null}else this._serverTime=null},t.prototype._readExpireTime=function(e){var t=e["@nvod:expireTime"];if(t)try{var n=new Date(t);if(isNaN(n.getTime()))return void(this._expireTime=null);if(n.getTime()<Date.now())return void(this._expireTime=null);this._expireTime=n}catch(e){this._expireTime=null}else this._expireTime=null},t.prototype._readContentDuration=function(e){this._contentDuration=e["@mediaPresentationDuration"]},t.prototype._readAdaptationSets=function(){var e,t,n;return xoe(this,void 0,void 0,(function(){var r,i,o,a,s,u,l,c,d,f,h,p,v,m,g,y,b,_,E;return Aoe(this,(function(w){switch(w.label){case 0:if(!(r=this._mpd))throw new Error("ServerDataNotParsed");if(!r.Period[0].AdaptationSet)return[2];i=r.Period[0].AdaptationSet,o=!1,w.label=1;case 1:w.trys.push([1,16,17,22]),a=Poe(i),w.label=2;case 2:return[4,a.next()];case 3:if((s=w.sent()).done)return[3,15];switch((u=s.value)["@mimeType"]){case"video/mp2t":return[3,4];case"video/mp4":return[3,6]}return[3,10];case 4:return l=this,d=(c=this._hlsTracks||[]).concat,[4,this._parseHlsTracks(u,r.Period[0],r)];case 5:return l._hlsTracks=d.apply(c,[w.sent()]),[3,14];case 6:return u["@subsegmentAlignment"]?(o=!0,[3,9]):[3,7];case 7:return f=this,p=(h=this._pdTracks||[]).concat,[4,this._parsePdTracks(u)];case 8:f._pdTracks=p.apply(h,[w.sent()]),w.label=9;case 9:return[3,14];case 10:return(null===(n=u.Representation)||void 0===n?void 0:n.some((function(e){return e.ContentProtection})))?(v=this,g=(m=this._drmTracks||[]).concat,[4,this._parseDrmTracks(u)]):[3,12];case 11:return v._drmTracks=g.apply(m,[w.sent()]),[3,13];case 12:u["@subsegmentAlignment"]?o=!0:console.warn("drop unknown AdaptationSet",u),w.label=13;case 13:return[3,14];case 14:return[3,2];case 15:return[3,22];case 16:return y=w.sent(),e={error:y},[3,22];case 17:return w.trys.push([17,,20,21]),s&&!s.done&&(t=a.return)?[4,t.call(a)]:[3,19];case 18:w.sent(),w.label=19;case 19:return[3,21];case 20:if(e)throw e.error;return[7];case 21:return[7];case 22:return o?(b=this,E=(_=this._dashTracks||[]).concat,[4,this._parseDashTracks()]):[3,24];case 23:b._dashTracks=E.apply(_,[w.sent()]),w.label=24;case 24:return[2]}}))}))},t.prototype._readSupplementalProperty=function(e){var t,n=null===(t=e.Period[0].SupplementalProperty)||void 0===t?void 0:t.find((function(e){return/^urn:naver:vod:information:/.test(e["@schemeIdUri"])}));n&&"urn:naver:vod:information:2019"===n["@schemeIdUri"]&&(n["nvod:Summary"]&&this._readSummary(n["nvod:Summary"][0]),n["nvod:EndCredits"]&&this._readEndCredits(n["nvod:EndCredits"]),n["nvod:Thumbnails"]&&this._readThumbnails(n["nvod:Thumbnails"][0]),n["nvod:Trackings"]&&this._readTrackings(n["nvod:Trackings"][0]),n["nvod:Advertise"]&&this._readAdvertise(n["nvod:Advertise"][0]),n["nvod:SubtitleSet"]&&this._readSubtitleSet(n["nvod:SubtitleSet"]),n["nvod:MetaPolicies"]&&this._readMetaPolicies(n["nvod:MetaPolicies"]))},t.prototype._readSummary=function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=r[n],o=i[0],a=i[1],s={};switch(o){case"nvod:Title":s.title=a[0]["#text"];break;case"nvod:Cover":s.coverThumbnail=a[0]["#text"];break;case"@lang":s.lang=a;break;case"nvod:HomeUrl":s.homepage=a[0]["#text"];break;case"nvod:Url":s.url=a[0]["#text"];break;default:console.warn('Unknown propery: "'+o+'"')}t.push(s)}this._summaries=t},t.prototype._readEndCredits=function(e){for(var t=[],n=[],r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a["nvod:Provider"])for(var s=0,u=a["nvod:Provider"];s<u.length;s++){var l=u[s],c=l["@id"],d=l["@name"];t.push({id:c,name:d})}if(a["nvod:Creator"])for(var f=0,h=a["nvod:Creator"];f<h.length;f++){var p=h[f],v=(c=p["@id"],p["@name"]),m=p["@type"];n.push({id:c,name:v,type:m})}if(a["nvod:Casting"])for(var g=0,y=a["nvod:Casting"];g<y.length;g++){var b=y[g],_=(c=b["@id"],b["@name"]);m=b["@type"],r.push({id:c,name:_,type:m})}}t.length||console.warn("@warn: No Provider information. must have at least one."),n.length||console.warn("@warn: No Creator information. must have at least one."),this._providers=t,this._creators=n,this._castings=r},t.prototype._readThumbnails=function(e){this._seekingThumbnails=e["nvod:SeekingThumbnail"]||null,this._thumbnailSets=e["nvod:ThumbnailSet"]||null},t.prototype._readTrackings=function(e){this._tId=e["@tid"]||null;var t=e["nvod:Tracking"];if(t)for(var n=0,r=t;n<r.length;n++){var i=r[n],o=i["@event"];switch(o){case"quality":this._qoeTracking=i;break;case"error":this._qoeErrorTracking=i;break;case"count":this._pcTracking=i;break;case"time":this._ptTracking=i;break;case"progress":this._vtsTrackings=(this._vtsTrackings||[]).concat(i);break;default:console.warn('@warn: unsupported tracking event "'+o+'"')}}},t.prototype._readAdvertise=function(e){var t,n,r,i;if(e["@enable"]){var o=null===(n=null===(t=e["nvod:Info"])||void 0===t?void 0:t[0])||void 0===n?void 0:n["#text"],a=null===(i=null===(r=e["nvod:Source"])||void 0===r?void 0:r[0])||void 0===i?void 0:i["#text"];if(o&&a){try{this._adi=JSON.parse(o)}catch(e){this._adi=o}this._adu=a}}},t.prototype._readSubtitleSet=function(e){var t=e.filter((function(e){return"text/vtt"===e["@type"]}));t.length?this._textTracks=t.reduce((function(e,t){return e.concat(t["nvod:Subtitle"])}),[]):this._textTracks=null},t.prototype._readMetaPolicies=function(e){var t=[];e.forEach((function(e){var n;null===(n=e["nvod:MetaPolicy"])||void 0===n||n.forEach((function(e){var n,r,i,o,a,s,u;t.push({policies:[{componentType:null===(r=null===(n=e["nvod:ComponentType"])||void 0===n?void 0:n[0])||void 0===r?void 0:r["#text"],url:null===(o=null===(i=e["nvod:Url"])||void 0===i?void 0:i[0])||void 0===o?void 0:o["#text"],eventTable:null===(u=null===(s=null===(a=e["nvod:EventTables"])||void 0===a?void 0:a[0])||void 0===s?void 0:s["nvod:EventTable"])||void 0===u?void 0:u.map((function(e){var t,n;return{mt:parseInt(null===(n=null===(t=e["nvod:MediaTime"])||void 0===t?void 0:t[0])||void 0===n?void 0:n["#text"],10)}}))}],label:"meta_api"})}))})),this._metaTracks=t},t.prototype._readLoudnessNormalizeParameterSet=function(e){var t,n,r;return e["@enable"]?(null===(t=e["nvod:Property"])||void 0===t||t.forEach((function(e){switch(e["@name"]){case"targetLoudness":n=parseFloat(e["#text"]);break;case"mode":r=e["#text"]}})),n&&r?{targetLoudness:n,mode:r,contentEncoding:e["@contentEncoding"],data:e["nvod:Source"][0]["#text"]}:null):null},t.prototype._updatePlayer=function(e){var t,n,r,i,o,a,s,u,l,c,d,f;return xoe(this,void 0,void 0,(function(){var h,p,v,m,g,y,b,_,E,w,S,T,k,x,A,P=this;return Aoe(this,(function(O){if(Gne(Boolean(this._videoId)),this._updateTrackings(),!(this._hlsTracks||this._pdTracks||this._drmTracks||this._dashTracks))throw new Error("Track not parsed");var C,I;for(h=e.canPlayType("application/x-mpegURL")||e.canPlayType("application/vnd.apple.mpegurl"),p=this.player.canPlayType('application/dash+xml; profiles="urn:mpeg:dash:profile:isoff-on-demand:2011"'),v=Ioe(Ioe(Ioe(Ioe([],p&&this._dashTracks||[]),h&&this._hlsTracks||[]),this._pdTracks||[]),this._drmTracks||[]).filter((function(e){return!("dash"===e.kind&&!p)&&!("hls"===e.kind&&!h)&&P._filterTracks(e)})),m=function(e){var t=0;switch(e.contentProtections&&(t+=1e3),e.kind){case"dash":t+=900;break;case"hls":t+=800;break;case"progressive":t+=100}if(e.abr&&(t+=90),e.codecs){var n=e.codecs.filter((function(e){return Rte(e,"video")})).map(Doe);n.length&&(t+=n[0])}return t},g=fne(v,(function(e){return e.qualityLabel})),Object.keys(g).forEach((function(e){g[e].sort((function(e,t){return m(t)-m(e)}))})),y=Object.keys(g).reduce((function(e,t){return e.concat(g[t][0])}),[]),(null===(t=y[0].attributes)||void 0===t?void 0:t.loudnessNormalize)&&(b=null===(n=y[0].attributes)||void 0===n?void 0:n.loudnessNormalize),(null===(r=y[0].attributes)||void 0===r?void 0:r.dimension)&&(I=(C=y[0].attributes).sphericalStereoscopic,_={projectionType:C.sphericalProjectionType,stereoMode:I,pitch:C.sphericalProjectionPitch,yaw:C.sphericalProjectionYaw,roll:C.sphericalProjectionRoll}),E=!1,w={},S=0,T=y;S<T.length;S++)(k=T[S]).contentProtections&&(E=!0,w[k.id]=k.contentProtections);E&&(this._representationContentProtectionMap=w),x=this._selectDefaultTrack(y),e._setVideoTracks(y.map(this._createVideoTrack.bind(this))),this._drmType&&this._drmKeySystem&&this._observeEncryptedEvent();try{e._setTextTracks(this._createTextTracks())}catch(e){console.error(e)}return t1(this.player,b),a1(this.player,_),e._setDuration(this._contentDuration),x&&e._setVideoSize(x.width,x.height),(A=null===(f=null===(d=null===(c=null===(l=null===(u=null===(s=null===(a=null===(o=null===(i=this._mpd)||void 0===i?void 0:i.Period)||void 0===o?void 0:o[0])||void 0===a?void 0:a.SupplementalProperty)||void 0===s?void 0:s[0])||void 0===u?void 0:u["nvod:Summary"])||void 0===l?void 0:l[0])||void 0===c?void 0:c["nvod:Cover"])||void 0===d?void 0:d[0])||void 0===f?void 0:f["#text"])&&(e.poster=A),[2]}))}))},t.prototype._updateAdInfo=function(e){var t,n,r,i,o,a,s;return xoe(this,void 0,void 0,(function(){var u,l,c,d,f,h,p,v,m;return Aoe(this,(function(g){switch(g.label){case 0:for(u=null,l=0,c=!1,d=0;d<e.videoTracks.length;++d)e.videoTracks[d].selected&&(u=e.videoTracks[d]);return u&&(f=u.id,h=void 0,(null===(t=this._pdTracks)||void 0===t?void 0:t.length)&&(h=null===(n=this._pdTracks)||void 0===n?void 0:n.find((function(e){return e.id===f}))),!h&&(null===(r=this._hlsTracks)||void 0===r?void 0:r.length)&&(h=null===(i=this._hlsTracks)||void 0===i?void 0:i.find((function(e){return e.id===f}))),(null==h?void 0:h.bandwidth)&&(l=h.bandwidth),c=Boolean(null===(o=null==h?void 0:h.attributes)||void 0===o?void 0:o.dimension)),isFinite(l)||(l=0),p="object"==typeof this._adi?null===(s=null===(a=this._adi)||void 0===a?void 0:a[0])||void 0===s?void 0:s.adSystem:null,v={startOffset:this._startTime,contentDuration:this.player.duration,transactionId:this._tId,serviceId:this._serviceId,videoId:this._videoId,live:!1,vr:c},m={playerId:this.player.id,glad:this._gladOpt||void 0},"GLAD"===p&&this._adu&&this._updateGladInfo(this._adu),[4,e.adsController.initAd(this.player.clientWidth,this.player.clientHeight,DF.AdViewModeTypes.NORMAL,l,v,m)];case 1:return g.sent(),[2]}}))}))},t.prototype._updateGladInfo=function(e){var t;try{t=_0(e)}catch(e){return}"glad:"===t.protocol&&"load"===t.host&&e&&(this.player.adsController.src=e)},t.prototype._updateTrackings=function(){if(this._qoeTracking&&this._qoeErrorTracking&&this._updateQoeTrackingData(this._qoeTracking,this._qoeErrorTracking),this._pcTracking&&this._updatePlayCountTrcakingData(this._pcTracking),this._ptTracking&&this._updatePlayTimeTrackingData(this._ptTracking),this._vtsTrackings&&this._vtsTrackings.length>0)for(var e=0,t=this._vtsTrackings;e<t.length;e++){var n=t[e];this._readVTS(n)}},t.prototype._updateQoeTrackingData=function(e,t){var n,r,i,o,a,s,u,l,c=this;if("qoe"===e["@type"])if(null===(r=null===(n=e["nvod:TimeTable"])||void 0===n?void 0:n[0])||void 0===r?void 0:r["#text"]){var d=null===(o=null===(i=e["nvod:Url"])||void 0===i?void 0:i[0])||void 0===o?void 0:o["#text"];if(d){var f;try{0!==(null==(f=JSON.parse(null===(s=null===(a=e["nvod:TimeTable"])||void 0===a?void 0:a[0])||void 0===s?void 0:s["#text"]))?void 0:f[0])&&(null==f||f.unshift(0))}catch(e){return void console.warn("@warn: failed to parse time table")}var h=!0,p=0,v="main",m=soe(d),g=function(){GX.mark(c,"statistic.event.qoetickend"),"main"===v?GX.mark(c.player,"statistic.event.qoetickend"):GX.mark(c.player.adsController,"statistic.event.qoetickend")},y=function(){GX.mark(c,"statistic.event.qoetickstart"),"main"===v?GX.mark(c.player,"statistic.event.qoetickstart"):GX.mark(c.player.adsController,"statistic.event.qoetickstart")},b=function(){if("main"===v)return GX.aggregate("quality-log",[c,c.player]);var e=GX.aggregate("quality-log",[c,c.player.adsController]);return e.incrementalSnapshot=GX.aggregate("qoe-inc-snapshot",[c.player]),e},_=function(e){h=e},E=function(e){zne(m,{lv:1,lsv:mJ,ltt:Date.now(),ld:[koe(koe({},e),{li:koe(koe({},e.li),{lo:p++})})]}).catch((function(){}))},w=sF(this.player,fZ.ABORT),S=sF(this.player,fZ.PLAYING),T=sF(this.player,fZ.TIME_UPDATE),k=sF(this.player,fZ.ENDED),x=sF(this.player,fZ.ERROR),A=sF(this.player.adsController,DF.AdEventTypes.AdStarted),P=sF(this.player.adsController,DF.AdEventTypes.ContentResumeRequested),O=sF(this.player.adsController,DF.AdEventTypes.AdStopped),C=sF(this.player.adsController,DF.AdEventTypes.AdRemainingTimeChange),I=sF(this,F0.Types.Loop),L=EF(w,I,x).pipe(xU()),N=EF(w,I).pipe(xU()),D=S.pipe(xU()),R=oF((function(){var e=Yj(f).pipe(Pj((function(e){return 1e3*e})),NV((function(e){return $M(e).pipe(HV(e))}))),t=e.pipe(DU(),IB((function(e){return dF(e)})));return hF(e,t).pipe(XB())}));hF(S,A,T.pipe(ZU("target"),gF((function(e){return!e.paused}))),C).pipe(RB(L)).subscribe((function(){h=!0})),hF(D,A).pipe(DB(R),gF((function(){return h})),UB(g),Pj(b),UB(y),UB(_.bind(null,!1)),RB(L)).subscribe(E),hF(k,O).pipe(UB(g),Pj(b),UB(y),UB(_.bind(null,!1)),RB(L)).subscribe(E);var M=null===(l=null===(u=null==t?void 0:t["nvod:Url"])||void 0===u?void 0:u[0])||void 0===l?void 0:l["#text"];if(M){var j=soe(M);x.pipe(RB(N),Pj(b)).subscribe((function(e){zne(j,{lv:1,lsv:mJ,ltt:Date.now(),ld:[koe(koe({},e),{li:koe(koe({},e.li),{lo:p++})})]}).catch((function(){}))}))}A.pipe(RB(L)).subscribe((function(){v="ad"})),P.pipe(RB(L)).subscribe((function(){v="main"}))}else console.warn("@warn: No URL for qoe log")}else console.warn("@warn: No timeTable for qoe tracking")},t.prototype._updatePlayCountTrcakingData=function(e){var t,n,r,i,o,a,s,u,l,c,d,f,h=this,p=e["@type"],v=null===(n=null===(t=e["nvod:Url"])||void 0===t?void 0:t[0])||void 0===n?void 0:n["#text"],m=null===(a=null===(o=null===(i=null===(r=e["nvod:Param"])||void 0===r?void 0:r[0])||void 0===i?void 0:i["nvod:ContentProvider"])||void 0===o?void 0:o[0])||void 0===a?void 0:a["#text"];if("normal"===p){try{f=soe(v)}catch(e){return void console.warn("@warn: unable to decode URL for API endpoint, this may cause loss of user metric.")}var g;Gne(Boolean(this._tId));var y={cpn:m,cpid:m,tid:this._tId};if(null===(s=e["nvod:CallbackData"])||void 0===s?void 0:s.length)try{g=JSON.parse(null===(l=null===(u=e["nvod:CallbackData"])||void 0===u?void 0:u[0])||void 0===l?void 0:l["#text"])}catch(e){g=y}else g=y;var b=parseInt(null===(d=null===(c=e["nvod:TimeTable"])||void 0===c?void 0:c[0])||void 0===d?void 0:d["#text"],10)||0,_=hF(sF(this.player,fZ.ABORT),sF(this,F0.Types.Loop));l1(this.player,(function(){return GX.aggregate("watch-time",[h.player])}),1e3*b).pipe(RB(_)).subscribe((function(){var e=koe(koe({},GX.aggregate("pc",[h,h.player])),g);f1(f,e).catch((function(){console.warn("@todo: emit nelo log")}))}))}else console.warn('@warn: unknown tracking type "'+p+'". this will be ignored.')},t.prototype._updatePlayTimeTrackingData=function(e){var t,n,r,i,o,a,s,u=this,l=e["@type"],c=null===(n=null===(t=e["nvod:Url"])||void 0===t?void 0:t[0])||void 0===n?void 0:n["#text"],d=null===(a=null===(o=null===(i=null===(r=e["nvod:Param"])||void 0===r?void 0:r[0])||void 0===i?void 0:i["nvod:ContentProvider"])||void 0===o?void 0:o[0])||void 0===a?void 0:a["#text"];if("normal"===l){try{s=soe(c)}catch(e){return void console.warn("@warn: unable to decode URL for API endpoint, this may cause loss of user metric.")}Gne(Boolean(this._tId));var f={cpn:d,cpid:d,tid:this._tId},h=hF(sF(this.player,fZ.ABORT),sF(this,F0.Types.Loop));c1(this.player).pipe(RB(h),IB((function(){return EF(h.pipe(Pj((function(){return"pt"}))),sF(window,"pagehide").pipe(Pj((function(){return"pt-beacon"})))).pipe(xU())}))).subscribe((function(e){var t,n,r=koe({infos:[koe(koe({},null===(n=null===(t=GX.aggregate("pt",[u,u.player]))||void 0===t?void 0:t.infos)||void 0===n?void 0:n[0]),f)]},f);"pt"===e?f1(s,r):"pt-beacon"===e&&d1(s,r)}))}else console.warn('@warn: unknown tracking type "'+l+'". this will be ignored.')},t.prototype._readVTS=function(e){var t,n,r,i,o,a=e["@type"],s=null===(n=null===(t=e["nvod:Url"])||void 0===t?void 0:t[0])||void 0===n?void 0:n["#text"],u=null===(i=null===(r=e["nvod:TimeTable"])||void 0===r?void 0:r[0])||void 0===i?void 0:i["#text"];if("normal"===a)if(u){try{o=soe(s)}catch(e){return void console.warn("@warn: unable to decode URL for API endpoint, this may cause loss of user metric.")}var l;try{l=JSON.parse(u)}catch(e){return void console.warn("@warn: failed to parse time table")}Gne(Boolean(this._player));var c=this._player,d=hF(sF(c,fZ.ABORT),sF(this,F0.Types.Loop)),f=sF(c,fZ.TIME_UPDATE).pipe(Pj((function(){return Math.floor(GX.aggregate("watch-time",[c])/1e3)})));Yj(l).pipe(Pj((function(e){return{event:"progress",offset:e,url:o}})),gF((function(e){return"progress"===e.event||"repetition"===e.event})),Pj((function(e){return koe(koe({},e),{offset:parseInt(""+e.offset,10)})})),Jj((function(e){if("progress"===e.event)return f.pipe(gF((function(t){return t>=e.offset})),gF((function(){return!c.paused})),xU(),Pj((function(){return e.url})),RB(d));var t=e.offset;return f.pipe(gF((function(e){return t<=e})),gF((function(){return!c.paused})),UB((function(){t+=e.offset})),Pj((function(t){return e.url+"?vts_time="+t})),RB(d))})),RB(d)).subscribe((function(e){O$({url:e,method:"GET",responseType:"text",withCredentials:!0}).subscribe()}))}else console.warn("@warn: No timeTable for progress tracking");else console.warn('@warn: unknown tracking type "'+a+'". this will be ignored.')},t.prototype._observeEncryptedEvent=function(){var e=this;if(this._drmType){var t=function(t){return new gM((function(n){var r=function(e){return n.next(e)};return e.player._addEventListener(t,r),function(){e.player._removeEventListener(t,r)}}))},n=EF(sF(this.player,"abort"),sF(this.player,"error")).pipe(xU()),r=t("encrypted"),i=t("loadstart");r.pipe(RB(n),tU((function(e){return d0(new Uint8Array(e.initData))}),i)).subscribe((function(t){var n=t,r=n.initData,i=n.initDataType;e._emitEncryptedEvent(e.player,e._drmKeySystem,r,i)}))}},t.prototype._emitEncryptedEvent=function(e,t,n,r){var i,o,a,s,u,l,c=e.videoTracks[e.videoTracks.selectedIndex],d=null===(o=this._representationContentProtectionMap)||void 0===o?void 0:o[c.id];if(null==d?void 0:d.length){var f=Noe[t],h=d.filter((function(e){var t=e["@schemeIdUri"],n=e["@value"];return!(!f||t!==f)||"urn:naver:vod:drm:2020"===t&&"nvod-drm1.0"===n}));if(h[0]){var p=h[0],v=null===(s=null===(a=p["dashif:laurl"])||void 0===a?void 0:a[0])||void 0===s?void 0:s["#text"],m=null===(l=null===(u=p["nvod:certurl"])||void 0===u?void 0:u[0])||void 0===l?void 0:l["#text"],g={version:2,drmType:t,initData:n,initDataType:r};(v||m)&&(g.licenseRequestInfo=((i={})[t]={licenseUrl:v?soe(v):void 0,certificateUrl:m?soe(m):void 0},i)),this.player.dispatchEvent(new VQ({initDataType:u0,initData:(new ZZ).encode(g)}))}}else console.debug("No ContentProtection Element for current representation("+c.id+")")},t.prototype._onBeforeLoading=function(){return GX.mark(this,"mediaProvider.request.start",{api:"playApi"}),this._cancel$.next(),!0},t.prototype._onBeforeParsing=function(){return xoe(this,void 0,void 0,(function(){return Aoe(this,(function(e){return[2,!0]}))}))},t.prototype._onBeforeGeneratingTracks=function(){var e,t,n;return xoe(this,void 0,void 0,(function(){var r,i,o,a,s,u,l,c,d,f,h,p,v;return Aoe(this,(function(m){switch(m.label){case 0:if(!(null===(n=this._mpd)||void 0===n?void 0:n.Period)||!this._mpd.Period[0].AdaptationSet)return[2,!1];r=a9(this._mpd.Period[0].AdaptationSet,(function(e){var t;return(null===(t=null==e?void 0:e.Representation)||void 0===t?void 0:t.map((function(t){return koe(koe({},t),{adaptationSet:e})})))||[]})),i=new Map,m.label=1;case 1:m.trys.push([1,9,10,15]),o=Poe(r),m.label=2;case 2:return[4,o.next()];case 3:if((a=m.sent()).done)return[3,8];if(s=a.value,u=s["@codecs"],l=s["@mimeType"],u||(u=s.adaptationSet["@codecs"]),l||(l=s.adaptationSet["@mimeType"]),"video/mp2t"===l&&Boolean(s.SegmentList||s.SegmentTemplate||s.SegmentBase)&&(l="video/mp4"),l||(console.warn("No mimeType"),l="video/mp4"),u.startsWith("dvhe.")&&(u=u.replace(/^dvhe/,"dvh1")),c=function(){return r.some((function(e){return e["@id"]===s["@id"]&&e!==s&&e["@codecs"].startsWith("dvh1")}))},u.startsWith("hvc1.")&&c())return[3,7];if(d=l+'; codecs="'+u+'"',f=u.split(",").map((function(e){return e.trim()})).reduce((function(e,t){var n,r=voe(t);switch(t.startsWith("dvh1")&&(n="hlg"),r){case"video":return koe(koe({},e),{video:koe(koe({},e.video),{contentType:l+'; codecs="'+t+'"',transferFunction:n})});case"audio":return koe(koe({},e),{audio:koe(koe({},e.audio),{contentType:l+'; codecs="'+t+'"'})});default:return e}}),{type:"undefined"==typeof MediaSource||fQ()?"file":"media-source"}),h=i.get(d))return[3,7];m.label=4;case 4:return m.trys.push([4,6,,7]),[4,DZ.instance.decodingInfo(f)];case 5:return h=m.sent(),i.set(d,h),[3,7];case 6:return p=m.sent(),console.warn("failed to get decoding info(%s): %s",d,p.message),[3,7];case 7:return[3,2];case 8:return[3,15];case 9:return v=m.sent(),e={error:v},[3,15];case 10:return m.trys.push([10,,13,14]),a&&!a.done&&(t=o.return)?[4,t.call(o)]:[3,12];case 11:m.sent(),m.label=12;case 12:return[3,14];case 13:if(e)throw e.error;return[7];case 14:return[7];case 15:return this._mediaCapabilitesDecodingInfos=i,[2,!0]}}))}))},t.prototype._onBeforeUpdatePlayer=function(){return xoe(this,void 0,void 0,(function(){return Aoe(this,(function(e){return GX.mark(this,"mediaProvider.request.ok",{api:"playApi"}),[2,!0]}))}))},t.prototype._onError=function(e){if(e instanceof Xne){if(0===e.status)return this._error=new u2(103,"api request failed"),!1;try{var t=this._parseErrorResponse(e.detail).Error,n=t["@code"],r=t.message["#text"];return this._error=new Soe(n,r),!1}catch(t){if(400===e.status)return this._error=new u2(103,"invalid url"),!1;if(e.status>400)return this._error=new u2(103,"error response"),!1}}return this._error=new u2(106,"unknown error"),!1},t.prototype._parseErrorResponse=function(e){return w2.parse(e,{ignoreAttributes:!1,attributeNamePrefix:"@",parseNodeValue:!1,parseAttributeValue:!0,alwaysCreateTextNode:!0})},t.prototype._parseHlsTracks=function(e,t,n){var r,i,o,a,s,u,l,c,d;return xoe(this,void 0,void 0,(function(){var t,n,f,h,p,v,m,g,y,b,_,E,w,S,T,k,x,A,P,O,C,I,L,N,D,R,M,j,F,V,U,B,z,G,q,H,W,K,Y,X,$,Q,J,Z,ee,te,ne,re,ie,oe,ae,se,ue,le,ce,de,fe,he,pe,ve,me,ge,ye,be,_e,Ee,we,Se,Te,ke,xe,Ae=this;return Aoe(this,(function(Pe){switch(Pe.label){case 0:if(Gne("video/mp2t"===e["@mimeType"]),!e.Representation)return[2,[]];t=[],n=[],f=[],h=this.player._getSourceCaches(),p={},e.Role&&Object.assign(p,this._parseAdaptationRoles(e.Role)),Pe.label=1;case 1:Pe.trys.push([1,7,8,13]),v=Poe(e.Representation),Pe.label=2;case 2:return[4,v.next()];case 3:if((m=Pe.sent()).done)return[3,6];if(g=m.value,(y=g["@codecs"]||e["@codecs"]).startsWith("dvhe")&&(y="hvc1"),!(b=null===(l=this._mediaCapabilitesDecodingInfos)||void 0===l?void 0:l.get('video/mp4; codecs="'+y+'"'))||!b.supported)return[3,5];for(_=new Nte,E=(null===(c=g.BaseURL)||void 0===c?void 0:c[0]["#text"])||"",w=g.SegmentTemplate[0],S=w["@media"],T=w["@timescale"],k=w.SegmentTimeline[0],x=k.S,A=soe((Oe=g,(""+E+S).replace(moe,(function(e,t){switch(t){case"RepresentationID":return Oe["@id"];case"Bandwidth":return""+(Oe["@bandwidth"]||0);default:return e}})))),P=0,O=0,C=x;O<C.length;O++)R=C[O],P<R["@d"]&&(P=R["@d"]);for(_.version=4,_.type=Ote.VOD,_.targetDuration=Math.ceil(P/T),I=0,L=0,N=0,D=x;N<D.length;N++){if(R=D[N],M=R["@d"]/T,j=R["@r"]||0,F=NaN,j>=0&&(F=j+1),!Number.isInteger(F)||F<=0)throw new Error("InvalidSegmentDuration");for(V=0;V<F;++V)(U=new ete).value={uri:A.replace(Loe,(function(e,t){return t?(""+I).padStart(parseInt(t,10),"0"):""+I})),duration:M},_.push(U),I+=1,L+=M;Math.abs(this._contentDuration-L)>1&&(this._contentDuration=L)}return _.push(new Yee),B=_.buildToString(),z=g["@nvod:m3u"]?soe(g["@nvod:m3u"]):"vod3://"+this._videoId+"/"+g["@id"]+"/playlist.m3u8",[4,h.put(z,B)];case 4:if(Pe.sent(),G={},q=g["nvod:Label"])for(H=0,W=q;H<W.length;H++)K=W[H],G[K["@kind"]]=K["#text"];g.AudioChannelConfiguration&&(Y=g.AudioChannelConfiguration.find((function(e){return"urn:mpeg:dash:23003:3:audio_channel_configuration:2011"===e["@schemeIdUri"]})))&&(G.audioChannels=Y["@value"]),g["@id"]=g["@id"]||c$.v4(),X=void 0,X=G.resolution?G.resolution+"p":g1(g["@width"],g["@height"])+"p",$={attributes:koe(koe({},p),G),id:g["@id"],abr:!1,baseUrl:z,width:g["@width"],height:g["@height"],bandwidth:g["@bandwidth"],frameRate:g["@frameRate"],codecs:g["@codecs"].split(","),isDefault:!1,qualityLabel:X,kind:"hls"},Q=null===(d=$.codecs)||void 0===d?void 0:d.map(coe),J=Q.includes("video"),Z=Q.includes("audio"),J&&Z?t.push($):J?n.push($):Z&&f.push($),Pe.label=5;case 5:return[3,2];case 6:return[3,13];case 7:return ee=Pe.sent(),r={error:ee},[3,13];case 8:return Pe.trys.push([8,,11,12]),m&&!m.done&&(i=v.return)?[4,i.call(v)]:[3,10];case 9:Pe.sent(),Pe.label=10;case 10:return[3,12];case 11:if(r)throw r.error;return[7];case 12:return[7];case 13:if(e["@id"]||(e["@id"]=this._adaptSetIdIncrements++),te=new Nte,!(t.length>0))return[3,15];for(ne=0,re=0,ie=void 0,ie=isFinite(this._abrMax)?t.filter((function(e){return goe(e)<=Ae._abrMax})):Ioe([],t),isFinite(this._abrBegin)&&(oe=loe(ie.map(goe),this._abrBegin,uoe))>-1&&(ae=ie.splice(oe,1))&&ae[0]&&(ie.unshift(ae[0]),ne=ae[0].width,re=ae[0].height),se=0,ue=ie;se<ue.length;se++)le=ue[se],te.push(this._createStreamInf(le));return ce=te.buildToString(),de=""+e["@id"],fe=e["@nvod:m3u"]?soe(e["@nvod:m3u"]):"vod3://"+de+"/index.m3u8",[4,h.put(fe,ce)];case 14:Pe.sent(),he={id:de,attributes:koe({},p),baseUrl:fe,abr:!0,width:ne,height:re,isDefault:!1,qualityLabel:"Auto",kind:"hls"},t.unshift(he),Pe.label=15;case 15:Pe.trys.push([15,32,33,38]),pe=Poe(f),Pe.label=16;case 16:return[4,pe.next()];case 17:if((ve=Pe.sent()).done)return[3,31];me=ve.value,Pe.label=18;case 18:Pe.trys.push([18,24,25,30]),s=void 0,ge=Poe(n),Pe.label=19;case 19:return[4,ge.next()];case 20:return(ye=Pe.sent()).done?[3,23]:(be=ye.value,_e=be.id+"/"+me.id,Ee=new Nte,we="vod3://"+_e+"/index.m3u8",Ee.version=3,Ee.push(this._createHlsMediaForAudio(me)),Ee.push(this._createDemuxedStreamInf(be,me)),[4,h.put(we,Ee.buildToString())]);case 21:Pe.sent(),Se=be.bandwidth||0+(me.bandwidth||0)||NaN,Te=koe(koe({},be),{abr:!1,id:_e,baseUrl:we,bandwidth:Se,attributes:koe(koe({},me.attributes),be.attributes),codecs:Ioe(Ioe([],be.codecs),me.codecs),kind:"hls"}),t.push(Te),Pe.label=22;case 22:return[3,19];case 23:return[3,30];case 24:return ke=Pe.sent(),s={error:ke},[3,30];case 25:return Pe.trys.push([25,,28,29]),ye&&!ye.done&&(u=ge.return)?[4,u.call(ge)]:[3,27];case 26:Pe.sent(),Pe.label=27;case 27:return[3,29];case 28:if(s)throw s.error;return[7];case 29:return[7];case 30:return[3,16];case 31:return[3,38];case 32:return xe=Pe.sent(),o={error:xe},[3,38];case 33:return Pe.trys.push([33,,36,37]),ve&&!ve.done&&(a=pe.return)?[4,a.call(pe)]:[3,35];case 34:Pe.sent(),Pe.label=35;case 35:return[3,37];case 36:if(o)throw o.error;return[7];case 37:return[7];case 38:return[2,t]}var Oe}))}))},t.prototype._createStreamInf=function(e){var t=new yte;return t.value={attrs:[new ate("RESOLUTION",e.width+"x"+e.height),new ate("BANDWIDTH",""+e.bandwidth)],uri:e.baseUrl},e.codecs&&e.codecs.length>0&&t.value.attrs.push(new ate("CODECS",'"'+e.codecs.join(",")+'"')),t},t.prototype._createDemuxedStreamInf=function(e,t){var n=new yte,r=(e.bandwidth||0)+(t.bandwidth||0);return n.value={attrs:[],uri:e.baseUrl},r>0&&n.value.attrs.push(new ate("BANDWIDTH",""+r)),e.width&&e.height&&n.value.attrs.push(new ate("RESOLUTION",e.width+"x"+e.height)),n.value.attrs.push(new ate("CODECS",'"'+e.codecs+","+t.codecs+'"')),n.value.attrs.push(new ate("AUDIO",'"audio"')),n},t.prototype._createHlsMediaForVideo=function(e){var t=new fte;return t.value={attrs:[new ate("TYPE",'"VIDEO"'),new ate("GROUP-ID",'"video"'),new ate("NAME",'"'+e.id+'"'),new ate("AUTOSELECT","YES"),new ate("DEFAULT","NO"),new ate("URI",'"'+e.baseUrl+'"')]},t},t.prototype._createHlsMediaForAudio=function(e){var t,n=new fte;return n.value={attrs:[new ate("TYPE",'"AUDIO"'),new ate("GROUP-ID",'"audio"'),new ate("NAME",'"'+e.id+'"'),new ate("AUTOSELECT","YES"),new ate("DEFAULT","NO"),new ate("URI",'"'+e.baseUrl+'"')]},(null===(t=e.attributes)||void 0===t?void 0:t.audioChannels)&&n.value.attrs.push(new ate("CHANNELS",'"'+e.attributes.audioChannels+'"')),n},t.prototype._parseAdaptationRoles=function(e){var t=this,n={};return e.forEach((function(e){switch(e["@schemeIdUri"]){case"urn:naver:vod:loudnessnormalize:2019-0":n.loudnessNormalize=t._readLoudnessNormalizeParameterSet(e["nvod:LoudnessNormalize"][0]);break;case"urn:naver:vod:video:spherical:dimension:2019":n.dimension=e["@value"];break;case"urn:naver:vod:video:spherical:stereoscopic:2019":n.sphericalStereoscopic=e["@value"];break;case"urn:naver:vod:video:spherical:projection:type:2019":n.sphericalProjectionType=e["@value"];break;case"urn:naver:vod:video:spherical:projection:header:pitch:2019":n.sphericalProjectionPitch=e["@value"]?parseFloat(e["@value"]):0;break;case"urn:naver:vod:video:spherical:projection:header:yaw:2019":n.sphericalProjectionYaw=e["@value"]?parseFloat(e["@value"]):0;break;case"urn:naver:vod:video:spherical:projection:header:roll:2019":n.sphericalProjectionRol=e["@value"]?parseFloat(e["@value"]):0;break;default:console.warn("@warn: unknown role: "+e["@schemeIdUri"])}})),n},t.prototype._setMediaKeys=function(e,t,n,r,i,o){return xoe(this,void 0,void 0,(function(){var a,s;return Aoe(this,(function(u){switch(u.label){case 0:return[4,pJ.requestMediaKeySystemAccess(t,[{initDataTypes:[n],videoCapabilities:[{contentType:r}]}])];case 1:return[4,u.sent().createMediaKeys()];case 2:return a=u.sent(),[4,e.setMediaKeys(a)];case 3:return u.sent(),(s=a.createSession(i)).onmessage=function(){s.update((new TextEncoder).encode(JSON.stringify({kid:o,keys:[]})))},[4,s.generateRequest(n,(new TextEncoder).encode(JSON.stringify({kid:o,type:"static"})))];case 4:return u.sent(),[2]}}))}))},t.prototype._parsePdTracks=function(e){return xoe(this,void 0,void 0,(function(){var t,n,r=this;return Aoe(this,(function(i){return Gne("video/mp4"===e["@mimeType"]),e.Representation?(t={},e.Role&&Object.assign(t,this._parseAdaptationRoles(e.Role)),n=[],e.Representation.forEach((function(i){var o,a=i["@id"],s=i["@bandwidth"],u=i["@frameRate"],l=i["@width"],c=i["@height"],d=i["@mimeType"],f=i.BaseURL,h=i["nvod:Label"],p=i["@codecs"]||e["@codecs"];p.startsWith("dvhe")&&(p="hvc1");var v=null===(o=r._mediaCapabilitesDecodingInfos)||void 0===o?void 0:o.get((d||e["@mimeType"])+'; codecs="'+p+'"');if(v&&v.supported){var m,g={};if(h)for(var y=0,b=h;y<b.length;y++){var _=b[y];g[_["@kind"]]=_["#text"]}m=g.resolution?g.resolution+"p":g1(i["@width"],i["@height"])+"p",n.push({id:a,bandwidth:s,frameRate:u,width:l,height:c,abr:!1,attributes:koe(koe({},t),g),codecs:p.split(","),baseUrl:soe(f[0]["#text"]),isDefault:!1,qualityLabel:m,kind:"progressive"})}})),[2,n]):[2,[]]}))}))},t.prototype._parseDrmTracks=function(e){return xoe(this,void 0,void 0,(function(){var t,n,r=this;return Aoe(this,(function(i){return e.Representation?(t={},e.Role&&Object.assign(t,this._parseAdaptationRoles(e.Role)),n=[],e.Representation.forEach((function(i){var o,a=i["@id"],s=i["@bandwidth"],u=i["@frameRate"],l=i["@width"],c=i["@height"],d=i["@xlink:href"],f=i["nvod:Label"],h=i["@mimeType"]||e["@mimeType"],p=i["@codecs"]||e["@codecs"];p.startsWith("dvhe")&&(p="hvc1"),!h&&p.split(",").map(voe).includes("video")&&(console.debug("No mimeType info for representation#%s",i["@id"]),h="video/mp4");var v=null===(o=r._mediaCapabilitesDecodingInfos)||void 0===o?void 0:o.get(h+'; codecs="'+p+'"');if(v&&v.supported){var m={};if(f)for(var g=0,y=f;g<y.length;g++){var b=y[g];m[b["@kind"]]=b["#text"]}var _,E="main";d.indexOf(".m3u8")>-1?E="hls":d.indexOf(".mpd")>-1&&(E="dash"),_=m.resolution?m.resolution+"p":g1(i["@width"],i["@height"])+"p",n.push({id:a,bandwidth:s,frameRate:u,width:l,height:c,abr:!1,attributes:koe(koe({},t),m),codecs:p.split(","),baseUrl:d,isDefault:!1,contentProtections:i.ContentProtection,qualityLabel:_,kind:E})}})),[2,n]):[2,[]]}))}))},t.prototype._parseDashTracks=function(){var e,t,n,r,i;return xoe(this,void 0,void 0,(function(){var o,a,s,u,l,c,d,f,h,p,v,m,g,y,b,_,E,w,S,T,k,x,A,P,O,C,I,L,N,D,R,M,j,F,V,U,B,z,G,q,H,W=this;return Aoe(this,(function(K){switch(K.label){case 0:return o=[],a=this.player._getSourceCaches(),s={},u=(new DOMParser).parseFromString(this._rawData,"text/xml"),l=u.getElementsByTagName("AdaptationSet"),c=$te(l,(function(e){return!e.hasAttribute("subsegmentAlignment")})),d=c[0],f=c[1],d.forEach((function(e){e.parentNode.removeChild(e)})),(h=u.querySelector('SupplementalProperty[schemeIdUri="urn:naver:vod:information:2019"]'))&&(null===(i=h.parentNode)||void 0===i||i.removeChild(h)),p=function(e){var t=e.getAttribute("mimeType")||"",n=e.getAttribute("codecs")||"";return n.startsWith("dvhe.")&&(n=n.replace(/^dvhe/,"dvh1")),t+'; codecs="'+n+'"'},v=function(e){var t,n=p(e);return null===(t=W._mediaCapabilitesDecodingInfos)||void 0===t?void 0:t.get(n)},m=function(e,t,n){var r=v(e),i=e.getAttribute("id")||"";if(!1===Boolean(null==r?void 0:r.supported)){var o=n.find((function(t){return t.getAttribute("id")===i&&t!==e}));if(!o)return r;var a=v(o);return(null==a?void 0:a.supported)?a:r}return r},a9(f,(function(e){return Array.from(e.getElementsByTagName("Representation"))})).forEach((function(e,t,n){var r,i=m(e,0,n);i&&i.supported||(console.debug("Remove representation#%s: unsupported codec (%s)",e.getAttribute("id"),p(e)),null===(r=e.parentNode)||void 0===r||r.removeChild(e))})),g=new Map,f.forEach((function(e){"video/mp4"===e.getAttribute("mimeType")&&(Array.from(e.getElementsByTagName("Representation")).forEach((function(t){var n=parseInt(t.getAttribute("bandwidth"),10);if(parseInt(t.getAttribute("width"),10),parseInt(t.getAttribute("height"),10),isFinite(W._maxBitrate)&&W._maxBitrate<n)e.removeChild(t);else{var r=t.getAttribute("codecs");(null==r?void 0:r.startsWith("dvhe."))&&t.setAttribute("codecs",r.replace(/^dvhe/,"dvh1"))}})),g.set(e,[]))})),y="vod3://"+this._videoId+"/stream.mpd",b=(new XMLSerializer).serializeToString(u),[4,a.put(y,b)];case 1:K.sent(),f.forEach((function(e){e.parentNode.removeChild(e)})),f.reduce((function(e,t){return e.concat(Array.from(t.getElementsByTagName("Representation")))}),[]),_=u.getElementsByTagName("Period")[0],E=fne(f,(function(e){switch(e.getAttribute("mimeType")){case"video/mp4":return"m4v";case"audio/mp4":return"m4a";default:return"unknown"}})),w=E.m4v,S=E.m4a,T=w||[],k=S||[],K.label=2;case 2:K.trys.push([2,19,20,25]),x=Poe(T),K.label=3;case 3:return[4,x.next()];case 4:if((A=K.sent()).done)return[3,18];P=A.value,(O=Array.from(P.getElementsByTagName("Representation"))).forEach((function(e){P.removeChild(e)})),K.label=5;case 5:K.trys.push([5,11,12,17]),n=void 0,C=Poe(O),K.label=6;case 6:return[4,C.next()];case 7:return(I=K.sent()).done?[3,10]:(L=I.value,k.forEach((function(e){_.appendChild(e)})),P.appendChild(L),_.appendChild(P),N=(new XMLSerializer).serializeToString(u),D=L.getAttribute("id"),R=parseInt(L.getAttribute("width")||"",10),M=parseInt(L.getAttribute("height")||"",10),j={},F=L.getAttribute("bandwidth"),V=L.getAttribute("codecs"),U="vod3://"+D+"/stream.mpd",B=L.getElementsByTagNameNS("urn:naver:vod:2020","Label"),Array.prototype.forEach.call(B,(function(e){j[e.getAttribute("kind")]=e.textContent})),[4,a.put(U,N)]);case 8:K.sent(),k.forEach((function(e){_.removeChild(e)})),P.removeChild(L),_.removeChild(P),z=void 0,z=j.resolution?j.resolution+"p":g1(R,M)+"p",G={id:"DASH_"+D+"_"+F+"_"+R+"_"+M,attributes:koe(koe({},s),j),baseUrl:U,abr:!1,width:R,height:M,isDefault:!1,qualityLabel:z,kind:"dash",codecs:V?[V]:void 0},o.push(G),K.label=9;case 9:return[3,6];case 10:return[3,17];case 11:return q=K.sent(),n={error:q},[3,17];case 12:return K.trys.push([12,,15,16]),I&&!I.done&&(r=C.return)?[4,r.call(C)]:[3,14];case 13:K.sent(),K.label=14;case 14:return[3,16];case 15:if(n)throw n.error;return[7];case 16:return[7];case 17:return[3,3];case 18:return[3,25];case 19:return H=K.sent(),e={error:H},[3,25];case 20:return K.trys.push([20,,23,24]),A&&!A.done&&(t=x.return)?[4,t.call(x)]:[3,22];case 21:K.sent(),K.label=22;case 22:return[3,24];case 23:if(e)throw e.error;return[7];case 24:return[7];case 25:return[2,o]}}))}))},t.prototype._filterTracks=function(e){var t=Math.max(e.width,e.height);return!(!isNaN(this._maxDimension)&&this._maxDimension<=t||void 0!==e.bandwidth&&!isNaN(this._maxBitrate)&&this._maxBitrate<=e.bandwidth)},t.prototype._createVideoTrack=function(e){var t,n,r=new Eoe({selected:!1,label:"und",id:e.id,src:e.baseUrl,kind:"main",language:"und",width:e.width,height:e.height,videoBitrate:e.bandwidth,videoCodec:null===(t=e.codecs)||void 0===t?void 0:t.find((function(e){return Rte(e,"video")})),videoFrameRate:e.frameRate,videoQuality:e.qualityLabel,audioCodec:null===(n=e.codecs)||void 0===n?void 0:n.find((function(e){return Rte(e,"audio")}))});return e.isDefault&&(r.selected=!0),r},t.prototype._createTextTracks=function(){var e=[];if(this._textTracks)for(var t=0,n=this._textTracks;t<n.length;t++){var r=n[t];e.push(this._createTextTrack(r))}if(this._metaTracks)for(var i=0,o=this._metaTracks;i<o.length;i++){var a=o[i];e.push(new o2(a))}return e},t.prototype._createTextTrack=function(e){var t,n,r,i,o,a=e["nvod:Source"][0]["#text"],s=(null!==(n=null===(t=e["@lang"].split(/[-_]/))||void 0===t?void 0:t[0])&&void 0!==n?n:e["@lang"]).toLowerCase(),u=(null===(i=null===(r=e["nvod:Creator"])||void 0===r?void 0:r[0])||void 0===i?void 0:i["@type"])||"unknown",l=hoe(e["@lang"]);return"fan"===u&&(o=e["nvod:Creator"][0]["@name"]||"unknown"),new HJ({fanName:o,language:s,label:l,type:u},a)},t.prototype._getLabelFromTrackInfo=function(e){if(e.abr)return"ABR";if(e.attributes){var t="";return e.attributes.resolution&&(t+=e.attributes.resolution+"p"),e.attributes.fps&&(t+="_"+e.attributes.fps+"fps"),e.attributes.audioChannels&&(t+="_"+e.attributes.audioChannels+"ch"),t}throw new Error("Track label cannot be determined")},t.prototype._getDeterminedTrackBaseInfo=function(e){if(!e)return null;if("ABR"!==e.id)return e;for(var t=this.player.videoTracks[this.player.videoTracks.selectedIndex],n=t.width>t.height?"width":"height",r=t[n],i=null,o=1/0,a=0,s=this._hlsTracks||[];a<s.length;a++){var u=s[a];if("ABR"!==u.id){var l=Math.abs(u[n]-r);l<o&&(o=l,i=u)}}return i},t.prototype._getSelectedVideoTrackInfo=function(){var e,t,n;if(!this.player)return null;var r=this.player.videoTracks,i=null===(e=r[r.selectedIndex])||void 0===e?void 0:e.id;if(!i)return null;var o=null===(t=this._hlsTracks)||void 0===t?void 0:t.find((function(e){return e.id===i}));if(o)return o;var a=null===(n=this._pdTracks)||void 0===n?void 0:n.find((function(e){return e.id===i}));return a||null},t.prototype._selectDefaultTrack=function(e){var n=e.find((function(e){return e.abr}));if(isNaN(this._track)&&n)return n.isDefault=!0,n;var r=loe(e.map(goe),this._track||t.DEFAULT_VIDEO_SCANLINE_STATIC,uoe);return r>-1?(e[r].isDefault=!0,e[r]):null},t.DEFAULT_VIDEO_SCANLINE_STATIC=720,t.DEFAULT_VIDEO_SCANLINE_ADAPTIVE_BEGIN=480,t.DEFAULT_VIDEO_SCANLINE_ADAPTIVE_MAX=720,t}(CJ),joe=((Roe={})["data:"]=function(e){return new E2(e)},Roe["vod:"]=function(e){return new g2(e)},Roe["live:"]=function(e){return new Lne(e)},Roe["vod3:"]=function(e){return new Moe(e)},Roe),Foe=function(){function e(){}return e.registerMediaProviderFactory=function(t,n){var r=e._mediaProviderFactories;if(r.has(t))throw new Error("Registration failed for protocol '"+t+"'. A protocol with that name is already registered.");r.set(t,n)},e.registerMediaProviderFactories=function(t){for(var n=0,r=Object.entries(t);n<r.length;n++){var i=r[n],o=i[0],a=i[1];e.registerMediaProviderFactory(o,a)}},e.hasMediaProvider=function(t){return e._mediaProviderFactories.has(t)},e.getMediaProvider=function(t,n){var r=e._mediaProviderFactories.get(t);if(!r)throw new Error("Can not find MediaProviderFactory for protocol '"+t+"'.");for(var i=r(n),o=0,a=["protocol","data","player","load","close"];o<a.length;o++){var s=a[o];if(!qZ(i,s))throw console.log(Object.prototype.hasOwnProperty.call(i,s)),new Error(t+"의 factory가 유효한 provider를 반환하지 않습니다. ("+s+")")}return i},e.clear=function(){e._mediaProviderFactories.clear()},Object.defineProperty(e,"factories",{get:function(){return new Map(e._mediaProviderFactories)},enumerable:!1,configurable:!0}),e._mediaProviderFactories=new Map,e}(),Voe=Foe,Uoe=["displayingFullscreen","webkitDisplayingFullscreen"];function Boe(e){if(!e||-1===e.selectedIndex)return{};var t=e[e.selectedIndex];return t?{trackSrc:t.src,trackLabel:t.label,trackKind:t.kind}:{}}var zoe=function(){return zoe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zoe.apply(this,arguments)};function Goe(e){if(e&&e.attributes)return Array.from(e.attributes).reduce((function(e,t){var n;return zoe(((n={})[t.name]=t.value,n),e)}),{});if(void 0!==r&&"object"==typeof r.versions){var t=r.versions.node;return{env:"node",version:void 0===t?"unknown":t}}return null}var qoe="webplayer-internal-core-dimmed",Hoe="webplayer-internal-core-ad-ui",Woe='@charset "UTF-8";\n.wpc-full {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.wpc-pos-rel {\n\tposition: relative;\n}\n\n.wpc-pos-abs {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n}\n\n.'+qoe+" {\n\tbackground-color: black;\n\twidth:100%;\n\theight:100%;\n}\n\n.wpc-dis-hid {\n\tdisplay: none;\n}\n\n."+Hoe+" {\n\tposition: absolute; background-color: #000;\n}\n",Koe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yoe=function(){return Yoe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yoe.apply(this,arguments)},Xoe=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},$oe=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Qoe=Goe("undefined"!=typeof document?document.currentScript:null),Joe=function(e){function t(){var t=e.call(this)||this;t._id=c$.v4(),t._error=null,t._dumpDetail=void 0,t._paused=!0,t._preventPropagationEvents=[],t._autoplay=!1,t._playbackRate=1,t._defaultPlaybackRate=1,t._wasProviderVideoSizeLoaded=!1,t._canAutoplay=!0,t._playbackRateImmutable=!1,t._onSourceTextTrackAdded=function(e){if(e.track)switch(e.track.kind){case"metadata":var n=t._findReusableInbandTextTracks().filter((function(e){return"metadata"===e.kind&&e instanceof QJ}));n.length>0?n[0].bindTrack(e.track):t.textTracks.addTrack(new QJ(e.track));break;case"subtitles":var r=t._findReusableInbandTextTracks().filter((function(e){return"subtitles"===e.kind&&e instanceof YJ}));if(r.length>0)for(var i=0,o=r;i<o.length;i++){var a=o[i];a.label===e.track.label&&a.bindTrack(e.track)}else{var s=Array.from(t.textTracks).find((function(t){var n;return(null===(n=t.trackElement)||void 0===n?void 0:n.track)===e.track}));if(s)return;t.textTracks.addTrack(new YJ(e.track))}}},t._propagateEvent=function(e,n){var r=t.readyState,i=n.type;if(e.shouldUpdateReadyState&&(i===eQ.SEEKED&&r<2||t._updateReadyState(t.player.readyState)),e.shouldUpdateNetworkState&&t._updateNetworkState(t.player.networkState),t._paused=t.player.paused,!(i===eQ.LOADED_DATA&&r>=2)){var o=t._preventPropagationEvents.indexOf(i);o>-1?t._preventPropagationEvents.splice(o,1):"ratechange"===i&&t.player.playbackRate!==t.playbackRate&&t._preventPropagationEvents.length>0||("playing"===i&&(t._preventPropagationEvents=[],t._playbackRateImmutable=!1),t.dispatchEvent(new fZ(i)))}},t.onSourcePlayerEncryptedEvent=function(e){t.dispatchEvent(new VQ({initData:e.initData,initDataType:e.initDataType}))},t._lastCurrentTime=NaN,t._wasPlayingBeforeTrackChanges=void 0,t._onTrackChange=function(e){t._changeTrack(e.track)},t._onTextTrackLoad=function(e){if("disabled"!==e.track.mode&&e.track.trackElement){var n=!1;"Apple Computer, Inc."!==navigator.vendor&&(t.player.appendChild(e.track.trackElement),n=!0);for(var r=e.track,i=e.track.trackElement.track,o=0;o<t.player.textTracks.length;++o)"captions"===t.player.textTracks[o].kind&&"showing"===t.player.textTracks[o].mode&&(t.player.textTracks[o].mode="hidden");i.mode=e.track.mode,n||t.player.appendChild(e.track.trackElement),"hidden"===r.mode&&r.mode!==i.mode&&(i.mode="showing",r.mode="showing")}},t._onTextTrackChange=function(e){var n=e.track;if("disabled"===n.mode){if(!n.trackElement||!n.trackElement.tagName)return;t.player.removeChild(n.trackElement),n.trackElement=null}},t._triggerVolumeChangeEvent=function(){var e=new fZ(fZ.VOLUME_CHANGE,{cancelable:!1});t.dispatchEvent(e)},t._poster="";var n=new pJ;return GX.setOwnership(n,t),t._audioTrackListController={},t.player=n,t.videoTracks=new lZ,t.textTracks=new nZ,t.audioTracks=jJ.create({controller:t._audioTrackListController}),t.adsController=new TJ(t.player,t.player,t),t._loopFlag$=new RM(!1),t._sourceCaches=n.caches,t._buildMarkUp(),t._init(),t._attachEvents(),t._nelo=m0.sharedOnWeakMap(t,Yoe({projectName:"webplayer-coreplayer",projectVersion:vJ,id:t.id},wZ())),t._nelo.send({type:"init",module:Qoe,constructor:Goe(document.currentScript)}),t}return Koe(t,e),t.log=function(e,t,n){GX.mark(e,t,{value:n}),GX.mark(e.adsController,t,{value:n})},t.registerMediaProviderFactory=function(e,t){Voe.registerMediaProviderFactory(e,t)},t.requestMediaKeySystemAccess=function(e,t){return pJ.requestMediaKeySystemAccess(e,t)},t.prototype._buildMarkUp=function(){!function(e,t){var n;if(!t||!document.getElementById(t)){var r=document.createElement("style"),i=null!==(n=document.querySelector("head"))&&void 0!==n?n:document.querySelector("body");r.type="text/css",t&&(r.id=t),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e)),null==i||i.appendChild(r)}}(Woe,"wpc-core-style"),this._shadowRoot=function(e,t){var n=document.createElement("div"),r=t?e.replace(/\{([^{}]+)}/g,(function(e,n){return t[n.trim()]})):e;return n.innerHTML=r,n.removeChild(n.firstElementChild)}('\n<div id="wpc-{uuid}" class="webplayer-internal-core-shadow wpc-full wpc-pos-rel">\n\t<div class="webplayer-internal-core-source-container wpc-full"></div>\n\t<div class="webplayer-internal-core-dimmed wpc-pos-abs wpc-dis-hid"></div>\n\t<div class="webplayer-internal-core-ad-ui wpc-full wpc-pos-abs wpc-dis-hid"></div>\n</div>\n',{uuid:this._id}),this._dimEl=this.shadowRoot.querySelector("."+qoe);var e=this.player.shadowRoot,t=this.shadowRoot.querySelector(".webplayer-internal-core-source-container");null==t||t.appendChild(e),this._adViewRoot=this.shadowRoot.querySelector("."+Hoe),this.adsController.adViewSlot=this._adViewRoot},t.prototype._init=function(){this._src="",this._srcObject=null,this._preload="auto",this._readyState=0,this._initPlayerMeta(),this._initStatistic(),this._initMediaProviderManager(),this._initObservables(),this._attachSourceEventLogDelegation(),this._initializeDimensions(),this._initObserversForExternalDimensions(),this._initHeartbeat(),this._initializePostProcessingManager()},t.prototype._initializePostProcessingManager=function(){this._postProcessingManager=new GZ,this._postProcessingManager.initialize(this)},t.prototype._initHeartbeat=function(){this._onHeartbeat=this._onHeartbeat.bind(this),VZ.getInstance().addCallback(this._onHeartbeat),VZ.getInstance().start()},t.prototype._onHeartbeat=function(){GX.mark(this,"player.event.heartbeat")},t.prototype._initStatistic=function(){this._initVideoMetadata()},t.prototype._initPlayerMeta=function(){this._id=c$.v4()},t.prototype._initializeDimensions=function(){var e=this;GX.init(this,{dimensions:{autoplay:function(){return e.autoplay},currentSrc:function(){return e.currentSrc},currentTime:function(){return e.currentTime},paused:function(){return e.player.paused},seeking:function(){return e.seeking},videoWidth:function(){return e.videoWidth},videoHeight:function(){return e.videoHeight},playbackRate:function(){return e.playbackRate},duration:function(){return e.duration},volume:function(){return e.volume},muted:function(){return e.muted},playerId:function(){return e.id},playerName:function(){return"webplayer-coreplayer"},playerVersion:function(){return vJ},encodingOptionID:function(){var t,n;return null===(n=null===(t=e.videoTracks)||void 0===t?void 0:t[e.videoTracks.selectedIndex])||void 0===n?void 0:n.encodingOptionID},videoTrackId:function(){var t,n;return null===(n=null===(t=e.videoTracks)||void 0===t?void 0:t[e.videoTracks.selectedIndex])||void 0===n?void 0:n.id},readyState:function(){return e.readyState},id:function(){return e.id},clientWidth:function(){return e.player.clientWidth},clientHeight:function(){return e.player.clientHeight},screenOrientation:function(){return yJ()||"landscape-primary"},bufferHealth:function(){return function(e){var t=e.buffered,n=e.currentTime;if(t){try{for(var r=t.length,i=0;i<r;i++)if(t.start(i)<=n&&n<=t.end(i))return t.end(i)-n}catch(e){return 0}return 0}}(e)},droppedVideoFrames:function(){var t,n=bZ();if("Safari"!==n&&"Mobile Safari"!==n)return null===(t=e.getVideoPlaybackQuality)||void 0===t?void 0:t.call(e).droppedVideoFrames},vr:function(){var t,n;return null!==(n=null===(t=e.getPreProcessorControl("vr"))||void 0===t?void 0:t.enabled())&&void 0!==n&&n},abr:function(){var t,n,r,i;return null!==(i="abr"===(null===(r=null===(n=null===(t=e.videoTracks)||void 0===t?void 0:t[e.videoTracks.selectedIndex])||void 0===n?void 0:n.label)||void 0===r?void 0:r.toLowerCase()))&&void 0!==i&&i},codecs:function(){return e._currentCodecs},error:function(){return e.error},seekable:function(){return e.seekable}}})},t.prototype._initObserversForExternalDimensions=function(){var e,t=this;(e=window,void 0===e&&(e=window),sF(e,"orientationchange")).subscribe((function(){GX.mark(t,"player.event.screenorientationchange")}))},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype._attachSourceEventLogDelegation=function(){var e=this;Object.values(eQ).forEach((function(t){e.player.addEventListener(t,(function(){GX.mark(e,"source.event."+t)}))}))},t.prototype._initMediaProviderManager=function(){for(var e=0,t=Object.entries(joe);e<t.length;e++){var n=t[e],r=n[0],i=n[1];Voe.hasMediaProvider(r)||Voe.registerMediaProviderFactory(r,i)}},t.prototype._initObservables=function(){var e=this;this._onSourceLoadedMetadata$=this._fromSourceEvent(eQ.LOADED_METADATA),this._onSourceTimeUpdate$=this._fromSourceEvent(eQ.TIME_UPDATE),this._onVideoTracksChange$=sF(this.videoTracks,sZ.CHANGE),this._onSourcePlaying$=this._fromSourceEvent(eQ.PLAYING),this._onSourceAbort$=this._fromSourceEvent(eQ.ABORT),this._onSourceError$=this._fromSourceEvent(eQ.ERROR),this._onCoreAbort$=this._fromCoreEvent(fZ.ABORT),this._onCoreError$=this._fromCoreEvent(fZ.ERROR),this._onSourceEnded$=this._fromSourceEvent(eQ.ENDED),this._sourceChange$=new wM,this._onSourceResize$=this._fromSourceEvent(eQ.RESIZE),this._onSourceDurationChange$=this._fromSourceEvent(eQ.DURATION_CHANGED),this._onSourceABRLevelSwitched$=this._onSourceResize$.pipe(gF((function(t){var n=e.videoTracks.selectedIndex;return"abr"===e.videoTracks[n].label.toLocaleLowerCase()}))),this.onSourcePlayerLoadStart=this.onSourcePlayerLoadStart.bind(this),this.player.addEventListener("loadstart",this.onSourcePlayerLoadStart),this._fromSourceEvent(eQ.LOADED_METADATA).subscribe((function(){var t,n=e.playbackRate;e.player.playbackRate!==n&&(e.playbackRate=n),function(e){var t=e;if(t&&"disabled"!==t.mode){var n=t.mode;t.mode="disabled",t.mode=n}}((t=e.textTracks,Array.from(t).find((function(e){return("subtitles"===e.kind||"captions"===e.kind)&&"disabled"!==e.mode}))))})),this._observeReplay()},t.prototype.onSourcePlayerLoadStart=function(){var e,t,n=this.player;if(n.videoTracks)for(var r=0,i=Array.from(this.videoTracks);r<i.length;r++){var o=i[r];null===(t=(e=n.videoTracks).addTrack)||void 0===t||t.call(e,o)}},t.prototype._observeReplay=function(){var e=sF(this,fZ.LOAD_START),t=sF(this.player,eQ.ENDED);sF(this.player,eQ.PLAYING),sF(this.player,eQ.SEEKING);var n=sF(this.adsController,DF.AdEventTypes.AdMetadata),r=sF(this.adsController,DF.AdEventTypes.AdError),i=sF(this.adsController,DF.AdEventTypes.AllAdsCompleted),o=EF(n,r).pipe(xU(),Pj((function(e){return e.type===DF.AdEventTypes.AdError?t:i}))),a=hF(e.pipe(RU(t)),e.pipe(DB(o))).pipe(IB(pM)),s=this._loopFlag$.pipe(xU());a.pipe(qU(s),gF(pM)).subscribe(this._replay.bind(this))},t.prototype._replay=function(){var e;return Xoe(this,void 0,void 0,(function(){return $oe(this,(function(t){switch(t.label){case 0:return 0!==this.player.readyState&&(this.currentTime=0),[4,this._loop()];case 1:return t.sent()?this.adsController.srcObject?[4,this.adsController.startAd(this.clientWidth,this.clientHeight,this.displayingFullscreen?DF.AdViewModeTypes.FULLSCREEN:DF.AdViewModeTypes.NORMAL,this._getDesiredAdBitrate())]:[3,3]:[2];case 2:t.sent(),t.label=3;case 3:return"pre"===(null===(e=this.adsController.currentAd)||void 0===e?void 0:e.adPlacementType)?[2]:[4,this.player.play()];case 4:return t.sent(),[2]}}))}))},t.prototype._initVideoMetadata=function(){this._paused=!0,this._duration=NaN,this._videoWidth=0,this._videoHeight=0,this.videoTracks.clear(),this.textTracks.clear(),this._error=null,this.player.innerHTML="",this._wasPlayingBeforeTrackChanges=void 0,this._wasProviderVideoSizeLoaded=!1,this._canAutoplay=!0,this._updateNetworkState(0),this._updateReadyState(0)},t.prototype._fromCoreEvent=function(e){return sF(this,e)},t.prototype._fromSourceEvent=function(e){return sF(this.player,e)},t.prototype._attachEvents=function(){var e=this;this.videoTracks.addEventListener(sZ.CHANGE,this._onTrackChange),this.textTracks.addEventListener(eZ.CHANGE,this._onTextTrackChange),this.textTracks.addEventListener(eZ.LOAD,this._onTextTrackLoad),pZ.forEach((function(t){e.player.addEventListener(t.type,e._propagateEvent.bind(e,t))})),this.player.addEventListener("encrypted",this.onSourcePlayerEncryptedEvent),this._onSourceLoadedMetadata$.pipe(IB((function(){return e._onSourceTimeUpdate$.pipe(RB(hF(e._onCoreAbort$,e._onCoreError$,e._onSourceLoadedMetadata$)))}))).subscribe(this._propagateEvent.bind(this,{})),this._onSourceError$.subscribe((function(){var t,n,r,i;e._nelo.send(Yoe({type:"error",code:null===(t=e.player.error)||void 0===t?void 0:t.code,message:null===(n=e.player.error)||void 0===n?void 0:n.message,error:e.player.error,protocol:null!==(i=null===(r=e.srcObject)||void 0===r?void 0:r.protocol)&&void 0!==i?i:"unknown"},Boe(e.videoTracks))),e.dispatchEvent(new Q$(fZ.ERROR))})),this._onSourceEnded$.pipe(gF((function(){return!e.loop}))).subscribe((function(){e.adsController.contentComplete(),e._paused=!0,e.dispatchEvent(new fZ(fZ.ENDED))})),this._onSourceResize$.subscribe((function(){e._videoWidth=e.player.videoWidth,e._videoHeight=e.player.videoHeight})),this._onSourceDurationChange$.subscribe((function(){e.readyState>=1&&e._duration!==e.player.duration&&e._setDuration(e.player.duration)})),this._onSourceABRLevelSwitched$.subscribe((function(t){var n=e.videoTracks.selectedIndex,r=t instanceof X$?t:e.player,i=r.videoWidth,o=r.videoHeight;e.videoTracks[n].width=i,e.videoTracks[n].height=o,e._setVideoSizeInternal(i,o),e.dispatchEvent(t)})),this.player.textTracks.addEventListener("addtrack",this._onSourceTextTrackAdded),sF(this.adsController,DF.AdEventTypes.AdBreakReady).pipe(Pj((function(){var t;return(null===(t=e.adsController.currentAd)||void 0===t?void 0:t.adPlacementType)||""})),IB((function(t){return sF(e.adsController,DF.AdEventTypes.ContentResumeRequested).pipe(RU(t),RB(hF(sF(e,fZ.ABORT),sF(e,fZ.ERROR))))}))).subscribe((function(t){return Xoe(e,void 0,void 0,(function(){var e;return $oe(this,(function(n){switch(n.label){case 0:return this.player.ended||!this.player.paused?[3,2]:("pre"===t&&this.duration===1/0&&(e=this.seekable).length>0&&(this.player.currentTime=e.end(e.length-1)),[4,this.play()]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}))},t.prototype._findReusableInbandTextTracks=function(){for(var e=[],t=0;t<this.textTracks.length;++t){for(var n=this.textTracks[t],r=!1,i=0;!r&&i<this.player.textTracks.length;++i)this.player.textTracks[i]===n.trackElement&&(r=!0);r||e.push(n)}return e},t.prototype._updateNetworkState=function(e){var t=this._networkState;this._networkState=e,t!==e&&0===e&&(this.dispatchEvent(new fZ(fZ.EMPTIED)),this.dispatchEvent(new fZ(fZ.TIME_UPDATE)))},t.prototype._updateReadyState=function(e){var t=this.readyState;void 0===e?(this._readyState=0,this._hasEnoughMetadata()&&(this._readyState=1,t<1&&this.dispatchEvent(new fZ(fZ.LOADED_METADATA)))):this._readyState=e},t.prototype._hasEnoughMetadata=function(){return!isNaN(this.duration)&&!!this._wasProviderVideoSizeLoaded},t.prototype._setDuration=function(e){this._duration=e,this.dispatchEvent(new fZ(fZ.DURATION_CHANGED))},t.prototype._setVideoSize=function(e,t){this._wasProviderVideoSizeLoaded=!0,this._setVideoSizeInternal(e,t)},t.prototype._setVideoSizeInternal=function(e,t){this._videoWidth=e,this._videoHeight=t,this.dispatchEvent(new fZ(fZ.RESIZE))},t.prototype._setTextTracks=function(e){this.textTracks.clear();for(var t=0,n=e;t<n.length;t++){var r=n[t];this.textTracks.addTrack(r)}},t.prototype._setVideoTracks=function(e){if(e&&0!==e.length){e.find((function(e){return e.selected}))||(console.warn("No media source has been selected."),e[0].selected=!0),this.videoTracks.clear();for(var t=0,n=e;t<n.length;t++){var r=n[t];this.videoTracks.addTrack(r)}if(this._shouldSetSrcOfSourcePlayer()){var i=this._getSelectedSource();i&&(this.player.src=jZ(this.src,i))}}else this._setError(4,"No media source was found.")},t.prototype._setPreloadPolicy=function(e){this._preloadPolicy=e,this.player.preload=e?this._preload:"none"},t.prototype._refreshSelectedTrack=function(){this._changeTrack(this._getSelectedTrack())},t.prototype._getSelectedTrack=function(){var e=this.videoTracks;return e[e.selectedIndex]||e[0]},t.prototype._getSelectedSource=function(){var e=(this._getSelectedTrack()||{}).src;return void 0===e?"":e},t.prototype._setError=function(e,t){var n,r,i;this._error=new hZ(e,t),this._dumpDetail=null===(n=this._dumpState)||void 0===n?void 0:n.call(this),this._nelo.send(Yoe({type:"error",message:t,code:e,onLine:navigator.onLine,isConnected:this.shadowRoot.isConnected,protocol:null!==(i=null===(r=this.srcObject)||void 0===r?void 0:r.protocol)&&void 0!==i?i:"unknown",dump:this._dumpDetail},Boe(this.videoTracks)))},t.prototype._dumpState=function(){var e,t,n,r,i=null===(t=null===(e=this.srcObject)||void 0===e?void 0:e._dumpState)||void 0===t?void 0:t.call(e),o=null===(r=(n=this.player)._dumpState)||void 0===r?void 0:r.call(n);return{paused:this.paused,currentTime:this.currentTime,autoplay:this.autoplay,muted:this.muted,readyState:this.readyState,src:this.src,error:this.error,srcObject:i,sourcePlayer:o}},t.prototype._getSourceCaches=function(){return this._sourceCaches},t.prototype.play=function(){if(null===this.srcObject)return this._playSourcePlayer();var e=this._getSelectedSource();if(""===e){var t=this._playSourcePlayer();return 2!==this.networkState&&this._load(),this._paused=!1,this._canAutoplay=!1,t}var n,r,i,o,a=this.ended;return this.player.src&&(n=this.player.src,r=e,i=/^([^?#]+)/g.exec(n),o=/^([^?#]+)/g.exec(r),i&&o&&i[0]===o[0])||(this.player.src=jZ(this.src,e)),this._canAutoplay=!1,this._playSourcePlayer(a)},t.prototype.tryUnlockUserGesture=function(){return Xoe(this,void 0,void 0,(function(){return $oe(this,(function(e){switch(e.label){case 0:return this.player.load(),[4,this.adsController.tryUnlockUserGesture()];case 1:return e.sent(),[2]}}))}))},t.prototype._playSourcePlayer=function(e){var t;return void 0===e&&(e=this.ended),Xoe(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c,d,f,h,p,v,m=this;return $oe(this,(function(g){switch(g.label){case 0:if((i=navigator.userActivation)&&(n=i.hasBeenActive,r=i.isActive),this._nelo.send(Yoe({type:"call",api:"play",hasBeenActive:n,isActive:r},Boe(this.videoTracks))),e&&(this.player.defaultPlaybackRate=this.playbackRate,hF(this._onSourcePlaying$,this._onSourceError$,this._onSourceAbort$).pipe(dU(1)).subscribe((function(){m.defaultPlaybackRate=m._defaultPlaybackRate}))),!this.adsController.srcObject)return[3,15];if(!this._neverPlayed)return[3,11];g.label=1;case 1:return g.trys.push([1,3,,4]),this.player.load(),this._neverPlayed=!1,[4,this.adsController.tryUnlockUserGesture()];case 2:case 3:return g.sent(),[3,4];case 4:return g.trys.push([4,6,,7]),[4,this._warmup()];case 5:return g.sent(),this.adsController.adWillAutoPlay=!0,[3,7];case 6:throw o=g.sent(),this.adsController.adWillAutoPlay=!1,this._neverPlayed=!0,o;case 7:return g.trys.push([7,9,,10]),[4,this.adsController.startAd(this.clientWidth,this.clientHeight,this.displayingFullscreen?DF.AdViewModeTypes.FULLSCREEN:DF.AdViewModeTypes.NORMAL,this._getDesiredAdBitrate())];case 8:case 9:return g.sent(),[3,10];case 10:return[3,14];case 11:return e?(0!==this.player.readyState&&(this.currentTime=0),[4,this._loop()]):[3,14];case 12:return g.sent()?[4,this.adsController.startAd(this.clientWidth,this.clientHeight,this.displayingFullscreen?DF.AdViewModeTypes.FULLSCREEN:DF.AdViewModeTypes.NORMAL,this._getDesiredAdBitrate())]:[2];case 13:g.sent(),g.label=14;case 14:return"pre"===(null===(t=this.adsController.currentAd)||void 0===t?void 0:t.adPlacementType)?[2]:[3,17];case 15:return e?[4,this._loop()]:[3,17];case 16:if(!g.sent())return[2];g.label=17;case 17:return this._neverPlayed?[4,this._warmup()]:[3,19];case 18:g.sent(),g.label=19;case 19:return g.trys.push([19,21,,22]),this._paused=!1,this.dispatchEvent(new fZ(fZ.PLAY))?[4,this.player.play()]:(this._paused=!0,[2]);case 20:return g.sent(),this._neverPlayed=!1,s=(a=this).loop,u=a.preload,l=a.autoplay,c=this.shadowRoot.getBoundingClientRect(),d=document.fullscreenElement===this.shadowRoot,f=this.player.webkitDisplayingFullscreen,this._nelo.send({type:"event",event:"play",loop:s,preload:u,autoplay:l,boundary:c,isFullscreen:d,isVideoFullscreen:f}),[3,22];case 21:throw h=g.sent(),p=window.history.length,v=document.referrer,this._paused=!0,this._nelo.send({type:"event",event:"rejected",history:p,referrer:v}),h;case 22:return[2]}}))}))},t.prototype._loop=function(){var e;return Xoe(this,void 0,void 0,(function(){return $oe(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,null===(e=this.srcObject)||void 0===e?void 0:e.loop()];case 1:return[2,t.sent()];case 2:return t.sent(),this._setError(2,"MEDIA_ERR_NETWORK"),this._updateNetworkState(3),this.dispatchEvent(new fZ(fZ.ERROR)),[3,3];case 3:return[2,!1]}}))}))},t.prototype._warmup=function(){var e=this;return this._pendingWarmUpPromise||(this._pendingWarmUpPromise=this._warmUpInternal().finally((function(){e._pendingWarmUpPromise=void 0}))),this._pendingWarmUpPromise},t.prototype._restorePlaybackRate=function(e){this._playbackRateImmutable=!1,e.playbackRate=this._playbackRate},t.prototype._warmUpInternal=function(){var e=this,t=this.player;return new Promise((function(n,r){e._preventPropagationEvents=["playing","pause"];var i=!1,o=setTimeout((function(){var o,a;if(i=!0,e._nelo.send({type:"warmup",result:"timeout",protocol:null!==(a=null===(o=e.srcObject)||void 0===o?void 0:o.protocol)&&void 0!==a?a:"unknown"}),e._restorePlaybackRate(t),t.readyState>1)t.load(),e._warmUpInternal().then(n,r);else{var s=new Error("The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission.");s.name="NotAllowedError",r(s)}}),1e4),a=t.playbackRate;t.playbackRate=0,e._playbackRateImmutable=!0,e._playbackRate=a,t.play().then((function(){i||(clearTimeout(o),t.pause(),e._restorePlaybackRate(t),sF(t,"pause").pipe(dU(1)).subscribe((function(){e._preventPropagationEvents=[]})),n())})).catch((function(n){var a,s;i||(e._nelo.send({type:"warmup",result:"rejected",protocol:null!==(s=null===(a=e.srcObject)||void 0===a?void 0:a.protocol)&&void 0!==s?s:"unknown"}),e._restorePlaybackRate(t),clearTimeout(o),e._preventPropagationEvents=[],r(n))}))}))},t.prototype._changeTrack=function(e){var t,n,r,i,o,a,s,u=this,l=/([?#&])t=(\d+(?:\.\d+)?)/;if(this._setVideoSizeInternal(e.width,e.height),GX.mark(this,"player.event.onVideoTrackChange"),!this.ended&&!this.player.videoTracks){this._wasPlayingBeforeTrackChanges=null!==(t=this._wasPlayingBeforeTrackChanges)&&void 0!==t?t:!this.player.paused;var c=N$(this.player.seekable),d=null===(i=null===(r=null===(n=this.srcObject)||void 0===n?void 0:n.data)||void 0===r?void 0:r.live)||void 0===i?void 0:i.timeMachine;if("boolean"==typeof d&&!1===d)this.player.src=e.src,this._lastCurrentTime=NaN;else if(isFinite(c)&&c>0){var f=(null===(o=this.getPreProcessorControl("hls"))||void 0===o?void 0:o.dvrOffset)||0;this._lastCurrentTime=this._lastCurrentTime||this.currentTime-f,s=l.test(e.src)?(""+e.src).replace(l,(function(e,t){return t+"t="+u._lastCurrentTime+"}"})):e.src+(e.src.indexOf("#")>-1?"&":"#")+"t="+this._lastCurrentTime,this.player.src=s}else this.player.src=e.src,this._lastCurrentTime=NaN;(null===(a=this.getPreProcessorControl("vr"))||void 0===a?void 0:a.enabled())||this._showDimmedLayer();var h=hF(this._onCoreAbort$,this._onCoreError$).pipe(UB((function(){return u._hideDimmedLayer()}))),p=sF(this.player,eQ.LOAD_START).pipe(dU(1),RB(h),UB((function(){u._wasPlayingBeforeTrackChanges?u.player.play():u.player.load()})),eB(),TM()),v=sF(this.player,eQ.SEEKED),m=sF(this.player,eQ.CAN_PLAYTHROUGH),g=sF(this.player,eQ.TIME_UPDATE);p.pipe(IB((function(){return!Number.isNaN(u._lastCurrentTime)&&u._lastCurrentTime>0?u.paused?v:v.pipe(dU(1),DB(g)):m})),dU(1),RB(h)).subscribe((function(){u._wasPlayingBeforeTrackChanges=void 0,u._lastCurrentTime=NaN,u._hideDimmedLayer(),u._clearMetadataTextTrack()})),p.pipe(IB((function(){return sF(u.player,eQ.PLAYING)})),dU(1)).subscribe((function(){u._keepPlaybackProperties()}))}},t.prototype.pause=function(){this.player.pause()},t.prototype.dispatchEvent=function(t){return GX.mark(this,"player.event."+t.type),e.prototype.dispatchEvent.call(this,t)},t.prototype._load=function(){if(this._initLoadStart())return this._shouldFetchMetadata()?void this._loadSrcObejct():(this._updateNetworkState(1),void this.dispatchEvent(new fZ(fZ.SUSPEND)))},t.prototype.load=function(){this._initLoadStart()&&this._loadSrcObejct()},t.prototype._initLoadStart=function(){return this._initVideoMetadata(),this.playbackRate=this.defaultPlaybackRate,this._updateNetworkState(3),null===this._selectResource()?(this._updateNetworkState(0),!1):(this._updateNetworkState(2),!!this.dispatchEvent(new fZ(fZ.LOAD_START))||(this._updateNetworkState(1),!1))},t.prototype._loadSrcObejct=function(){return Xoe(this,void 0,void 0,(function(){var e;return $oe(this,(function(t){switch(t.label){case 0:if(null===this.srcObject)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.srcObject.load()];case 2:return t.sent(),[3,4];case 3:return"Abort"===t.sent().message?(this._setError(1,"MEDIA_ERR_ABORTED"),this.dispatchEvent(new Q$(fZ.ABORT)),this._updateNetworkState(0===this._readyState?0:1),[2]):(this._setError(2,"MEDIA_ERR_NETWORK"),this._updateNetworkState(3),this.dispatchEvent(new fZ(fZ.ERROR)),[3,4]);case 4:return this._updateReadyState(),this._updateNetworkState(1),this._shouldPlayThrough()?(void 0!==(null==(e=this.play())?void 0:e.catch)&&e.catch((function(e){switch(e.name){case"AbortError":case"NotAllowedError":return;default:throw e}})),[2]):(this.error&&this.dispatchEvent(new fZ(fZ.ERROR)),[2])}}))}))},t.prototype._shouldFetchMetadata=function(){return!!this._shouldPlayThrough()||!!this._shouldSetSrcOfSourcePlayer()||"auto"===this.preload||"metadata"===this.preload},t.prototype._shouldSetSrcOfSourcePlayer=function(){return!!this._shouldPlayThrough()||!this._paused||"auto"===this.preload},t.prototype._shouldPlayThrough=function(){return this._canAutoplay&&this.autoplay&&!this.error},t.prototype._selectResource=function(){return this.srcObject?this.srcObject:null},t.prototype._showDimmedLayer=function(){this._dimEl.classList.remove("wpc-dis-hid")},t.prototype._hideDimmedLayer=function(){this._dimEl.classList.add("wpc-dis-hid")},t.prototype._clearMetadataTextTrack=function(){var e=Array.from(this.player.textTracks),t=this.textTracks;Array.from(t).forEach((function(n){if("metadata"===n.kind){var r=n.trackElement;e.find((function(e){return e===r}))||t.removeTrack(n)}}))},t.prototype._getDesiredAdBitrate=function(){var e=0;try{var t=this.videoTracks[this.videoTracks.selectedIndex];e+=isFinite(t.videoBitrate)?t.videoBitrate:0,e+=isFinite(t.audioBitrate)?t.audioBitrate:0}catch(e){}if(0===e&&(this.player.videoWidth||this.player.videoHeight))for(var n=this.player,r=n.videoWidth,i=n.videoHeight,o=0;0===e&&o<this.videoTracks.length;++o){var a=this.videoTracks[o];if(a.width===r||a.height===i){var s=a.videoBitrate+a.audioBitrate;isFinite(s)&&(e=s)}}return e},Object.defineProperty(t.prototype,"clientWidth",{get:function(){return this.player.clientWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientHeight",{get:function(){return this.player.clientHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return this._src},set:function(e){var t;this._src=e,t=""===e?null:Voe.getMediaProvider(function(e){var t=(e.match(/^\w+:/)||[""])[0];if(!t)throw new Error("protocol을 찾을 수 없습니다.");return t}(this.src),e),this.srcObject=t,this._sourceChange$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentSrc",{get:function(){return this.videoTracks.selectedIndex>-1?this.videoTracks[this.videoTracks.selectedIndex].src:this.player.currentSrc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){this.srcObject&&(this.dispatchEvent(new Q$(fZ.ABORT)),this.srcObject.close(),GX.setOwnership(this.srcObject)),this.adsController.stopAd(),this._clearPlaybackProperties(),this._srcObject=e,this.player.pause(),this.player.removeAttribute("src"),this.poster="",this.player.load(),this._srcObject&&(GX.setOwnership(this._srcObject,this),this._srcObject.player=this),this._load()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preload",{get:function(){return this._preload},set:function(e){if(this._preload=e,!(this.readyState>1)&&1===this.networkState)if(this.readyState<1&&this._shouldFetchMetadata())this._load();else if(this._shouldSetSrcOfSourcePlayer()&&!this.player.src){var t=this._getSelectedSource();t&&(this.player.src=jZ(this.src,t))}},enumerable:!1,configurable:!0}),t.prototype.addTextTrack=function(e,t,n){var r={label:"",language:"",country:"",fanName:"",locale:"",type:"",source:""};t&&(r.label=t),n&&(r.language=n);var i=new HJ(r,e);return this.textTracks.addTrack(i),i},Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readyState",{get:function(){return this._readyState<1?this._readyState:Math.max(this.player.readyState,1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"networkState",{get:function(){return this.readyState<=1?this._networkState:this.player.networkState},enumerable:!1,configurable:!0}),t.prototype._ensureVolumeChangeEmit=function(){sF(this.player,eQ.LOAD_START).pipe(dU(1),RB(sF(this.player,eQ.VOLUME_CHANGE))).subscribe(this._triggerVolumeChangeEvent)},Object.defineProperty(t.prototype,"volume",{get:function(){return this.player.volume},set:function(e){e!==this.player.volume&&(this.player.volume=e,this._ensureVolumeChangeEmit())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentTime",{get:function(){return isNaN(this._lastCurrentTime)?this.player.currentTime:this._lastCurrentTime},set:function(e){this.player.currentTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"muted",{get:function(){return this.player.muted},set:function(e){e!==this.player.muted&&(this.player.muted=e,this._ensureVolumeChangeEmit())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultMuted",{get:function(){return this.player.defaultMuted},set:function(e){this.player.defaultMuted=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){var e=this.shadowRoot.style.width;return e?iJ(e):NaN},set:function(e){this.shadowRoot.style.width=e+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.shadowRoot.style.height;return e?iJ(e):NaN},set:function(e){this.shadowRoot.style.height=e+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"poster",{get:function(){return this._poster},set:function(e){this._poster=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controls",{get:function(){return this.player.controls},set:function(e){this.player.controls=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoWidth",{get:function(){return this._videoWidth||this.player.videoWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoHeight",{get:function(){return this._videoHeight||this.player.videoHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this._error||this.player.error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowRoot",{get:function(){return this._shadowRoot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loopFlag$.getValue()},set:function(e){this._loopFlag$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoplay",{get:function(){return this._autoplay},set:function(e){this._autoplay=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"played",{get:function(){return this.player.played},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ended",{get:function(){return this.player.ended},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seeking",{get:function(){return this.player.seeking},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seekable",{get:function(){return this.player.seekable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffered",{get:function(){return this.player.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(e){var t=Math.max(0,e);this._playbackRate=t,this._playbackRateImmutable||(this.player.playbackRate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultPlaybackRate",{get:function(){return this._defaultPlaybackRate},set:function(e){var t=Math.max(0,e);this.player.defaultPlaybackRate=t,this._defaultPlaybackRate=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getVideoPlaybackQuality",{get:function(){return this.player.getVideoPlaybackQuality},enumerable:!1,configurable:!0}),t.prototype.configurePreProcessor=function(e){return this.player.configurePreProcessor(e)},t.prototype.configurePostProcessor=function(e){this._postProcessingManager.configure(e)},t.prototype.getPreProcessorControl=function(e){return this.player.getPreProcessorControl(e)},t.prototype.canPlayType=function(e){return this.player.canPlayType(e)},t.prototype.requestFullscreen=function(e){return j$(this.player,e)},t.prototype.exitFullscreen=function(){return L$(this.player)},Object.defineProperty(t.prototype,"displayingFullscreen",{get:function(){return function(e){for(var t=0,n=Uoe;t<n.length;t++){var r=n[t];if(void 0!==e[r])return e[r]}return!1}(this.player)},enumerable:!1,configurable:!0}),t.prototype._detachMediaKeys=function(){return Xoe(this,void 0,void 0,(function(){var e;return $oe(this,(function(t){switch(t.label){case 0:return this._mediaKeys?[4,dQ.getInstance().getMediaKeysController(this._mediaKeys)]:[3,5];case 1:return(e=t.sent())?[4,e.close()]:[3,3];case 2:t.sent(),t.label=3;case 3:return this._mediaKeys=null,[4,this.player.setMediaKeys(null)];case 4:t.sent(),t.label=5;case 5:return[2]}}))}))},t.prototype.setMediaKeys=function(e){return Xoe(this,void 0,void 0,(function(){var t;return $oe(this,(function(n){switch(n.label){case 0:return e===this._mediaKeys?[3,2]:[4,this._detachMediaKeys()];case 1:n.sent(),n.label=2;case 2:return e?[4,dQ.getInstance().getMediaKeysController(e)]:[3,5];case 3:return(t=n.sent())?[4,t.attachMedia(this.player)]:[3,5];case 4:n.sent(),n.label=5;case 5:return this._mediaKeys=e,[2]}}))}))},Object.defineProperty(t.prototype,"mediaKeys",{get:function(){return this._mediaKeys},enumerable:!1,configurable:!0}),t.use=function(e){-1===t._plugins.indexOf(e)&&(t._plugins.push(e),e(XQ,GZ))},t.prototype._keepPlaybackProperties=function(){this.playbackRate=this._playbackRate},t.prototype._clearPlaybackProperties=function(){this._neverPlayed=!0,this._preventPropagationEvents=[],this.playbackRate=this.defaultPlaybackRate},Object.defineProperty(t.prototype,"crossOrigin",{get:function(){return this.player.crossOrigin},set:function(e){e?this.player.crossOrigin=e:this.player.removeAttribute("crossorigin")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_currentCodecs",{get:function(){var e,t,n,r,i;return null!==(r=null!==(t=null===(e=this.videoTracks[this.videoTracks.selectedIndex])||void 0===e?void 0:e.codecs)&&void 0!==t?t:null===(n=this.getPreProcessorControl("hls"))||void 0===n?void 0:n.codecs)&&void 0!==r?r:null===(i=this.getPreProcessorControl("dash"))||void 0===i?void 0:i.codecs},enumerable:!1,configurable:!0}),t.prototype._addEventListener=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.player).addEventListener.apply(e,t)},t.prototype._removeEventListener=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.player).removeEventListener.apply(e,t)},t.prototype.getStartDate=function(){return this.player.getStartDate?this.player.getStartDate():new Date(NaN)},t.version=vJ,t._plugins=[],t.mediaCapabilities=DZ.instance,t}(CJ),Zoe=Joe;function eae(e,t){for(var n=e.length,r=0;r<n;++r)if(t(e[r],r))return!0;return!1}function tae(e,t){for(var n=e.length,r=0;r<n;++r)if(t(e[r],r))return e[r];return null}function nae(e,t){try{return new RegExp(e,"g").exec(t)}catch(e){return null}}function rae(e){return e.replace(/_/g,".")}function iae(e,t){var n=null,r="-1";return eae(e,(function(e){var i=nae("("+e.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",t);return!(!i||e.brand||(n=e,r=i[3]||"-1",e.versionAlias?r=e.versionAlias:e.versionTest&&(r=function(e,t){var n=nae("("+e+")((?:\\/|\\s|:)([0-9|\\.|_]+))",t);return n?n[3]:""}(e.versionTest.toLowerCase(),t)||r),r=rae(r),0))})),{preset:n,version:r}}function oae(e,t){var n={brand:"",version:"-1"};return eae(e,(function(e){var r=aae(t,e);return!!r&&(n.brand=e.id,n.version=e.versionAlias||r.version,"-1"!==n.version)})),n}function aae(e,t){return tae(e,(function(e){var n=e.brand;return nae(""+t.test,n.toLowerCase())}))}var sae=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],uae=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],lae=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],cae=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],dae=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function fae(e){var t=function(e){var t=e;if(void 0===t){if("undefined"==typeof navigator||!navigator)return"";t=navigator.userAgent||""}return t.toLowerCase()}(e),n=!!/mobi/g.exec(t),r={name:"unknown",version:"-1",majorVersion:-1,webview:!!iae(cae,t).preset,chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},o=iae(sae,t),a=o.preset,s=o.version,u=iae(dae,t),l=u.preset,c=u.version,d=iae(uae,t);if(r.chromium=!!d.preset,r.chromiumVersion=d.version,!r.chromium){var f=iae(lae,t);r.webkit=!!f.preset,r.webkitVersion=f.version}return l&&(i.name=l.id,i.version=c,i.majorVersion=parseInt(c,10)),a&&(r.name=a.id,r.version=s,r.webview&&"ios"===i.name&&"safari"!==r.name&&(r.webview=!1)),r.majorVersion=parseInt(r.version,10),{browser:r,os:i,isMobile:n,isHints:!1}}function hae(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pae(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function vae(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pae(arguments[t]));return e}var mae=function(e){return void 0===e},gae=function(){function e(e,t){var n,r;if(this._canceled=!1,t)try{for(var i=hae(Object.keys(t)),o=i.next();!o.done;o=i.next()){var a=o.value;this[a]=t[a]}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.eventType=e}var t=e.prototype;return t.stop=function(){this._canceled=!0},t.isCanceled=function(){return this._canceled},e}(),yae=function(){function e(){this._eventHandler={}}var t=e.prototype;return t.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e instanceof gae?e.eventType:e,i=vae(this._eventHandler[r]||[]);return i.length<=0||(e instanceof gae?(e.currentTarget=this,i.forEach((function(t){t(e)}))):i.forEach((function(e){e.apply(void 0,vae(t))}))),this},t.once=function(e,t){var n=this;if("object"==typeof e&&mae(t)){var r=e;for(var i in r)this.once(i,r[i]);return this}if("string"==typeof e&&"function"==typeof t){var o=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t.apply(void 0,vae(r)),n.off(e,o)};this.on(e,o)}return this},t.hasOn=function(e){return!!this._eventHandler[e]},t.on=function(e,t){if("object"==typeof e&&mae(t)){var n=e;for(var r in n)this.on(r,n[r]);return this}if("string"==typeof e&&"function"==typeof t){var i=this._eventHandler[e];mae(i)&&(this._eventHandler[e]=[],i=this._eventHandler[e]),i.push(t)}return this},t.off=function(e,t){var n,r;if(mae(e))return this._eventHandler={},this;if(mae(t)){if("string"==typeof e)return delete this._eventHandler[e],this;var i=e;for(var o in i)this.off(o,i[o]);return this}var a=this._eventHandler[e];if(a){var s=0;try{for(var u=hae(a),l=u.next();!l.done;l=u.next()){if(l.value===t){a.splice(s,1),a.length<=0&&delete this._eventHandler[e];break}s++}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}return this},e.VERSION="3.0.2",e}(),bae=gae,_ae=function(e,t){return _ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},_ae(e,t)};function Eae(e,t){function n(){this.constructor=e}_ae(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var wae=function(){return wae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wae.apply(this,arguments)},Sae="undefined"!=typeof window,Tae=Sae?window.navigator.userAgent:"",kae=!!Sae&&!!("getComputedStyle"in window),xae=/MSIE|Trident|Windows Phone|Edge/.test(Tae),Aae=!!Sae&&!!("addEventListener"in document),Pae="width",Oae="height";function Cae(e,t){return e.getAttribute(t)||""}function Iae(e){return[].slice.call(e)}function Lae(e,t){return void 0===t&&(t="data-"),"loading"in e&&"lazy"===e.getAttribute("loading")||!!e.getAttribute(t+"lazy")}function Nae(e,t,n){Aae?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function Dae(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function Rae(e,t){var n=e["client"+t]||e["offset"+t];return parseFloat(n||function(e){return(kae?window.getComputedStyle(e):e.currentStyle)||{}}(e)[t.toLowerCase()])||0}function Mae(e,t,n){var r=Iae(e.querySelectorAll(function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(["["+n+"skip] ["+n+"width]"],t.map((function(e){return["["+n+"skip] "+e,e+"["+n+"skip]","["+n+"width] "+e].join(", ")}))).join(", ")));return Iae(e.querySelectorAll("["+n+"width], "+t.join(", "))).filter((function(e){return-1===r.indexOf(e)}))}var jae=[];function Fae(e,t){!jae.length&&Nae(window,"resize",Uae),e.__PREFIX__=t,jae.push(e),Vae(e)}function Vae(e,t){void 0===t&&(t="data-");var n=e.__PREFIX__||t,r=parseInt(Cae(e,""+n+Pae),10)||0,i=parseInt(Cae(e,""+n+Oae),10)||0;if(Cae(e,n+"fixed")===Oae){var o=Rae(e,"Height")||i;e.style[Pae]=r/i*o+"px"}else o=function(e){return Rae(e,"Width")}(e)||r,e.style[Oae]=i/r*o+"px"}function Uae(){jae.forEach((function(e){Vae(e)}))}var Bae=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;r.isReady=!1,r.isPreReady=!1,r.hasDataSize=!1,r.hasLoading=!1,r.isSkip=!1,r.onCheck=function(e){if(r.clear(),e&&"error"===e.type&&r.onError(r.element),!r.hasLoading||!r.checkElement()){var t=!r.hasDataSize&&!r.hasLoading;r.onReady(t)}},r.options=wae({prefix:"data-"},n),r.element=t;var i=r.options.prefix;return r.hasDataSize=function(e,t){return void 0===t&&(t="data-"),!!e.getAttribute(t+"width")}(t,i),r.isSkip=function(e,t){return void 0===t&&(t="data-"),!!e.getAttribute(t+"skip")}(t,i),r.hasLoading=Lae(t,i),r}Eae(t,e);var n=t.prototype;return n.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&Fae(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},n.addEvents=function(){var e=this,t=this.element;this.constructor.EVENTS.forEach((function(n){Nae(t,n,e.onCheck)}))},n.clear=function(){var e=this,t=this.element;this.constructor.EVENTS.forEach((function(n){Dae(t,n,e.onCheck)})),this.removeAutoSizer()},n.destroy=function(){this.clear(),this.off()},n.removeAutoSizer=function(){if(this.hasDataSize){var e=this.options.prefix;!function(e,t){var n=jae.indexOf(e);if(!(n<0)){var r=Cae(e,t+"fixed");delete e.__PREFIX__,e.style[r===Oae?Pae:Oae]="",jae.splice(n,1),!jae.length&&Dae(window,"resize",Uae)}}(this.element,e)}},n.onError=function(e){this.trigger("error",{element:this.element,target:e})},n.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},n.onReady=function(e){this.isReady||((e=!this.isPreReady&&e)&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:e,hasLoading:this.hasLoading,isSkip:this.isSkip}))},n.onAlreadyError=function(e){var t=this;setTimeout((function(){t.onError(e)}))},n.onAlreadyPreReady=function(){var e=this;setTimeout((function(){e.onPreReady()}))},n.onAlreadyReady=function(e){var t=this;setTimeout((function(){t.onReady(e)}))},t.EVENTS=[],t}(yae),zae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Eae(t,e);var n=t.prototype;return n.setHasLoading=function(e){this.hasLoading=e},n.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(Fae(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},n.checkElement=function(){return!0},n.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},n.onAlreadyPreReady=function(){e.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},t.EVENTS=[],t}(Bae),Gae=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.readyCount=0,n.preReadyCount=0,n.totalCount=0,n.totalErrorCount=0,n.isPreReadyOver=!0,n.elementInfos=[],n.options=wae({loaders:{},prefix:"data-"},t),n}Eae(t,e);var n=t.prototype;return n.check=function(e){var t=this,n=this.options.prefix;this.clear(),this.elementInfos=Iae(e).map((function(e,r){var i=t.getLoader(e,{prefix:n});return i.check(),i.on("error",(function(e){t.onError(r,e.target)})).on("preReady",(function(e){var n=t.elementInfos[r];n.hasLoading=e.hasLoading,n.isSkip=e.isSkip;var i=t.checkPreReady(r);t.onPreReadyElement(r),i&&t.onPreReady()})).on("ready",(function(e){var n=e.withPreReady,i=e.hasLoading,o=e.isSkip,a=t.elementInfos[r];a.hasLoading=i,a.isSkip=o;var s=n&&t.checkPreReady(r),u=t.checkReady(r);n&&t.onPreReadyElement(r),t.onReadyElement(r),s&&t.onPreReady(),u&&t.onReady()})),{loader:i,element:e,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}}));var r=this.elementInfos.length;return this.totalCount=r,r||setTimeout((function(){t.onPreReady(),t.onReady()})),this},n.getTotalCount=function(){return this.totalCount},n.isPreReady=function(){return this.elementInfos.every((function(e){return e.isPreReady}))},n.isReady=function(){return this.elementInfos.every((function(e){return e.isReady}))},n.hasError=function(){return this.totalErrorCount>0},n.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach((function(e){!e.isReady&&e.loader&&e.loader.destroy()})),this.elementInfos=[]},n.destroy=function(){this.clear(),this.off()},n.getLoader=function(e,t){var n=this,r=e.tagName.toLowerCase(),i=this.options.loaders,o=t.prefix,a=Object.keys(i);if(i[r])return new i[r](e,t);var s=new zae(e,t),u=Iae(e.querySelectorAll(a.join(", ")));s.setHasLoading(u.some((function(e){return Lae(e,o)})));var l=!1,c=this.clone().on("error",(function(e){s.onError(e.target)})).on("ready",(function(){s.onReady(l)}));return s.on("requestChildren",(function(){var t=Mae(e,a,n.options.prefix);c.check(t).on("preReady",(function(e){(l=e.isReady)||s.onPreReady()}))})).on("reqeustReadyChildren",(function(){c.check(u)})).on("requestDestroy",(function(){c.destroy()})),s},n.clone=function(){return new t(wae({},this.options))},n.checkPreReady=function(e){return this.elementInfos[e].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},n.checkReady=function(e){return this.elementInfos[e].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},n.onError=function(e,t){var n=this.elementInfos[e];n.hasError=!0,this.trigger(new bae("error",{element:n.element,index:e,target:t,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},n.onPreReadyElement=function(e){var t=this.elementInfos[e];this.trigger(new bae("preReadyElement",{element:t.element,index:e,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:t.hasLoading,isSkip:t.isSkip}))},n.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new bae("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},n.onReadyElement=function(e){var t=this.elementInfos[e];this.trigger(new bae("readyElement",{index:e,element:t.element,hasError:t.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:t.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:t.isSkip}))},n.onReady=function(){this.trigger(new bae("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},n.getErrorCount=function(){return this.elementInfos.filter((function(e){return e.hasError})).length},n.hasLoading=function(){return this.elementInfos.some((function(e){return e.hasLoading}))},t}(yae),qae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Eae(t,e),t.prototype.checkElement=function(){var e=this.element,t=e.getAttribute("src");if(e.complete){if(t)return e.naturalWidth||this.onAlreadyError(e),!1;this.onAlreadyPreReady()}return this.addEvents(),xae&&e.setAttribute("src",t),!0},t.EVENTS=["load","error"],t}(Bae),Hae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Eae(t,e),t.prototype.checkElement=function(){var e=this.element;return!(e.readyState>=1||(e.error?(this.onAlreadyError(e),1):(this.addEvents(),0)))},t.EVENTS=["loadedmetadata","error"],t}(Bae),Wae=function(e){function t(t){return void 0===t&&(t={}),e.call(this,wae({loaders:{img:qae,video:Hae}},t))||this}return Eae(t,e),t}(Gae);"undefined"!=typeof WEBPACK_BUNDLE&&"true"===WEBPACK_BUNDLE&&(eM.Promise=Promise);var Kae,Yae,Xae={index:0,currentTime:0};e.PlayerEvents=void 0,(Kae=e.PlayerEvents||(e.PlayerEvents={})).IndexChange="indexchange",Kae.TimeUpdate="timeupdate",Kae.Play="play",Kae.Playing="playing",Kae.Pause="pause",Kae.MomentLoaded="momentloaded",Kae.Replay="replay",Kae.Waiting="waiting",Kae.CanPlay="canplay",Kae.Ended="ended",Kae.Seeking="seeking",Kae.Seeked="seeked",Kae.MomentEnded="momentended",Kae.Resize="resize",Kae.BeforeIndexChange="beforeindexchange",Kae.Error="error",Kae.LoadedMetadata="loadedmetadata",Kae.VolumeChange="volumechange",Kae.Progress="progress",e.PlayerReadyState=void 0,(Yae=e.PlayerReadyState||(e.PlayerReadyState={}))[Yae.HaveNothing=0]="HaveNothing",Yae[Yae.HaveMetadata=1]="HaveMetadata",Yae[Yae.HaveCurrentData=2]="HaveCurrentData",Yae[Yae.HaveFutureData=3]="HaveFutureData",Yae[Yae.HaveEnoughData=4]="HaveEnoughData";var $ae,Qae,Jae,Zae=function(){function e(e){var t=void 0===e?{}:e,n=t.maxParallelLoads,r=void 0===n?6:n,i=t.preloadType,o=void 0===i?"auto":i,a=this;this.preloadSlots=[],this.queue=[];for(var s=function(e){var t=document.createElement("video"),n=function(){return a.onCanPlayThrough({idx:e})};t.setAttribute("preload",o),t.addEventListener("canplaythrough",n),u.preloadSlots[e]={loading:!1,$video:t,eventListener:n}},u=this,l=0;l<r;l++)s(l)}return e.prototype.onCanPlayThrough=function(e){var t=e.idx;this.preloadSlots[t].loading=!1,this.preloadSlots[t].$video.src="",this.loadSource()},e.prototype.loadSource=function(){var e=this,t=this.preloadSlots.filter((function(e){return!e.loading}));this.queue.length>0&&t.forEach((function(t){var n=e.queue.pop();n&&(t.$video.src=n,t.loading=!0)}))},e.prototype.preload=function(e){this.queue=PR(PR([],e,!0),this.queue,!0),this.loadSource()},e.prototype.clear=function(){this.queue=[],this.preloadSlots.length>0&&this.preloadSlots.forEach((function(e){e.$video.src=""}))},e.prototype.destroy=function(){this.preloadSlots.length>0&&this.preloadSlots.forEach((function(e){var t=e.$video,n=e.eventListener;t.removeEventListener("canplaythrough",n)})),this.clear()},e}(),ese={locale:"ko",messages:{"action.close":"닫기","action.more":"더보기","action.retry":"재시도","action.delete":"삭제","action.refresh":"새로고침","action.confirm":"확인","action.like_it":"{it} 좋아요","action.check_price_info":"가격정보 보기","action.cancel":"취소","action.pause":"일시정지","action.play":"재생하기","aria.close_layer":"레이어 닫기","aria.saved":"저장됨","aria.save":"저장","aria.selected":"선택 됨","aria.unselected":"선택 안됨","aria.not_selected":"선택 안 함","label.shortcuts_to":"{to} 바로가기","aria.profile_image":"프로필 이미지","aria.play_position":"재생 위치","aria.go_forward":"앞으로 가기","aria.go_backward":"뒤로 가기","aria.on_volume":"볼륨 조절 켬","aria.off_volume":"볼륨 조절 끔","aria.selected_wish":"찜 버튼 선택 됨","aria.not_selected_wish":"찜 버튼 선택 안 됨","label.go_to_buy":"사러가기","label.telephone":"전화","label.reservation":"예약","label.moment":"모먼트","label.share":"공유","label.comment":"댓글","label.blog":"블로그","label.writer":"저자","label.publish":"출판","label.release":"발매","label.price":"가격","label.grade":"평점","label.book":"책","label.movie":"영화","label.place":"장소","label.shopping":"쇼핑","label.director":"감독","label.appear":"출연","label.summary":"개요","label.unregistered":"미등록","label.movie_released":"개봉","label.lowest_price":"최저가","label.vendor":"판매처","label.wish":"찜","label.thumbnail":"섬네일","label.for_adult":"19금","label.notice_edit_info":"정보 수정 안내","label.is_report":"신고 여부","label.report":"신고","label.edit_info":"정보 수정","label.movie_unreleased":"미개봉","label.movie_re_released":"재개봉","label.notice_is_login":"로그인 여부 안내","label.notice_use_app":"앱 기능 호출 안내","label.notice_constraint_edit_app":"앱 수정 불가 안내","label.notice_delete_moment":"모먼트 삭제 안내","label.no_price_info":"가격 정보 없음","label.play":"재생","label.store_closed":"휴무","label.won":"원","message.error_purchase":"현재 구매할 수 없는 상품입니다.","message.error_place":"현재 확인할 수 없는 장소입니다.","message.error_work":"현재 확인할 수 없는 작품입니다.","message.error_books":"현재 확인할 수 없는 도서입니다.","message.error_play_music_by_right_company":"이 곡은 권리사의 요청으로 감상할 수 없습니다.","message.need_confirm_adult":"<button>성인 인증</button>이 필요합니다.","message.need_login":"<button>로그인</button> 후 이용해주세요","message.error_temporary":"잠시후 다시 시도해 주세요","message.press_on_volume":"소리를 켜려면 누르세요","message.make_moment_on_app":"앱에서 모먼트를 만들어 보세요","message.confirm_edit_info":"정보 수정을 하시겠습니까?","message.confirm_report":"신고를 하시겠습니까?","message.error_no_container":"Container 엘리먼트가 존재하지 않습니다.","message.error_container_format":"Container 엘리먼트의 형식이 올바르지 않습니다.","message.need_video":"재생에 사용할 영상 데이터가 필요합니다.","message.error_moment_data":"모먼트 데이터의 형식이 올바르지 않습니다.","message.confirm_login":"로그인 후 이용해보세요.\\n로그인하시겠습니까?","message.confirm_app":"해당 기능은 앱에서만 사용할 수 있습니다.\\n앱으로 이동하겠습니까?","message.error_edit_restrict_moment":"이용제한된 모먼트는 수정할 수 없습니다.","message.confirm_delete_moment":"삭제한 모먼트는 복구할 수 없습니다.\\n모먼트를 삭제하시겠습니까?","message.no_auth":"권한이 없습니다.","message.error_access":"접근이 금지되었습니다.","message.error_network":"네트워크를 연결할 수 없습니다.","message.not_found":"페이지를 찾을 수 없습니다.","message.error_request":"요청을 수행하던 중 예기치 못한\\n오류가 발생하였습니다.","message.registering":"등록 중입니다.\\n잠시만 기다려주세요.","message.error_moment_play":"재생할 수 없는 모먼트 입니다.","message.error_deleted_post":"삭제되었거나 존재하지 않는 게시물입니다.","message.not_support_moment_version":"지원하지 않는 모먼트 버전입니다.","message.error_common":"화면을 불러올 수 없습니다.","message.success_copy_url":"주소가 복사되었습니다.","message.error_load_info":"현재 해당 정보를 불러올 수 없습니다.","message.error_temporary_music":"일시적인 오류로 음악을 재생할 수 없습니다.","message.success_like_vibe":"VIBE 좋아요한 음악에 추가되었습니다.","message.only_support_ios_android":"iOS / Android 만 지원합니다.","message.not_initialized_service_config":"ServiceConfig의 초기화가 선행되어야 합니다.","action.copy":"복사","label.n_minute":"{minute}분","label.minute_ago":"{minute}분 전","label.hour_ago":"{hour}시간 전","label.day_ago":"{day}일 전","label.recent":"방금 전","label.today":"오늘","message.error_deleted_moment":"모먼트 삭제가 실패하였습니다."}};function tse(e){return e.type===Qae.literal}function nse(e){return e.type===Qae.argument}function rse(e){return e.type===Qae.number}function ise(e){return e.type===Qae.date}function ose(e){return e.type===Qae.time}function ase(e){return e.type===Qae.select}function sse(e){return e.type===Qae.plural}function use(e){return e.type===Qae.pound}function lse(e){return e.type===Qae.tag}function cse(e){return!(!e||"object"!=typeof e||e.type!==Jae.number)}function dse(e){return!(!e||"object"!=typeof e||e.type!==Jae.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}($ae||($ae={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(Qae||(Qae={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(Jae||(Jae={}));var fse=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,hse=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function pse(e){var t={};return e.replace(hse,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var vse,mse=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i,gse=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,yse=/^(@+)?(\+|#+)?[rs]?$/g,bse=/(\*)(0+)|(#+)(0+)|(0+)/g,_se=/^(0+)$/;function Ese(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(yse,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function wse(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function Sse(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!_se.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function Tse(e){return wse(e)||{}}function kse(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=SR(SR(SR({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return SR(SR({},e),Tse(t))}),{}));continue;case"engineering":t=SR(SR(SR({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return SR(SR({},e),Tse(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(bse,(function(e,n,r,i,o,a){if(n)t.minimumIntegerDigits=r.length;else{if(i&&o)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(_se.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(gse.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(gse,(function(e,n,r,i,o,a){return"*"===r?t.minimumFractionDigits=n.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:o&&a?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var o=i.options[0];"w"===o?t=SR(SR({},t),{trailingZeroDisplay:"stripIfInteger"}):o&&(t=SR(SR({},t),Ese(o)))}else if(yse.test(i.stem))t=SR(SR({},t),Ese(i.stem));else{var a=wse(i.stem);a&&(t=SR(SR({},t),a));var s=Sse(i.stem);s&&(t=SR(SR({},t),s))}}return t}var xse=new RegExp("^".concat(fse.source,"*")),Ase=new RegExp("".concat(fse.source,"*$"));function Pse(e,t){return{start:e,end:t}}var Ose=!!String.prototype.startsWith,Cse=!!String.fromCodePoint,Ise=!!Object.fromEntries,Lse=!!String.prototype.codePointAt,Nse=!!String.prototype.trimStart,Dse=!!String.prototype.trimEnd,Rse=Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},Mse=!0;try{Mse="a"===(null===(vse=qse("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===vse?void 0:vse[0])}catch(hMe){Mse=!1}var jse,Fse=Ose?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},Vse=Cse?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",i=e.length,o=0;i>o;){if((n=e[o++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},Use=Ise?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],a=i[1];t[o]=a}return t},Bse=Lse?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,i=e.charCodeAt(t);return i<55296||i>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?i:r-56320+(i-55296<<10)+65536}},zse=Nse?function(e){return e.trimStart()}:function(e){return e.replace(xse,"")},Gse=Dse?function(e){return e.trimEnd()}:function(e){return e.replace(Ase,"")};function qse(e,t){return new RegExp(e,t)}if(Mse){var Hse=qse("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");jse=function(e,t){var n;return Hse.lastIndex=t,null!==(n=Hse.exec(e)[1])&&void 0!==n?n:""}}else jse=function(e,t){for(var n=[];;){var r=Bse(e,t);if(void 0===r||Xse(r)||$se(r))break;n.push(r),t+=r>=65536?2:1}return Vse.apply(void 0,n)};var Wse=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var i=this.char();if(123===i){if((o=this.parseArgument(e,n)).err)return o;r.push(o.val)}else{if(125===i&&e>0)break;if(35!==i||"plural"!==t&&"selectordinal"!==t){if(60===i&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error($ae.UNMATCHED_CLOSING_TAG,Pse(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&Kse(this.peek()||0)){if((o=this.parseTag(e,t)).err)return o;r.push(o.val)}else{var o;if((o=this.parseLiteral(e,t)).err)return o;r.push(o.val)}}else{var a=this.clonePosition();this.bump(),r.push({type:Qae.pound,location:Pse(a,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Qae.literal,value:"<".concat(r,"/>"),location:Pse(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(e+1,t,!0);if(i.err)return i;var o=i.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Kse(this.char()))return this.error($ae.INVALID_TAG,Pse(a,this.clonePosition()));var s=this.clonePosition();return r!==this.parseTagName()?this.error($ae.UNMATCHED_CLOSING_TAG,Pse(s,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Qae.tag,value:r,children:o,location:Pse(n,this.clonePosition())},err:null}:this.error($ae.INVALID_TAG,Pse(a,this.clonePosition())))}return this.error($ae.UNCLOSED_TAG,Pse(n,this.clonePosition()))}return this.error($ae.INVALID_TAG,Pse(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&Yse(this.char());)this.bump();return this.message.slice(e,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var i=this.tryParseQuote(t);if(i)r+=i;else{var o=this.tryParseUnquoted(e,t);if(o)r+=o;else{var a=this.tryParseLeftAngleBracket();if(!a)break;r+=a}}}var s=Pse(n,this.clonePosition());return{val:{type:Qae.literal,value:r,location:s},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(Kse(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return Vse.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),Vse(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error($ae.EXPECT_ARGUMENT_CLOSING_BRACE,Pse(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error($ae.EMPTY_ARGUMENT,Pse(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error($ae.MALFORMED_ARGUMENT,Pse(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error($ae.EXPECT_ARGUMENT_CLOSING_BRACE,Pse(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Qae.argument,value:r,location:Pse(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error($ae.EXPECT_ARGUMENT_CLOSING_BRACE,Pse(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error($ae.MALFORMED_ARGUMENT,Pse(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=jse(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:Pse(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,r){var i,o=this.clonePosition(),a=this.parseIdentifierIfPossible().value,s=this.clonePosition();switch(a){case"":return this.error($ae.EXPECT_ARGUMENT_TYPE,Pse(o,s));case"number":case"date":case"time":this.bumpSpace();var u=null;if(this.bumpIf(",")){this.bumpSpace();var l=this.clonePosition();if((m=this.parseSimpleArgStyleIfPossible()).err)return m;if(0===(f=Gse(m.val)).length)return this.error($ae.EXPECT_ARGUMENT_STYLE,Pse(this.clonePosition(),this.clonePosition()));u={style:f,styleLocation:Pse(l,this.clonePosition())}}if((g=this.tryParseArgumentClose(r)).err)return g;var c=Pse(r,this.clonePosition());if(u&&Fse(null==u?void 0:u.style,"::",0)){var d=zse(u.style.slice(2));if("number"===a)return(m=this.parseNumberSkeletonFromString(d,u.styleLocation)).err?m:{val:{type:Qae.number,value:n,location:c,style:m.val},err:null};if(0===d.length)return this.error($ae.EXPECT_DATE_TIME_SKELETON,c);var f={type:Jae.dateTime,pattern:d,location:u.styleLocation,parsedOptions:this.shouldParseSkeletons?pse(d):{}};return{val:{type:"date"===a?Qae.date:Qae.time,value:n,location:c,style:f},err:null}}return{val:{type:"number"===a?Qae.number:"date"===a?Qae.date:Qae.time,value:n,location:c,style:null!==(i=null==u?void 0:u.style)&&void 0!==i?i:null},err:null};case"plural":case"selectordinal":case"select":var h=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error($ae.EXPECT_SELECT_ARGUMENT_OPTIONS,Pse(h,SR({},h)));this.bumpSpace();var p=this.parseIdentifierIfPossible(),v=0;if("select"!==a&&"offset"===p.value){if(!this.bumpIf(":"))return this.error($ae.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Pse(this.clonePosition(),this.clonePosition()));var m;if(this.bumpSpace(),(m=this.tryParseDecimalInteger($ae.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,$ae.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return m;this.bumpSpace(),p=this.parseIdentifierIfPossible(),v=m.val}var g,y=this.tryParsePluralOrSelectOptions(e,a,t,p);if(y.err)return y;if((g=this.tryParseArgumentClose(r)).err)return g;var b=Pse(r,this.clonePosition());return"select"===a?{val:{type:Qae.select,value:n,options:Use(y.val),location:b},err:null}:{val:{type:Qae.plural,value:n,options:Use(y.val),offset:v,pluralType:"plural"===a?"cardinal":"ordinal",location:b},err:null};default:return this.error($ae.INVALID_ARGUMENT_TYPE,Pse(o,s))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error($ae.EXPECT_ARGUMENT_CLOSING_BRACE,Pse(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();)switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error($ae.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Pse(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,r=e.split(mse).filter((function(e){return e.length>0}));n<r.length;n++){var i=r[n].split("/");if(0===i.length)throw new Error("Invalid number skeleton");for(var o=i[0],a=i.slice(1),s=0,u=a;s<u.length;s++)if(0===u[s].length)throw new Error("Invalid number skeleton");t.push({stem:o,options:a})}return t}(e)}catch(e){return this.error($ae.INVALID_NUMBER_SKELETON,t)}return{val:{type:Jae.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?kse(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var i,o=!1,a=[],s=new Set,u=r.value,l=r.location;;){if(0===u.length){var c=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var d=this.tryParseDecimalInteger($ae.EXPECT_PLURAL_ARGUMENT_SELECTOR,$ae.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;l=Pse(c,this.clonePosition()),u=this.message.slice(c.offset,this.offset())}if(s.has(u))return this.error("select"===t?$ae.DUPLICATE_SELECT_ARGUMENT_SELECTOR:$ae.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===u&&(o=!0),this.bumpSpace();var f=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?$ae.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:$ae.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Pse(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(e+1,t,n);if(h.err)return h;var p=this.tryParseArgumentClose(f);if(p.err)return p;a.push([u,{value:h.val,location:Pse(f,this.clonePosition())}]),s.add(u),this.bumpSpace(),u=(i=this.parseIdentifierIfPossible()).value,l=i.location}return 0===a.length?this.error("select"===t?$ae.EXPECT_SELECT_ARGUMENT_SELECTOR:$ae.EXPECT_PLURAL_ARGUMENT_SELECTOR,Pse(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error($ae.MISSING_OTHER_CLAUSE,Pse(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var i=!1,o=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;i=!0,o=10*o+(a-48),this.bump()}var s=Pse(r,this.clonePosition());return i?Rse(o*=n)?{val:o,err:null}:this.error(t,s):this.error(e,s)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Bse(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(Fse(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Xse(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function Kse(e){return e>=97&&e<=122||e>=65&&e<=90}function Yse(e){return 45===e||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function Xse(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function $se(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function Qse(e){e.forEach((function(e){if(delete e.location,ase(e)||sse(e))for(var t in e.options)delete e.options[t].location,Qse(e.options[t].value);else rse(e)&&cse(e.style)||(ise(e)||ose(e))&&dse(e.style)?delete e.style.location:lse(e)&&Qse(e.children)}))}function Jse(e,t){void 0===t&&(t={}),t=SR({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new Wse(e,t).parse();if(n.err){var r=SyntaxError($ae[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return(null==t?void 0:t.captureLocation)||Qse(n.val),n.val}function Zse(e,t){var n=t&&t.cache?t.cache:sue,r=t&&t.serializer?t.serializer:iue;return(t&&t.strategy?t.strategy:rue)(e,{cache:n,serializer:r})}function eue(e,t,n,r){var i,o=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),a=t.get(o);return void 0===a&&(a=e.call(this,r),t.set(o,a)),a}function tue(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return void 0===o&&(o=e.apply(this,r),t.set(i,o)),o}function nue(e,t,n,r,i){return n.bind(t,e,r,i)}function rue(e,t){return nue(e,this,1===e.length?eue:tue,t.cache.create(),t.serializer)}var iue=function(){return JSON.stringify(arguments)};function oue(){this.cache=Object.create(null)}oue.prototype.get=function(e){return this.cache[e]},oue.prototype.set=function(e,t){this.cache[e]=t};var aue,sue={create:function(){return new oue}},uue={variadic:function(e,t){return nue(e,this,tue,t.cache.create(),t.serializer)},monadic:function(e,t){return nue(e,this,eue,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(aue||(aue={}));var lue,cue=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.code=n,i.originalMessage=r,i}return wR(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),due=function(e){function t(t,n,r,i){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),aue.INVALID_VALUE,i)||this}return wR(t,e),t}(cue),fue=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),aue.INVALID_VALUE,r)||this}return wR(t,e),t}(cue),hue=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),aue.MISSING_VALUE,n)||this}return wR(t,e),t}(cue);function pue(e){return"function"==typeof e}function vue(e,t,n,r,i,o,a){if(1===e.length&&tse(e[0]))return[{type:lue.literal,value:e[0].value}];for(var s=[],u=0,l=e;u<l.length;u++){var c=l[u];if(tse(c))s.push({type:lue.literal,value:c.value});else if(use(c))"number"==typeof o&&s.push({type:lue.literal,value:n.getNumberFormat(t).format(o)});else{var d=c.value;if(!i||!(d in i))throw new hue(d,a);var f=i[d];if(nse(c))f&&"string"!=typeof f&&"number"!=typeof f||(f="string"==typeof f||"number"==typeof f?String(f):""),s.push({type:"string"==typeof f?lue.literal:lue.object,value:f});else if(ise(c)){var h="string"==typeof c.style?r.date[c.style]:dse(c.style)?c.style.parsedOptions:void 0;s.push({type:lue.literal,value:n.getDateTimeFormat(t,h).format(f)})}else if(ose(c))h="string"==typeof c.style?r.time[c.style]:dse(c.style)?c.style.parsedOptions:void 0,s.push({type:lue.literal,value:n.getDateTimeFormat(t,h).format(f)});else if(rse(c))(h="string"==typeof c.style?r.number[c.style]:cse(c.style)?c.style.parsedOptions:void 0)&&h.scale&&(f*=h.scale||1),s.push({type:lue.literal,value:n.getNumberFormat(t,h).format(f)});else{if(lse(c)){var p=c.children,v=c.value,m=i[v];if(!pue(m))throw new fue(v,"function",a);var g=m(vue(p,t,n,r,i,o).map((function(e){return e.value})));Array.isArray(g)||(g=[g]),s.push.apply(s,g.map((function(e){return{type:"string"==typeof e?lue.literal:lue.object,value:e}})))}if(ase(c)){if(!(y=c.options[f]||c.options.other))throw new due(c.value,f,Object.keys(c.options),a);s.push.apply(s,vue(y.value,t,n,r,i))}else if(sse(c)){var y;if(!(y=c.options["=".concat(f)])){if(!Intl.PluralRules)throw new cue('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',aue.MISSING_INTL_API,a);var b=n.getPluralRules(t,{type:c.pluralType}).select(f-(c.offset||0));y=c.options[b]||c.options.other}if(!y)throw new due(c.value,f,Object.keys(c.options),a);s.push.apply(s,vue(y.value,t,n,r,i,f-(c.offset||0)))}}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===lue.literal&&t.type===lue.literal?n.value+=t.value:e.push(t),e}),[])}(s)}function mue(e,t){return t?Object.keys(e).reduce((function(n,r){var i,o;return n[r]=(i=e[r],(o=t[r])?SR(SR(SR({},i||{}),o||{}),Object.keys(i).reduce((function(e,t){return e[t]=SR(SR({},i[t]),o[t]||{}),e}),{})):i),n}),SR({},e)):e}function gue(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(lue||(lue={}));var yue,bue=function(){function e(t,n,r,i){var o,a=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=a.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===lue.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return vue(a.ast,a.locales,a.formatters,a.formats,e,void 0,a.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(a.locales)[0]}},this.getAst=function(){return a.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==i?void 0:i.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=mue(e.formats,r),this.locales=n,this.formatters=i&&i.formatters||(void 0===(o=this.formatterCache)&&(o={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Zse((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,PR([void 0],t,!1)))}),{cache:gue(o.number),strategy:uue.variadic}),getDateTimeFormat:Zse((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,PR([void 0],t,!1)))}),{cache:gue(o.dateTime),strategy:uue.variadic}),getPluralRules:Zse((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,PR([void 0],t,!1)))}),{cache:gue(o.pluralRules),strategy:uue.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=Jse,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();!function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"}(yue||(yue={}));var _ue=function(e){function t(n,r,i){var o=this,a=i?i instanceof Error?i:new Error(String(i)):void 0;return(o=e.call(this,"[@formatjs/intl Error ".concat(n,"] ").concat(r," \n").concat(a?"\n".concat(a.message,"\n").concat(a.stack):""))||this).code=n,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return wR(t,e),t}(Error),Eue=function(e){function t(t,n){return e.call(this,yue.UNSUPPORTED_FORMATTER,t,n)||this}return wR(t,e),t}(_ue),wue=function(e){function t(t,n){return e.call(this,yue.INVALID_CONFIG,t,n)||this}return wR(t,e),t}(_ue),Sue=function(e){function t(t,n){return e.call(this,yue.MISSING_DATA,t,n)||this}return wR(t,e),t}(_ue),Tue=function(e){function t(t,n,r){return e.call(this,yue.FORMAT_ERROR,"".concat(t," \nLocale: ").concat(n,"\n"),r)||this}return wR(t,e),t}(_ue),kue=function(e){function t(t,n,r,i){var o=e.call(this,"".concat(t," \nMessageID: ").concat(null==r?void 0:r.id,"\nDefault Message: ").concat(null==r?void 0:r.defaultMessage,"\nDescription: ").concat(null==r?void 0:r.description," \n"),n,i)||this;return o.descriptor=r,o}return wR(t,e),t}(Tue),xue=function(e){function t(t,n){var r=e.call(this,yue.MISSING_TRANSLATION,'Missing message: "'.concat(t.id,'" for locale "').concat(n,'", using ').concat(t.defaultMessage?"default message":"id"," as fallback."))||this;return r.descriptor=t,r}return wR(t,e),t}(_ue);function Aue(e,t,n){return void 0===n&&(n={}),t.reduce((function(t,r){return r in e?t[r]=e[r]:r in n&&(t[r]=n[r]),t}),{})}var Pue={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:function(e){}};function Oue(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function Cue(e,t,n,r){var i,o=e&&e[t];if(o&&(i=o[n]),i)return i;r(new Eue("No ".concat(t," format named: ").concat(n)))}function Iue(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=SR({timeZone:t},e[r]),n}),{})}function Lue(e,t){return Object.keys(SR(SR({},e),t)).reduce((function(n,r){return n[r]=SR(SR({},e[r]||{}),t[r]||{}),n}),{})}function Nue(e,t){if(!t)return e;var n=bue.formats;return SR(SR(SR({},n),e),{date:Lue(Iue(n.date,t),Iue(e.date||{},t)),time:Lue(Iue(n.time,t),Iue(e.time||{},t))})}function Due(e,t,n,r,i){var o=e.locale,a=e.formats,s=e.messages,u=e.defaultLocale,l=e.defaultFormats,c=e.fallbackOnEmptyString,d=e.onError,f=e.timeZone,h=e.defaultRichTextElements;void 0===n&&(n={id:""});var p=n.id,v=n.defaultMessage;!function(e,t,n){if(void 0===n&&(n=Error),!e)throw new n("[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue")}(!!p);var m=String(p),g=s&&Object.prototype.hasOwnProperty.call(s,m)&&s[m];if(Array.isArray(g)&&1===g.length&&g[0].type===Qae.literal)return g[0].value;if(!r&&g&&"string"==typeof g&&!h)return g.replace(/'\{(.*?)\}'/gi,"{$1}");if(r=SR(SR({},h),r||{}),a=Nue(a,f),l=Nue(l,f),!g){if(!1===c&&""===g)return g;if((!v||o&&o.toLowerCase()!==u.toLowerCase())&&d(new xue(n,o)),v)try{return t.getMessageFormat(v,u,l,i).format(r)}catch(e){return d(new kue('Error formatting default message for: "'.concat(m,'", rendering default message verbatim'),o,n,e)),"string"==typeof v?v:m}return m}try{return t.getMessageFormat(g,o,a,SR({formatters:t},i||{})).format(r)}catch(e){d(new kue('Error formatting message: "'.concat(m,'", using ').concat(v?"default message":"id"," as fallback."),o,n,e))}if(v)try{return t.getMessageFormat(v,u,l,i).format(r)}catch(e){d(new kue('Error formatting the default message for: "'.concat(m,'", rendering message verbatim'),o,n,e))}return"string"==typeof g?g:"string"==typeof v?v:m}var Rue=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem"];function Mue(e,t,n,r){var i=e.locale,o=e.formats,a=e.onError,s=e.timeZone;void 0===r&&(r={});var u=r.format,l=SR(SR({},s&&{timeZone:s}),u&&Cue(o,t,u,a)),c=Aue(r,Rue,l);return"time"!==t||c.hour||c.minute||c.second||c.timeStyle||c.dateStyle||(c=SR(SR({},c),{hour:"numeric",minute:"numeric"})),n(i,c)}function jue(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"==typeof i?new Date(i||0):i;try{return Mue(e,"date",t,a).format(s)}catch(t){e.onError(new _ue(yue.FORMAT_ERROR,"Error formatting date.",t))}return String(s)}function Fue(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"==typeof i?new Date(i||0):i;try{return Mue(e,"time",t,a).format(s)}catch(t){e.onError(new _ue(yue.FORMAT_ERROR,"Error formatting time.",t))}return String(s)}function Vue(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=n[2],s=void 0===a?{}:a,u=e.timeZone,l=e.locale,c=e.onError,d=Aue(s,Rue,u?{timeZone:u}:{});try{return t(l,d).formatRange(i,o)}catch(e){c(new _ue(yue.FORMAT_ERROR,"Error formatting date time range.",e))}return String(i)}function Uue(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"==typeof i?new Date(i||0):i;try{return Mue(e,"date",t,a).formatToParts(s)}catch(t){e.onError(new _ue(yue.FORMAT_ERROR,"Error formatting date.",t))}return[]}function Bue(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"==typeof i?new Date(i||0):i;try{return Mue(e,"time",t,a).formatToParts(s)}catch(t){e.onError(new _ue(yue.FORMAT_ERROR,"Error formatting time.",t))}return[]}var zue=["localeMatcher","style","type","fallback"];function Gue(e,t,n,r){var i=e.locale,o=e.onError;Intl.DisplayNames||o(new cue('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',aue.MISSING_INTL_API));var a=Aue(r,zue);try{return t(i,a).of(n)}catch(e){o(new _ue(yue.FORMAT_ERROR,"Error formatting display name.",e))}}var que=["localeMatcher","type","style"],Hue=Date.now();function Wue(e,t,n,r){void 0===r&&(r={});var i=Kue(e,t,n,r).reduce((function(e,t){var n=t.value;return"string"!=typeof n?e.push(n):"string"==typeof e[e.length-1]?e[e.length-1]+=n:e.push(n),e}),[]);return 1===i.length?i[0]:i}function Kue(e,t,n,r){var i=e.locale,o=e.onError;void 0===r&&(r={}),Intl.ListFormat||o(new cue('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',aue.MISSING_INTL_API));var a=Aue(r,que);try{var s={},u=n.map((function(e,t){if("object"==typeof e){var n=function(e){return"".concat(Hue,"_").concat(e,"_").concat(Hue)}(t);return s[n]=e,n}return String(e)}));return t(i,a).formatToParts(u).map((function(e){return"literal"===e.type?e:SR(SR({},e),{value:s[e.value]||e.value})}))}catch(e){o(new _ue(yue.FORMAT_ERROR,"Error formatting list.",e))}return n}var Yue=["localeMatcher","type"];function Xue(e,t,n,r){var i=e.locale,o=e.onError;void 0===r&&(r={}),Intl.PluralRules||o(new cue('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',aue.MISSING_INTL_API));var a=Aue(r,Yue);try{return t(i,a).select(n)}catch(e){o(new Tue("Error formatting plural.",i,e))}return"other"}var $ue=["numeric","style"];function Que(e,t,n,r,i){void 0===i&&(i={}),r||(r="second"),Intl.RelativeTimeFormat||e.onError(new cue('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',aue.MISSING_INTL_API));try{return function(e,t,n){var r=e.locale,i=e.formats,o=e.onError;void 0===n&&(n={});var a=n.format,s=!!a&&Cue(i,"relative",a,o)||{};return t(r,Aue(n,$ue,s))}(e,t,i).format(n,r)}catch(t){e.onError(new Tue("Error formatting relative time.",e.locale,t))}return String(n)}var Jue=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"];function Zue(e,t,n){var r=e.locale,i=e.formats,o=e.onError;void 0===n&&(n={});var a=n.format,s=a&&Cue(i,"number",a,o)||{};return t(r,Aue(n,Jue,s))}function ele(e,t,n,r){void 0===r&&(r={});try{return Zue(e,t,r).format(n)}catch(t){e.onError(new _ue(yue.FORMAT_ERROR,"Error formatting number.",t))}return String(n)}function tle(e,t,n,r){void 0===r&&(r={});try{return Zue(e,t,r).formatToParts(n)}catch(t){e.onError(new _ue(yue.FORMAT_ERROR,"Error formatting number.",t))}return[]}function nle(e){var t;e.defaultRichTextElements&&"string"==typeof((t=e.messages||{})?t[Object.keys(t)[0]]:void 0)&&console.warn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution')}function rle(e,t){var n=function(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var t=Intl.RelativeTimeFormat,n=Intl.ListFormat,r=Intl.DisplayNames,i=Zse((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,PR([void 0],t,!1)))}),{cache:Oue(e.dateTime),strategy:uue.variadic}),o=Zse((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,PR([void 0],t,!1)))}),{cache:Oue(e.number),strategy:uue.variadic}),a=Zse((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,PR([void 0],t,!1)))}),{cache:Oue(e.pluralRules),strategy:uue.variadic});return{getDateTimeFormat:i,getNumberFormat:o,getMessageFormat:Zse((function(e,t,n,r){return new bue(e,t,n,SR({formatters:{getNumberFormat:o,getDateTimeFormat:i,getPluralRules:a}},r||{}))}),{cache:Oue(e.message),strategy:uue.variadic}),getRelativeTimeFormat:Zse((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,PR([void 0],e,!1)))}),{cache:Oue(e.relativeTime),strategy:uue.variadic}),getPluralRules:a,getListFormat:Zse((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(n.bind.apply(n,PR([void 0],e,!1)))}),{cache:Oue(e.list),strategy:uue.variadic}),getDisplayNames:Zse((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(r.bind.apply(r,PR([void 0],e,!1)))}),{cache:Oue(e.displayNames),strategy:uue.variadic})}}(t),r=SR(SR({},Pue),e),i=r.locale,o=r.defaultLocale,a=r.onError;return i?!Intl.NumberFormat.supportedLocalesOf(i).length&&a?a(new Sue('Missing locale data for locale: "'.concat(i,'" in Intl.NumberFormat. Using default locale: "').concat(o,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(i).length&&a&&a(new Sue('Missing locale data for locale: "'.concat(i,'" in Intl.DateTimeFormat. Using default locale: "').concat(o,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(a&&a(new wue('"locale" was not configured, using "'.concat(o,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),r.locale=r.defaultLocale||"en"),nle(r),SR(SR({},r),{formatters:n,formatNumber:ele.bind(null,r,n.getNumberFormat),formatNumberToParts:tle.bind(null,r,n.getNumberFormat),formatRelativeTime:Que.bind(null,r,n.getRelativeTimeFormat),formatDate:jue.bind(null,r,n.getDateTimeFormat),formatDateToParts:Uue.bind(null,r,n.getDateTimeFormat),formatTime:Fue.bind(null,r,n.getDateTimeFormat),formatDateTimeRange:Vue.bind(null,r,n.getDateTimeFormat),formatTimeToParts:Bue.bind(null,r,n.getDateTimeFormat),formatPlural:Xue.bind(null,r,n.getPluralRules),formatMessage:Due.bind(null,r,n),$t:Due.bind(null,r,n),formatList:Wue.bind(null,r,n.getListFormat),formatListToParts:Kue.bind(null,r,n.getListFormat),formatDisplayName:Gue.bind(null,r,n.getDisplayNames)})}var ile,ole=function(){function e(){}return e.prototype.initialize=function(e){void 0===e&&(e=ese);var t={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},n=(null==e?void 0:e.locale)||ese.locale,r=(null==e?void 0:e.messages)||ese.messages;this.intl=rle({locale:n,defaultLocale:ese.locale,messages:r},t)},e}(),ale=new ole,sle=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return null===(t=ale.intl)||void 0===t?void 0:t.formatMessage.apply(t,PR([{id:e,defaultMessage:ese.messages[e]}],n,!1))},ule=function(e){return new Proxy(e,{get:function(e,t){try{return sle(e[t])}catch(e){return}}})};e.ServiceEnv=void 0,(ile=e.ServiceEnv||(e.ServiceEnv={})).Dev="dev",ile.Stage="stage",ile.Real="real";var lle=ule({NotInitialized:"message.not_initialized_service_config"}),cle={serviceId:"",categoryId:"",contentsId:function(){return""},highlightClassname:"double_heart",highlightCount:50,domain:""};function dle(e,t){var n="_".concat(t);Object.defineProperty(e,t,{get:function(){if(this.isInitialized)return this[n];console.error("[MomentViewer] ".concat(lle.NotInitialized))},set:function(e){this[n]=e}})}var fle,hle=function(){function t(){this.isInitialized=!1}return t.prototype.initialize=function(t){var n,r,i,o,a,s,u,l,c,d=this,f=t.env||(this.isInitialized?this.env:e.ServiceEnv.Real),h=SR(SR({},t),{defaultCustomLayerOptions:{disabled:(null===(n=t.defaultCustomLayerOptions)||void 0===n?void 0:n.disabled)||!1,socialPlugin:{disabled:(null===(i=null===(r=t.defaultCustomLayerOptions)||void 0===r?void 0:r.socialPlugin)||void 0===i?void 0:i.disabled)||!1},reaction:{disabled:(null===(a=null===(o=t.defaultCustomLayerOptions)||void 0===o?void 0:o.reaction)||void 0===a?void 0:a.disabled)||!1,options:SR(SR(SR({},cle),this.isInitialized?null===(u=null===(s=this.defaultCustomLayerOptions)||void 0===s?void 0:s.reaction)||void 0===u?void 0:u.options:{}),null===(c=null===(l=t.defaultCustomLayerOptions)||void 0===l?void 0:l.reaction)||void 0===c?void 0:c.options)}},env:f});this.isInitialized=!0,Object.keys(h).forEach((function(e){d[e]=h[e]}))},kR([dle],t.prototype,"defaultCustomLayerOptions",void 0),kR([dle],t.prototype,"env",void 0),t}(),ple=new hle,vle=function(t){void 0===t&&(t=""),ple.env===e.ServiceEnv.Dev&&console.error("[MomentViewer] ".concat(t))},mle=function(e){function t(t){var n=e.call(this,t)||this;return vle(t),n}return wR(t,e),t}(Error);!function(e){e.NotAvailable="NotAvailable"}(fle||(fle={}));var gle,yle=ule({ContainerNotExist:"message.error_no_container",InvalidContainerType:"message.error_container_format",VideoSourceRequired:"message.need_video",InvalidMomentData:"message.error_moment_data"}),ble=function(e){var t;if("string"==typeof e){if(!(t=document.querySelector(e)))return vle(yle.ContainerNotExist),null}else{if(!(null==e?void 0:e.nodeName)||(null==e?void 0:e.nodeType)!==Node.ELEMENT_NODE)return vle(yle.InvalidContainerType),null;t=e}return t};!function(e){e[e.Portrait=768]="Portrait",e[e.Landscape=1024]="Landscape"}(gle||(gle={}));var _le,Ele,wle,Sle=function(e){return e.width>0&&e.height>0},Tle=function(e){var t=e.size,n=e.resolution,r=t.width,i=t.height;return{width:Math.round(n.height>0?i/n.height*n.width:r),height:i}},kle=function(t){var n=t.ratio,r=t.size,i=t.resolution,o=r.width,a=r.height;return n===e.ViewerRatio.FitHeight?Tle({size:r,resolution:i}):o<a&&o<gle.Portrait?function(e){var t=e.size,n=e.resolution,r=t.width,i=t.height;return{width:r,height:Math.round(n.width>0?r/n.width*n.height:i)}}({size:r,resolution:i}):Tle({size:r,resolution:i})},xle=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),Math.min(Math.max(e,t),n)},Ale=function(e){return!e||0===e.index&&0===e.currentTime};!function(e){e.Android="android",e.Ios="ios",e.Linux="linux"}(_le||(_le={})),function(e){e.Tablet="tablet",e.Mobile="mobile"}(Ele||(Ele={})),function(e){e.Chrome="Chrome",e.IE="IE",e.SamsungBrowser="Samsung Browser"}(wle||(wle={}));var Ple="undefined"!=typeof window&&"undefined"!=typeof document,Ole=new eV;function Cle(e){Ole.setUA(e)}function Ile(){var e=Ole.getOS(),t=e.name,n=void 0===t?"":t,r=e.version,i=void 0===r?"":r;return{name:n.toLowerCase(),version:i}}function Lle(e){e&&Cle(e);var t=Ole.getBrowser(),n=t.name,r=t.version;return{name:n,version:parseInt(r,10)}}Ple&&Cle(navigator.userAgent);var Nle,Dle,Rle={getBrowser:Lle,getOs:Ile,isIos:function(e){return e&&Cle(e),Ile().name===_le.Ios},isAndroid:function(e){return e&&Cle(e),Ile().name===_le.Android},isMobile:function(e){e&&Cle(e);var t=Ole.getDevice().type,n=Ile().name===_le.Linux&&Lle().name===wle.SamsungBrowser;return[Ele.Mobile,Ele.Tablet].includes(t)&&!n},isTablet:function(e){return e&&Cle(e),Ole.getDevice().type===Ele.Tablet},isNaverApp:function(e){return e&&Cle(e),!!Ole.getUA().match(/NAVER/)},isIE11:function(){var e=Lle(),t=e.name,n=e.version;return t===wle.IE&&11===Number(n)},getMajorVersion:function(e){e&&Cle(e);var t=Ile().version.split(".")[0];return Number(t)}},Mle=.1,jle={source:"",duration:0},Fle={error:void 0},Vle=function(e){var t,n;(null===(n=null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.cover)||void 0===n?void 0:n.source)&&(e.meta.cover.source="");var r=e.videos.list.find((function(e){return e.isDefault}));r&&(r.isDefault=!1);var i=e.videos.list.filter((function(e){return"true"===e.encodingOption.isEncodingComplete})).sort((function(e,t){return t.encodingOption.height-e.encodingOption.height}))[0];return i&&(i.isDefault=!0),g2.fromJSON(e)},Ule=function(e){var t=e.map((function(e){return(null==e?void 0:e.data.videos.list.find((function(e){return e.isDefault})))||jle}));return t},Ble=function(t){function n(e){var n=t.call(this)||this;return n.currentIndex=0,n.durations=[],n.targetTime=0,n.handleTimeUpdate=function(){Rle.isIos()&&n.core.currentTime<n.targetTime||n.tick()},n.handleCanPlay=function(){},n.removeTracks=function(){var e=n.core.textTracks||[];if(e.length>1)for(var t=0;t<e.length;t++)e[t].mode="disabled"},n.core=e,n}return wR(n,t),n.prototype.initialize=function(){this.attachEvents()},n.prototype.attachEvents=function(){this.core.addEventListener(e.PlayerEvents.TimeUpdate,this.handleTimeUpdate)},n.prototype.detachEvents=function(){this.core.removeEventListener(e.PlayerEvents.TimeUpdate,this.handleTimeUpdate)},n.prototype.tick=function(){this.lastCoreCurrentTime=this.core.currentTime,this.emit(e.PlayerEvents.TimeUpdate),this.isAtEndingPoint()&&this.emit(e.PlayerEvents.MomentEnded)},n.prototype.setSource=function(t){var n=t.moment,r=t.playInfoList,i=t.playingPoint;return xR(this,void 0,void 0,(function(){var t,o;return AR(this,(function(a){switch(a.label){case 0:if(!r||!r.length)return[2,Promise.reject(new mle(yle.VideoSourceRequired))];this.moment=n,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,this.load(r)];case 2:return a.sent(),t=function(e,t){return e?"number"!=typeof e.index||"number"==typeof e.index&&(e.index<0||e.index>t-1)?Xae:e:Xae}(i,this.totalIndex),Rle.isIos()&&Ale(t)&&(t.currentTime=Mle),[4,this.updateTime(t)];case 3:return a.sent(),this.emit(e.PlayerEvents.MomentLoaded,{moment:n}),[2,Promise.resolve()];case 4:return o=a.sent(),[2,Promise.reject(new mle(o))];case 5:return[2]}}))}))},n.prototype.play=function(){if(!this.core.paused)return Promise.resolve(Fle);var e=this.core.play();if(this.lastCorePaused=!1,void 0!==e){var t;e.catch((function(e){t=e}));var n=t?{error:t}:Fle;return Promise.resolve(n)}return Promise.resolve(Fle)},n.prototype.pause=function(){this.core.paused||(this.core.pause(),this.lastCorePaused=!0)},n.prototype.updateSrcObject=function(t){return xR(this,void 0,void 0,(function(){var n=this;return AR(this,(function(r){return navigator.onLine?[2,new Promise((function(r){n.targetTime=0,n.core.srcObject=t,n.core.removeEventListener(e.PlayerEvents.CanPlay,n.handleCanPlay),n.handleCanPlay=function(){return r()},n.core.readyState>e.PlayerReadyState.HaveMetadata?r():n.core.addEventListener(e.PlayerEvents.CanPlay,n.handleCanPlay,{once:!0})}))]:[2,Promise.resolve()]}))}))},n.prototype.updateCoreTime=function(t){return xR(this,void 0,void 0,(function(){var n=this;return AR(this,(function(r){return this.targetTime=t,Rle.isIos()&&(this.targetTime=Math.floor(10*this.targetTime)/10),Rle.isIE11()&&(this.targetTime=Math.ceil(10*this.targetTime)/10),[2,new Promise((function(t){n.core.currentTime=n.targetTime,n.lastCoreCurrentTime=n.targetTime,navigator.onLine?n.core.addEventListener(e.PlayerEvents.TimeUpdate,t,{once:!0}):(n.emit(e.PlayerEvents.Waiting),n.emit(e.PlayerEvents.TimeUpdate),t())}))]}))}))},n.prototype.moveToStartingPoint=function(){return this.updateTime(Xae)},n.prototype.moveToEndingPoint=function(){var e=this.totalIndex-1,t=this.durations[e];return this.updateTime({index:e,currentTime:t})},n.prototype.replay=function(){var t=this;return this.emit(e.PlayerEvents.Replay),this.updateTime(Xae).then((function(){t.emit(e.PlayerEvents.MomentLoaded,{moment:t.moment,replay:!0})}))},n.prototype.reload=function(){var t=this;return new Promise((function(n,r){var i=t.lastCorePaused,o=t.lastCoreCurrentTime,a=function(){t.core.currentTime=o,i?t.pause():t.play(),n()};t.core.load(),t.core.addEventListener(e.PlayerEvents.CanPlay,a,{once:!0}),t.core.addEventListener(e.PlayerEvents.Error,(function(){t.core.removeEventListener(e.PlayerEvents.CanPlay,a),r()}),{once:!0})}))},n.prototype.moveInto=function(e){var t=ble(e);t&&(t.insertBefore(this.core.shadowRoot,t.firstChild),this.container=t)},n.prototype.destroy=function(){var e;this.removeTracks(),this.detachEvents(),null===(e=this.container)||void 0===e||e.removeChild(this.core.shadowRoot),this.container=null,this.lastCoreCurrentTime=0,this.currentIndex=0,this.durations=[]},Object.defineProperty(n.prototype,"totalIndex",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),n.prototype.getTotalDuration=function(){return this.durations.reduce((function(e,t){return e+t}),0)},n.prototype.getLoadedTimeRanges=function(){for(var e=this.core.buffered,t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},n}(CR),zle=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.srcObjects=[],e.preloader=null,e.preloaded=[],e.handleNext=e.next.bind(e),e}return wR(n,t),n.prototype.attachEvents=function(){t.prototype.attachEvents.call(this),this.core.addEventListener(e.PlayerEvents.Ended,this.handleNext)},n.prototype.detachEvents=function(){t.prototype.detachEvents.call(this),this.core.removeEventListener(e.PlayerEvents.Ended,this.handleNext)},n.prototype.load=function(e){return xR(this,void 0,void 0,(function(){var t,n;return AR(this,(function(r){switch(r.label){case 0:return t=e.map(Vle),n=Ule(t),this.durations=n.map((function(e){return e.duration})),this.srcObjects=t,this.preloader||(this.preloader=new Zae({maxParallelLoads:3})),[4,this.updateSrcObject(this.srcObjects[this.currentIndex])];case 1:return r.sent(),[2]}}))}))},n.prototype.setSource=function(e){var n=e.moment,r=e.playInfoList,i=e.playingPoint;return xR(this,void 0,void 0,(function(){var e;return AR(this,(function(o){return e=null!=i?i:Xae,this.currentIndex=e.index,[2,t.prototype.setSource.call(this,{moment:n,playInfoList:r,playingPoint:e})]}))}))},n.prototype.prev=function(){return this.currentIndex<=0?Promise.resolve():this.changeIndex(--this.currentIndex)},n.prototype.next=function(){return this.currentIndex>=this.srcObjects.length-1?Promise.resolve():this.changeIndex(++this.currentIndex)},n.prototype.setIndex=function(t){var n,r=this;if(this.emit(e.PlayerEvents.BeforeIndexChange),"none"!==this.core.preload){var i=t+1;if(t<this.srcObjects.length-1&&!this.preloaded[i]){var o=Ule(this.srcObjects).map((function(e){return e.source}));null===(n=this.preloader)||void 0===n||n.preload([o[i]]),this.preloaded[i]=!0}}return new Promise((function(n){var i=r.lastCorePaused;requestAnimationFrame((function(){r.updateSrcObject(r.srcObjects[t]).then((function(){i&&r.pause(),n()})),r.currentIndex=t,r.emit(e.PlayerEvents.IndexChange)}))}))},n.prototype.changeIndex=function(t){return xR(this,void 0,void 0,(function(){return AR(this,(function(n){switch(n.label){case 0:return t>this.srcObjects.length-1||t<0?[2,Promise.reject()]:[4,this.setIndex(t)];case 1:return n.sent(),Rle.isIos()&&this.emit(e.PlayerEvents.TimeUpdate),[2,Promise.resolve()]}}))}))},n.prototype.destroy=function(){var e;t.prototype.destroy.call(this),null===(e=this.preloader)||void 0===e||e.destroy(),this.preloader=null,this.srcObjects=[]},n.prototype.updateTime=function(e){var t=e.index,n=e.currentTime,r=void 0===n?0:n;return xR(this,void 0,void 0,(function(){var e;return AR(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),e=null!=t?t:this.currentIndex,this.currentIndex===e?[3,2]:[4,this.setIndex(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.updateCoreTime(r)];case 3:return n.sent(),[2,Promise.reject()];case 4:return[2]}}))}))},n.prototype.getCurrentPoint=function(){return{index:this.currentIndex,currentTime:navigator.onLine?this.core.currentTime:this.lastCoreCurrentTime}},n.prototype.getDurationFromPoint=function(e){var t=e.index,n=e.currentTime;return this.durations.slice(0,t).reduce((function(e,t){return e+t}),0)+n},n.prototype.getAccumulatedCurrentTime=function(){return this.getDurationFromPoint(this.getCurrentPoint())},n.prototype.getLoadedTimeRanges=function(){var e=t.prototype.getLoadedTimeRanges.call(this),n=this.getDurationFromPoint({index:this.currentIndex,currentTime:0});return e.forEach((function(e){e.start+=n,e.end+=n})),e},n.prototype.isAtEndingPoint=function(){if(this.currentIndex===this.srcObjects.length-1){var e=Math.floor(10*this.core.duration)/10;if(this.core.currentTime/e>.99)return!0}return!1},n}(Ble),Gle=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.indexPoints=[],e}return wR(n,t),n.prototype.tick=function(){t.prototype.tick.call(this),this.currentIndex<this.totalIndex-1&&this.core.currentTime>this.getIndexPoint(this.currentIndex+1)&&this.setCurrentIndex(this.currentIndex+1)},n.prototype.load=function(e){return xR(this,void 0,void 0,(function(){var t,n,r=this;return AR(this,(function(i){switch(i.label){case 0:return t=e[0],n=Vle(t),[4,this.updateSrcObject(n)];case 1:return i.sent(),this.durations=[],this.indexPoints=[],this.moment.indexes.forEach((function(e,t){var n=e.range,i=n.startTime+(t>0?Mle:0),o=n.endTime+(t<r.moment.indexes.length-1?Mle:0);r.durations.push(o-i),r.indexPoints.push(i)})),[2]}}))}))},n.prototype.prev=function(){return this.currentIndex<=0?Promise.resolve():this.changeIndex(this.currentIndex-1)},n.prototype.next=function(){return this.currentIndex>=this.totalIndex-1?Promise.resolve():this.changeIndex(this.currentIndex+1)},n.prototype.setCurrentIndex=function(t){this.emit(e.PlayerEvents.BeforeIndexChange),this.currentIndex=t,this.emit(e.PlayerEvents.IndexChange)},n.prototype.changeIndex=function(e){return e>this.totalIndex-1||e<0?Promise.reject():(this.setCurrentIndex(e),this.updateCoreTime(this.getIndexPoint(e)))},n.prototype.destroy=function(){t.prototype.destroy.call(this),this.indexPoints=[]},n.prototype.updateTime=function(e){var t=e.index,n=e.currentTime,r=void 0===n?0:n;return xR(this,void 0,void 0,(function(){var e,n;return AR(this,(function(i){try{return e=null!=t?t:this.currentIndex,n=this.getIndexPoint(e)+r,this.setCurrentIndex(e),[2,this.updateCoreTime(n)]}catch(e){return[2,Promise.reject()]}return[2]}))}))},n.prototype.replay=function(){return xR(this,void 0,void 0,(function(){return AR(this,(function(e){switch(e.label){case 0:return[4,t.prototype.replay.call(this)];case 1:return e.sent(),[2]}}))}))},n.prototype.getIndexPoint=function(e){var t,n;return null!==(n=null===(t=this.indexPoints)||void 0===t?void 0:t[e])&&void 0!==n?n:0},n.prototype.getCurrentPoint=function(){return{index:this.currentIndex,currentTime:(navigator.onLine?this.core.currentTime:this.lastCoreCurrentTime)-this.getIndexPoint(this.currentIndex)}},n.prototype.getTotalDuration=function(){return this.core.duration},n.prototype.getDurationFromPoint=function(e){var t=e.index,n=e.currentTime;return this.getIndexPoint(t)+n},n.prototype.getAccumulatedCurrentTime=function(){return this.core.currentTime},n.prototype.isAtEndingPoint=function(){if(this.currentIndex===this.totalIndex-1){var e=this.getIndexPoint(this.totalIndex-1),t=Math.floor(10*(this.core.duration-e))/10;if((this.core.currentTime-e)/t>.99)return!0}return!1},n}(Ble);!function(e){e[e.Progress=0]="Progress",e[e.Done=1]="Done",e[e.Failure=2]="Failure"}(Nle||(Nle={})),function(e){e[e.NotYet=0]="NotYet",e[e.Passed=1]="Passed",e[e.UmonBlockSearch=2]="UmonBlockSearch",e[e.UmonBlock=3]="UmonBlock",e[e.UmonDelete=4]="UmonDelete",e[e.InotiStopPost=5]="InotiStopPost",e[e.InotiDelete=6]="InotiDelete",e[e.InotiByGovernment=7]="InotiByGovernment",e[e.InotiDeleteByGovernment=8]="InotiDeleteByGovernment"}(Dle||(Dle={}));var qle,Hle,Wle,Kle,Yle,Xle,$le=[Dle.UmonBlock,Dle.InotiStopPost];!function(e){e.V1_0_0="1.0.0",e.V1_1_0="1.1.0"}(qle||(qle={})),function(e){e.Encoding="ENCODING",e.Blocked="BLOCKED",e.EncodeFailure="ENCODE_FAILURE",e.NotExist="NOT_EXIST",e.NotSupportedVersion="NOT_SUPPORTED_VERSION"}(Kle||(Kle={})),function(e){e[e.Ok=200]="Ok",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.InternalServerError=500]="InternalServerError"}(Yle||(Yle={})),function(e){e.Network="ECONNABORTED",e.Client="SETUPERROR",e.Unknown="UNKNOWN"}(Xle||(Xle={}));var Qle=((Hle={})[Yle.Unauthorized]="UNAUTHORIZED",Hle[Yle.Forbidden]="FORBIDDEN",Hle[Xle.Network]="NETWORK_ERROR",Hle[Yle.NotFound]="NOT_FOUND",Hle[Yle.InternalServerError]="INTERNAL_SERVER_ERROR",Hle[Kle.Encoding]="ENCODING",Hle[Kle.EncodeFailure]="ENCODE_FAILURE",Hle[Kle.NotSupportedVersion]="MOMENT_NOT_SUPPORTED",Hle),Jle=ule(((Wle={})[Yle.Unauthorized]="message.no_auth",Wle[Yle.Forbidden]="message.error_access",Wle[Xle.Network]="message.error_network",Wle[Yle.NotFound]="message.not_found",Wle[Yle.InternalServerError]="message.error_request",Wle[Kle.Encoding]="message.registering",Wle[Kle.EncodeFailure]="message.error_moment_play",Wle[Kle.NotExist]="message.error_deleted_post",Wle[Kle.NotSupportedVersion]="message.not_support_moment_version",Wle)),Zle={width:0,height:0};SR(SR({},Zle),{top:0,bottom:0,left:0,right:0});var ece={start:0,end:0},tce={exports:{}};!function(e,t){e.exports=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(e,t){return-1===e.indexOf(t)?e.length:e.indexOf(t)}function n(e){var n=e.replace(/^v/,"").replace(/\+.*$/,""),r=t(n,"-"),i=n.substring(0,r).split(".");return i.push(n.substring(r+1)),i}function r(e){return isNaN(Number(e))?e:Number(e)}function i(t){if("string"!=typeof t)throw new TypeError("Invalid argument expected string");if(!e.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function o(e,t){[e,t].forEach(i);for(var o=n(e),a=n(t),s=0;s<Math.max(o.length-1,a.length-1);s++){var u=parseInt(o[s]||0,10),l=parseInt(a[s]||0,10);if(u>l)return 1;if(l>u)return-1}var c=o[o.length-1],d=a[a.length-1];if(c&&d){var f=c.split(".").map(r),h=d.split(".").map(r);for(s=0;s<Math.max(f.length,h.length);s++){if(void 0===f[s]||"string"==typeof h[s]&&"number"==typeof f[s])return-1;if(void 0===h[s]||"string"==typeof f[s]&&"number"==typeof h[s])return 1;if(f[s]>h[s])return 1;if(h[s]>f[s])return-1}}else if(c||d)return c?-1:1;return 0}var a=[">",">=","=","<","<="],s={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};function u(e){if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===a.indexOf(e))throw new TypeError("Invalid operator, expected one of "+a.join("|"))}return o.validate=function(t){return"string"==typeof t&&e.test(t)},o.compare=function(e,t,n){u(n);var r=o(e,t);return s[n].indexOf(r)>-1},o}()}(tce);var nce,rce=function(e){return tce.exports.compare(e,"1.0.0",">=")&&tce.exports.compare(e,"1.1.0","<")},ice=function(e){return tce.exports.compare(e,"1.1.0",">=")},oce=Object.values(e.PlayerEvents),ace=[e.PlayerEvents.CanPlay,e.PlayerEvents.Play,e.PlayerEvents.Pause,e.PlayerEvents.Waiting,e.PlayerEvents.Error,e.PlayerEvents.VolumeChange,e.PlayerEvents.Playing,e.PlayerEvents.Seeking,e.PlayerEvents.Seeked,e.PlayerEvents.Progress],sce=[e.PlayerEvents.Waiting],uce=((nce={})[qle.V1_0_0]=zle,nce[qle.V1_1_0]=Gle,nce),lce={autoplay:!0,controls:!1,defaultMuted:!0,defaultPlaybackRate:1,loop:!1,muted:!0,playbackRate:1,preload:"auto"},cce=function(t){function n(e){void 0===e&&(e=lce);var n=t.call(this)||this;if(n.shadowRootSize=Zle,n.consecutivePlayCount=0,n.version=qle.V1_0_0,n.playerMap={},n.proxyCallbacks={},n.increaseConsecutivePlayCount=function(){n.consecutivePlayCount++},n.core=new Zoe,n.setOptions(e),n.initializePlayer(),Rle.isIos()&&15===Rle.getMajorVersion()){var r=n.core.shadowRoot.querySelector("video");r&&(r.style.backgroundColor="black")}return n}return wR(n,t),Object.defineProperty(n.prototype,"container",{get:function(){return this.player.container},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currentIndex",{get:function(){return this.player.currentIndex},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"durations",{get:function(){return this.player.durations},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"moment",{get:function(){return this.player.moment},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"totalIndex",{get:function(){return this.player.totalIndex},enumerable:!1,configurable:!0}),n.prototype.setOptions=function(e){var t=this,n=SR(SR({},lce),e);Object.keys(n).forEach((function(e){t.core[e]=n[e]}))},n.prototype.initializePlayer=function(){var e=this;Object.keys(uce).forEach((function(t){e.playerMap[t]=new uce[t](e.core)})),this.player=this.playerMap[this.version],this.player.initialize(),this.attachEvents()},n.prototype.on=function(e,n,r){return ace.includes(e)&&(this.core.addEventListener(e,n),!sce.includes(e))?this:t.prototype.on.call(this,e,n,r)},n.prototype.off=function(e,n,r){return ace.includes(e)&&(this.core.removeEventListener(e,n),!sce.includes(e))?this:t.prototype.off.call(this,e,n,r)},n.prototype.once=function(e,n,r){return ace.includes(e)?(this.core.addEventListener(e,n,{once:!0}),this):t.prototype.once.call(this,e,n,r)},n.prototype.getConsecutivePlayCount=function(){return this.consecutivePlayCount},n.prototype.resetConsecutivePlayCount=function(){this.consecutivePlayCount=0},n.prototype.attachEvents=function(){var t=this;this.player.on(e.PlayerEvents.MomentLoaded,this.increaseConsecutivePlayCount),oce.forEach((function(e){t.proxyCallbacks[e]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.emit.apply(t,PR([e],n,!1))},t.player.on(e,t.proxyCallbacks[e])}))},n.prototype.detachEvents=function(){var t=this;this.player&&(this.player.off(e.PlayerEvents.MomentLoaded,this.increaseConsecutivePlayCount),oce.forEach((function(e){t.player.off(e,t.proxyCallbacks[e])})))},n.prototype.switchPlayer=function(e){var t=function(e){return rce(e)?qle.V1_0_0:ice(e)?qle.V1_1_0:null}(e.version);if(this.detachEvents(),this.player.destroy(),!t){var n=Kle.NotSupportedVersion;return Promise.reject({serviceType:"moment",code:n,message:Jle[n]})}return this.player=this.playerMap[t],this.player.initialize(),this.attachEvents(),this.version=t,Promise.resolve()},n.prototype.setSource=function(e){var t=e.moment,n=e.playInfoList,r=e.playingPoint;return xR(this,void 0,void 0,(function(){var e;return AR(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.switchPlayer(t)];case 1:return i.sent(),[4,this.player.setSource({moment:t,playInfoList:n,playingPoint:r})];case 2:return[2,i.sent()];case 3:return e=i.sent(),[2,Promise.reject(e)];case 4:return[2]}}))}))},n.prototype.reload=function(){return this.player.reload()},n.prototype.play=function(){return this.player.play()},n.prototype.pause=function(){this.player.pause()},n.prototype.prev=function(){return this.player.prev()},n.prototype.next=function(){return this.player.next()},n.prototype.changeIndex=function(e){return this.player.changeIndex(e)},n.prototype.replay=function(){return this.player.replay()},n.prototype.moveInto=function(e){this.player.moveInto(e)},n.prototype.destroy=function(){this.detachEvents(),this.player.destroy()},n.prototype.updateTime=function(e){var t=e.index,n=e.currentTime;return this.player.updateTime({index:t,currentTime:n})},n.prototype.moveToStartingPoint=function(){return this.player.moveToStartingPoint()},n.prototype.moveToEndingPoint=function(){return this.player.moveToEndingPoint()},n.prototype.setShadowRootSize=function(t){Sle(t)&&(this.core.width=t.width,this.core.height=t.height,this.shadowRootSize=t,this.emit(e.PlayerEvents.Resize))},n.prototype.getShadowRootSize=function(){return this.shadowRootSize},n.prototype.getCurrentPoint=function(){return this.player.getCurrentPoint()},n.prototype.getTotalDuration=function(){return this.player.getTotalDuration()},n.prototype.getDurationFromPoint=function(e){var t=e.index,n=e.currentTime;return this.player.getDurationFromPoint({index:t,currentTime:n})},n.prototype.getAccumulatedCurrentTime=function(){return this.player.getAccumulatedCurrentTime()},n.prototype.getLoadedTimeRanges=function(){return this.player.getLoadedTimeRanges()},n.prototype.isAtEndingPoint=function(){return this.player.isAtEndingPoint()},n}(CR);function dce(){}function fce(){}fce.resetWarningCache=dce,function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:fce,resetWarningCache:dce};n.PropTypes=n}();var hce=u.default.createContext(null),pce=function(e){e()},vce=function(){return pce},mce={notify:function(){},get:function(){return[]}};function gce(e,t){var n,r=mce;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=vce(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=mce)},getListeners:function(){return r}};return a}var yce="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;function bce(e){var t=e.store,n=e.context,r=e.children,o=i.useMemo((function(){var e=gce(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),a=i.useMemo((function(){return t.getState()}),[t]);yce((function(){var e=o.subscription;return e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,a]);var s=n||hce;return u.default.createElement(s.Provider,{value:o},r)}var _ce={exports:{}},Ece={},wce="function"==typeof Symbol&&Symbol.for,Sce=wce?Symbol.for("react.element"):60103,Tce=wce?Symbol.for("react.portal"):60106,kce=wce?Symbol.for("react.fragment"):60107,xce=wce?Symbol.for("react.strict_mode"):60108,Ace=wce?Symbol.for("react.profiler"):60114,Pce=wce?Symbol.for("react.provider"):60109,Oce=wce?Symbol.for("react.context"):60110,Cce=wce?Symbol.for("react.async_mode"):60111,Ice=wce?Symbol.for("react.concurrent_mode"):60111,Lce=wce?Symbol.for("react.forward_ref"):60112,Nce=wce?Symbol.for("react.suspense"):60113,Dce=wce?Symbol.for("react.suspense_list"):60120,Rce=wce?Symbol.for("react.memo"):60115,Mce=wce?Symbol.for("react.lazy"):60116,jce=wce?Symbol.for("react.block"):60121,Fce=wce?Symbol.for("react.fundamental"):60117,Vce=wce?Symbol.for("react.responder"):60118,Uce=wce?Symbol.for("react.scope"):60119;function Bce(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Sce:switch(e=e.type){case Cce:case Ice:case kce:case Ace:case xce:case Nce:return e;default:switch(e=e&&e.$$typeof){case Oce:case Lce:case Mce:case Rce:case Pce:return e;default:return t}}case Tce:return t}}}function zce(e){return Bce(e)===Ice}Ece.AsyncMode=Cce,Ece.ConcurrentMode=Ice,Ece.ContextConsumer=Oce,Ece.ContextProvider=Pce,Ece.Element=Sce,Ece.ForwardRef=Lce,Ece.Fragment=kce,Ece.Lazy=Mce,Ece.Memo=Rce,Ece.Portal=Tce,Ece.Profiler=Ace,Ece.StrictMode=xce,Ece.Suspense=Nce,Ece.isAsyncMode=function(e){return zce(e)||Bce(e)===Cce},Ece.isConcurrentMode=zce,Ece.isContextConsumer=function(e){return Bce(e)===Oce},Ece.isContextProvider=function(e){return Bce(e)===Pce},Ece.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Sce},Ece.isForwardRef=function(e){return Bce(e)===Lce},Ece.isFragment=function(e){return Bce(e)===kce},Ece.isLazy=function(e){return Bce(e)===Mce},Ece.isMemo=function(e){return Bce(e)===Rce},Ece.isPortal=function(e){return Bce(e)===Tce},Ece.isProfiler=function(e){return Bce(e)===Ace},Ece.isStrictMode=function(e){return Bce(e)===xce},Ece.isSuspense=function(e){return Bce(e)===Nce},Ece.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===kce||e===Ice||e===Ace||e===xce||e===Nce||e===Dce||"object"==typeof e&&null!==e&&(e.$$typeof===Mce||e.$$typeof===Rce||e.$$typeof===Pce||e.$$typeof===Oce||e.$$typeof===Lce||e.$$typeof===Fce||e.$$typeof===Vce||e.$$typeof===Uce||e.$$typeof===jce)},Ece.typeOf=Bce,_ce.exports=Ece;var Gce=_ce.exports,qce={};function Hce(){return i.useContext(hce)}function Wce(e){void 0===e&&(e=hce);var t=e===hce?Hce:function(){return i.useContext(e)};return function(){return t().store}}qce[Gce.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},qce[Gce.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var Kce=Wce();function Yce(e){void 0===e&&(e=hce);var t=e===hce?Kce:Wce(e);return function(){return t().dispatch}}var Xce=Yce(),$ce=function(e,t){return e===t};function Qce(e){void 0===e&&(e=hce);var t=e===hce?Hce:function(){return i.useContext(e)};return function(e,n){void 0===n&&(n=$ce);var r=t(),o=function(e,t,n,r){var o,a=i.useReducer((function(e){return e+1}),0)[1],s=i.useMemo((function(){return gce(n,r)}),[n,r]),u=i.useRef(),l=i.useRef(),c=i.useRef(),d=i.useRef(),f=n.getState();try{if(e!==l.current||f!==c.current||u.current){var h=e(f);o=void 0!==d.current&&t(h,d.current)?d.current:h}else o=d.current}catch(e){throw u.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),e}return yce((function(){l.current=e,c.current=f,d.current=o,u.current=void 0})),yce((function(){function e(){try{var e=n.getState();if(e===c.current)return;var r=l.current(e);if(t(r,d.current))return;d.current=r,c.current=e}catch(e){u.current=e}a()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),o}(e,n,r.store,r.subscription);return i.useDebugValue(o),o}}var Jce,Zce=Qce();function ede(e){return ede="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ede(e)}Jce=t.unstable_batchedUpdates,pce=Jce;var tde,nde,rde=function(e,t){return rde=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},rde(e,t)},ide=function(){return ide=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ide.apply(this,arguments)};!function(e){e.loaded="already loaded"}(tde||(tde={})),function(e){e.InvalidPath="ScriptLoader: path is not valid"}(nde||(nde={}));var ode,ade,sde,ude,lde,cde,dde,fde,hde,pde,vde=function(){function e(){var e=this;this.get=function(t,n,r){var i=(Array.isArray(t)?t:[t]).map((function(e){return"string"==typeof e?{src:e}:e}));i.forEach((function(t){return t.src?e.createScript(t,n,r):r&&r({message:nde.InvalidPath,src:t.src})}))},this.getPromise=function(t){return new Promise((function(n,r){return e.get(t,(function(e){return n(e)}),(function(e){var t=e.src||e.target.src;r(new Error("[ScriptLoader: script Load Error] "+t))}))}))},this.createScript=function(t,n,r){var i=t.src,o=e.loadMap[i];if(o)return n&&o.loaded?n({src:i,message:tde.loaded}):e.loadMap[i].loadedHandlers.push(n);var a=document.createElement("script");return e.loadMap[i]={loaded:!1,el:a,loadedHandlers:n?[n]:[]},a.onload=function(t){var n=t.target;n.onload=null,n.onerror=null,e.loadMap[i].loaded=!0,e.loadMap[i].loadedHandlers.forEach((function(e){return e&&e(t)}))},a.onerror=r,a.async=!0,Object.keys(t).forEach((function(e){var n=t[e];"object"===ede(n)?Object.keys(n).forEach((function(t){return a[e][t]=n[t]})):a[e]=n})),!e.headElement&&e.setHeadElement(),e.headElement&&e.headElement.appendChild(a),e},this.setHeadElement(),this.loadMap={}}return e.prototype.setHeadElement=function(){this.headElement="undefined"!=typeof document&&document.getElementsByTagName("head")[0]},e.prototype.getScriptMap=function(e){return this.loadMap[e]},e}(),mde=new vde;!function(e){e.Dev="https://dev-spi.naver.com/js/release/ko_KR",e.Real="https://ssl.pstatic.net/spi/js/release/ko_KR"}(ode||(ode={})),function(e){e.Real="Real",e.Dev="Dev"}(ade||(ade={})),function(e){e.Sns="sns",e.Standard="standard",e.OuterNews="outer_news",e.SnsSmall="sns_small"}(sde||(sde={})),function(e){e.TypeA="type_a",e.TypeB="type_b",e.TypeC="type_c",e.TypeCDarkBg="type_c-dark_bg"}(ude||(ude={})),function(e){e.On="on",e.Off="off"}(lde||(lde={})),function(e){e.Default="default",e.Fixed="fixed",e.Custom="custom"}(cde||(cde={})),function(e){e.SOURCE_TYPE="111"}(dde||(dde={})),function(e){e.CustomWeb="custom_web"}(fde||(fde={})),function(e){e[e.DISALLOW=0]="DISALLOW",e[e.CONTENT=1]="CONTENT",e[e.LINK=2]="LINK"}(hde||(hde={})),function(e){e.Me="me",e.Blog="blog",e.Cafe="cafe",e.Post="post",e.Mail="mail",e.Kakaotalk="kakaotalk",e.Band="band",e.Twitter="twitter",e.Facebook="facebook",e.Calendar="calendar",e.Kakaostory="kakaostory",e.Line="line",e.Memo="memo",e.Friend="friend"}(pde||(pde={}));var gde=["evKey","serviceName"],yde=function(){},bde={env:ade.Real,instanceKey:null,isMobile:!0},_de=function(){function e(){var e=this;this.id="naver-splugin-sdk",this.__pluginInstances={},this.update=function(t,n){var r=e.getPluginInstance(n.instanceKey);r&&t&&r.update(t,n)},this.kill=function(t,n){var r=n?n.instanceKey:bde.instanceKey,i=e.getPluginInstance(r);i&&t&&i.kill(t),e.setPluginInstance(r,void 0)}}return e.prototype.loadScript=function(e){var t=this.id,n="splugin"+(e.isMobile?".m":"")+".js",r=ode[e.env]+"/"+n+"?"+function(e){void 0===e&&(e=new Date);var t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return t+(n<10?"0":"")+n+(r<10?"0":"")+r}();if(window.SocialPlugIn_Core)return Promise.resolve(window.SocialPlugIn_Core);var i=document.getElementById(t);return i?new Promise((function(e){return i.addEventListener("load",(function(){return e(window.SocialPlugIn_Core)}))})):mde.getPromise({src:r,id:t}).then((function(){return window.SocialPlugIn_Core}))},e.prototype.getPluginInstance=function(e){return e?this.__pluginInstances[e]:window.__splugin},e.prototype.setPluginInstance=function(e,t){e?this.__pluginInstances[e]=t:window.__splugin=t},e.prototype.initialize=function(e,t){var n=this;if(gde.every((function(e){return t[e]}))){var r=ide(ide({},bde),t),i=r.evKey,o=r.serviceName,a=r.likeServiceId,s=r.onClick,u=void 0===s?yde:s,l=r.onShow,c=void 0===l?yde:l,d=r.onHide,f=void 0===d?yde:d;return this.loadScript(r).then((function(t){!n.getPluginInstance(r.instanceKey)&&t&&n.setPluginInstance(r.instanceKey,t({evKey:i,serviceName:o,likeServiceId:a,dimmed:cde.Fixed,onClick:u,onShow:c,onHide:f})),n.update(e,r)}))}},e}(),Ede=new _de,wde=function(e){function t(t){var n=e.call(this,t)||this;return n.initialize=function(){Ede.initialize(n.props.forwardRef.current,n.props).then((function(){n.setState({loaded:!0})})),window.removeEventListener("load",n.initialize)},n.handleClick=function(e){e.preventDefault(),n.props.onClick&&n.props.onClick(e)},n.state={loaded:!1},n}return function(e,t){function n(){this.constructor=e}rde(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){"complete"===document.readyState?this.initialize():window.addEventListener("load",this.initialize)},t.prototype.render=function(){var e="__splugin_"+this.props.likeContentsId;return u.default.createElement("a",{id:e,href:"#",ref:this.props.forwardRef,"data-style":this.props.socialPluginStyle,className:"naver-splugin "+(this.props.classnames||""),onClick:this.handleClick,style:this.state.loaded?void 0:{display:"none"}},this.props.children)},t}(i.Component),Sde=u.default.forwardRef((function(e,t){return u.default.createElement(wde,ide({},e,{forwardRef:t||u.default.createRef()}),e.children)})),Tde=MW.compose,kde=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Tde:Tde.apply(null,arguments)};function xde(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var Ade=xde();Ade.withExtraArgument=xde;var Pde="undefined"!=typeof window&&window||{},Ode=Pde.console;Pde.document;var Cde=Pde.history,Ide=Pde.location,Lde=Pde.navigator,Nde=Pde.parseFloat,Dde=Pde.performance,Rde=null,Mde=null;try{Rde=Pde.localStorage,Mde=Pde.sessionStorage}catch(kce){}var jde="___persist___",Fde="state"+jde,Vde="depths",Ude="lastUrl",Bde=Dde&&Dde.navigation,zde=Bde&&Bde.TYPE_NAVIGATE||0;Bde&&Bde.TYPE_RELOAD;var Gde=Bde&&Bde.TYPE_BACK_FORWARD||2,qde=Lde?Lde.userAgent:"";!function(){new RegExp("iPhone|iPad","i").test(qde),new RegExp("Mac","i").test(qde)&&!new RegExp("Chrome","i").test(qde)&&new RegExp("Apple","i").test(qde);var e=new RegExp("Android ","i").test(qde);new RegExp("wv; |inapp;","i").test(qde),e&&Nde(new RegExp("(Android)\\s([\\d_\\.]+|\\d_0)","i").exec(qde)[2])}();var Hde=Cde&&"replaceState"in Cde&&"state"in Cde,Wde="None";function Kde(e){if(e){var t="__tmp__"+jde;try{return e.setItem(t,jde),e.getItem(t)===jde}catch(e){return!1}}}var Yde,Xde=(Kde(Mde)?(Yde=Mde,Wde="SessionStorage"):Kde(Rde)?(Yde=Rde,Wde="LocalStorage"):Cde&&Cde.state&&(Wde="History"),Yde);function $de(){console.warn("window.history or session/localStorage has no valid format data to be handled in persist.")}function Qde(e){var t,n;if(Xde?n=Xde.getItem(e):Cde.state?"object"==typeof Cde.state&&null!==Cde.state?n=Cde.state[e]:$de():n=Cde.state,null===n)return{};var r="string"==typeof n&&n.length>0&&"null"!==n;try{if(t=JSON.parse(n),!r||"object"!=typeof t||t instanceof Array)throw new Error}catch(e){$de(),t={}}return t}function Jde(e,t){if(Xde)t?Xde.setItem(e,JSON.stringify(t)):Xde.removeItem(e);else try{var n=Cde&&null!=Cde.state?Cde.state:{};Cde&&"object"==typeof n?(n[e]=JSON.stringify(t),Cde.replaceState(n,document.title,Ide.href)):console.warn("To use a history object, it must be an object that is not a primitive type.")}catch(e){console.warn(e.message)}t?Pde[jde]=!0:delete Pde[jde]}function Zde(){return Xde}function efe(){return Wde}function tfe(e,t){if(Hde||Xde){var n=Qde(e)[t];return"null"!==n&&void 0!==n||(n=null),n}}function nfe(e,t,n){if(Hde||Xde){var r=Qde(e);r[t]=n,Jde(e,r)}}function rfe(e){Jde(e,null)}function ife(e){return ife=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ife(e)}function ofe(e,t){return ofe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ofe(e,t)}function afe(e,t,n){return afe=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ofe(i,n.prototype),i},afe.apply(null,arguments)}function sfe(e){var t="function"==typeof Map?new Map:void 0;return sfe=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return afe(e,arguments,ife(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ofe(r,e)},sfe(e)}function ufe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var lfe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cfe=function(e){var t,n;function r(t,n){var i,o=n.length,a=efe(),s=Zde(),u="",l=[];if(s){for(var c=s.length,d=0;d<c;++d){var f=s.key(d),h=s.getItem(f)||"";l.push({key:f,size:h.length})}l=l.sort((function(e,t){return t.size-e.size})).slice(0,3),l.length&&(u=" The highest values of "+a+" are "+l.map((function(e){var t;return JSON.stringify(((t={})[e.key]=e.size,t))})).join(", ")+".")}return i=e.call(this,"Setting the value (size: "+o+") of '"+t+"' exceeded the "+a+"'s quota."+u)||this,lfe(ufe(ufe(i)),r.prototype),i.name="PersistQuotaExceededError",i.storageType=a,i.key=t,i.size=o,i.values=l,i}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(sfe(Error)),dfe=Lde?Lde.userAgent:"",ffe=function(){var e=new RegExp("iPhone|iPad","i").test(dfe),t=new RegExp("Mac","i").test(dfe)&&!new RegExp("Chrome","i").test(dfe)&&new RegExp("Apple","i").test(dfe),n=new RegExp("Android ","i").test(dfe),r=new RegExp("wv; |inapp;","i").test(dfe),i=n?Nde(new RegExp("(Android)\\s([\\d_\\.]+|\\d_0)","i").exec(dfe)[2]):void 0;return!(e||t||n&&(i<=4.3&&r||i<3))}();function hfe(){return Ide?Ide.href.split("#")[0]:""}function pfe(e){return e+jde}function vfe(e){return"QuotaExceededError"===e.name||"PersistQuotaExceededError"===e.name}var mfe="";function gfe(e,t,n){var r=e;r||(r=isNaN(t[0])?{}:[]);var i=t.shift();return 0===t.length?(r instanceof Array&&isNaN(i)&&Ode.warn("Don't use key string on array"),n(r,i),r):(r[i]=gfe(r[i],t,n),r)}function yfe(e,t){try{nfe(Fde,e,t)}catch(n){Efe(n,Fde,t)&&(e===Ude?yfe(e,t):e===Vde&&yfe(e,t&&t.slice(1)))}}function bfe(e){return tfe(Fde,e)}function _fe(e){void 0===e&&(e=0);var t=hfe();if(mfe!==t){var n=mfe;try{mfe=t;var r=bfe(Vde)||[];if(e===Gde)~r.indexOf(t)&&yfe(Ude,t);else{var i=bfe(Ude);if(rfe(pfe(t)),e===zde&&t!==i){var o=r.indexOf(i);r.splice(o+1,r.length).forEach((function(e){rfe(pfe(e))}));var a=r.indexOf(t);~a&&r.splice(a,1)}r.indexOf(t)<0&&r.push(t),yfe(Vde,r),yfe(Ude,t)}}catch(e){throw mfe=n,e}}}function Efe(e,t,n){if(function(){var e=bfe(Vde)||[],t=e.splice(0,1);if(!t.length)return!1;var n=t[0];return rfe(pfe(n)),!(mfe===n&&(mfe="",yfe(Ude,""),!e.length)||(yfe(Vde,e),0))}())return!0;throw vfe(e)?new cfe(t,n?JSON.stringify(n):""):e}var wfe=function(){var e=function(){function e(e){this.key=e||""}e.clear=function(){(bfe(Vde)||[]).forEach((function(e){rfe(pfe(e))})),rfe(Fde),mfe=""},e.isNeeded=function(){return ffe};var t=e.prototype;return t.get=function(e){_fe(zde);var t=tfe(pfe(hfe()),this.key);if(!e||0===e.length)return t;for(var n=e.split("."),r=t,i=!0,o=0;o<n.length;o++){if(!r){i=!1;break}r=r[n[o]]}return i&&null!=r?r:null},t.set=function(e,t){_fe(zde);var n=this.key,r=pfe(hfe()),i=tfe(r,n);try{if(0===e.length)nfe(r,n,t);else{var o=gfe(i,e.split("."),(function(e,n){e[n]=t}));nfe(r,n,o)}}catch(n){Efe(n,r,t)&&this.set(e,t)}return this},t.remove=function(e){_fe(zde);var t=this.key,n=pfe(hfe()),r=tfe(n,t);try{if(0===e.length)nfe(n,t,null);else{var i=gfe(r,e.split("."),(function(e,t){"object"==typeof e&&delete e[t]}));nfe(n,t,i)}}catch(t){Efe(t)&&this.remove(e)}return this},e}();return e.VERSION="2.6.0",e.StorageManager={reset:rfe,setStateByKey:nfe,getStateByKey:tfe,getStorage:Zde},e}();"onpopstate"in Pde&&Pde.addEventListener("popstate",(function(){try{_fe(Gde)}catch(e){if(!vfe(e))throw e}}));try{_fe(Dde&&Dde.navigation&&Dde.navigation.type)}catch(kce){if(!vfe(kce))throw kce}var Sfe=wfe,Tfe={},kfe=Object.getOwnPropertySymbols,xfe=Object.prototype.hasOwnProperty,Afe=Object.prototype.propertyIsEnumerable,Pfe=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))xfe.call(n,a)&&(i[a]=n[a]);if(kfe){r=kfe(n);for(var s=0;s<r.length;s++)Afe.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},Ofe="%[a-f0-9]{2}",Cfe=new RegExp(Ofe,"gi"),Ife=new RegExp("("+Ofe+")+","gi");function Lfe(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],Lfe(n),Lfe(r))}function Nfe(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(Cfe),n=1;n<t.length;n++)t=(e=Lfe(t,n).join("")).match(Cfe);return e}}var Dfe=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))},Rfe=Pfe,Mfe=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=Ife.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=Nfe(n[0]);r!==n[0]&&(t[n[0]]=r)}n=Ife.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),o=0;o<i.length;o++){var a=i[o];e=e.replace(new RegExp(a,"g"),t[a])}return e}(e)}};function jfe(e,t){return t.encode?t.strict?Dfe(e):encodeURIComponent(e):e}function Ffe(e){return Array.isArray(e)?e.sort():"object"==typeof e?Ffe(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function Vfe(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function Ufe(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=Rfe({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:Mfe(o),n(Mfe(i),o,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=Ffe(n):e[t]=n,e}),Object.create(null))):r}Tfe.extract=Vfe,Tfe.parse=Ufe,Tfe.stringify=function(e,t){!1===(t=Rfe({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[jfe(t,e),"[",r,"]"].join(""):[jfe(t,e),"[",jfe(r,e),"]=",jfe(n,e)].join("")};case"bracket":return function(t,n){return null===n?jfe(t,e):[jfe(t,e),"[]=",jfe(n,e)].join("")};default:return function(t,n){return null===n?jfe(t,e):[jfe(t,e),"=",jfe(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(r){var i=e[r];if(void 0===i)return"";if(null===i)return jfe(r,t);if(Array.isArray(i)){var o=[];return i.slice().forEach((function(e){void 0!==e&&o.push(n(r,e,o.length))})),o.join("&")}return jfe(r,t)+"="+jfe(i,t)})).filter((function(e){return e.length>0})).join("&"):""},Tfe.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:Ufe(Vfe(e),t)}};var Bfe="__PERSISTED_LAYER_STATE__",zfe="__PERSISTED_PLAYING_POINT__",Gfe="__PERSISTED_PLAYING_RATE__",qfe="__PERSISTED_PLAY_COUNT__",Hfe="__PERSISTED_SCROLL_ELEMENT__",Wfe="__PERSISTED_PLAYING_STATE__",Kfe="__PREVIOUS_STATE__",Yfe=new Sfe("__MOMENT_VIEWER__"),Xfe=function(){var e;return null===(e=Yfe.get(Wfe))||void 0===e||e};function $fe(){var e=JSON.stringify(Yfe.get());sessionStorage.setItem(Kfe,e)}var Qfe,Jfe=function(e){var t=e.getState;return function(e){return function(n){var r=e(n),i=t().layer;return Yfe.set(Bfe,i),r}}},Zfe=function(t){return function(n){var r=n.getState;return function(n){return function(i){var o=n(i),a=r().layer;return t.emit(e.ViewerEvents.LayerUpdate,a),o}}}};!function(e){e.Set="auth/SET",e.Reset="auth/RESET"}(Qfe||(Qfe={}));var ehe,the,nhe,rhe={userId:"",loggedIn:!1,isAdult:!1},ihe=function(e){return{type:Qfe.Set,payload:e}};!function(e){e[e.None=0]="None",e[e.Header=1]="Header",e[e.Custom=2]="Custom",e[e.Login=3]="Login"}(the||(the={})),function(e){e.Set="layer/Set",e.Update="layer/UPDATE",e.UpdateState="layer/UPDATE_STATE",e.PreviousState="layer/PREVIOUS_STATE"}(nhe||(nhe={}));var ohe,ahe,she,uhe={isInfoVisible:!1,isMoreInfoOpen:!1,isMoreInfoVisible:!1,isFooterVisible:!1,isForwardSkipVisible:!1,isBackwardSkipVisible:!1},lhe=((ehe={})[e.LayerState.Info]=SR(SR({},uhe),{isInfoVisible:!0,isFooterVisible:!0}),ehe[e.LayerState.None]=SR({},uhe),ehe[e.LayerState.Seeking]={isInfoVisible:!1,isFooterVisible:!1,isMoreInfoVisible:!1},ehe[e.LayerState.MoreInfo]=SR(SR({},uhe),{isInfoVisible:!0,isMoreInfoOpen:!0,isMoreInfoVisible:!0}),ehe[e.LayerState.StickerLayer]=SR({},uhe),ehe),che=SR(SR({},lhe[e.LayerState.Info]),{popupState:the.None,popupSticker:null,isExtraLayerVisible:!1,layerState:e.LayerState.Info,previousLayerState:e.LayerState.None,activeStickerLayerId:null});function dhe(e){return{type:nhe.Update,payload:e}}function fhe(e,t){return void 0===t&&(t={}),{type:nhe.UpdateState,payload:SR(SR(SR({},lhe[e]),t),{layerState:e})}}!function(e){e[e.Public=0]="Public",e[e.Private=1]="Private"}(ohe||(ohe={})),function(e){e[e.BlogOwner=0]="BlogOwner",e[e.MutualBuddy=1]="MutualBuddy",e[e.Buddy=2]="Buddy",e[e.LoginUser=3]="LoginUser",e[e.GuestUser=4]="GuestUser",e[e.Rss=5]="Rss"}(ahe||(ahe={})),function(e){e.Profile="s1",e.Item="h220",e.VideoPost="w320",e.PortraitX4="f420_630",e.FeedList="f90_160@3x"}(she||(she={}));var hhe,phe=function(e,t){var n="?type=",r="".concat(n).concat(t);return e&&!e.includes(n)?"".concat(e).concat(r):e||""};!function(e){e[e.TravelAndRestaurant=37]="TravelAndRestaurant",e[e.Recipe=20]="Recipe",e[e.Living=19]="Living",e[e.FashionAndBeauty=18]="FashionAndBeauty",e[e.Life=14]="Life",e[e.ProductReview=21]="ProductReview",e[e.None=99]="None"}(hhe||(hhe={}));var vhe={seq:hhe.None,name:"선택 안 함"},mhe={exports:{}},ghe=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},yhe=ghe,bhe=Object.prototype.toString;function _he(e){return"[object Array]"===bhe.call(e)}function Ehe(e){return void 0===e}function whe(e){return null!==e&&"object"==typeof e}function She(e){if("[object Object]"!==bhe.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function The(e){return"[object Function]"===bhe.call(e)}function khe(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),_he(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var xhe={isArray:_he,isArrayBuffer:function(e){return"[object ArrayBuffer]"===bhe.call(e)},isBuffer:function(e){return null!==e&&!Ehe(e)&&null!==e.constructor&&!Ehe(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:whe,isPlainObject:She,isUndefined:Ehe,isDate:function(e){return"[object Date]"===bhe.call(e)},isFile:function(e){return"[object File]"===bhe.call(e)},isBlob:function(e){return"[object Blob]"===bhe.call(e)},isFunction:The,isStream:function(e){return whe(e)&&The(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:khe,merge:function e(){var t={};function n(n,r){She(t[r])&&She(n)?t[r]=e(t[r],n):She(n)?t[r]=e({},n):_he(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)khe(arguments[r],n);return t},extend:function(e,t,n){return khe(t,(function(t,r){e[r]=n&&"function"==typeof t?yhe(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},Ahe=xhe;function Phe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Ohe=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(Ahe.isURLSearchParams(t))r=t.toString();else{var i=[];Ahe.forEach(t,(function(e,t){null!=e&&(Ahe.isArray(e)?t+="[]":e=[e],Ahe.forEach(e,(function(e){Ahe.isDate(e)?e=e.toISOString():Ahe.isObject(e)&&(e=JSON.stringify(e)),i.push(Phe(t)+"="+Phe(e))})))})),r=i.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},Che=xhe;function Ihe(){this.handlers=[]}Ihe.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},Ihe.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Ihe.prototype.forEach=function(e){Che.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Lhe=Ihe,Nhe=xhe,Dhe=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},Rhe=Dhe,Mhe=function(e,t,n,r,i){var o=new Error(e);return Rhe(o,t,n,r,i)},jhe=Mhe,Fhe=xhe,Vhe=Fhe.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),Fhe.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Fhe.isString(r)&&a.push("path="+r),Fhe.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Uhe=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},Bhe=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},zhe=xhe,Ghe=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],qhe=xhe,Hhe=qhe.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=qhe.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},Whe=xhe,Khe=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(jhe("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)},Yhe=Vhe,Xhe=Ohe,$he=function(e,t){return e&&!Uhe(t)?Bhe(e,t):t},Qhe=function(e){var t,n,r,i={};return e?(zhe.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=zhe.trim(e.substr(0,r)).toLowerCase(),n=zhe.trim(e.substr(r+1)),t){if(i[t]&&Ghe.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i},Jhe=Hhe,Zhe=Mhe,epe=function(e){return new Promise((function(t,n){var r=e.data,i=e.headers,o=e.responseType;Whe.isFormData(r)&&delete i["Content-Type"];var a=new XMLHttpRequest;if(e.auth){var s=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.Authorization="Basic "+btoa(s+":"+u)}var l=$he(e.baseURL,e.url);function c(){if(a){var r="getAllResponseHeaders"in a?Qhe(a.getAllResponseHeaders()):null,i={data:o&&"text"!==o&&"json"!==o?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:r,config:e,request:a};Khe(t,n,i),a=null}}if(a.open(e.method.toUpperCase(),Xhe(l,e.params,e.paramsSerializer),!0),a.timeout=e.timeout,"onloadend"in a?a.onloadend=c:a.onreadystatechange=function(){a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))&&setTimeout(c)},a.onabort=function(){a&&(n(Zhe("Request aborted",e,"ECONNABORTED",a)),a=null)},a.onerror=function(){n(Zhe("Network Error",e,null,a)),a=null},a.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(Zhe(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",a)),a=null},Whe.isStandardBrowserEnv()){var d=(e.withCredentials||Jhe(l))&&e.xsrfCookieName?Yhe.read(e.xsrfCookieName):void 0;d&&(i[e.xsrfHeaderName]=d)}"setRequestHeader"in a&&Whe.forEach(i,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete i[t]:a.setRequestHeader(t,e)})),Whe.isUndefined(e.withCredentials)||(a.withCredentials=!!e.withCredentials),o&&"json"!==o&&(a.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&a.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){a&&(a.abort(),n(e),a=null)})),r||(r=null),a.send(r)}))},tpe=xhe,npe=function(e,t){Nhe.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},rpe=Dhe,ipe={"Content-Type":"application/x-www-form-urlencoded"};function ope(e,t){!tpe.isUndefined(e)&&tpe.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var ape,spe={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==r&&"[object process]"===Object.prototype.toString.call(r))&&(ape=epe),ape),transformRequest:[function(e,t){return npe(t,"Accept"),npe(t,"Content-Type"),tpe.isFormData(e)||tpe.isArrayBuffer(e)||tpe.isBuffer(e)||tpe.isStream(e)||tpe.isFile(e)||tpe.isBlob(e)?e:tpe.isArrayBufferView(e)?e.buffer:tpe.isURLSearchParams(e)?(ope(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):tpe.isObject(e)||t&&"application/json"===t["Content-Type"]?(ope(t,"application/json"),function(e,t,n){if(tpe.isString(e))try{return(t||JSON.parse)(e),tpe.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&tpe.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw rpe(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};tpe.forEach(["delete","get","head"],(function(e){spe.headers[e]={}})),tpe.forEach(["post","put","patch"],(function(e){spe.headers[e]=tpe.merge(ipe)}));var upe=spe,lpe=xhe,cpe=upe,dpe=function(e){return!(!e||!e.__CANCEL__)},fpe=xhe,hpe=function(e,t,n){var r=this||cpe;return lpe.forEach(n,(function(n){e=n.call(r,e,t)})),e},ppe=dpe,vpe=upe;function mpe(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var gpe=xhe,ype=function(e,t){t=t||{};var n={},r=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function s(e,t){return gpe.isPlainObject(e)&&gpe.isPlainObject(t)?gpe.merge(e,t):gpe.isPlainObject(t)?gpe.merge({},t):gpe.isArray(t)?t.slice():t}function u(r){gpe.isUndefined(t[r])?gpe.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(e[r],t[r])}gpe.forEach(r,(function(e){gpe.isUndefined(t[e])||(n[e]=s(void 0,t[e]))})),gpe.forEach(i,u),gpe.forEach(o,(function(r){gpe.isUndefined(t[r])?gpe.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(void 0,t[r])})),gpe.forEach(a,(function(r){r in t?n[r]=s(e[r],t[r]):r in e&&(n[r]=s(void 0,e[r]))}));var l=r.concat(i).concat(o).concat(a),c=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return gpe.forEach(c,u),n},bpe={_args:[["axios@0.21.4","/Users/user/Programming/moment-viewer"]],_from:"axios@0.21.4",_id:"axios@0.21.4",_inBundle:!1,_integrity:"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==",_location:"/axios",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"axios@0.21.4",name:"axios",escapedName:"axios",rawSpec:"0.21.4",saveSpec:null,fetchSpec:"0.21.4"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz",_spec:"0.21.4",_where:"/Users/user/Programming/moment-viewer",author:{name:"Matt Zabriskie"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bugs:{url:"https://github.com/axios/axios/issues"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}],dependencies:{"follow-redirects":"^1.14.0"},description:"Promise based HTTP client for the browser and node.js",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},homepage:"https://axios-http.com",jsdelivr:"dist/axios.min.js",keywords:["xhr","http","ajax","promise","node"],license:"MIT",main:"index.js",name:"axios",repository:{type:"git",url:"git+https://github.com/axios/axios.git"},scripts:{build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",fix:"eslint --fix lib/**/*.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},typings:"./index.d.ts",unpkg:"dist/axios.min.js",version:"0.21.4"},_pe={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){_pe[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Epe={},wpe=bpe.version.split(".");function Spe(e,t){for(var n=t?t.split("."):wpe,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}_pe.transitional=function(e,t,n){var r=t&&Spe(t);function i(e,t){return"[Axios v"+bpe.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,a){if(!1===e)throw new Error(i(o," has been removed in "+t));return r&&!Epe[o]&&(Epe[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,a)}};var Tpe={isOlderVersion:Spe,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],u=void 0===s||a(s,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:_pe},kpe=xhe,xpe=Ohe,Ape=Lhe,Ppe=function(e){return mpe(e),e.headers=e.headers||{},e.data=hpe.call(e,e.data,e.headers,e.transformRequest),e.headers=fpe.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),fpe.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||vpe.adapter)(e).then((function(t){return mpe(e),t.data=hpe.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return ppe(t)||(mpe(e),t&&t.response&&(t.response.data=hpe.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Ope=ype,Cpe=Tpe,Ipe=Cpe.validators;function Lpe(e){this.defaults=e,this.interceptors={request:new Ape,response:new Ape}}Lpe.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=Ope(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&Cpe.assertOptions(t,{silentJSONParsing:Ipe.transitional(Ipe.boolean,"1.0.0"),forcedJSONParsing:Ipe.transitional(Ipe.boolean,"1.0.0"),clarifyTimeoutError:Ipe.transitional(Ipe.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var a=[Ppe,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(o),i=Promise.resolve(e);a.length;)i=i.then(a.shift(),a.shift());return i}for(var s=e;n.length;){var u=n.shift(),l=n.shift();try{s=u(s)}catch(e){l(e);break}}try{i=Ppe(s)}catch(e){return Promise.reject(e)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},Lpe.prototype.getUri=function(e){return e=Ope(this.defaults,e),xpe(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},kpe.forEach(["delete","get","head","options"],(function(e){Lpe.prototype[e]=function(t,n){return this.request(Ope(n||{},{method:e,url:t,data:(n||{}).data}))}})),kpe.forEach(["post","put","patch"],(function(e){Lpe.prototype[e]=function(t,n,r){return this.request(Ope(r||{},{method:e,url:t,data:n}))}}));var Npe=Lpe;function Dpe(e){this.message=e}Dpe.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Dpe.prototype.__CANCEL__=!0;var Rpe=Dpe,Mpe=Rpe;function jpe(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new Mpe(e),t(n.reason))}))}jpe.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},jpe.source=function(){var e;return{token:new jpe((function(t){e=t})),cancel:e}};var Fpe=jpe,Vpe=xhe,Upe=ghe,Bpe=Npe,zpe=ype;function Gpe(e){var t=new Bpe(e),n=Upe(Bpe.prototype.request,t);return Vpe.extend(n,Bpe.prototype,t),Vpe.extend(n,t),n}var qpe=Gpe(upe);qpe.Axios=Bpe,qpe.create=function(e){return Gpe(zpe(qpe.defaults,e))},qpe.Cancel=Rpe,qpe.CancelToken=Fpe,qpe.isCancel=dpe,qpe.all=function(e){return Promise.all(e)},qpe.spread=function(e){return function(t){return e.apply(null,t)}},qpe.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError},mhe.exports=qpe,mhe.exports.default=qpe;var Hpe,Wpe,Kpe,Ype=mhe.exports,Xpe={getUserData:function(){return function(){var t,n=ple.env,r=((t={})[e.ServiceEnv.Dev]="//dev.m.blog.naver.com",t[e.ServiceEnv.Stage]="//stage.m.blog.naver.com",t[e.ServiceEnv.Real]="//m.blog.naver.com",t);return Ype.create({baseURL:r[n],timeout:5e3,withCredentials:!0})}().get("/api/current-user").then((function(e){return e.data.result}))}},$pe=function(){var t,n=ple.env||e.ServiceEnv.Dev;return((t={})[e.ServiceEnv.Dev]="//dev.apis.naver.com",t[e.ServiceEnv.Stage]="//stg.apis.naver.com",t[e.ServiceEnv.Real]="//apis.naver.com",t)[n]},Qpe=function(e){var t=e.serviceName,n=e.usePostfix,r=void 0===n||n,i=$pe(),o=r?"/front-end":"";return"".concat(i,"/").concat("moment-web","/").concat("moment_front","/").concat(t,"/v1").concat(o)},Jpe=function(e){var t=e.serviceName,n=e.usePostfix,r=Qpe({serviceName:t,usePostfix:void 0===n||n});return Ype.create({baseURL:r,timeout:5e3,withCredentials:!0,headers:{"X-SERVICE-KEY":"blog","apigw-routing-key":t}})},Zpe=function(){var t,n=ple.env||e.ServiceEnv.Dev,r=((t={})[e.ServiceEnv.Dev]="//dev-api-moment.blog.naver.com",t[e.ServiceEnv.Stage]="//stage-api-moment.blog.naver.com",t[e.ServiceEnv.Real]="//api-moment.blog.naver.com",t);return Ype.create({baseURL:r[n],timeout:5e3,withCredentials:!0})},eve=function(e){return SR(SR({},e),{id:e.docNo,momentId:e.momentNo,thumbnailUrl:e.thumbnailUrl||e.thumbnailPath,profileThumbnailUrl:e.profileImageUrl||e.profileUrl,nickname:e.nickName||e.nickname||e.blogId,commentCount:e.commentCnt||e.commentCount,reactionCount:e.sympathyCnt||e.sympathyCount||e.reactionCount,date:new Date(e.addDate)})},tve=function(e){var t=e.blogId,n=e.docNo;return Zpe().get("/blogs/".concat(t,"/momentDocs/").concat(n)).then((function(e){return eve(e.data.result)}))},nve=function(e){var t=e.blogId,n=e.docNo;return Zpe().get("/blogs/".concat(t,"/momentMeta/v2/").concat(n)).then((function(e){return e.data.result}))},rve={getMoment:function(e){return Promise.all([tve(e),nve(e)]).then((function(e){var t=e[0],n=e[1];return SR(SR({},n),eve(t))}))},getPlayInfo:function(e){var t=e.blogId,n=e.docNo;return Zpe().get("/blogs/".concat(t,"/momentPlayInfo/").concat(n)).then((function(e){return e.data.result.playInfo}))}},ive={width:670,height:296},ove=function(){return Jpe({serviceName:"make"})},ave={getNaverPlaceInfo:function(e){return xR(this,void 0,void 0,(function(){return AR(this,(function(t){return[2,ove().get("/location/naver/getPlaceInfo/".concat(e)).then((function(e){return e.data}))]}))}))},doKeep:function(e){return xR(this,void 0,void 0,(function(){return AR(this,(function(t){return[2,ove().post("/location/naver/keep",e).then((function(e){return e.data}))]}))}))},removeKeep:function(e){var t=e.id,n=e.placeKeepRequest;return xR(this,void 0,void 0,(function(){return AR(this,(function(e){return[2,ove().delete("/location/naver/keep/".concat(t),{data:n}).then((function(e){return e.data}))]}))}))},getNaverStaticMap:function(e){var t=e.location;return xR(this,void 0,void 0,(function(){var e,n,r,i;return AR(this,(function(o){return e=t.latitude,n=t.longitude,r="".concat(e,",").concat(n),i=Tfe.stringify(SR(SR({},ive),{center:r,markers:r})),[2,ove().get("/location/naver/staticmap?".concat(i)).then((function(e){return e.data}))]}))}))},getGooglePlaceDetails:function(e){return xR(this,void 0,void 0,(function(){return AR(this,(function(t){return[2,ove().get("/location/google/place/details?place_id=".concat(e)).then((function(e){return e.data}))]}))}))},getGoogleStaticMap:function(e){var t=e.location;return xR(this,void 0,void 0,(function(){var e,n,r,i,o;return AR(this,(function(a){return e="".concat(ive.width,"x").concat(ive.height),n=t.latitude,r=t.longitude,i="".concat(n,",").concat(r),o=Tfe.stringify({size:e,markers:i,language:"ko",scale:1,clientKey:"AIzaSyCsduBSG20YGXC9nX8dPx3BjwPDe51fGYE",iconUrls:["https://moment.pstatic.net/resources/data/real/images/googleLocation/iconPin.png"]}),[2,ove().get("/location/google/staticmap?".concat(o)).then((function(e){return e.data}))]}))}))}},sve=function(){return Jpe({serviceName:"make"})},uve={doKeep:function(e){return xR(this,void 0,void 0,(function(){return AR(this,(function(t){return[2,sve().post("/keep",e).then((function(e){return e.data}))]}))}))},removeKeep:function(e){return xR(this,void 0,void 0,(function(){return AR(this,(function(t){return[2,sve().delete("/keep",{data:e}).then((function(e){return e.data}))]}))}))},getProductDetails:function(e){var t=e.productNo;return xR(this,void 0,void 0,(function(){return AR(this,(function(e){return[2,sve().post("/productDetails?productNo=".concat(t)).then((function(e){return e.data}))]}))}))}},lve={getBookDetails:function(e){var t=e.bid;return xR(this,void 0,void 0,(function(){return AR(this,(function(e){return[2,Jpe({serviceName:"make"}).get("/books/".concat(t)).then((function(e){return e.data}))]}))}))}},cve={getMovieDetails:function(e){var t=e.mcode;return xR(this,void 0,void 0,(function(){return AR(this,(function(e){return[2,Jpe({serviceName:"make"}).get("/movies/".concat(t)).then((function(e){return e.data}))]}))}))}};!function(e){e.PlayCount="play-cnt",e.PlayTime="play-time"}(Hpe||(Hpe={})),function(e){e.Viewer="viewer",e.Preview="preview",e.AndSoOn="andSoOn"}(Wpe||(Wpe={})),function(e){e.Ios="ios",e.Android="and",e.PcWeb="pcweb",e.MobileWeb="mweb"}(Kpe||(Kpe={}));var dve,fve,hve=function(){return Jpe({serviceName:"misc"})},pve={getPlayCount:function(e){var t=e.momentId;return xR(this,void 0,void 0,(function(){return AR(this,(function(e){return[2,hve().get("/play-count?momentId=".concat(t)).then((function(e){var t;return(null===(t=e.data)||void 0===t?void 0:t.count)||0}))]}))}))},increasePlayCount:function(e){var t=e.momentId,n=e.naverId,r=void 0===n?"":n;return xR(this,void 0,void 0,(function(){var e;return AR(this,(function(n){return e=Tfe.stringify({momentId:t,naverId:r,platform:Rle.isMobile()?Kpe.MobileWeb:Kpe.PcWeb}),[2,hve().post("/play-count/increase?".concat(e)).then((function(e){return e.data})).catch((function(){}))]}))}))}},vve={getCoverLottie:function(){return Jpe({serviceName:"make"}).get("style/lottie/cover").then((function(e){return e.data}))}},mve=function(){return Jpe({serviceName:"stat",usePostfix:!1})},gve=Rle.isMobile()?Kpe.MobileWeb:Kpe.PcWeb,yve=Tfe.stringify({platform:gve}),bve={registerInternalStats:function(e){return xR(this,void 0,void 0,(function(){return AR(this,(function(t){return[2,mve().post("/play?".concat(yve),e).then((function(e){return e.data})).catch((function(){}))]}))}))},updateInternalStats:function(e){var t=e.createdDate,n=e.id,r=TR(e,["createdDate","id"]);return xR(this,void 0,void 0,(function(){return AR(this,(function(e){return[2,mve().put("/play/".concat(t,"/").concat(n,"?").concat(yve),r).then((function(e){return e.data})).catch((function(){}))]}))}))},registerCommonStats:function(e){return xR(this,void 0,void 0,(function(){return AR(this,(function(t){return[2,mve().post("/play/commonstat",e).then((function(e){return e.data})).catch((function(){}))]}))}))},registerCommonStatsBeacon:function(e){var t="".concat(Qpe({serviceName:"stat",usePostfix:!1}),"/play/commonstat");return fetch(t,{keepalive:!0,method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8","X-SERVICE-KEY":"blog","apigw-routing-key":"stat"},credentials:"include",body:JSON.stringify(e)})}};!function(e){e.Mp3="MP3",e.Aac="AAC"}(dve||(dve={})),function(e){e.Hls="HLS",e.Pd="PD"}(fve||(fve={}));var _ve={exports:{}};!function(e,t){var n;"undefined"!=typeof window&&(n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(e,t,n){var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,o),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},l.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},l.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},l.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,a),!0}for(l=1,u=new Array(d-1);l<d;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,r);break;default:if(!u)for(f=1,u=new Array(d-1);f<d;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||u(this,o);else{for(var s=0,l=[],c=a.length;s<c;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&l.push(a[s]);l.length?this._events[o]=1===l.length?l[0]:l:u(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,e.exports=l},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,n){var r,i,o,a,s;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,i=/^([^\/?#]*)([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=s.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):t;var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var u=i.exec(a.path);a.netLoc=u[1],a.path=u[2]}a.netLoc&&!a.path&&(a.path="/");var l={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var c=a.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=s.normalizePath(d)}else l.path=a.path,o.params||(l.params=a.params,o.query||(l.query=a.query));return null===l.path&&(l.path=n.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(l)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},"./node_modules/webworkify-webpack/index.js":function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}var i="[\\.|\\-|\\+|\\w|/|@]+",o="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+i+").*?\\)";function a(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(e){return!isNaN(1*e)}function u(e,t,r){var u={};u[r]=[];var l=t.toString(),c=l.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return u;for(var d,f=c[1],h=new RegExp("(\\\\n|\\W)"+a(f)+o,"g");d=h.exec(l);)"dll-reference"!==d[3]&&u[r].push(d[3]);for(h=new RegExp("\\("+a(f)+'\\("(dll-reference\\s('+i+'))"\\)\\)'+o,"g");d=h.exec(l);)e[d[2]]||(u[r].push(d[1]),e[d[2]]=n(d[1]).m),u[d[2]]=u[d[2]]||[],u[d[2]].push(d[4]);for(var p=Object.keys(u),v=0;v<p.length;v++)for(var m=0;m<u[p[v]].length;m++)s(u[p[v]][m])&&(u[p[v]][m]=1*u[p[v]][m]);return u}function l(e){return Object.keys(e).reduce((function(t,n){return t||e[n].length>0}),!1)}e.exports=function(e,t){t=t||{};var i={main:n.m},o=t.all?{main:Object.keys(i.main)}:function(e,t){for(var n={main:[t]},r={main:[]},i={main:{}};l(n);)for(var o=Object.keys(n),a=0;a<o.length;a++){var s=o[a],c=n[s].pop();if(i[s]=i[s]||{},!i[s][c]&&e[s][c]){i[s][c]=!0,r[s]=r[s]||[],r[s].push(c);for(var d=u(e,e[s][c],s),f=Object.keys(d),h=0;h<f.length;h++)n[f[h]]=n[f[h]]||[],n[f[h]]=n[f[h]].concat(d[f[h]])}}return r}(i,e),a="";Object.keys(o).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;o[e][t];)t++;o[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),a=a+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"}))(self);";var s=new window.Blob([a],{type:"text/javascript"});if(t.bare)return s;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(s),d=new window.Worker(c);return d.objectURL=c,d}},"./src/config.ts":function(e,t,n){n.r(t),n.d(t,"hlsDefaultConfig",(function(){return g})),n.d(t,"mergeConfig",(function(){return y})),n.d(t,"enableStreamingMode",(function(){return b}));var r=n("./src/controller/abr-controller.ts"),i=n("./src/empty.js"),o=n.n(i),a=n("./src/controller/buffer-controller.ts"),s=n("./src/controller/cap-level-controller.ts"),u=n("./src/controller/fps-controller.ts"),l=n("./src/utils/xhr-loader.ts"),c=n("./src/utils/fetch-loader.ts"),d=n("./src/utils/mediakeys-helper.ts"),f=n("./src/utils/logger.ts");function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=v(v({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:l.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:r.default,bufferController:a.default,capLevelController:s.default,fpsController:u.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:d.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0},{cueHandler:o.a,enableCEA708Captions:!1,enableWebVTT:!1,enableIMSC1:!1,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:void 0,subtitleTrackController:void 0,timelineController:void 0,audioStreamController:void 0,audioTrackController:void 0,emeController:void 0,cmcdController:void 0});function y(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return h({},e,t)}function b(e){var t=e.loader;t!==c.default&&t!==l.default?(f.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1):Object(c.fetchSupported)()&&(e.loader=c.default,e.progressive=!0,e.enableSoftwareAES=!0,f.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/utils/ewma-bandwidth-estimator.ts"),o=n("./src/events.ts"),a=n("./src/utils/buffer-helper.ts"),s=n("./src/errors.ts"),u=n("./src/types/loader.ts"),l=n("./src/utils/logger.ts");function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(e){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;var t=e.config;this.bwEstimator=new i.default(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(o.Events.FRAG_LOADING,this.onFragLoading,this),e.on(o.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(o.Events.ERROR,this.onError,this)},t.unregisterListeners=function(){var e=this.hls;e.off(o.Events.FRAG_LOADING,this.onFragLoading,this),e.off(o.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(o.Events.ERROR,this.onError,this)},t.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},t.onFragLoading=function(e,t){var n,r=t.frag;r.type===u.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=r,this.partCurrent=null!=(n=t.part)?n:null,this.timer=self.setInterval(this.onCheck,100)))},t.onLevelLoaded=function(e,t){var n=this.hls.config;t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)},t._abandonRulesCheck=function(){var e=this.fragCurrent,t=this.partCurrent,n=this.hls,i=n.autoLevelEnabled,s=n.config,u=n.media;if(e&&u){var c=t?t.stats:e.stats,d=t?t.duration:e.duration;if(c.aborted)return l.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(i&&!u.paused&&u.playbackRate&&u.readyState){var f=performance.now()-c.loading.start,h=Math.abs(u.playbackRate);if(!(f<=500*d/h)){var p=n.levels,v=n.minAutoLevel,m=p[e.level],g=c.total||Math.max(c.loaded,Math.round(d*m.maxBitrate/8)),y=Math.max(1,c.bwEstimate?c.bwEstimate/8:1e3*c.loaded/f),b=(g-c.loaded)/y,_=u.currentTime,E=(a.BufferHelper.bufferInfo(u,_,s.maxBufferHole).end-_)/h;if(!(E>=2*d/h||b<=E)){var w,S=Number.POSITIVE_INFINITY;for(w=e.level-1;w>v&&!((S=d*p[w].maxBitrate/(6.4*y))<E);w--);if(!(S>=b)){var T=this.bwEstimator.getEstimate();l.logger.warn("Fragment "+e.sn+(t?" part "+t.index:"")+" of level "+e.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+w+"\n      Current BW estimate: "+(Object(r.isFiniteNumber)(T)?(T/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+b.toFixed(3)+" s\n      Estimated load time for the next fragment: "+S.toFixed(3)+" s\n      Time to underbuffer: "+E.toFixed(3)+" s"),n.nextLoadLevel=w,this.bwEstimator.sample(f,c.loaded),this.clearTimer(),e.loader&&(this.fragCurrent=this.partCurrent=null,e.loader.abort()),n.trigger(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:c})}}}}}},t.onFragLoaded=function(e,t){var n=t.frag,i=t.part;if(n.type===u.PlaylistLevelType.MAIN&&Object(r.isFiniteNumber)(n.sn)){var a=i?i.stats:n.stats,s=i?i.duration:n.duration;if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var l=this.hls.levels[n.level],c=(l.loaded?l.loaded.bytes:0)+a.loaded,d=(l.loaded?l.loaded.duration:0)+s;l.loaded={bytes:c,duration:d},l.realBitrate=Math.round(8*c/d)}if(n.bitrateTest){var f={stats:a,frag:n,part:i,id:n.type};this.onFragBuffered(o.Events.FRAG_BUFFERED,f),n.bitrateTest=!1}}},t.onFragBuffered=function(e,t){var n=t.frag,r=t.part,i=r?r.stats:n.stats;if(!i.aborted&&n.type===u.PlaylistLevelType.MAIN&&"initSegment"!==n.sn){var o=i.parsing.end-i.loading.start;this.bwEstimator.sample(o,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}},t.onError=function(e,t){switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},t.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},t.getNextABRAutoLevel=function(){var e=this.fragCurrent,t=this.partCurrent,n=this.hls,r=n.maxAutoLevel,i=n.config,o=n.minAutoLevel,s=n.media,u=t?t.duration:e?e.duration:0,c=s?s.currentTime:0,d=s&&0!==s.playbackRate?Math.abs(s.playbackRate):1,f=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(a.BufferHelper.bufferInfo(s,c,i.maxBufferHole).end-c)/d,p=this.findBestLevel(f,o,r,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(p>=0)return p;l.logger.trace((h?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var v=u?Math.min(u,i.maxStarvationDelay):i.maxStarvationDelay,m=i.abrBandWidthFactor,g=i.abrBandWidthUpFactor;if(!h){var y=this.bitrateTestDelay;y&&(v=(u?Math.min(u,i.maxLoadingDelay):i.maxLoadingDelay)-y,l.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*v)+" ms"),m=g=1)}return p=this.findBestLevel(f,o,r,h+v,m,g),Math.max(p,0)},t.findBestLevel=function(e,t,n,r,i,o){for(var a,s=this.fragCurrent,u=this.partCurrent,c=this.lastLoadedFragLevel,d=this.hls.levels,f=d[c],h=!(null==f||null===(a=f.details)||void 0===a||!a.live),p=null==f?void 0:f.codecSet,v=u?u.duration:s?s.duration:0,m=n;m>=t;m--){var g=d[m];if(g&&(!p||g.codecSet===p)){var y=g.details,b=(u?null==y?void 0:y.partTarget:null==y?void 0:y.averagetargetduration)||v,_=void 0;_=m<=c?i*e:o*e;var E=d[m].maxBitrate,w=E*b/_;if(l.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+m+"/"+Math.round(_)+"/"+E+"/"+b+"/"+r+"/"+w),_>E&&(!w||h&&!this.bitrateTestDelay||w<r))return m}}return-1},function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(e,[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var n=this.getNextABRAutoLevel();return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e}}]),e}();t.default=d},"./src/controller/base-playlist-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return u}));var r=n("./src/polyfills/number.ts"),i=n("./src/types/level.ts"),o=n("./src/controller/level-helper.ts"),a=n("./src/utils/logger.ts"),s=n("./src/errors.ts"),u=function(){function e(e,t){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=a.logger.log.bind(a.logger,t+":"),this.warn=a.logger.warn.bind(a.logger,t+":"),this.hls=e}var t=e.prototype;return t.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},t.onError=function(e,t){t.fatal&&t.type===s.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},t.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},t.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},t.stopLoad=function(){this.canLoad=!1,this.clearTimer()},t.switchParams=function(e,t){var n=null==t?void 0:t.renditionReports;if(n)for(var o=0;o<n.length;o++){var a=n[o],s=""+a.URI;if(s===e.substr(-s.length)){var u=parseInt(a["LAST-MSN"]),l=parseInt(a["LAST-PART"]);if(t&&this.hls.config.lowLatencyMode){var c=Math.min(t.age-t.partTarget,t.targetduration);void 0!==l&&c>t.partTarget&&(l+=1)}if(Object(r.isFiniteNumber)(u))return new i.HlsUrlParameters(u,Object(r.isFiniteNumber)(l)?l:void 0,i.HlsSkip.No)}}},t.loadPlaylist=function(e){},t.shouldLoadTrack=function(e){return this.canLoad&&e&&!!e.url&&(!e.details||e.details.live)},t.playlistLoaded=function(e,t,n){var r=this,i=t.details,a=t.stats,s=a.loading.end?Math.max(0,self.performance.now()-a.loading.end):0;if(i.advancedDateTime=Date.now()-s,i.live||null!=n&&n.live){if(i.reloaded(n),n&&this.log("live playlist "+e+" "+(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:"MISSED")),n&&i.fragments.length>0&&Object(o.mergeDetails)(n,i),!this.canLoad||!i.live)return;var u,l=void 0,c=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var d=this.hls.config.lowLatencyMode,f=i.lastPartSn,h=i.endSN,p=i.lastPartIndex,v=f===h;-1!==p?(l=v?h+1:f,c=v?d?0:p:p+1):l=h+1;var m=i.age,g=m+i.ageHeader,y=Math.min(g-i.partTarget,1.5*i.targetduration);if(y>0){if(n&&y>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+n.tuneInGoal+" to: "+y+" with playlist age: "+i.age),y=0;else{var b=Math.floor(y/i.targetduration);l+=b,void 0!==c&&(c+=Math.round(y%i.targetduration/i.partTarget)),this.log("CDN Tune-in age: "+i.ageHeader+"s last advanced "+m.toFixed(2)+"s goal: "+y+" skip sn "+b+" to part "+c)}i.tuneInGoal=y}if(u=this.getDeliveryDirectives(i,t.deliveryDirectives,l,c),d||!v)return void this.loadPlaylist(u)}else u=this.getDeliveryDirectives(i,t.deliveryDirectives,l,c);var _=Object(o.computeReloadInterval)(i,a);void 0!==l&&i.canBlockReload&&(_-=i.partTarget||1),this.log("reload live playlist "+e+" in "+Math.round(_)+" ms"),this.timer=self.setTimeout((function(){return r.loadPlaylist(u)}),_)}else this.clearTimer()},t.getDeliveryDirectives=function(e,t,n,r){var o=Object(i.getSkipValue)(e,n);return null!=t&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,r=t.part,o=i.HlsSkip.No),new i.HlsUrlParameters(n,r,o)},t.retryLoadingOrFail=function(e){var t,n=this,r=this.hls.config,i=this.retryCount<r.levelLoadingMaxRetry;if(i)if(this.retryCount++,e.details.indexOf("LoadTimeOut")>-1&&null!==(t=e.context)&&void 0!==t&&t.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+e.details+'"'),this.loadPlaylist();else{var o=Math.min(Math.pow(2,this.retryCount)*r.levelLoadingRetryDelay,r.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout((function(){return n.loadPlaylist()}),o),this.warn("retry playlist loading #"+this.retryCount+" in "+o+' ms after "'+e.details+'"')}else this.warn('cannot recover from error "'+e.details+'"'),this.clearTimer(),e.fatal=!0;return i},e}()},"./src/controller/base-stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"State",(function(){return E})),n.d(t,"default",(function(){return w}));var r=n("./src/polyfills/number.ts"),i=n("./src/task-loop.ts"),o=n("./src/controller/fragment-tracker.ts"),a=n("./src/utils/buffer-helper.ts"),s=n("./src/utils/logger.ts"),u=n("./src/events.ts"),l=n("./src/errors.ts"),c=n("./src/types/transmuxer.ts"),d=n("./src/utils/mp4-tools.ts"),f=n("./src/utils/discontinuities.ts"),h=n("./src/controller/fragment-finders.ts"),p=n("./src/controller/level-helper.ts"),v=n("./src/loader/fragment-loader.ts"),m=n("./src/crypt/decrypter.ts"),g=n("./src/utils/time-ranges.ts"),y=n("./src/types/loader.ts");function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}var E={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},w=function(e){var t,n;function i(t,n,r){var i;return(i=e.call(this)||this).hls=void 0,i.fragPrevious=null,i.fragCurrent=null,i.fragmentTracker=void 0,i.transmuxer=null,i._state=E.STOPPED,i.media=void 0,i.mediaBuffer=void 0,i.config=void 0,i.bitrateTest=!1,i.lastCurrentTime=0,i.nextLoadPosition=0,i.startPosition=0,i.loadedmetadata=!1,i.fragLoadError=0,i.retryDate=0,i.levels=null,i.fragmentLoader=void 0,i.levelLastLoaded=null,i.startFragRequested=!1,i.decrypter=void 0,i.initPTS=[],i.onvseeking=null,i.onvended=null,i.logPrefix="",i.log=void 0,i.warn=void 0,i.logPrefix=r,i.log=s.logger.log.bind(s.logger,r+":"),i.warn=s.logger.warn.bind(s.logger,r+":"),i.hls=t,i.fragmentLoader=new v.default(t.config),i.fragmentTracker=n,i.config=t.config,i.decrypter=new m.default(t,t.config),t.on(u.Events.KEY_LOADED,i.onKeyLoaded,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i)),i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,_(t,n);var w=i.prototype;return w.doTick=function(){this.onTickEnd()},w.onTickEnd=function(){},w.startLoad=function(e){},w.stopLoad=function(){this.fragmentLoader.abort();var e=this.fragCurrent;e&&this.fragmentTracker.removeFragment(e),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=E.STOPPED},w._streamEnded=function(e,t){var n=this.fragCurrent,r=this.fragmentTracker;if(!t.live&&n&&n.sn===t.endSN&&!e.nextStart){var i=r.getState(n);return i===o.FragmentState.PARTIAL||i===o.FragmentState.OK}return!1},w.onMediaAttached=function(e,t){var n=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.state===E.STOPPED&&this.startLoad(r.startPosition)},w.onMediaDetaching=function(){var e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},w.onMediaSeeking=function(){var e=this.config,t=this.fragCurrent,n=this.media,i=this.mediaBuffer,o=this.state,s=n?n.currentTime:0,u=a.BufferHelper.bufferInfo(i||n,s,e.maxBufferHole);if(this.log("media seeking to "+(Object(r.isFiniteNumber)(s)?s.toFixed(3):s)+", state: "+o),o===E.ENDED)this.resetLoadingState();else if(t&&!u.len){var l=e.maxFragLookUpTolerance,c=t.start-l,d=s>t.start+t.duration+l;(s<c||d)&&(d&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.loader.abort()),this.resetLoadingState())}n&&(this.lastCurrentTime=s),this.loadedmetadata||u.len||(this.nextLoadPosition=this.startPosition=s),this.tickImmediate()},w.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},w.onKeyLoaded=function(e,t){if(this.state===E.KEY_LOADING&&t.frag===this.fragCurrent&&this.levels){this.state=E.IDLE;var n=this.levels[t.frag.level].details;n&&this.loadFragment(t.frag,n,t.frag.start)}},w.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},w.onHandlerDestroyed=function(){this.state=E.STOPPED,this.hls.off(u.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},w.loadKey=function(e,t){this.log("Loading key for "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level),this.state=E.KEY_LOADING,this.fragCurrent=e,this.hls.trigger(u.Events.KEY_LOADING,{frag:e})},w.loadFragment=function(e,t,n){this._loadFragForPlayback(e,t,n)},w._loadFragForPlayback=function(e,t,n){var r=this;this._doFragLoad(e,t,n,(function(t){if(r.fragContextChanged(e))return r.warn("Fragment "+e.sn+(t.part?" p: "+t.part.index:"")+" of level "+e.level+" was dropped during download."),void r.fragmentTracker.removeFragment(e);e.stats.chunkCount++,r._handleFragmentLoadProgress(t)})).then((function(t){if(t){r.fragLoadError=0;var n=r.state;if(!r.fragContextChanged(e))return"payload"in t&&(r.log("Loaded fragment "+e.sn+" of level "+e.level),r.hls.trigger(u.Events.FRAG_LOADED,t),r.state===E.BACKTRACKING)?(r.fragmentTracker.backtrack(e,t),void r.resetFragmentLoading(e)):void r._handleFragmentLoadComplete(t);(n===E.FRAG_LOADING||n===E.BACKTRACKING||!r.fragCurrent&&n===E.PARSING)&&(r.fragmentTracker.removeFragment(e),r.state=E.IDLE)}})).catch((function(t){r.warn(t),r.resetFragmentLoading(e)}))},w.flushMainBuffer=function(e,t,n){if(void 0===n&&(n=null),e-t){var r={startOffset:e,endOffset:t,type:n};this.fragLoadError=0,this.hls.trigger(u.Events.BUFFER_FLUSHING,r)}},w._loadInitSegment=function(e){var t=this;this._doFragLoad(e).then((function(n){if(!n||t.fragContextChanged(e)||!t.levels)throw new Error("init load aborted");return n})).then((function(n){var r=t.hls,i=n.payload,o=e.decryptdata;if(i&&i.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){var a=self.performance.now();return t.decrypter.webCryptoDecrypt(new Uint8Array(i),o.key.buffer,o.iv.buffer).then((function(t){var i=self.performance.now();return r.trigger(u.Events.FRAG_DECRYPTED,{frag:e,payload:t,stats:{tstart:a,tdecrypt:i}}),n.payload=t,n}))}return n})).then((function(n){var r=t.fragCurrent,i=t.hls,o=t.levels;if(!o)throw new Error("init load aborted, missing levels");var a=o[e.level].details;console.assert(a,"Level details are defined when init segment is loaded");var s=e.stats;t.state=E.IDLE,t.fragLoadError=0,e.data=new Uint8Array(n.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),n.frag===r&&i.trigger(u.Events.FRAG_BUFFERED,{stats:s,frag:r,part:null,id:e.type}),t.tick()})).catch((function(n){t.warn(n),t.resetFragmentLoading(e)}))},w.fragContextChanged=function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId},w.fragBufferedComplete=function(e,t){var n=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+e.type+" sn: "+e.sn+(t?" part: "+t.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level+" "+g.default.toString(a.BufferHelper.getBuffered(n))),this.state=E.IDLE,this.tick()},w._handleFragmentLoadComplete=function(e){var t=this.transmuxer;if(t){var n=e.frag,r=e.part,i=e.partsLoaded,o=!i||0===i.length||i.some((function(e){return!e})),a=new c.ChunkMetadata(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!o);t.flush(a)}},w._handleFragmentLoadProgress=function(e){},w._doFragLoad=function(e,t,n,i){var o=this;if(void 0===n&&(n=null),!this.levels)throw new Error("frag load aborted, missing levels");if(n=Math.max(e.start,n||0),this.config.lowLatencyMode&&t){var a=t.partList;if(a&&i){n>e.end&&t.fragmentHint&&(e=t.fragmentHint);var s=this.getNextPart(a,e,n);if(s>-1){var l=a[s];return this.log("Loading part sn: "+e.sn+" p: "+l.index+" cc: "+e.cc+" of playlist ["+t.startSN+"-"+t.endSN+"] parts [0-"+s+"-"+(a.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(n.toFixed(3))),this.nextLoadPosition=l.start+l.duration,this.state=E.FRAG_LOADING,this.hls.trigger(u.Events.FRAG_LOADING,{frag:e,part:a[s],targetBufferTime:n}),this.doFragPartsLoad(e,a,s,i).catch((function(e){return o.handleFragLoadError(e)}))}if(!e.url||this.loadedEndOfParts(a,n))return Promise.resolve(null)}}return this.log("Loading fragment "+e.sn+" cc: "+e.cc+" "+(t?"of ["+t.startSN+"-"+t.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(n.toFixed(3))),Object(r.isFiniteNumber)(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=E.FRAG_LOADING,this.hls.trigger(u.Events.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragmentLoader.load(e,i).catch((function(e){return o.handleFragLoadError(e)}))},w.doFragPartsLoad=function(e,t,n,r){var i=this;return new Promise((function(o,a){var s=[];!function n(l){var c=t[l];i.fragmentLoader.loadPart(e,c,r).then((function(r){s[c.index]=r;var a=r.part;i.hls.trigger(u.Events.FRAG_LOADED,r);var d=t[l+1];if(!d||d.fragment!==e)return o({frag:e,part:a,partsLoaded:s});n(l+1)})).catch(a)}(n)}))},w.handleFragLoadError=function(e){var t=e.data;return t&&t.details===l.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(u.Events.ERROR,t),null},w._handleTransmuxerFlush=function(e){var t=this.getCurrentContext(e);if(t&&this.state===E.PARSING){var n=t.frag,r=t.part,i=t.level,o=self.performance.now();n.stats.parsing.end=o,r&&(r.stats.parsing.end=o),this.updateLevelTiming(n,r,i,e.partial)}else this.fragCurrent||(this.state=E.IDLE)},w.getCurrentContext=function(e){var t=this.levels,n=e.level,r=e.sn,i=e.part;if(!t||!t[n])return this.warn("Levels object was unset while buffering fragment "+r+" of level "+n+". The current chunk will not be buffered."),null;var o=t[n],a=i>-1?Object(p.getPartWith)(o,r,i):null,s=a?a.fragment:Object(p.getFragmentWithSN)(o,r,this.fragCurrent);return s?{frag:s,part:a,level:o}:null},w.bufferFragmentData=function(e,t,n,r){if(e&&this.state===E.PARSING){var i=e.data1,o=e.data2,a=i;if(i&&o&&(a=Object(d.appendUint8Array)(i,o)),a&&a.length){var s={type:e.type,frag:t,part:n,chunkMeta:r,parent:t.type,data:a};this.hls.trigger(u.Events.BUFFER_APPENDING,s),e.dropped&&e.independent&&!n&&this.flushBufferGap(t)}}},w.flushBufferGap=function(e){var t=this.media;if(t)if(a.BufferHelper.isBuffered(t,t.currentTime)){var n=t.currentTime,r=a.BufferHelper.bufferInfo(t,n,0),i=e.duration,o=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),s=Math.max(Math.min(e.start-o,r.end-o),n+o);e.start-s>o&&this.flushMainBuffer(s,e.start)}else this.flushMainBuffer(0,e.start)},w.getFwdBufferInfo=function(e,t){var n=this.config,i=this.getLoadPosition();if(!Object(r.isFiniteNumber)(i))return null;var o=a.BufferHelper.bufferInfo(e,i,n.maxBufferHole);if(0===o.len&&void 0!==o.nextStart){var s=this.fragmentTracker.getBufferedFrag(i,t);if(s&&o.nextStart<s.end)return a.BufferHelper.bufferInfo(e,i,Math.max(o.nextStart,n.maxBufferHole))}return o},w.getMaxBufferLength=function(e){var t,n=this.config;return t=e?Math.max(8*n.maxBufferSize/e,n.maxBufferLength):n.maxBufferLength,Math.min(t,n.maxMaxBufferLength)},w.reduceMaxBufferLength=function(e){var t=this.config,n=e||t.maxBufferLength;return t.maxMaxBufferLength>=n&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},w.getNextFragment=function(e,t){var n,r,i=t.fragments,o=i.length;if(!o)return null;var a,s=this.config,u=i[0].start;if(t.live){var l=s.initialLiveManifestSize;if(o<l)return this.warn("Not enough fragments to start playback (have: "+o+", need: "+l+")"),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(a=this.getInitialLiveFragment(t,i),this.startPosition=a?this.hls.liveSyncPosition||a.start:e)}else e<=u&&(a=i[0]);if(!a){var c=s.lowLatencyMode?t.partEnd:t.fragmentEnd;a=this.getFragmentAtPosition(e,c,t)}return null===(n=a)||void 0===n||!n.initSegment||null!==(r=a)&&void 0!==r&&r.initSegment.data||this.bitrateTest||(a=a.initSegment),a},w.getNextPart=function(e,t,n){for(var r=-1,i=!1,o=!0,a=0,s=e.length;a<s;a++){var u=e[a];if(o=o&&!u.independent,r>-1&&n<u.start)break;var l=u.loaded;!l&&(i||u.independent||o)&&u.fragment===t&&(r=a),i=l}return r},w.loadedEndOfParts=function(e,t){var n=e[e.length-1];return n&&t>n.start&&n.loaded},w.getInitialLiveFragment=function(e,t){var n=this.fragPrevious,r=null;if(n){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),r=Object(h.findFragmentByPDT)(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){var i=n.sn+1;if(i>=e.startSN&&i<=e.endSN){var o=t[i-e.startSN];n.cc===o.cc&&(r=o,this.log("Live playlist, switching playlist, load frag with next SN: "+r.sn))}r||(r=Object(h.findFragWithCC)(t,n.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+r.sn)}}else{var a=this.hls.liveSyncPosition;null!==a&&(r=this.getFragmentAtPosition(a,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r},w.getFragmentAtPosition=function(e,t,n){var r,i=this.config,a=this.fragPrevious,s=n.fragments,u=n.endSN,l=n.fragmentHint,c=i.maxFragLookUpTolerance,d=!!(i.lowLatencyMode&&n.partList&&l);if(d&&l&&!this.bitrateTest&&(s=s.concat(l),u=l.sn),e<t){var f=e>t-c?0:c;r=Object(h.findFragmentByPTS)(a,s,e,f)}else r=s[s.length-1];if(r){var p=r.sn-n.startSN,v=a&&r.level===a.level,m=s[p+1];if(this.fragmentTracker.getState(r)===o.FragmentState.BACKTRACKED){r=null;for(var g=p;s[g]&&this.fragmentTracker.getState(s[g])===o.FragmentState.BACKTRACKED;)r=a?s[g--]:s[--g];r||(r=m)}else a&&r.sn===a.sn&&!d&&v&&(r.sn<u&&this.fragmentTracker.getState(m)!==o.FragmentState.OK?(this.log("SN "+r.sn+" just loaded, load next one: "+m.sn),r=m):r=null)}return r},w.synchronizeToLiveEdge=function(e){var t=this.config,n=this.media;if(n){var r=this.hls.liveSyncPosition,i=n.currentTime,o=e.fragments[0].start,a=e.edge,s=i>=o-t.maxFragLookUpTolerance&&i<=a;if(null!==r&&n.duration>r&&(i<r||!s)){var u=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&n.readyState<4||i<a-u)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn("Playback: "+i.toFixed(3)+" is located too far from the end of live sliding playlist: "+a+", reset currentTime to : "+r.toFixed(3)),n.currentTime=r))}}},w.alignPlaylists=function(e,t){var n=this.levels,i=this.levelLastLoaded,o=this.fragPrevious,a=null!==i?n[i]:null,s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var u=e.fragments[0].start,l=!t,c=e.alignedSliding&&Object(r.isFiniteNumber)(u);if(l||!c&&!u){Object(f.alignStream)(o,a,e);var d=e.fragments[0].start;return this.log("Live playlist sliding: "+d.toFixed(2)+" start-sn: "+(t?t.startSN:"na")+"->"+e.startSN+" prev-sn: "+(o?o.sn:"na")+" fragments: "+s),d}return u},w.waitForCdnTuneIn=function(e){return e.live&&e.canBlockReload&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)},w.setStartPosition=function(e,t){var n=this.startPosition;if(n<t&&(n=-1),-1===n||-1===this.lastCurrentTime){var i=e.startTimeOffset;Object(r.isFiniteNumber)(i)?(n=t+i,i<0&&(n+=e.totalduration),n=Math.min(Math.max(t,n),t+e.totalduration),this.log("Start time offset "+i+" found in playlist, adjust startPosition to "+n),this.startPosition=n):e.live?n=this.hls.liveSyncPosition||t:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n},w.getLoadPosition=function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t},w.handleFragLoadAborted=function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment "+e.sn+(t?" part"+t.index:"")+" of level "+e.level+" was aborted"),this.resetFragmentLoading(e))},w.resetFragmentLoading=function(e){this.fragCurrent&&this.fragContextChanged(e)||(this.state=E.IDLE)},w.onFragmentOrKeyLoadError=function(e,t){if(!t.fatal){var n=t.frag;if(n&&n.type===e){var r=this.fragCurrent;console.assert(r&&n.sn===r.sn&&n.level===r.level&&n.urlId===r.urlId,"Frag load error must match current frag to retry");var i=this.config;if(this.fragLoadError+1<=i.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(n.level))return;var o=Math.min(Math.pow(2,this.fragLoadError)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);this.warn("Fragment "+n.sn+" of "+e+" "+n.level+" failed to load, retrying in "+o+"ms"),this.retryDate=self.performance.now()+o,this.fragLoadError++,this.state=E.FRAG_LOADING_WAITING_RETRY}else t.levelRetry?(e===y.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=E.IDLE):(s.logger.error(t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.stopLoad(),this.state=E.ERROR)}}},w.afterBufferFlushed=function(e,t,n){if(e){var r=a.BufferHelper.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,n),this.state===E.ENDED&&this.resetLoadingState()}},w.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=E.IDLE},w.resetLiveStartWhenNotLoaded=function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;if(null!=t&&t.live)return this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},w.updateLevelTiming=function(e,t,n,r){var i=this,o=n.details;console.assert(!!o,"level.details must be defined");var a=Object.keys(e.elementaryStreams).reduce((function(t,a){var s=e.elementaryStreams[a];if(s){var l=s.endPTS-s.startPTS;if(l<=0)return i.warn("Could not parse fragment "+e.sn+" "+a+" duration reliably ("+l+") resetting transmuxer to fallback to playlist timing"),i.resetTransmuxer(),t||!1;var c=r?0:Object(p.updateFragPTSDTS)(o,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return i.hls.trigger(u.Events.LEVEL_PTS_UPDATED,{details:o,level:n,drift:c,type:a,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1);a?(this.state=E.PARSED,this.hls.trigger(u.Events.FRAG_PARSED,{frag:e,part:t})):this.resetLoadingState()},w.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},function(e,t,n){t&&b(e.prototype,t),n&&b(e,n)}(i,[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log(t+"->"+e))}}]),i}(i.default)},"./src/controller/buffer-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return h}));var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts"),a=n("./src/errors.ts"),s=n("./src/utils/buffer-helper.ts"),u=n("./src/utils/mediasource-helper.ts"),l=n("./src/loader/fragment.ts"),c=n("./src/controller/buffer-operation-queue.ts"),d=Object(u.getMediaSource)(),f=/([ha]vc.)(?:\.[^.,]+)+/,h=function(){function e(e){var t=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=t.hls,n=t.media,r=t.mediaSource;o.logger.log("[buffer-controller]: Media source opened"),n&&(t.updateMediaElementDuration(),e.trigger(i.Events.MEDIA_ATTACHED,{media:n})),r&&r.removeEventListener("sourceopen",t._onMediaSourceOpen),t.checkPendingTracks()},this._onMediaSourceClose=function(){o.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){o.logger.log("[buffer-controller]: Media source ended")},this.hls=e,this._initSourceBuffer(),this.registerListeners()}var t=e.prototype;return t.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},t.destroy=function(){this.unregisterListeners(),this.details=null},t.registerListeners=function(){var e=this.hls;e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(i.Events.BUFFER_RESET,this.onBufferReset,this),e.on(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.on(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(i.Events.BUFFER_EOS,this.onBufferEos,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(i.Events.FRAG_PARSED,this.onFragParsed,this),e.on(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(i.Events.BUFFER_RESET,this.onBufferReset,this),e.off(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.off(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(i.Events.BUFFER_EOS,this.onBufferEos,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(i.Events.FRAG_PARSED,this.onFragParsed,this),e.off(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new c.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},t.onManifestParsed=function(e,t){var n=2;(t.audio&&!t.video||!t.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.details=null,o.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},t.onMediaAttaching=function(e,t){var n=this.media=t.media;if(n&&d){var r=this.mediaSource=new d;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(r),this._objectUrl=n.src}},t.onMediaDetaching=function(){var e=this.media,t=this.mediaSource,n=this._objectUrl;if(t){if(o.logger.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(e){o.logger.warn("[buffer-controller]: onMediaDetaching: "+e.message+" while calling endOfStream")}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(n&&self.URL.revokeObjectURL(n),e.src===n?(e.removeAttribute("src"),e.load()):o.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(i.Events.MEDIA_DETACHED,void 0)},t.onBufferReset=function(){var e=this;this.getSourceBufferTypes().forEach((function(t){var n=e.sourceBuffer[t];try{n&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(n),e.sourceBuffer[t]=void 0)}catch(e){o.logger.warn("[buffer-controller]: Failed to reset the "+t+" buffer",e)}})),this._initSourceBuffer()},t.onBufferCodecs=function(e,t){var n=this,r=this.getSourceBufferTypes().length;Object.keys(t).forEach((function(e){if(r){var i=n.tracks[e];if(i&&"function"==typeof i.buffer.changeType){var o=t[e],a=o.codec,s=o.levelCodec,u=o.container;if((i.levelCodec||i.codec).replace(f,"$1")!==(s||a).replace(f,"$1")){var l=u+";codecs="+(s||a);n.appendChangeType(e,l)}}}else n.pendingTracks[e]=t[e]})),r||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},t.appendChangeType=function(e,t){var n=this,r=this.operationQueue,i={execute:function(){var i=n.sourceBuffer[e];i&&(o.logger.log("[buffer-controller]: changing "+e+" sourceBuffer type to "+t),i.changeType(t)),r.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){o.logger.warn("[buffer-controller]: Failed to change "+e+" SourceBuffer type",t)}};r.append(i,e)},t.onBufferAppending=function(e,t){var n=this,r=this.hls,u=this.operationQueue,l=this.tracks,c=t.data,d=t.type,f=t.frag,h=t.part,p=t.chunkMeta,v=p.buffering[d],m=self.performance.now();v.start=m;var g=f.stats.buffering,y=h?h.stats.buffering:null;0===g.start&&(g.start=m),y&&0===y.start&&(y.start=m);var b=l.audio,_="audio"===d&&1===p.id&&"audio/mpeg"===(null==b?void 0:b.container),E={execute:function(){if(v.executeStart=self.performance.now(),_){var e=n.sourceBuffer[d];if(e){var t=f.start-e.timestampOffset;Math.abs(t)>=.1&&(o.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+f.start+" (delta: "+t+") sn: "+f.sn+")"),e.timestampOffset=f.start)}}n.appendExecutor(c,d)},onStart:function(){},onComplete:function(){var e=self.performance.now();v.executeEnd=v.end=e,0===g.first&&(g.first=e),y&&0===y.first&&(y.first=e);var t=n.sourceBuffer,r={};for(var o in t)r[o]=s.BufferHelper.getBuffered(t[o]);n.appendError=0,n.hls.trigger(i.Events.BUFFER_APPENDED,{type:d,frag:f,part:h,chunkMeta:p,parent:f.type,timeRanges:r})},onError:function(e){o.logger.error("[buffer-controller]: Error encountered while trying to append to the "+d+" SourceBuffer",e);var t={type:a.ErrorTypes.MEDIA_ERROR,parent:f.type,details:a.ErrorDetails.BUFFER_APPEND_ERROR,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=a.ErrorDetails.BUFFER_FULL_ERROR:(n.appendError++,t.details=a.ErrorDetails.BUFFER_APPEND_ERROR,n.appendError>r.config.appendErrorMaxRetry&&(o.logger.error("[buffer-controller]: Failed "+r.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),t.fatal=!0)),r.trigger(i.Events.ERROR,t)}};u.append(E,d)},t.onBufferFlushing=function(e,t){var n=this,r=this.operationQueue,a=function(e){return{execute:n.removeExecutor.bind(n,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){n.hls.trigger(i.Events.BUFFER_FLUSHED,{type:e})},onError:function(t){o.logger.warn("[buffer-controller]: Failed to remove from "+e+" SourceBuffer",t)}}};t.type?r.append(a(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){r.append(a(e),e)}))},t.onFragParsed=function(e,t){var n=this,r=t.frag,a=t.part,s=[],u=a?a.elementaryStreams:r.elementaryStreams;u[l.ElementaryStreamTypes.AUDIOVIDEO]?s.push("audiovideo"):(u[l.ElementaryStreamTypes.AUDIO]&&s.push("audio"),u[l.ElementaryStreamTypes.VIDEO]&&s.push("video")),0===s.length&&o.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+r.type+" level: "+r.level+" sn: "+r.sn),this.blockBuffers((function(){var e=self.performance.now();r.stats.buffering.end=e,a&&(a.stats.buffering.end=e);var t=a?a.stats:r.stats;n.hls.trigger(i.Events.FRAG_BUFFERED,{frag:r,part:a,stats:t,id:r.type})}),s)},t.onFragChanged=function(e,t){this.flushBackBuffer()},t.onBufferEos=function(e,t){var n=this;this.getSourceBufferTypes().reduce((function(e,r){var i=n.sourceBuffer[r];return t.type&&t.type!==r||i&&!i.ended&&(i.ended=!0,o.logger.log("[buffer-controller]: "+r+" sourceBuffer now EOS")),e&&!(i&&!i.ended)}),!0)&&this.blockBuffers((function(){var e=n.mediaSource;e&&"open"===e.readyState&&e.endOfStream()}))},t.onLevelUpdated=function(e,t){var n=t.details;n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},t.flushBackBuffer=function(){var e=this.hls,t=this.details,n=this.media,o=this.sourceBuffer;if(n&&null!==t){var a=this.getSourceBufferTypes();if(a.length){var u=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if(Object(r.isFiniteNumber)(u)&&!(u<0)){var l=n.currentTime,c=t.levelTargetDuration,d=Math.max(u,c),f=Math.floor(l/c)*c-d;a.forEach((function(n){var r=o[n];if(r){var a=s.BufferHelper.getBuffered(r);a.length>0&&f>a.start(0)&&(e.trigger(i.Events.BACK_BUFFER_REACHED,{bufferEnd:f}),t.live&&e.trigger(i.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:f}),e.trigger(i.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:f,type:n}))}}))}}}},t.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,n=this.media,i=this.mediaSource,a=e.fragments[0].start+e.totalduration,s=n.duration,u=Object(r.isFiniteNumber)(i.duration)?i.duration:0;e.live&&t.config.liveDurationInfinity?(o.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),i.duration=1/0,this.updateSeekableRange(e)):(a>u&&a>s||!Object(r.isFiniteNumber)(s))&&(o.logger.log("[buffer-controller]: Updating Media Source duration to "+a.toFixed(3)),i.duration=a)}},t.updateSeekableRange=function(e){var t=this.mediaSource,n=e.fragments;if(n.length&&e.live&&null!=t&&t.setLiveSeekableRange){var r=Math.max(0,n[0].start),i=Math.max(r,r+e.totalduration);t.setLiveSeekableRange(r,i)}},t.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,n=this.pendingTracks,r=Object.keys(n).length;if(r&&!e||2===r){this.createSourceBuffers(n),this.pendingTracks={};var o=this.getSourceBufferTypes();if(0===o.length)return void this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});o.forEach((function(e){t.executeNext(e)}))}},t.createSourceBuffers=function(e){var t=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");var r=0;for(var s in e)if(!t[s]){var u=e[s];if(!u)throw Error("source buffer exists for track "+s+", however track does not");var l=u.levelCodec||u.codec,c=u.container+";codecs="+l;o.logger.log("[buffer-controller]: creating sourceBuffer("+c+")");try{var d=t[s]=n.addSourceBuffer(c),f=s;this.addBufferListener(f,"updatestart",this._onSBUpdateStart),this.addBufferListener(f,"updateend",this._onSBUpdateEnd),this.addBufferListener(f,"error",this._onSBUpdateError),this.tracks[s]={buffer:d,codec:l,container:u.container,levelCodec:u.levelCodec,id:u.id},r++}catch(e){o.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+e.message),this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:e,mimeType:c})}}r&&this.hls.trigger(i.Events.BUFFER_CREATED,{tracks:this.tracks})},t._onSBUpdateStart=function(e){this.operationQueue.current(e).onStart()},t._onSBUpdateEnd=function(e){var t=this.operationQueue;t.current(e).onComplete(),t.shiftAndExecuteNext(e)},t._onSBUpdateError=function(e,t){o.logger.error("[buffer-controller]: "+e+" SourceBuffer error",t),this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var n=this.operationQueue.current(e);n&&n.onError(t)},t.removeExecutor=function(e,t,n){var i=this.media,a=this.mediaSource,s=this.operationQueue,u=this.sourceBuffer[e];if(!i||!a||!u)return o.logger.warn("[buffer-controller]: Attempting to remove from the "+e+" SourceBuffer, but it does not exist"),void s.shiftAndExecuteNext(e);var l=Object(r.isFiniteNumber)(i.duration)?i.duration:1/0,c=Object(r.isFiniteNumber)(a.duration)?a.duration:1/0,d=Math.max(0,t),f=Math.min(n,l,c);f>d?(o.logger.log("[buffer-controller]: Removing ["+d+","+f+"] from the "+e+" SourceBuffer"),console.assert(!u.updating,e+" sourceBuffer must not be updating"),u.remove(d,f)):s.shiftAndExecuteNext(e)},t.appendExecutor=function(e,t){var n=this.operationQueue,r=this.sourceBuffer[t];if(!r)return o.logger.warn("[buffer-controller]: Attempting to append to the "+t+" SourceBuffer, but it does not exist"),void n.shiftAndExecuteNext(t);r.ended=!1,console.assert(!r.updating,t+" sourceBuffer must not be updating"),r.appendBuffer(e)},t.blockBuffers=function(e,t){var n=this;if(void 0===t&&(t=this.getSourceBufferTypes()),!t.length)return o.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(e);var r=this.operationQueue,i=t.map((function(e){return r.appendBlocker(e)}));Promise.all(i).then((function(){e(),t.forEach((function(e){var t=n.sourceBuffer[e];t&&t.updating||r.shiftAndExecuteNext(e)}))}))},t.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},t.addBufferListener=function(e,t,n){var r=this.sourceBuffer[e];if(r){var i=n.bind(this,e);this.listeners[e].push({event:t,listener:i}),r.addEventListener(t,i)}},t.removeBufferListeners=function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))},e}()},"./src/controller/buffer-operation-queue.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return i}));var r=n("./src/utils/logger.ts"),i=function(){function e(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}var t=e.prototype;return t.append=function(e,t){var n=this.queues[t];n.push(e),1===n.length&&this.buffers[t]&&this.executeNext(t)},t.insertAbort=function(e,t){this.queues[t].unshift(e),this.executeNext(t)},t.appendBlocker=function(e){var t,n=new Promise((function(e){t=e})),r={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(r,e),n},t.executeNext=function(e){var t=this.buffers,n=this.queues,i=t[e],o=n[e];if(o.length){var a=o[0];try{a.execute()}catch(t){r.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),a.onError(t),i&&i.updating||(o.shift(),this.executeNext(e))}}},t.shiftAndExecuteNext=function(e){this.queues[e].shift(),this.executeNext(e)},t.current=function(e){return this.queues[e][0]},e}()},"./src/controller/cap-level-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(e){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},t.registerListeners=function(){var e=this.hls;e.on(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},t.unregisterListener=function(){var e=this.hls;e.off(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},t.onFpsDropLevelCapping=function(t,n){e.isLevelAllowed(n.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(n.droppedLevel)},t.onMediaAttaching=function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null},t.onManifestParsed=function(e,t){var n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()},t.onBufferCodecs=function(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},t.onMediaDetaching=function(){this.stopCapping()},t.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},t.getMaxLevel=function(t){var n=this,r=this.hls.levels;if(!r.length)return-1;var i=r.filter((function(r,i){return e.isLevelAllowed(i,n.restrictedLevels)&&i<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},t.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},t.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},t.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,t.width||t.height||(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t},e.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},e.getMaxLevelByMediaSize=function(e,t,n){if(!e||!e.length)return-1;for(var r,i,o=e.length-1,a=0;a<e.length;a+=1){var s=e[a];if((s.width>=t||s.height>=n)&&(r=s,!(i=e[a+1])||r.width!==i.width||r.height!==i.height)){o=a;break}}return o},function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"mediaWidth",get:function(){return this.getDimensions().width*e.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*e.contentScaleFactor}}],[{key:"contentScaleFactor",get:function(){var e=1;try{e=self.devicePixelRatio}catch(e){}return e}}]),e}();t.default=o},"./src/controller/fps-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/logger.ts"),o=function(){function e(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching)},t.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},t.onMediaAttaching=function(e,t){var n=this.hls.config;if(n.capLevelOnFPSDrop){var r=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=r,r&&"function"==typeof r.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}},t.checkFPS=function(e,t,n){var o=performance.now();if(t){if(this.lastTime){var a=o-this.lastTime,s=n-this.lastDroppedFrames,u=t-this.lastDecodedFrames,l=1e3*s/a,c=this.hls;if(c.trigger(r.Events.FPS_DROP,{currentDropped:s,currentDecoded:u,totalDroppedFrames:n}),l>0&&s>c.config.fpsDroppedMonitoringThreshold*u){var d=c.currentLevel;i.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=d)&&(d-=1,c.trigger(r.Events.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:c.currentLevel}),c.autoLevelCapping=d,this.streamController.nextLevelSwitch())}}this.lastTime=o,this.lastDroppedFrames=n,this.lastDecodedFrames=t}},t.checkFPSInterval=function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},e}();t.default=o},"./src/controller/fragment-finders.ts":function(e,t,n){n.r(t),n.d(t,"findFragmentByPDT",(function(){return o})),n.d(t,"findFragmentByPTS",(function(){return a})),n.d(t,"fragmentWithinToleranceTest",(function(){return s})),n.d(t,"pdtWithinToleranceTest",(function(){return u})),n.d(t,"findFragWithCC",(function(){return l}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/binary-search.ts");function o(e,t,n){if(null===t||!Array.isArray(e)||!e.length||!Object(r.isFiniteNumber)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;n=n||0;for(var i=0;i<e.length;++i){var o=e[i];if(u(t,n,o))return o}return null}function a(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var o=null;return e?o=t[e.sn-t[0].sn+1]||null:0===n&&0===t[0].start&&(o=t[0]),o&&0===s(n,r,o)?o:i.default.search(t,s.bind(null,n,r))||o}function s(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0);var r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function u(e,t,n){var r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>e}function l(e,t){return i.default.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}},"./src/controller/fragment-tracker.ts":function(e,t,n){n.r(t),n.d(t,"FragmentState",(function(){return r})),n.d(t,"FragmentTracker",(function(){return a}));var r,i=n("./src/events.ts"),o=n("./src/types/loader.ts");!function(e){e.NOT_LOADED="NOT_LOADED",e.BACKTRACKED="BACKTRACKED",e.APPENDING="APPENDING",e.PARTIAL="PARTIAL",e.OK="OK"}(r||(r={}));var a=function(){function e(e){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){var e=this.hls;e.on(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this)},t._unregisterListeners=function(){var e=this.hls;e.off(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this)},t.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},t.getAppendedFrag=function(e,t){if(t===o.PlaylistLevelType.MAIN){var n=this.activeFragment,r=this.activeParts;if(!n)return null;if(r)for(var i=r.length;i--;){var a=r[i],s=a?a.end:n.appendedPTS;if(a.start<=e&&void 0!==s&&e<=s)return i>9&&(this.activeParts=r.slice(i-9)),a}else if(n.start<=e&&void 0!==n.appendedPTS&&e<=n.appendedPTS)return n}return this.getBufferedFrag(e,t)},t.getBufferedFrag=function(e,t){for(var n=this.fragments,r=Object.keys(n),i=r.length;i--;){var o=n[r[i]];if((null==o?void 0:o.body.type)===t&&o.buffered){var a=o.body;if(a.start<=e&&e<=a.end)return a}}return null},t.detectEvictedFragments=function(e,t,n){var r=this;Object.keys(this.fragments).forEach((function(i){var o=r.fragments[i];if(o)if(o.buffered){var a=o.range[e];a&&a.time.some((function(e){var n=!r.isTimeBuffered(e.startPTS,e.endPTS,t);return n&&r.removeFragment(o.body),n}))}else o.body.type===n&&r.removeFragment(o.body)}))},t.detectPartialFragments=function(e){var t=this,n=this.timeRanges,r=e.frag,i=e.part;if(n&&"initSegment"!==r.sn){var o=u(r),a=this.fragments[o];a&&(Object.keys(n).forEach((function(e){var o=r.elementaryStreams[e];if(o){var s=n[e],u=null!==i||!0===o.partial;a.range[e]=t.getBufferedTimes(r,i,u,s)}})),a.backtrack=a.loaded=null,Object.keys(a.range).length?a.buffered=!0:this.removeFragment(a.body))}},t.fragBuffered=function(e){var t=u(e),n=this.fragments[t];n&&(n.backtrack=n.loaded=null,n.buffered=!0)},t.getBufferedTimes=function(e,t,n,r){for(var i={time:[],partial:n},o=t?t.start:e.start,a=t?t.end:e.end,s=e.minEndPTS||a,u=e.maxStartPTS||o,l=0;l<r.length;l++){var c=r.start(l)-this.bufferPadding,d=r.end(l)+this.bufferPadding;if(u>=c&&s<=d){i.time.push({startPTS:Math.max(o,r.start(l)),endPTS:Math.min(a,r.end(l))});break}if(o<d&&a>c)i.partial=!0,i.time.push({startPTS:Math.max(o,r.start(l)),endPTS:Math.min(a,r.end(l))});else if(a<=c)break}return i},t.getPartialFragment=function(e){var t,n,r,i=null,o=0,a=this.bufferPadding,u=this.fragments;return Object.keys(u).forEach((function(l){var c=u[l];c&&s(c)&&(n=c.body.start-a,r=c.body.end+a,e>=n&&e<=r&&(t=Math.min(e-n,r-e),o<=t&&(i=c.body,o=t)))})),i},t.getState=function(e){var t=u(e),n=this.fragments[t];return n?n.buffered?s(n)?r.PARTIAL:r.OK:n.backtrack?r.BACKTRACKED:r.APPENDING:r.NOT_LOADED},t.backtrack=function(e,t){var n=u(e),r=this.fragments[n];if(!r||r.backtrack)return null;var i=r.backtrack=t||r.loaded;return r.loaded=null,i},t.getBacktrackData=function(e){var t=u(e),n=this.fragments[t];if(n){var r,i=n.backtrack;if(null!=i&&null!==(r=i.payload)&&void 0!==r&&r.byteLength)return i;this.removeFragment(e)}return null},t.isTimeBuffered=function(e,t,n){for(var r,i,o=0;o<n.length;o++){if(r=n.start(o)-this.bufferPadding,i=n.end(o)+this.bufferPadding,e>=r&&t<=i)return!0;if(t<=r)return!1}return!1},t.onFragLoaded=function(e,t){var n=t.frag,r=t.part;if("initSegment"!==n.sn&&!n.bitrateTest&&!r){var i=u(n);this.fragments[i]={body:n,loaded:t,backtrack:null,buffered:!1,range:Object.create(null)}}},t.onBufferAppended=function(e,t){var n=this,r=t.frag,i=t.part,a=t.timeRanges;if(r.type===o.PlaylistLevelType.MAIN)if(this.activeFragment=r,i){var s=this.activeParts;s||(this.activeParts=s=[]),s.push(i)}else this.activeParts=null;this.timeRanges=a,Object.keys(a).forEach((function(e){var t=a[e];if(n.detectEvictedFragments(e,t),!i)for(var o=0;o<t.length;o++)r.appendedPTS=Math.max(t.end(o),r.appendedPTS||0)}))},t.onFragBuffered=function(e,t){this.detectPartialFragments(t)},t.hasFragment=function(e){var t=u(e);return!!this.fragments[t]},t.removeFragmentsInRange=function(e,t,n){var r=this;Object.keys(this.fragments).forEach((function(i){var o=r.fragments[i];if(o&&o.buffered){var a=o.body;a.type===n&&a.start<t&&a.end>e&&r.removeFragment(a)}}))},t.removeFragment=function(e){var t=u(e);e.stats.loaded=0,e.clearElementaryStreamInfo(),delete this.fragments[t]},t.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},e}();function s(e){var t,n;return e.buffered&&((null===(t=e.range.video)||void 0===t?void 0:t.partial)||(null===(n=e.range.audio)||void 0===n?void 0:n.partial))}function u(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn}},"./src/controller/gap-controller.ts":function(e,t,n){n.r(t),n.d(t,"STALL_MINIMUM_DURATION_MS",(function(){return s})),n.d(t,"MAX_START_GAP_JUMP",(function(){return u})),n.d(t,"SKIP_BUFFER_HOLE_STEP_SECONDS",(function(){return l})),n.d(t,"SKIP_BUFFER_RANGE_START",(function(){return c})),n.d(t,"default",(function(){return d}));var r=n("./src/utils/buffer-helper.ts"),i=n("./src/errors.ts"),o=n("./src/events.ts"),a=n("./src/utils/logger.ts"),s=250,u=2,l=.1,c=.05,d=function(){function e(e,t,n,r){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=n,this.hls=r}var t=e.prototype;return t.destroy=function(){this.hls=this.fragmentTracker=this.media=null},t.poll=function(e){var t=this.config,n=this.media,i=this.stalled,o=n.currentTime,l=n.seeking,c=this.seeking&&!l,d=!this.seeking&&l;if(this.seeking=l,o===e){if((d||c)&&(this.stalled=null),!n.paused&&!n.ended&&0!==n.playbackRate&&r.BufferHelper.getBuffered(n).length){var f=r.BufferHelper.bufferInfo(n,o,0),h=f.len>0,p=f.nextStart||0;if(h||p){if(l){var v=f.len>u,m=!p||p-o>u&&!this.fragmentTracker.getPartialFragment(o);if(v||m)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var g,y=Math.max(p,f.start||0)-o,b=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,_=(null==b||null===(g=b.details)||void 0===g?void 0:g.live)?2*b.details.targetduration:u;if(y>0&&y<=_)return void this._trySkipBufferHole(null)}var E=self.performance.now();if(null!==i){var w=E-i;!l&&w>=s&&this._reportStall(f.len);var S=r.BufferHelper.bufferInfo(n,o,t.maxBufferHole);this._tryFixBufferStall(S,w)}else this.stalled=E}}}else if(this.moved=!0,null!==i){if(this.stallReported){var T=self.performance.now()-i;a.logger.warn("playback not stuck anymore @"+o+", after "+Math.round(T)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},t._tryFixBufferStall=function(e,t){var n=this.config,r=this.fragmentTracker,i=this.media.currentTime,o=r.getPartialFragment(i);o&&this._trySkipBufferHole(o)||e.len>n.maxBufferHole&&t>1e3*n.highBufferWatchdogPeriod&&(a.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},t._reportStall=function(e){var t=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,a.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer (buffer="+e+")"),t.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t._trySkipBufferHole=function(e){for(var t=this.config,n=this.hls,s=this.media,u=s.currentTime,d=0,f=r.BufferHelper.getBuffered(s),h=0;h<f.length;h++){var p=f.start(h);if(u+t.maxBufferHole>=d&&u<p){var v=Math.max(p+c,s.currentTime+l);return a.logger.warn("skipping hole, adjusting currentTime from "+u+" to "+v),this.moved=!0,this.stalled=null,s.currentTime=v,e&&n.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+u+" to "+v,frag:e}),v}d=f.end(h)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,n=this.media,r=n.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<e.nudgeMaxRetry){var u=r+s*e.nudgeOffset;a.logger.warn("Nudging 'currentTime' from "+r+" to "+u),n.currentTime=u,t.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else a.logger.error("Playhead still not moving while enough data buffered @"+r+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}()},"./src/controller/id3-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/texttrack-utils.ts"),o=n("./src/demux/id3.ts"),a=function(){function e(e){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t.destroy=function(){this._unregisterListeners()},t._registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},t._unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},t.onMediaAttached=function(e,t){this.media=t.media},t.onMediaDetaching=function(){this.id3Track&&(Object(i.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},t.getID3Track=function(e){if(this.media){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return Object(i.sendAddTrackEvent)(n,this.media),n}return this.media.addTextTrack("metadata","id3")}},t.onFragParsingMetadata=function(e,t){if(this.media){var n=t.frag,r=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,a=0;a<r.length;a++){var s=o.getID3Frames(r[a].data);if(s){var u=r[a].pts,l=a<r.length-1?r[a+1].pts:n.end;l-u<=0&&(l=u+.25);for(var c=0;c<s.length;c++){var d=s[c];if(!o.isTimeStampFrame(d)){var f=new i(u,l,"");f.value=d,this.id3Track.addCue(f)}}}}}},t.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset,o=t.type;if(!o||"audio"===o){var a=this.id3Track;a&&Object(i.removeCuesInRange)(a,n,r)}},e}();t.default=a},"./src/controller/latency-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return s}));var r=n("./src/errors.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts");function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(e){var t=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return t.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}var t=e.prototype;return t.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},t.registerListeners=function(){this.hls.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(i.Events.ERROR,this.onError,this)},t.unregisterListeners=function(){this.hls.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(i.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(i.Events.ERROR,this.onError)},t.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},t.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},t.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},t.onLevelUpdated=function(e,t){var n=t.details;this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},t.onError=function(e,t){t.details===r.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,o.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},t.timeupdate=function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var n=this.computeLatency();if(null!==n){this._latency=n;var r=this.config,i=r.lowLatencyMode,o=r.maxLiveSyncPlaybackRate;if(i&&1!==o){var a=this.targetLatency;if(null!==a){var s=n-a,u=s<Math.min(this.maxLatency,a+t.targetduration);if(t.live&&u&&s>.05&&this.forwardBufferLength>1){var l=Math.min(2,Math.max(1,o)),c=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(l,Math.max(1,c))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}},t.estimateLiveEdge=function(){var e=this.levelDetails;return null===e?null:e.edge+e.age},t.computeLatency=function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime},function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,n=e.partHoldBack,r=e.targetduration,i=this.config,o=i.liveSyncDuration,a=i.liveSyncDurationCount,s=i.lowLatencyMode,u=this.hls.userConfig,l=s&&n||t;(u.liveSyncDuration||u.liveSyncDurationCount||0===l)&&(l=void 0!==o?o:a*r);var c=r;return l+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,n=this.levelDetails;if(null===e||null===t||null===n)return null;var r=n.edge,i=e-t-this.edgeStalled,o=r-n.totalduration,a=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(o,i),a)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var n=e.buffered.length;return n?e.buffered.end(n-1):t.edge-this.currentTime}}]),e}()},"./src/controller/level-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return p}));var r=n("./src/types/level.ts"),i=n("./src/events.ts"),o=n("./src/errors.ts"),a=n("./src/utils/codecs.ts"),s=n("./src/controller/level-helper.ts"),u=n("./src/controller/base-playlist-controller.ts"),l=n("./src/types/loader.ts");function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}var h=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),p=function(e){var t,n;function u(t){var n;return(n=e.call(this,t,"[level-controller]")||this)._levels=[],n._firstLevel=-1,n._startLevel=void 0,n.currentLevelIndex=-1,n.manualLevelIndex=-1,n.onParsedComplete=void 0,n._registerListeners(),n}n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var p=u.prototype;return p._registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.ERROR,this.onError,this)},p._unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.ERROR,this.onError,this)},p.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,e.prototype.destroy.call(this)},p.startLoad=function(){this._levels.forEach((function(e){e.loadError=0})),e.prototype.startLoad.call(this)},p.onManifestLoaded=function(e,t){var n,u,l=[],c=[],d=[],f={},p=!1,v=!1,m=!1;if(t.levels.forEach((function(e){var t=e.attrs;p=p||!(!e.width||!e.height),v=v||!!e.videoCodec,m=m||!!e.audioCodec,h&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0);var n=e.bitrate+"-"+e.attrs.RESOLUTION+"-"+e.attrs.CODECS;(u=f[n])?u.url.push(e.url):(u=new r.Level(e),f[n]=u,l.push(u)),t&&(t.AUDIO&&Object(s.addGroupId)(u,"audio",t.AUDIO),t.SUBTITLES&&Object(s.addGroupId)(u,"text",t.SUBTITLES))})),(p||v)&&m&&(l=l.filter((function(e){var t=e.videoCodec,n=e.width,r=e.height;return!!t||!(!n||!r)}))),l=l.filter((function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||Object(a.isCodecSupportedInMp4)(t,"audio"))&&(!n||Object(a.isCodecSupportedInMp4)(n,"video"))})),t.audioTracks&&(c=t.audioTracks.filter((function(e){return!e.audioCodec||Object(a.isCodecSupportedInMp4)(e.audioCodec,"audio")})),Object(s.assignTrackIdsByGroup)(c)),t.subtitles&&(d=t.subtitles,Object(s.assignTrackIdsByGroup)(d)),l.length>0){n=l[0].bitrate,l.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=l;for(var g=0;g<l.length;g++)if(l[g].bitrate===n){this._firstLevel=g,this.log("manifest loaded, "+l.length+" level(s) found, first bitrate: "+n);break}var y=m&&!v,b={levels:l,audioTracks:c,subtitleTracks:d,firstLevel:this._firstLevel,stats:t.stats,audio:m,video:v,altAudio:!y&&c.some((function(e){return!!e.url}))};this.hls.trigger(i.Events.MANIFEST_PARSED,b),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,reason:"no level with compatible codecs found in manifest"})},p.onError=function(t,n){if(e.prototype.onError.call(this,t,n),!n.fatal){var r=n.context,i=this._levels[this.currentLevelIndex];if(r&&(r.type===l.PlaylistContextType.AUDIO_TRACK&&i.audioGroupIds&&r.groupId===i.audioGroupIds[i.urlId]||r.type===l.PlaylistContextType.SUBTITLE_TRACK&&i.textGroupIds&&r.groupId===i.textGroupIds[i.urlId]))this.redundantFailover(this.currentLevelIndex);else{var a,s=!1,u=!0;switch(n.details){case o.ErrorDetails.FRAG_LOAD_ERROR:case o.ErrorDetails.FRAG_LOAD_TIMEOUT:case o.ErrorDetails.KEY_LOAD_ERROR:case o.ErrorDetails.KEY_LOAD_TIMEOUT:if(n.frag){var c=this._levels[n.frag.level];c?(c.fragmentError++,c.fragmentError>this.hls.config.fragLoadingMaxRetry&&(a=n.frag.level)):a=n.frag.level}break;case o.ErrorDetails.LEVEL_LOAD_ERROR:case o.ErrorDetails.LEVEL_LOAD_TIMEOUT:r&&(r.deliveryDirectives&&(u=!1),a=r.level),s=!0;break;case o.ErrorDetails.REMUX_ALLOC_ERROR:a=n.level,s=!0}void 0!==a&&this.recoverLevel(n,a,s,u)}}},p.recoverLevel=function(e,t,n,r){var i=e.details,o=this._levels[t];if(o.loadError++,n){if(!this.retryLoadingOrFail(e))return void(this.currentLevelIndex=-1);e.levelRetry=!0}if(r){var a=o.url.length;if(a>1&&o.loadError<a)e.levelRetry=!0,this.redundantFailover(t);else if(-1===this.manualLevelIndex){var s=0===t?this._levels.length-1:t-1;this.currentLevelIndex!==s&&0===this._levels[s].loadError&&(this.warn(i+": switch to "+s),e.levelRetry=!0,this.hls.nextAutoLevel=s)}}},p.redundantFailover=function(e){var t=this._levels[e],n=t.url.length;if(n>1){var r=(t.urlId+1)%n;this.warn("Switching to redundant URL-id "+r),this._levels.forEach((function(e){e.urlId=r})),this.level=e}},p.onFragLoaded=function(e,t){var n=t.frag;if(void 0!==n&&n.type===l.PlaylistLevelType.MAIN){var r=this._levels[n.level];void 0!==r&&(r.fragmentError=0,r.loadError=0)}},p.onLevelLoaded=function(e,t){var n,r,i=t.level,o=t.details,a=this._levels[i];if(!a)return this.warn("Invalid level index "+i),void(null!==(r=t.deliveryDirectives)&&void 0!==r&&r.skip&&(o.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===a.fragmentError&&(a.loadError=0,this.retryCount=0),this.playlistLoaded(i,t,a.details)):null!==(n=t.deliveryDirectives)&&void 0!==n&&n.skip&&(o.deltaUpdateFailed=!0)},p.onAudioTrackSwitched=function(e,t){var n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,i=this.hls.audioTracks[t.id].groupId,o=0;o<n.audioGroupIds.length;o++)if(n.audioGroupIds[o]===i){r=o;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},p.loadPlaylist=function(e){var t=this.currentLevelIndex,n=this._levels[t];if(this.canLoad&&n&&n.url.length>0){var r=n.urlId,o=n.url[r];if(e)try{o=e.addDirectives(o)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("Attempt loading level index "+t+(e?" at sn "+e.msn+" part "+e.part:"")+" with URL-id "+r+" "+o),this.clearTimer(),this.hls.trigger(i.Events.LEVEL_LOADING,{url:o,level:t,id:r,deliveryDirectives:e||null})}},p.removeLevel=function(e,t){var n=function(e,n){return n!==t},r=this._levels.filter((function(r,i){return i!==e||r.url.length>1&&void 0!==t&&(r.url=r.url.filter(n),r.audioGroupIds&&(r.audioGroupIds=r.audioGroupIds.filter(n)),r.textGroupIds&&(r.textGroupIds=r.textGroupIds.filter(n)),r.urlId=0,!0)})).map((function(e,t){var n=e.details;return null!=n&&n.fragments&&n.fragments.forEach((function(e){e.level=t})),e}));this._levels=r,this.hls.trigger(i.Events.LEVELS_UPDATED,{levels:r})},function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(u,[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t,n=this._levels;if(0!==n.length&&(this.currentLevelIndex!==e||null===(t=n[e])||void 0===t||!t.details)){if(e<0||e>=n.length){var r=e<0;if(this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:r,reason:"invalid level idx"}),r)return;e=Math.min(e,n.length-1)}this.clearTimer();var a=this.currentLevelIndex,s=n[a],u=n[e];this.log("switching to level "+e+" from "+a),this.currentLevelIndex=e;var l=c({},u,{level:e,maxBitrate:u.maxBitrate,uri:u.uri,urlId:u.urlId});delete l._urlId,this.hls.trigger(i.Events.LEVEL_SWITCHING,l);var d=u.details;if(!d||d.live){var f=this.switchParams(u.uri,null==s?void 0:s.details);this.loadPlaylist(f)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}]),u}(u.default)},"./src/controller/level-helper.ts":function(e,t,n){n.r(t),n.d(t,"addGroupId",(function(){return o})),n.d(t,"assignTrackIdsByGroup",(function(){return a})),n.d(t,"updatePTS",(function(){return s})),n.d(t,"updateFragPTSDTS",(function(){return l})),n.d(t,"mergeDetails",(function(){return c})),n.d(t,"mapPartIntersection",(function(){return d})),n.d(t,"mapFragmentIntersection",(function(){return f})),n.d(t,"adjustSliding",(function(){return h})),n.d(t,"addSliding",(function(){return p})),n.d(t,"computeReloadInterval",(function(){return v})),n.d(t,"getFragmentWithSN",(function(){return m})),n.d(t,"getPartWith",(function(){return g}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/logger.ts");function o(e,t,n){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(n);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(n)}}function a(e){var t={};e.forEach((function(e){var n=e.groupId||"";e.id=t[n]=t[n]||0,t[n]++}))}function s(e,t,n){u(e[t],e[n])}function u(e,t){var n=t.startPTS;if(Object(r.isFiniteNumber)(n)){var i,o=0;t.sn>e.sn?(o=n-e.start,i=e):(o=e.start-n,i=t),i.duration!==o&&(i.duration=o)}else t.sn>e.sn?e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration:t.start=Math.max(e.start-t.duration,0)}function l(e,t,n,o,a,s){o-n<=0&&(i.logger.warn("Fragment should have a positive duration",t),o=n+t.duration,s=a+t.duration);var l=n,c=o,d=t.startPTS,f=t.endPTS;if(Object(r.isFiniteNumber)(d)){var h=Math.abs(d-n);Object(r.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(h,t.deltaPTS):t.deltaPTS=h,l=Math.max(n,d),n=Math.min(n,d),a=Math.min(a,t.startDTS),c=Math.min(o,f),o=Math.max(o,f),s=Math.max(s,t.endDTS)}t.duration=o-n;var p=n-t.start;t.appendedPTS=o,t.start=t.startPTS=n,t.maxStartPTS=l,t.startDTS=a,t.endPTS=o,t.minEndPTS=c,t.endDTS=s;var v,m=t.sn;if(!e||m<e.startSN||m>e.endSN)return 0;var g=m-e.startSN,y=e.fragments;for(y[g]=t,v=g;v>0;v--)u(y[v],y[v-1]);for(v=g;v<y.length-1;v++)u(y[v],y[v+1]);return e.fragmentHint&&u(y[y.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,p}function c(e,t){for(var n=null,o=e.fragments,a=o.length-1;a>=0;a--){var s=o[a].initSegment;if(s){n=s;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var u,c=0;if(f(e,t,(function(e,i){e.relurl&&(c=e.cc-i.cc),Object(r.isFiniteNumber)(e.startPTS)&&Object(r.isFiniteNumber)(e.endPTS)&&(i.start=i.startPTS=e.startPTS,i.startDTS=e.startDTS,i.appendedPTS=e.appendedPTS,i.maxStartPTS=e.maxStartPTS,i.endPTS=e.endPTS,i.endDTS=e.endDTS,i.minEndPTS=e.minEndPTS,i.duration=e.endPTS-e.startPTS,i.duration&&(u=i),t.PTSKnown=t.alignedSliding=!0),i.elementaryStreams=e.elementaryStreams,i.loader=e.loader,i.stats=e.stats,i.urlId=e.urlId,e.initSegment&&(i.initSegment=e.initSegment,n=e.initSegment)})),n&&(t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments).forEach((function(e){var t;e.initSegment&&e.initSegment.relurl!==(null===(t=n)||void 0===t?void 0:t.relurl)||(e.initSegment=n)})),t.skippedSegments&&(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed)){i.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var p=t.skippedSegments;p--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}var v=t.fragments;if(c){i.logger.warn("discontinuity sliding from playlist, take drift into account");for(var m=0;m<v.length;m++)v[m].cc+=c}t.skippedSegments&&(t.startCC=t.fragments[0].cc),d(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),u?l(t,u,u.startPTS,u.endPTS,u.startDTS,u.endDTS):h(e,t),v.length&&(t.totalduration=t.edge-v[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var g=t.advancedDateTime;if(t.advanced&&g){var y=t.edge;t.driftStart||(t.driftStartTime=g,t.driftStart=y),t.driftEndTime=g,t.driftEnd=y}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function d(e,t,n){if(e&&t)for(var r=0,i=0,o=e.length;i<=o;i++){var a=e[i],s=t[i+r];a&&s&&a.index===s.index&&a.fragment.sn===s.fragment.sn?n(a,s):r--}}function f(e,t,n){for(var r=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,o=(e.fragmentHint?1:0)+(r?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,a=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,u=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=i;l<=o;l++){var c=u[a+l],d=s[l];r&&!d&&l<r&&(d=t.fragments[l]=c),c&&d&&n(c,d)}}function h(e,t){var n=t.startSN+t.skippedSegments-e.startSN,r=e.fragments;n<0||n>=r.length||p(t,r[n].start)}function p(e,t){if(t){for(var n=e.fragments,r=e.skippedSegments;r<n.length;r++)n[r].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function v(e,t){var n,r=1e3*e.levelTargetDuration,i=r/2,o=e.age,a=o>0&&o<3*r,s=t.loading.end-t.loading.start,u=e.availabilityDelay;if(!1===e.updated)if(a){var l=333*e.misses;n=Math.max(Math.min(i,2*s),l),e.availabilityDelay=(e.availabilityDelay||0)+n}else n=i;else a?(u=Math.min(u||r/2,o),e.availabilityDelay=u,n=u+r-o):n=r-s;return Math.round(n)}function m(e,t,n){if(!e||!e.details)return null;var r=e.details,i=r.fragments[t-r.startSN];return i||((i=r.fragmentHint)&&i.sn===t?i:t<r.startSN&&n&&n.sn===t?n:null)}function g(e,t,n){if(!e||!e.details)return null;var r=e.details.partList;if(r)for(var i=r.length;i--;){var o=r[i];if(o.index===n&&o.fragment.sn===t)return o}return null}},"./src/controller/stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return y}));var r=n("./src/polyfills/number.ts"),i=n("./src/controller/base-stream-controller.ts"),o=n("./src/is-supported.ts"),a=n("./src/events.ts"),s=n("./src/utils/buffer-helper.ts"),u=n("./src/controller/fragment-tracker.ts"),l=n("./src/types/loader.ts"),c=n("./src/loader/fragment.ts"),d=n("./src/demux/transmuxer-interface.ts"),f=n("./src/types/transmuxer.ts"),h=n("./src/controller/gap-controller.ts"),p=n("./src/errors.ts"),v=n("./src/utils/logger.ts");function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}var y=function(e){var t,n;function y(t,n){var r;return(r=e.call(this,t,n,"[stream-controller]")||this).audioCodecSwap=!1,r.gapController=null,r.level=-1,r._forceStartLoad=!1,r.altAudio=!1,r.audioOnly=!1,r.fragPlaying=null,r.onvplaying=null,r.onvseeked=null,r.fragLastKbps=0,r.stalled=!1,r.couldBacktrack=!1,r.audioCodecSwitch=!1,r.videoBuffer=null,r._registerListeners(),r}n=e,(t=y).prototype=Object.create(n.prototype),t.prototype.constructor=t,g(t,n);var b=y.prototype;return b._registerListeners=function(){var e=this.hls;e.on(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(a.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(a.Events.ERROR,this.onError,this),e.on(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(a.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(a.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},b._unregisterListeners=function(){var e=this.hls;e.off(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(a.Events.ERROR,this.onError,this),e.off(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(a.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(a.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},b.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},b.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(n.config.testBandwidth?(r=0,this.bitrateTest=!0):r=n.nextAutoLevel),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=i.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=i.State.STOPPED},b.stopLoad=function(){this._forceStartLoad=!1,e.prototype.stopLoad.call(this)},b.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_LEVEL:var e,t=this.levels,n=this.level,r=null==t||null===(e=t[n])||void 0===e?void 0:e.details;if(r&&(!r.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(r))break;this.state=i.State.IDLE;break}break;case i.State.FRAG_LOADING_WAITING_RETRY:var o,a=self.performance.now(),s=this.retryDate;(!s||a>=s||null!==(o=this.media)&&void 0!==o&&o.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=i.State.IDLE)}this.onTickEnd()},b.onTickEnd=function(){e.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},b.doTickIdle=function(){var e,t,n=this.hls,r=this.levelLastLoaded,o=this.levels,s=this.media,d=n.config,f=n.nextLoadLevel;if(null!==r&&(s||!this.startFragRequested&&d.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&o&&o[f]){var h=o[f];this.level=n.nextLoadLevel=f;var p=h.details;if(!p||this.state===i.State.WAITING_LEVEL||p.live&&this.levelLastLoaded!==f)this.state=i.State.WAITING_LEVEL;else{var v=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:s,l.PlaylistLevelType.MAIN);if(null!==v&&!(v.len>=this.getMaxBufferLength(h.maxBitrate))){if(this._streamEnded(v,p)){var m={};return this.altAudio&&(m.type="video"),this.hls.trigger(a.Events.BUFFER_EOS,m),void(this.state=i.State.ENDED)}var g=v.end,y=this.getNextFragment(g,p);if(this.couldBacktrack&&!this.fragPrevious&&y&&"initSegment"!==y.sn){var b=y.sn-p.startSN;b>1&&(y=p.fragments[b-1],this.fragmentTracker.removeFragment(y))}if(y&&this.fragmentTracker.getState(y)===u.FragmentState.OK&&this.nextLoadPosition>g){var _=this.audioOnly&&!this.altAudio?c.ElementaryStreamTypes.AUDIO:c.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(s,_,l.PlaylistLevelType.MAIN),y=this.getNextFragment(this.nextLoadPosition,p)}y&&(!y.initSegment||y.initSegment.data||this.bitrateTest||(y=y.initSegment),"identity"!==(null===(e=y.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=y.decryptdata)&&void 0!==t&&t.key?this.loadFragment(y,p,g):this.loadKey(y,p))}}}},b.loadFragment=function(t,n,r){var i,o=this.fragmentTracker.getState(t);if(this.fragCurrent=t,o===u.FragmentState.BACKTRACKED){var a=this.fragmentTracker.getBacktrackData(t);if(a)return this._handleFragmentLoadProgress(a),void this._handleFragmentLoadComplete(a);o=u.FragmentState.NOT_LOADED}o===u.FragmentState.NOT_LOADED||o===u.FragmentState.PARTIAL?"initSegment"===t.sn?this._loadInitSegment(t):this.bitrateTest?(t.bitrateTest=!0,this.log("Fragment "+t.sn+" of level "+t.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(t)):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,n,r)):o===u.FragmentState.APPENDING?this.reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t):0===(null===(i=this.media)||void 0===i?void 0:i.buffered.length)&&this.fragmentTracker.removeAllFragments()},b.getAppendedFrag=function(e){var t=this.fragmentTracker.getAppendedFrag(e,l.PlaylistLevelType.MAIN);return t&&"fragment"in t?t.fragment:t},b.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,l.PlaylistLevelType.MAIN)},b.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.end+.5):null},b.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},b.nextLevelSwitch=function(){var e=this.levels,t=this.media;if(null!=t&&t.readyState){var n,r=this.getAppendedFrag(t.currentTime);if(r&&r.start>1&&this.flushMainBuffer(0,r.start-1),!t.paused&&e){var i=e[this.hls.nextLoadLevel],o=this.fragLastKbps;n=o&&this.fragCurrent?this.fragCurrent.duration*i.maxBitrate/(1e3*o)+1:0}else n=0;var a=this.getBufferedFrag(t.currentTime+n);if(a){var s=this.followingBufferedFrag(a);if(s){this.abortCurrentFrag();var u=s.maxStartPTS?s.maxStartPTS:s.start,l=s.duration,c=Math.max(a.end,u+Math.min(Math.max(l-this.config.maxFragLookUpTolerance,.5*l),.75*l));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}},b.abortCurrentFrag=function(){var e=this.fragCurrent;this.fragCurrent=null,null!=e&&e.loader&&e.loader.abort(),this.state===i.State.KEY_LOADING&&(this.state=i.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},b.flushMainBuffer=function(t,n){e.prototype.flushMainBuffer.call(this,t,n,this.altAudio?"video":null)},b.onMediaAttached=function(t,n){e.prototype.onMediaAttached.call(this,t,n);var r=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new h.default(this.config,r,this.fragmentTracker,this.hls)},b.onMediaDetaching=function(){var t=this.media;t&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),e.prototype.onMediaDetaching.call(this)},b.onMediaPlaying=function(){this.tick()},b.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:null;Object(r.isFiniteNumber)(t)&&this.log("Media seeked to "+t.toFixed(3)),this.tick()},b.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(a.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},b.onManifestParsed=function(e,t){var n,r=!1,i=!1;t.levels.forEach((function(e){(n=e.audioCodec)&&(-1!==n.indexOf("mp4a.40.2")&&(r=!0),-1!==n.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=r&&i&&!Object(o.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1},b.onLevelLoading=function(e,t){var n=this.levels;if(n&&this.state===i.State.IDLE){var r=n[t.level];(!r.details||r.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(r.details))&&(this.state=i.State.WAITING_LEVEL)}},b.onLevelLoaded=function(e,t){var n,r=this.levels,o=t.level,s=t.details,u=s.totalduration;if(r){this.log("Level "+o+" loaded ["+s.startSN+","+s.endSN+"], cc ["+s.startCC+", "+s.endCC+"] duration:"+u);var l=this.fragCurrent;!l||this.state!==i.State.FRAG_LOADING&&this.state!==i.State.FRAG_LOADING_WAITING_RETRY||l.level!==t.level&&l.loader&&(this.state=i.State.IDLE,l.loader.abort());var c=r[o],d=0;if(s.live||null!==(n=c.details)&&void 0!==n&&n.live){if(s.fragments[0]||(s.deltaUpdateFailed=!0),s.deltaUpdateFailed)return;d=this.alignPlaylists(s,c.details)}if(c.details=s,this.levelLastLoaded=o,this.hls.trigger(a.Events.LEVEL_UPDATED,{details:s,level:o}),this.state===i.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(s))return;this.state=i.State.IDLE}this.startFragRequested?s.live&&this.synchronizeToLiveEdge(s):this.setStartPosition(s,d),this.tick()}else this.warn("Levels were reset while loading level "+o)},b._handleFragmentLoadProgress=function(e){var t,n=e.frag,r=e.part,i=e.payload,o=this.levels;if(o){var a=o[n.level],s=a.details;if(s){var u=a.videoCodec,c=s.PTSKnown||!s.live,h=null===(t=n.initSegment)||void 0===t?void 0:t.data,p=this._getAudioCodec(a),v=this.transmuxer=this.transmuxer||new d.default(this.hls,l.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),m=r?r.index:-1,g=-1!==m,y=new f.ChunkMetadata(n.level,n.sn,n.stats.chunkCount,i.byteLength,m,g),b=this.initPTS[n.cc];v.push(i,h,p,u,n,r,s.totalduration,c,y,b)}else this.warn("Dropping fragment "+n.sn+" of level "+n.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},b.onAudioTrackSwitching=function(e,t){var n=this.altAudio,r=!!t.url,i=t.id;if(!r){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var o=this.fragCurrent;null!=o&&o.loader&&(this.log("Switching to main audio track, cancel main fragment load"),o.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var s=this.hls;n&&s.trigger(a.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),s.trigger(a.Events.AUDIO_TRACK_SWITCHED,{id:i})}},b.onAudioTrackSwitched=function(e,t){var n=t.id,r=!!this.hls.audioTracks[n].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()},b.onBufferCreated=function(e,t){var n,r,i=t.tracks,o=!1;for(var a in i){var s=i[a];if("main"===s.id){if(r=a,n=s,"video"===a){var u=i[a];u&&(this.videoBuffer=u.buffer)}}else o=!0}o&&n?(this.log("Alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},b.onFragBuffered=function(e,t){var n=t.frag,r=t.part;if(!n||n.type===l.PlaylistLevelType.MAIN){if(this.fragContextChanged(n))return this.warn("Fragment "+n.sn+(r?" p: "+r.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===i.State.PARSED&&(this.state=i.State.IDLE));var o=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*o.total/(o.buffering.end-o.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}},b.onError=function(e,t){switch(t.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(l.PlaylistLevelType.MAIN,t);break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==i.State.ERROR&&(t.fatal?(this.warn(""+t.details),this.state=i.State.ERROR):t.levelRetry||this.state!==i.State.WAITING_LEVEL||(this.state=i.State.IDLE));break;case p.ErrorDetails.BUFFER_FULL_ERROR:if("main"===t.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var n=!0,r=this.getFwdBufferInfo(this.media,l.PlaylistLevelType.MAIN);r&&r.len>.5&&(n=!this.reduceMaxBufferLength(r.len)),n&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},b.checkBuffer=function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){var n=s.BufferHelper.getBuffered(e);!this.loadedmetadata&&n.length?(this.loadedmetadata=!0,this.seekToStartPos()):t.poll(this.lastCurrentTime),this.lastCurrentTime=e.currentTime}},b.onFragLoadEmergencyAborted=function(){this.state=i.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},b.onBufferFlushed=function(e,t){var n=t.type;if(n!==c.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var r=(n===c.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,l.PlaylistLevelType.MAIN)}},b.onLevelsUpdated=function(e,t){this.levels=t.levels},b.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},b.seekToStartPos=function(){var e=this.media,t=e.currentTime,n=this.startPosition;if(n>=0&&t<n){if(e.seeking)return void v.logger.log("could not seek to "+n+", already seeking at "+t);var r=s.BufferHelper.getBuffered(e),i=(r.length?r.start(0):0)-n;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(v.logger.log("adjusting start position by "+i+" to match buffer start"),n+=i,this.startPosition=n),this.log("seek to target start position "+n+" from current time "+t),e.currentTime=n}},b._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t},b._loadBitrateTestFrag=function(e){var t=this;this._doFragLoad(e).then((function(n){var r=t.hls;if(n&&!r.nextLoadLevel&&!t.fragContextChanged(e)){t.fragLoadError=0,t.state=i.State.IDLE,t.startFragRequested=!1,t.bitrateTest=!1;var o=e.stats;o.parsing.start=o.parsing.end=o.buffering.start=o.buffering.end=self.performance.now(),r.trigger(a.Events.FRAG_LOADED,n)}}))},b._handleTransmuxComplete=function(e){var t,n="main",o=this.hls,s=e.remuxResult,u=e.chunkMeta,l=this.getCurrentContext(u);if(!l)return this.warn("The loading context changed while buffering fragment "+u.sn+" of level "+u.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(u.level);var d=l.frag,f=l.part,h=l.level,p=s.video,v=s.text,m=s.id3,g=s.initSegment,y=this.altAudio?void 0:s.audio;if(!this.fragContextChanged(d)){if(this.state=i.State.PARSING,g){g.tracks&&(this._bufferInitSegment(h,g.tracks,d,u),o.trigger(a.Events.FRAG_PARSING_INIT_SEGMENT,{frag:d,id:n,tracks:g.tracks}));var b=g.initPTS,_=g.timescale;Object(r.isFiniteNumber)(b)&&(this.initPTS[d.cc]=b,o.trigger(a.Events.INIT_PTS_FOUND,{frag:d,id:n,initPTS:b,timescale:_}))}if(p&&!1!==s.independent){if(h.details){var E=p.startPTS,w=p.endPTS,S=p.startDTS,T=p.endDTS;if(f)f.elementaryStreams[p.type]={startPTS:E,endPTS:w,startDTS:S,endDTS:T};else if(p.firstKeyFrame&&p.independent&&(this.couldBacktrack=!0),p.dropped&&p.independent){if(this.getLoadPosition()+this.config.maxBufferHole<E)return void this.backtrack(d);d.setElementaryStreamInfo(p.type,d.start,w,d.start,T,!0)}d.setElementaryStreamInfo(p.type,E,w,S,T),this.bufferFragmentData(p,d,f,u)}}else if(!1===s.independent)return void this.backtrack(d);if(y){var k=y.startPTS,x=y.endPTS,A=y.startDTS,P=y.endDTS;f&&(f.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:k,endPTS:x,startDTS:A,endDTS:P}),d.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,k,x,A,P),this.bufferFragmentData(y,d,f,u)}if(null!=m&&null!==(t=m.samples)&&void 0!==t&&t.length){var O={frag:d,id:n,samples:m.samples};o.trigger(a.Events.FRAG_PARSING_METADATA,O)}if(v){var C={frag:d,id:n,samples:v.samples};o.trigger(a.Events.FRAG_PARSING_USERDATA,C)}}},b._bufferInitSegment=function(e,t,n,r){var o=this;if(this.state===i.State.PARSING){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var s=t.audio,u=t.video,l=t.audiovideo;if(s){var c=e.audioCodec,d=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==s.metadata.channelCount&&-1===d.indexOf("firefox")&&(c="mp4a.40.5")),-1!==d.indexOf("android")&&"audio/mpeg"!==s.container&&(c="mp4a.40.2",this.log("Android: force audio codec to "+c)),e.audioCodec&&e.audioCodec!==c&&this.log('Swapping manifest audio codec "'+e.audioCodec+'" for "'+c+'"'),s.levelCodec=c,s.id="main",this.log("Init audio buffer, container:"+s.container+", codecs[selected/level/parsed]=["+(c||"")+"/"+(e.audioCodec||"")+"/"+s.codec+"]")}u&&(u.levelCodec=e.videoCodec,u.id="main",this.log("Init video buffer, container:"+u.container+", codecs[level/parsed]=["+(e.videoCodec||"")+"/"+u.codec+"]")),l&&this.log("Init audiovideo buffer, container:"+l.container+", codecs[level/parsed]=["+(e.attrs.CODECS||"")+"/"+l.codec+"]"),this.hls.trigger(a.Events.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var i=t[e].initSegment;null!=i&&i.byteLength&&o.hls.trigger(a.Events.BUFFER_APPENDING,{type:e,data:i,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tick()}},b.backtrack=function(e){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(e);var t=this.fragmentTracker.backtrack(e);this.fragPrevious=null,this.nextLoadPosition=e.start,t?this.resetFragmentLoading(e):this.state=i.State.BACKTRACKING},b.checkFragmentChanged=function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var n=e.currentTime;if(s.BufferHelper.isBuffered(e,n)?t=this.getAppendedFrag(n):s.BufferHelper.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){var r=this.fragPlaying,i=t.level;r&&t.sn===r.sn&&r.level===i&&t.urlId===r.urlId||(this.hls.trigger(a.Events.FRAG_CHANGED,{frag:t}),r&&r.level===i||this.hls.trigger(a.Events.LEVEL_SWITCHED,{level:i}),this.fragPlaying=t)}}},function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(y,[{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);return this.followingBufferedFrag(t)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),y}(i.default)},"./src/crypt/aes-crypto.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}()},"./src/crypt/aes-decryptor.ts":function(e,t,n){n.r(t),n.d(t,"removePadding",(function(){return i})),n.d(t,"default",(function(){return o}));var r=n("./src/utils/typed-array.ts");function i(e){var t=e.byteLength,n=t&&new DataView(e.buffer).getUint8(t-1);return n?Object(r.sliceUint8)(e,0,t-n):e}var o=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n},t.initTable=function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],a=n[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],d=s[3],f=new Uint32Array(256),h=0,p=0,v=0;for(v=0;v<256;v++)f[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var m=p^p<<1^p<<2^p<<3^p<<4;m=m>>>8^255&m^99,e[h]=m,t[m]=h;var g=f[h],y=f[g],b=f[y],_=257*f[m]^16843008*m;r[h]=_<<24|_>>>8,i[h]=_<<16|_>>>16,o[h]=_<<8|_>>>24,a[h]=_,_=16843009*b^65537*y^257*g^16843008*h,u[m]=_<<24|_>>>8,l[m]=_<<16|_>>>16,c[m]=_<<8|_>>>24,d[m]=_,h?(h=g^f[f[f[b^g]]],p^=f[f[p]]):h=p=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o,a,s,u,l=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(l),d=this.invKeySchedule=new Uint32Array(l),f=this.sBox,h=this.rcon,p=this.invSubMix,v=p[0],m=p[1],g=p[2],y=p[3];for(o=0;o<l;o++)o<i?s=c[o]=t[o]:(u=s,o%i==0?(u=f[(u=u<<8|u>>>24)>>>24]<<24|f[u>>>16&255]<<16|f[u>>>8&255]<<8|f[255&u],u^=h[o/i|0]<<24):i>6&&o%i==4&&(u=f[u>>>24]<<24|f[u>>>16&255]<<16|f[u>>>8&255]<<8|f[255&u]),c[o]=s=(c[o-i]^u)>>>0);for(a=0;a<l;a++)o=l-a,u=3&a?c[o]:c[o-4],d[a]=a<4||o<=4?u:v[f[u>>>24]]^m[f[u>>>16&255]]^g[f[u>>>8&255]]^y[f[255&u]],d[a]=d[a]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,n){for(var r,i,o,a,s,u,l,c,d,f,h,p,v,m,g=this.keySize+6,y=this.invKeySchedule,b=this.invSBox,_=this.invSubMix,E=_[0],w=_[1],S=_[2],T=_[3],k=this.uint8ArrayToUint32Array_(n),x=k[0],A=k[1],P=k[2],O=k[3],C=new Int32Array(e),I=new Int32Array(C.length),L=this.networkToHostOrderSwap;t<C.length;){for(d=L(C[t]),f=L(C[t+1]),h=L(C[t+2]),p=L(C[t+3]),s=d^y[0],u=p^y[1],l=h^y[2],c=f^y[3],v=4,m=1;m<g;m++)r=E[s>>>24]^w[u>>16&255]^S[l>>8&255]^T[255&c]^y[v],i=E[u>>>24]^w[l>>16&255]^S[c>>8&255]^T[255&s]^y[v+1],o=E[l>>>24]^w[c>>16&255]^S[s>>8&255]^T[255&u]^y[v+2],a=E[c>>>24]^w[s>>16&255]^S[u>>8&255]^T[255&l]^y[v+3],s=r,u=i,l=o,c=a,v+=4;r=b[s>>>24]<<24^b[u>>16&255]<<16^b[l>>8&255]<<8^b[255&c]^y[v],i=b[u>>>24]<<24^b[l>>16&255]<<16^b[c>>8&255]<<8^b[255&s]^y[v+1],o=b[l>>>24]<<24^b[c>>16&255]<<16^b[s>>8&255]<<8^b[255&u]^y[v+2],a=b[c>>>24]<<24^b[s>>16&255]<<16^b[u>>8&255]<<8^b[255&l]^y[v+3],I[t]=L(r^x),I[t+1]=L(a^A),I[t+2]=L(o^P),I[t+3]=L(i^O),x=d,A=f,P=h,O=p,t+=4}return I.buffer},e}()},"./src/crypt/decrypter.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return l}));var r=n("./src/crypt/aes-crypto.ts"),i=n("./src/crypt/fast-aes-key.ts"),o=n("./src/crypt/aes-decryptor.ts"),a=n("./src/utils/logger.ts"),s=n("./src/utils/mp4-tools.ts"),u=n("./src/utils/typed-array.ts"),l=function(){function e(e,t,n){var r=(void 0===n?{}:n).removePKCS7Padding,i=void 0===r||r;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=e,this.config=t,this.removePKCS7Padding=i,i)try{var o=self.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(e){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var t=e.prototype;return t.destroy=function(){this.observer=null},t.isSync=function(){return this.config.enableSoftwareAES},t.flush=function(){var e=this.currentResult;if(e){var t=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?Object(o.removePadding)(t):t}this.reset()},t.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},t.decrypt=function(e,t,n,r){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(e),t,n);var i=this.flush();i&&r(i.buffer)}else this.webCryptoDecrypt(new Uint8Array(e),t,n).then(r)},t.softwareDecrypt=function(e,t,n){var r=this.currentIV,i=this.currentResult,a=this.remainderData;this.logOnce("JS AES decrypt"),a&&(e=Object(s.appendUint8Array)(a,e),this.remainderData=null);var l=this.getValidChunk(e);if(!l.length)return null;r&&(n=r);var c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new o.default),c.expandKey(t);var d=i;return this.currentResult=c.decrypt(l.buffer,0,n),this.currentIV=Object(u.sliceUint8)(l,-16).buffer,d||null},t.webCryptoDecrypt=function(e,t,n){var o=this,a=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new i.default(a,t)),this.fastAesKey.expandKey().then((function(t){return a?new r.default(a,n).decrypt(e.buffer,t):Promise.reject(new Error("web crypto not initialized"))})).catch((function(r){return o.onWebCryptoError(r,e,t,n)}))},t.onWebCryptoError=function(e,t,n,r){return a.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",e),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(t,n,r)},t.getValidChunk=function(e){var t=e,n=e.length-e.length%16;return n!==e.length&&(t=Object(u.sliceUint8)(e,0,n),this.remainderData=Object(u.sliceUint8)(e,n)),t},t.logOnce=function(e){this.logEnabled&&(a.logger.log("[decrypter.ts]: "+e),this.logEnabled=!1)},e}()},"./src/crypt/fast-aes-key.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}()},"./src/demux/aacdemuxer.ts":function(e,t,n){n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),i=n("./src/demux/adts.ts"),o=n("./src/utils/logger.ts"),a=n("./src/demux/id3.ts");function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}var u=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this).observer=void 0,r.config=void 0,r.observer=t,r.config=n,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var u=r.prototype;return u.resetInitSegment=function(t,n,r){e.prototype.resetInitSegment.call(this,t,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}},r.probe=function(e){if(!e)return!1;for(var t=(a.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(i.probe(e,t))return o.logger.log("ADTS sync word found !"),!0;return!1},u.canParse=function(e,t){return i.canParse(e,t)},u.appendFrame=function(e,t,n){i.initTrackConfig(e,this.observer,t,n,e.manifestCodec);var r=i.appendFrame(e,t,n,this.initPTS,this.frameIndex);if(r&&0===r.missing)return r},r}(r.default);u.minProbeByteLength=9,t.default=u},"./src/demux/adts.ts":function(e,t,n){n.r(t),n.d(t,"getAudioConfig",(function(){return a})),n.d(t,"isHeaderPattern",(function(){return s})),n.d(t,"getHeaderLength",(function(){return u})),n.d(t,"getFullFrameLength",(function(){return l})),n.d(t,"canGetFrameLength",(function(){return c})),n.d(t,"isHeader",(function(){return d})),n.d(t,"canParse",(function(){return f})),n.d(t,"probe",(function(){return h})),n.d(t,"initTrackConfig",(function(){return p})),n.d(t,"getFrameDuration",(function(){return v})),n.d(t,"parseFrameHeader",(function(){return m})),n.d(t,"appendFrame",(function(){return g}));var r=n("./src/utils/logger.ts"),i=n("./src/errors.ts"),o=n("./src/events.ts");function a(e,t,n,a){var s,u,l,c,d=navigator.userAgent.toLowerCase(),f=a,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=1+((192&t[n+2])>>>6);var p=(60&t[n+2])>>>2;if(!(p>h.length-1))return l=(1&t[n+2])<<2,l|=(192&t[n+3])>>>6,r.logger.log("manifest codec:"+a+", ADTS type:"+s+", samplingIndex:"+p),/firefox/i.test(d)?p>=6?(s=5,c=new Array(4),u=p-3):(s=2,c=new Array(2),u=p):-1!==d.indexOf("android")?(s=2,c=new Array(2),u=p):(s=5,c=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&p>=6?u=p-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(p>=6&&1===l||/vivaldi/i.test(d))||!a&&1===l)&&(s=2,c=new Array(2)),u=p)),c[0]=s<<3,c[0]|=(14&p)>>1,c[1]|=(1&p)<<7,c[1]|=l<<3,5===s&&(c[1]|=(14&u)>>1,c[2]=(1&u)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:h[p],channelCount:l,codec:"mp4a.40."+s,manifestCodec:f};e.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+p})}function s(e,t){return 255===e[t]&&240==(246&e[t+1])}function u(e,t){return 1&e[t+1]?7:9}function l(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function c(e,t){return t+5<e.length}function d(e,t){return t+1<e.length&&s(e,t)}function f(e,t){return c(e,t)&&s(e,t)&&l(e,t)<=e.length-t}function h(e,t){if(d(e,t)){var n=u(e,t);if(t+n>=e.length)return!1;var r=l(e,t);if(r<=n)return!1;var i=t+r;return i===e.length||d(e,i)}return!1}function p(e,t,n,i,o){if(!e.samplerate){var s=a(t,n,i,o);if(!s)return;e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,r.logger.log("parsed codec:"+e.codec+", rate:"+s.samplerate+", channels:"+s.channelCount)}}function v(e){return 9216e4/e}function m(e,t,n,r,i){var o=u(e,t),a=l(e,t);if((a-=o)>0)return{headerLength:o,frameLength:a,stamp:n+r*i}}function g(e,t,n,r,i){var o=m(t,n,r,i,v(e.samplerate));if(o){var a,s=o.frameLength,u=o.headerLength,l=o.stamp,c=u+s,d=Math.max(0,n+c-t.length);d?(a=new Uint8Array(c-u)).set(t.subarray(n+u,t.length),0):a=t.subarray(n+u,n+c);var f={unit:a,pts:l};return d||e.samples.push(f),{sample:f,length:c,missing:d}}}},"./src/demux/base-audio-demuxer.ts":function(e,t,n){n.r(t),n.d(t,"initPTSFn",(function(){return l}));var r=n("./src/polyfills/number.ts"),i=n("./src/demux/id3.ts"),o=n("./src/demux/dummy-demuxed-track.ts"),a=n("./src/utils/mp4-tools.ts"),s=n("./src/utils/typed-array.ts"),u=function(){function e(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var t=e.prototype;return t.resetInitSegment=function(e,t,n){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},t.resetTimeStamp=function(){},t.resetContiguity=function(){},t.canParse=function(e,t){return!1},t.appendFrame=function(e,t,n){},t.demux=function(e,t){this.cachedData&&(e=Object(a.appendUint8Array)(this.cachedData,e),this.cachedData=null);var n,r,u=i.getID3Data(e,0),c=u?u.length:0,d=this._audioTrack,f=this._id3Track,h=u?i.getTimeStamp(u):void 0,p=e.length;for(0!==this.frameIndex&&null!==this.initPTS||(this.initPTS=l(h,t)),u&&u.length>0&&f.samples.push({pts:this.initPTS,dts:this.initPTS,data:u}),r=this.initPTS;c<p;){if(this.canParse(e,c)){var v=this.appendFrame(d,e,c);v?(this.frameIndex++,r=v.sample.pts,n=c+=v.length):c=p}else i.canParse(e,c)?(u=i.getID3Data(e,c),f.samples.push({pts:r,dts:r,data:u}),n=c+=u.length):c++;if(c===p&&n!==p){var m=Object(s.sliceUint8)(e,n);this.cachedData?this.cachedData=Object(a.appendUint8Array)(this.cachedData,m):this.cachedData=m}}return{audioTrack:d,avcTrack:Object(o.dummyTrack)(),id3Track:f,textTrack:Object(o.dummyTrack)()}},t.demuxSampleAes=function(e,t,n){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},t.flush=function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:Object(o.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(o.dummyTrack)()}},t.destroy=function(){},e}(),l=function(e,t){return Object(r.isFiniteNumber)(e)?90*e:9e4*t};t.default=u},"./src/demux/chunk-cache.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(){this.chunks=[],this.dataLength=0}var t=e.prototype;return t.push=function(e){this.chunks.push(e),this.dataLength+=e.length},t.flush=function(){var e,t=this.chunks,n=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var n=new Uint8Array(t),r=0,i=0;i<e.length;i++){var o=e[i];n.set(o,r),r+=o.length}return n}(t,n),this.reset(),e):new Uint8Array(0)},t.reset=function(){this.chunks.length=0,this.dataLength=0},e}()},"./src/demux/dummy-demuxed-track.ts":function(e,t,n){function r(){return{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}n.r(t),n.d(t,"dummyTrack",(function(){return r}))},"./src/demux/exp-golomb.ts":function(e,t,n){n.r(t);var r=n("./src/utils/logger.ts"),i=function(){function e(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?n<<t|this.readBits(t):n},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){for(var t=8,n=8,r=0;r<e;r++)0!==n&&(n=(t+this.readEG()+256)%256),t=0===n?t:n},t.readSPS=function(){var e,t,n,r=0,i=0,o=0,a=0,s=this.readUByte.bind(this),u=this.readBits.bind(this),l=this.readUEG.bind(this),c=this.readBoolean.bind(this),d=this.skipBits.bind(this),f=this.skipEG.bind(this),h=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var v=s();if(u(5),d(3),s(),h(),100===v||110===v||122===v||244===v||44===v||83===v||86===v||118===v||128===v){var m=l();if(3===m&&d(1),h(),h(),d(1),c())for(t=3!==m?8:12,n=0;n<t;n++)c()&&p(n<6?16:64)}h();var g=l();if(0===g)l();else if(1===g)for(d(1),f(),f(),e=l(),n=0;n<e;n++)f();h(),d(1);var y=l(),b=l(),_=u(1);0===_&&d(1),d(1),c()&&(r=l(),i=l(),o=l(),a=l());var E=[1,1];if(c()&&c())switch(s()){case 1:E=[1,1];break;case 2:E=[12,11];break;case 3:E=[10,11];break;case 4:E=[16,11];break;case 5:E=[40,33];break;case 6:E=[24,11];break;case 7:E=[20,11];break;case 8:E=[32,11];break;case 9:E=[80,33];break;case 10:E=[18,11];break;case 11:E=[15,11];break;case 12:E=[64,33];break;case 13:E=[160,99];break;case 14:E=[4,3];break;case 15:E=[3,2];break;case 16:E=[2,1];break;case 255:E=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(y+1)-2*r-2*i),height:(2-_)*(b+1)*16-(_?2:4)*(o+a),pixelRatio:E}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=i},"./src/demux/id3.ts":function(e,t,n){n.r(t),n.d(t,"isHeader",(function(){return i})),n.d(t,"isFooter",(function(){return o})),n.d(t,"getID3Data",(function(){return a})),n.d(t,"canParse",(function(){return u})),n.d(t,"getTimeStamp",(function(){return l})),n.d(t,"isTimeStampFrame",(function(){return c})),n.d(t,"getID3Frames",(function(){return f})),n.d(t,"decodeFrame",(function(){return h})),n.d(t,"utf8ArrayToStr",(function(){return y})),n.d(t,"testables",(function(){return b}));var r,i=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},o=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},a=function(e,t){for(var n=t,r=0;i(e,t);)r+=10,r+=s(e,t+6),o(e,t+10)&&(r+=10),t+=r;if(r>0)return e.subarray(n,n+r)},s=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,(n|=(127&e[t+2])<<7)|127&e[t+3]},u=function(e,t){return i(e,t)&&s(e,t+6)+10<=e.length-t},l=function(e){for(var t=f(e),n=0;n<t.length;n++){var r=t[n];if(c(r))return g(r)}},c=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},d=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),n=s(e,4);return{type:t,size:n,data:e.subarray(10,10+n)}},f=function(e){for(var t=0,n=[];i(e,t);){for(var r=s(e,t+6),a=(t+=10)+r;t+8<a;){var u=d(e.subarray(t)),l=h(u);l&&n.push(l),t+=u.size+10}o(e,t)&&(t+=10)}return n},h=function(e){return"PRIV"===e.type?p(e):"W"===e.type[0]?m(e):v(e)},p=function(e){if(!(e.size<2)){var t=y(e.data,!0),n=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:n.buffer}}},v=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,n=y(e.data.subarray(t),!0);t+=n.length+1;var r=y(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=y(e.data.subarray(1));return{key:e.type,data:i}}},m=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,n=y(e.data.subarray(t),!0);t+=n.length+1;var r=y(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=y(e.data);return{key:e.type,data:i}},g=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},y=function(e,t){void 0===t&&(t=!1);var n=_();if(n){var r=n.decode(e);if(t){var i=r.indexOf("\0");return-1!==i?r.substring(0,i):r}return r.replace(/\0/g,"")}for(var o,a,s,u=e.length,l="",c=0;c<u;){if(0===(o=e[c++])&&t)return l;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:l+=String.fromCharCode(o);break;case 12:case 13:a=e[c++],l+=String.fromCharCode((31&o)<<6|63&a);break;case 14:a=e[c++],s=e[c++],l+=String.fromCharCode((15&o)<<12|(63&a)<<6|(63&s)<<0)}}return l},b={decodeTextFrame:v};function _(){return r||void 0===self.TextDecoder||(r=new self.TextDecoder("utf-8")),r}},"./src/demux/mp3demuxer.ts":function(e,t,n){n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),i=n("./src/demux/id3.ts"),o=n("./src/utils/logger.ts"),a=n("./src/demux/mpegaudio.ts");function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var u=r.prototype;return u.resetInitSegment=function(t,n,r){e.prototype.resetInitSegment.call(this,t,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}},r.probe=function(e){if(!e)return!1;for(var t=(i.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(a.probe(e,t))return o.logger.log("MPEG Audio sync word found !"),!0;return!1},u.canParse=function(e,t){return a.canParse(e,t)},u.appendFrame=function(e,t,n){if(null!==this.initPTS)return a.appendFrame(e,t,n,this.initPTS,this.frameIndex)},r}(r.default);u.minProbeByteLength=4,t.default=u},"./src/demux/mp4demuxer.ts":function(e,t,n){n.r(t);var r=n("./src/utils/mp4-tools.ts"),i=n("./src/demux/dummy-demuxed-track.ts"),o=function(){function e(e,t){this.remainderData=null,this.config=void 0,this.config=t}var t=e.prototype;return t.resetTimeStamp=function(){},t.resetInitSegment=function(){},t.resetContiguity=function(){},e.probe=function(e){return Object(r.findBox)({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.demux=function(e){var t=e,n=Object(i.dummyTrack)();if(this.config.progressive){this.remainderData&&(t=Object(r.appendUint8Array)(this.remainderData,e));var o=Object(r.segmentValidRange)(t);this.remainderData=o.remainder,n.samples=o.valid||new Uint8Array}else n.samples=t;return{audioTrack:Object(i.dummyTrack)(),avcTrack:n,id3Track:Object(i.dummyTrack)(),textTrack:Object(i.dummyTrack)()}},t.flush=function(){var e=Object(i.dummyTrack)();return e.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:Object(i.dummyTrack)(),avcTrack:e,id3Track:Object(i.dummyTrack)(),textTrack:Object(i.dummyTrack)()}},t.demuxSampleAes=function(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},t.destroy=function(){},e}();o.minProbeByteLength=1024,t.default=o},"./src/demux/mpegaudio.ts":function(e,t,n){n.r(t),n.d(t,"appendFrame",(function(){return u})),n.d(t,"parseHeader",(function(){return l})),n.d(t,"isHeaderPattern",(function(){return c})),n.d(t,"isHeader",(function(){return d})),n.d(t,"canParse",(function(){return f})),n.d(t,"probe",(function(){return h}));var r=null,i=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],o=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],a=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],s=[0,1,1,4];function u(e,t,n,r,i){if(!(n+24>t.length)){var o=l(t,n);if(o&&n+o.frameLength<=t.length){var a=r+i*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:t.subarray(n,n+o.frameLength),pts:a,dts:a};return e.config=[],e.channelCount=o.channelCount,e.samplerate=o.sampleRate,e.samples.push(s),{sample:s,length:o.frameLength,missing:0}}}}function l(e,t){var n=e[t+1]>>3&3,u=e[t+1]>>1&3,l=e[t+2]>>4&15,c=e[t+2]>>2&3;if(1!==n&&0!==l&&15!==l&&3!==c){var d=e[t+2]>>1&1,f=e[t+3]>>6,h=1e3*i[14*(3===n?3-u:3===u?3:4)+l-1],p=o[3*(3===n?0:2===n?1:2)+c],v=3===f?1:2,m=a[n][u],g=s[u],y=8*m*g,b=Math.floor(m*h/p+d)*g;if(null===r){var _=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);r=_?parseInt(_[1]):0}return!!r&&r<=87&&2===u&&h>=224e3&&0===f&&(e[t+3]=128|e[t+3]),{sampleRate:p,channelCount:v,frameLength:b,samplesPerFrame:y}}}function c(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])}function d(e,t){return t+1<e.length&&c(e,t)}function f(e,t){return c(e,t)&&4<=e.length-t}function h(e,t){if(t+1<e.length&&c(e,t)){var n=l(e,t),r=4;null!=n&&n.frameLength&&(r=n.frameLength);var i=t+r;return i===e.length||d(e,i)}return!1}},"./src/demux/sample-aes.ts":function(e,t,n){n.r(t);var r=n("./src/crypt/decrypter.ts"),i=n("./src/demux/tsdemuxer.ts"),o=function(){function e(e,t,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new r.default(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,t)},t.decryptAacSample=function(e,t,n,r){var i=e[t].unit,o=i.subarray(16,i.length-i.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,(function(o){var a=new Uint8Array(o);i.set(a,16),r||s.decryptAacSamples(e,t+1,n)}))},t.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,r),!r)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,i=32;i<e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n},t.getAvcDecryptedUnit=function(e,t){for(var n=new Uint8Array(t),r=0,i=32;i<e.length-16;i+=160,r+=16)e.set(n.subarray(r,r+16),i);return e},t.decryptAvcSample=function(e,t,n,r,o,a){var s=Object(i.discardEPB)(o.data),u=this.getAvcEncryptedData(s),l=this;this.decryptBuffer(u.buffer,(function(i){o.data=l.getAvcDecryptedUnit(s,i),a||l.decryptAvcSamples(e,t,n+1,r)}))},t.decryptAvcSamples=function(e,t,n,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length)return void r();for(var i=e[t].units;!(n>=i.length);n++){var o=i[n];if(!(o.data.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,r,o,a),!a)return}}}},e}();t.default=o},"./src/demux/transmuxer-interface.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return d}));var r=n("./node_modules/webworkify-webpack/index.js"),i=n("./src/events.ts"),o=n("./src/demux/transmuxer.ts"),a=n("./src/utils/logger.ts"),s=n("./src/errors.ts"),u=n("./src/utils/mediasource-helper.ts"),l=n("./node_modules/eventemitter3/index.js"),c=Object(u.getMediaSource)()||{isTypeSupported:function(){return!1}},d=function(){function e(e,t,n,u){var d=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=e,this.id=t,this.onTransmuxComplete=n,this.onFlush=u;var f=e.config,h=function(t,n){(n=n||{}).frag=d.frag,n.id=d.id,e.trigger(t,n)};this.observer=new l.EventEmitter,this.observer.on(i.Events.FRAG_DECRYPTED,h),this.observer.on(i.Events.ERROR,h);var p={mp4:c.isTypeSupported("video/mp4"),mpeg:c.isTypeSupported("audio/mpeg"),mp3:c.isTypeSupported('audio/mp4; codecs="mp3"')},v=navigator.vendor;if(f.enableWorker&&"undefined"!=typeof Worker){var m;a.logger.log("demuxing in webworker");try{m=this.worker=r("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),m.addEventListener("message",this.onwmsg),m.onerror=function(t){e.trigger(i.Events.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(t.message+"  ("+t.filename+":"+t.lineno+")")})},m.postMessage({cmd:"init",typeSupported:p,vendor:v,id:t,config:JSON.stringify(f)})}catch(e){a.logger.warn("Error in worker:",e),a.logger.error("Error while initializing DemuxerWorker, fallback to inline"),m&&self.URL.revokeObjectURL(m.objectURL),this.transmuxer=new o.default(this.observer,p,f,v,t),this.worker=null}}else this.transmuxer=new o.default(this.observer,p,f,v,t)}var t=e.prototype;return t.destroy=function(){var e=this.worker;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.worker=null;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var n=this.observer;n&&n.removeAllListeners(),this.observer=null},t.push=function(e,t,n,r,i,s,u,l,c,d){var f,h,p=this;c.transmuxing.start=self.performance.now();var v=this.transmuxer,m=this.worker,g=s?s.start:i.start,y=i.decryptdata,b=this.frag,_=!(b&&i.cc===b.cc),E=!(b&&c.level===b.level),w=b?c.sn-b.sn:-1,S=this.part?c.part-this.part.index:1,T=!E&&(1===w||0===w&&1===S),k=self.performance.now();(E||w||0===i.stats.parsing.start)&&(i.stats.parsing.start=k),!s||!S&&T||(s.stats.parsing.start=k);var x=!(b&&(null===(f=i.initSegment)||void 0===f?void 0:f.url)===(null===(h=b.initSegment)||void 0===h?void 0:h.url)),A=new o.TransmuxState(_,T,l,E,g,x);if(!T||_||x){a.logger.log("[transmuxer-interface, "+i.type+"]: Starting new transmux session for sn: "+c.sn+" p: "+c.part+" level: "+c.level+" id: "+c.id+"\n        discontinuity: "+_+"\n        trackSwitch: "+E+"\n        contiguous: "+T+"\n        accurateTimeOffset: "+l+"\n        timeOffset: "+g+"\n        initSegmentChange: "+x);var P=new o.TransmuxConfig(n,r,t,u,d);this.configureTransmuxer(P)}if(this.frag=i,this.part=s,m)m.postMessage({cmd:"demux",data:e,decryptdata:y,chunkMeta:c,state:A},e instanceof ArrayBuffer?[e]:[]);else if(v){var O=v.push(e,y,c,A);Object(o.isPromise)(O)?O.then((function(e){p.handleTransmuxComplete(e)})):this.handleTransmuxComplete(O)}},t.flush=function(e){var t=this;e.transmuxing.start=self.performance.now();var n=this.transmuxer,r=this.worker;if(r)r.postMessage({cmd:"flush",chunkMeta:e});else if(n){var i=n.flush(e);Object(o.isPromise)(i)?i.then((function(n){t.handleFlushResult(n,e)})):this.handleFlushResult(i,e)}},t.handleFlushResult=function(e,t){var n=this;e.forEach((function(e){n.handleTransmuxComplete(e)})),this.onFlush(t)},t.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}},t.configureTransmuxer=function(e){var t=this.worker,n=this.transmuxer;t?t.postMessage({cmd:"configure",config:e}):n&&n.configure(e)},t.handleTransmuxComplete=function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)},e}()},"./src/demux/transmuxer-worker.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return s}));var r=n("./src/demux/transmuxer.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts"),a=n("./node_modules/eventemitter3/index.js");function s(e){var t=new a.EventEmitter,n=function(t,n){e.postMessage({event:t,data:n})};t.on(i.Events.FRAG_DECRYPTED,n),t.on(i.Events.ERROR,n),e.addEventListener("message",(function(i){var a=i.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);e.transmuxer=new r.default(t,a.typeSupported,s,a.vendor,a.id),Object(o.enableLogs)(s.debug),n("init",null);break;case"configure":e.transmuxer.configure(a.config);break;case"demux":var l=e.transmuxer.push(a.data,a.decryptdata,a.chunkMeta,a.state);Object(r.isPromise)(l)?l.then((function(t){u(e,t)})):u(e,l);break;case"flush":var d=a.chunkMeta,f=e.transmuxer.flush(d);Object(r.isPromise)(f)?f.then((function(t){c(e,t,d)})):c(e,f,d)}}))}function u(e,t){if((n=t.remuxResult).audio||n.video||n.text||n.id3||n.initSegment){var n,r=[],i=t.remuxResult,o=i.audio,a=i.video;o&&l(r,o),a&&l(r,a),e.postMessage({event:"transmuxComplete",data:t},r)}}function l(e,t){t.data1&&e.push(t.data1.buffer),t.data2&&e.push(t.data2.buffer)}function c(e,t,n){t.forEach((function(t){u(e,t)})),e.postMessage({event:"flush",data:n})}},"./src/demux/transmuxer.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return y})),n.d(t,"isPromise",(function(){return _})),n.d(t,"TransmuxConfig",(function(){return E})),n.d(t,"TransmuxState",(function(){return w}));var r,i=n("./src/events.ts"),o=n("./src/errors.ts"),a=n("./src/crypt/decrypter.ts"),s=n("./src/demux/aacdemuxer.ts"),u=n("./src/demux/mp4demuxer.ts"),l=n("./src/demux/tsdemuxer.ts"),c=n("./src/demux/mp3demuxer.ts"),d=n("./src/remux/mp4-remuxer.ts"),f=n("./src/remux/passthrough-remuxer.ts"),h=n("./src/demux/chunk-cache.ts"),p=n("./src/utils/mp4-tools.ts"),v=n("./src/utils/logger.ts");try{r=self.performance.now.bind(self.performance)}catch(e){v.logger.debug("Unable to use Performance API on this environment"),r=self.Date.now}var m=[{demux:l.default,remux:d.default},{demux:u.default,remux:f.default},{demux:s.default,remux:d.default},{demux:c.default,remux:d.default}],g=1024;m.forEach((function(e){var t=e.demux;g=Math.max(g,t.minProbeByteLength)}));var y=function(){function e(e,t,n,r,i){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new h.default,this.observer=e,this.typeSupported=t,this.config=n,this.vendor=r,this.id=i}var t=e.prototype;return t.configure=function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()},t.push=function(e,t,n,i){var o=this,a=n.transmuxing;a.executeStart=r();var s=new Uint8Array(e),u=this.cache,l=this.config,c=this.currentTransmuxState,d=this.transmuxConfig;i&&(this.currentTransmuxState=i);var f=function(e,t){var n=null;return e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(n=t),n}(s,t);if(f&&"AES-128"===f.method){var h=this.getDecrypter();if(!l.enableSoftwareAES)return this.decryptionPromise=h.webCryptoDecrypt(s,f.key.buffer,f.iv.buffer).then((function(e){var t=o.push(e,null,n);return o.decryptionPromise=null,t})),this.decryptionPromise;var v=h.softwareDecrypt(s,f.key.buffer,f.iv.buffer);if(!v)return a.executeEnd=r(),b(n);s=new Uint8Array(v)}var m=i||c,g=m.contiguous,y=m.discontinuity,_=m.trackSwitch,E=m.accurateTimeOffset,w=m.timeOffset,S=m.initSegmentChange,T=d.audioCodec,k=d.videoCodec,x=d.defaultInitPts,A=d.duration,P=d.initSegmentData;if((y||_||S)&&this.resetInitSegment(P,T,k,A),(y||S)&&this.resetInitialTimestamp(x),g||this.resetContiguity(),this.needsProbing(s,y,_)){if(u.dataLength){var O=u.flush();s=Object(p.appendUint8Array)(O,s)}this.configureTransmuxer(s,d)}var C=this.transmux(s,f,w,E,n),I=this.currentTransmuxState;return I.contiguous=!0,I.discontinuity=!1,I.trackSwitch=!1,a.executeEnd=r(),C},t.flush=function(e){var t=this,n=e.transmuxing;n.executeStart=r();var a=this.decrypter,s=this.cache,u=this.currentTransmuxState,l=this.decryptionPromise;if(l)return l.then((function(){return t.flush(e)}));var c=[],d=u.timeOffset;if(a){var f=a.flush();f&&c.push(this.push(f,null,e))}var h=s.dataLength;s.reset();var p=this.demuxer,v=this.remuxer;if(!p||!v)return h>=g&&this.observer.emit(i.Events.ERROR,i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),n.executeEnd=r(),[b(e)];var m=p.flush(d);return _(m)?m.then((function(n){return t.flushRemux(c,n,e),c})):(this.flushRemux(c,m,e),c)},t.flushRemux=function(e,t,n){var i=t.audioTrack,o=t.avcTrack,a=t.id3Track,s=t.textTrack,u=this.currentTransmuxState,l=u.accurateTimeOffset,c=u.timeOffset;v.logger.log("[transmuxer.ts]: Flushed fragment "+n.sn+(n.part>-1?" p: "+n.part:"")+" of level "+n.level);var d=this.remuxer.remux(i,o,a,s,c,l,!0,this.id);e.push({remuxResult:d,chunkMeta:n}),n.transmuxing.executeEnd=r()},t.resetInitialTimestamp=function(e){var t=this.demuxer,n=this.remuxer;t&&n&&(t.resetTimeStamp(e),n.resetTimeStamp(e))},t.resetContiguity=function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())},t.resetInitSegment=function(e,t,n,r){var i=this.demuxer,o=this.remuxer;i&&o&&(i.resetInitSegment(t,n,r),o.resetInitSegment(e,t,n))},t.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},t.transmux=function(e,t,n,r,i){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,n,r,i):this.transmuxUnencrypted(e,n,r,i)},t.transmuxUnencrypted=function(e,t,n,r){var i=this.demuxer.demux(e,t,!1,!this.config.progressive),o=i.audioTrack,a=i.avcTrack,s=i.id3Track,u=i.textTrack;return{remuxResult:this.remuxer.remux(o,a,s,u,t,n,!1,this.id),chunkMeta:r}},t.transmuxSampleAes=function(e,t,n,r,i){var o=this;return this.demuxer.demuxSampleAes(e,t,n).then((function(e){return{remuxResult:o.remuxer.remux(e.audioTrack,e.avcTrack,e.id3Track,e.textTrack,n,r,!1,o.id),chunkMeta:i}}))},t.configureTransmuxer=function(e,t){for(var n,r=this.config,i=this.observer,o=this.typeSupported,a=this.vendor,s=t.audioCodec,l=t.defaultInitPts,c=t.duration,d=t.initSegmentData,h=t.videoCodec,p=0,g=m.length;p<g;p++)if(m[p].demux.probe(e)){n=m[p];break}n||(v.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),n={demux:u.default,remux:f.default});var y=this.demuxer,b=this.remuxer,_=n.remux,E=n.demux;b&&b instanceof _||(this.remuxer=new _(i,r,o,a)),y&&y instanceof E||(this.demuxer=new E(i,r,o),this.probe=E.probe),this.resetInitSegment(d,s,h,c),this.resetInitialTimestamp(l)},t.needsProbing=function(e,t,n){return!this.demuxer||!this.remuxer||t||n},t.getDecrypter=function(){var e=this.decrypter;return e||(e=this.decrypter=new a.default(this.observer,this.config)),e},e}(),b=function(e){return{remuxResult:{},chunkMeta:e}};function _(e){return"then"in e&&e.then instanceof Function}var E=function(e,t,n,r,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=n,this.duration=r,this.defaultInitPts=i},w=function(e,t,n,r,i,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=i,this.initSegmentChange=o}},"./src/demux/tsdemuxer.ts":function(e,t,n){n.r(t),n.d(t,"discardEPB",(function(){return _}));var r=n("./src/demux/adts.ts"),i=n("./src/demux/mpegaudio.ts"),o=n("./src/demux/exp-golomb.ts"),a=n("./src/demux/id3.ts"),s=n("./src/demux/sample-aes.ts"),u=n("./src/events.ts"),l=n("./src/utils/mp4-tools.ts"),c=n("./src/utils/logger.ts"),d=n("./src/errors.ts"),f={video:1,audio:2,id3:3,text:4},h=function(){function e(e,t,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=t,this.typeSupported=n}e.probe=function(t){var n=e.syncOffset(t);return!(n<0||(n&&c.logger.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),0))},e.syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:f[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}};var t=e.prototype;return t.resetInitSegment=function(t,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",r),this._audioTrack=e.createTrack("audio",r),this._id3Track=e.createTrack("id3",r),this._txtTrack=e.createTrack("text",r),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=n,this._duration=r},t.resetTimeStamp=function(){},t.resetContiguity=function(){var e=this._audioTrack,t=this._avcTrack,n=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},t.demux=function(t,n,r,i){var o;void 0===r&&(r=!1),void 0===i&&(i=!1),r||(this.sampleAes=null);var a=this._avcTrack,s=this._audioTrack,f=this._id3Track,h=a.pid,p=a.pesData,y=s.pid,b=f.pid,_=s.pesData,E=f.pesData,w=!1,S=this.pmtParsed,T=this._pmtId,k=t.length;if(this.remainderData&&(k=(t=Object(l.appendUint8Array)(this.remainderData,t)).length,this.remainderData=null),k<188&&!i)return this.remainderData=t,{audioTrack:s,avcTrack:a,id3Track:f,textTrack:this._txtTrack};var x=Math.max(0,e.syncOffset(t));(k-=(k+x)%188)<t.byteLength&&!i&&(this.remainderData=new Uint8Array(t.buffer,k,t.buffer.byteLength-k));for(var A=0,P=x;P<k;P+=188)if(71===t[P]){var O=!!(64&t[P+1]),C=((31&t[P+1])<<8)+t[P+2],I=void 0;if((48&t[P+3])>>4>1){if((I=P+5+t[P+4])===P+188)continue}else I=P+4;switch(C){case h:O&&(p&&(o=g(p))&&this.parseAVCPES(o,!1),p={data:[],size:0}),p&&(p.data.push(t.subarray(I,P+188)),p.size+=P+188-I);break;case y:O&&(_&&(o=g(_))&&(s.isAAC?this.parseAACPES(o):this.parseMPEGPES(o)),_={data:[],size:0}),_&&(_.data.push(t.subarray(I,P+188)),_.size+=P+188-I);break;case b:O&&(E&&(o=g(E))&&this.parseID3PES(o),E={data:[],size:0}),E&&(E.data.push(t.subarray(I,P+188)),E.size+=P+188-I);break;case 0:O&&(I+=t[I]+1),T=this._pmtId=v(t,I);break;case T:O&&(I+=t[I]+1);var L=m(t,I,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,r);(h=L.avc)>0&&(a.pid=h),(y=L.audio)>0&&(s.pid=y,s.isAAC=L.isAAC),(b=L.id3)>0&&(f.pid=b),w&&!S&&(c.logger.log("reparse from beginning"),w=!1,P=x-188),S=this.pmtParsed=!0;break;case 17:case 8191:break;default:w=!0}}else A++;A>0&&this.observer.emit(u.Events.ERROR,u.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+A+" TS packet/s that do not start with 0x47"}),a.pesData=p,s.pesData=_,f.pesData=E;var N={audioTrack:s,avcTrack:a,id3Track:f,textTrack:this._txtTrack};return i&&this.extractRemainingSamples(N),N},t.flush=function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e},t.extractRemainingSamples=function(e){var t,n=e.audioTrack,r=e.avcTrack,i=e.id3Track,o=r.pesData,a=n.pesData,s=i.pesData;o&&(t=g(o))?(this.parseAVCPES(t,!0),r.pesData=null):r.pesData=o,a&&(t=g(a))?(n.isAAC?this.parseAACPES(t):this.parseMPEGPES(t),n.pesData=null):(null!=a&&a.size&&c.logger.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=a),s&&(t=g(s))?(this.parseID3PES(t),i.pesData=null):i.pesData=s},t.demuxSampleAes=function(e,t,n){var r=this.demux(e,n,!0,!this.config.progressive),i=this.sampleAes=new s.default(this.observer,this.config,t);return this.decrypt(r,i)},t.decrypt=function(e,t){return new Promise((function(n){var r=e.audioTrack,i=e.avcTrack;r.samples&&r.isAAC?t.decryptAacSamples(r.samples,0,(function(){i.samples?t.decryptAvcSamples(i.samples,0,0,(function(){n(e)})):n(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(function(){n(e)}))}))},t.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},t.parseAVCPES=function(e,t){var n,r=this,i=this._avcTrack,s=this.parseAVCNALu(e.data),u=this.avcSample,l=!1;e.data=null,u&&s.length&&!i.audFound&&(y(u,i),u=this.avcSample=p(!1,e.pts,e.dts,"")),s.forEach((function(t){switch(t.type){case 1:n=!0,u||(u=r.avcSample=p(!0,e.pts,e.dts,"")),u.frame=!0;var s=t.data;if(l&&s.length>4){var c=new o.default(s).readSliceType();2!==c&&4!==c&&7!==c&&9!==c||(u.key=!0)}break;case 5:n=!0,u||(u=r.avcSample=p(!0,e.pts,e.dts,"")),u.key=!0,u.frame=!0;break;case 6:n=!0;var d=new o.default(_(t.data));d.readUByte();for(var f=0,h=0,v=!1,m=0;!v&&d.bytesAvailable>1;){f=0;do{f+=m=d.readUByte()}while(255===m);h=0;do{h+=m=d.readUByte()}while(255===m);if(4===f&&0!==d.bytesAvailable){if(v=!0,181===d.readUByte()&&49===d.readUShort()&&1195456820===d.readUInt()&&3===d.readUByte()){for(var g=d.readUByte(),E=31&g,w=[g,d.readUByte()],S=0;S<E;S++)w.push(d.readUByte()),w.push(d.readUByte()),w.push(d.readUByte());b(r._txtTrack.samples,{type:3,pts:e.pts,bytes:w})}}else if(5===f&&0!==d.bytesAvailable){if(v=!0,h>16){for(var T=[],k=0;k<16;k++)T.push(d.readUByte().toString(16)),3!==k&&5!==k&&7!==k&&9!==k||T.push("-");for(var x=h-16,A=new Uint8Array(x),P=0;P<x;P++)A[P]=d.readUByte();b(r._txtTrack.samples,{pts:e.pts,payloadType:f,uuid:T.join(""),userData:Object(a.utf8ArrayToStr)(A),userDataBytes:A})}}else if(h<d.bytesAvailable)for(var O=0;O<h;O++)d.readUByte()}break;case 7:if(n=!0,l=!0,!i.sps){var C=new o.default(t.data).readSPS();i.width=C.width,i.height=C.height,i.pixelRatio=C.pixelRatio,i.sps=[t.data],i.duration=r._duration;for(var I=t.data.subarray(1,4),L="avc1.",N=0;N<3;N++){var D=I[N].toString(16);D.length<2&&(D="0"+D),L+=D}i.codec=L}break;case 8:n=!0,i.pps||(i.pps=[t.data]);break;case 9:n=!1,i.audFound=!0,u&&y(u,i),u=r.avcSample=p(!1,e.pts,e.dts,"");break;case 12:n=!1;break;default:n=!1,u&&(u.debug+="unknown NAL "+t.type+" ")}u&&n&&u.units.push(t)})),t&&u&&(y(u,i),this.avcSample=null)},t.getLastNalUnit=function(){var e,t,n=this.avcSample;if(!n||0===n.units.length){var r=this._avcTrack.samples;n=r[r.length-1]}if(null!==(e=n)&&void 0!==e&&e.units){var i=n.units;t=i[i.length-1]}return t},t.parseAVCNALu=function(e){var t,n,r=e.byteLength,i=this._avcTrack,o=i.naluState||0,a=o,s=[],u=0,l=-1,c=0;for(-1===o&&(l=0,c=31&e[0],o=0,u=1);u<r;)if(t=e[u++],o)if(1!==o)if(t)if(1===t){if(l>=0){var d={data:e.subarray(l,u-o-1),type:c};s.push(d)}else{var f=this.getLastNalUnit();if(f&&(a&&u<=4-a&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-a)),(n=u-o-1)>0)){var h=new Uint8Array(f.data.byteLength+n);h.set(f.data,0),h.set(e.subarray(0,n),f.data.byteLength),f.data=h,f.state=0}}u<r?(l=u,c=31&e[u],o=0):o=-1}else o=0;else o=3;else o=t?0:2;else o=t?0:1;if(l>=0&&o>=0){var p={data:e.subarray(l,r),type:c,state:o};s.push(p)}if(0===s.length){var v=this.getLastNalUnit();if(v){var m=new Uint8Array(v.data.byteLength+e.byteLength);m.set(v.data,0),m.set(e,v.data.byteLength),v.data=m}}return i.naluState=o,s},t.parseAACPES=function(e){var t,n,i,o,a,s=0,l=this._audioTrack,f=this.aacOverFlow,h=e.data;if(f){this.aacOverFlow=null;var p=f.sample.unit.byteLength,v=Math.min(f.missing,p),m=p-v;f.sample.unit.set(h.subarray(0,v),m),l.samples.push(f.sample),s=f.missing}for(t=s,n=h.length;t<n-1&&!r.isHeader(h,t);t++);if(t===s||(t<n-1?(i="AAC PES did not start with ADTS header,offset:"+t,o=!1):(i="no ADTS header found in AAC PES",o=!0),c.logger.warn("parsing error:"+i),this.observer.emit(u.Events.ERROR,u.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:o,reason:i}),!o)){if(r.initTrackConfig(l,this.observer,h,t,this.audioCodec),void 0!==e.pts)a=e.pts;else{if(!f)return void c.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var g=r.getFrameDuration(l.samplerate);a=f.sample.pts+g}for(var y=0;t<n;){if(r.isHeader(h,t)){if(t+5<n){var b=r.appendFrame(l,h,t,a,y);if(b){if(!b.missing){t+=b.length,y++;continue}this.aacOverFlow=b}}break}t++}}},t.parseMPEGPES=function(e){var t=e.data,n=t.length,r=0,o=0,a=e.pts;if(void 0!==a)for(;o<n;)if(i.isHeader(t,o)){var s=i.appendFrame(this._audioTrack,t,o,a,r);if(!s)break;o+=s.length,r++}else o++;else c.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},t.parseID3PES=function(e){void 0!==e.pts?this._id3Track.samples.push(e):c.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},e}();function p(e,t,n,r){return{key:e,frame:!1,pts:t,dts:n,units:[],debug:r,length:0}}function v(e,t){return(31&e[t+10])<<8|e[t+11]}function m(e,t,n,r){var i={audio:-1,avc:-1,id3:-1,isAAC:!0},o=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<o;){var a=(31&e[t+1])<<8|e[t+2];switch(e[t]){case 207:if(!r){c.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=a);break;case 21:-1===i.id3&&(i.id3=a);break;case 219:if(!r){c.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=a);break;case 3:case 4:n?-1===i.audio&&(i.audio=a,i.isAAC=!1):c.logger.log("MPEG audio found, not supported in this browser");break;case 36:c.logger.warn("Unsupported HEVC stream type found")}t+=5+((15&e[t+3])<<8|e[t+4])}return i}function g(e){var t,n,r,i,o,a=0,s=e.data;if(!e||0===e.size)return null;for(;s[0].length<19&&s.length>1;){var u=new Uint8Array(s[0].length+s[1].length);u.set(s[0]),u.set(s[1],s[0].length),s[0]=u,s.splice(1,1)}if(1===((t=s[0])[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;var l=t[7];192&l&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&l?i-(o=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(c.logger.warn(Math.round((i-o)/9e4)+"s delta between PTS and DTS, align them"),i=o):o=i);var d=(r=t[8])+9;if(e.size<=d)return null;e.size-=d;for(var f=new Uint8Array(e.size),h=0,p=s.length;h<p;h++){var v=(t=s[h]).byteLength;if(d){if(d>v){d-=v;continue}t=t.subarray(d),v-=d,d=0}f.set(t,a),a+=v}return n&&(n-=r+3),{data:f,pts:i,dts:o,len:n}}return null}function y(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var n=t.samples,r=n.length;if(!r)return void t.dropped++;var i=n[r-1];e.pts=i.pts,e.dts=i.dts}t.samples.push(e)}e.debug.length&&c.logger.log(e.pts+"/"+e.dts+":"+e.debug)}function b(e,t){var n=e.length;if(n>0){if(t.pts>=e[n-1].pts)e.push(t);else for(var r=n-1;r>=0;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)}function _(e){for(var t=e.byteLength,n=[],r=1;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return e;var i=t-n.length,o=new Uint8Array(i),a=0;for(r=0;r<i;a++,r++)a===n[0]&&(a++,n.shift()),o[r]=e[a];return o}h.minProbeByteLength=188,t.default=h},"./src/empty.js":function(e,t){e.exports=void 0},"./src/errors.ts":function(e,t,n){var r,i;n.r(t),n.d(t,"ErrorTypes",(function(){return r})),n.d(t,"ErrorDetails",(function(){return i})),function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(r||(r={})),function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown"}(i||(i={}))},"./src/events.ts":function(e,t,n){var r;n.r(t),n.d(t,"Events",(function(){return r})),function(e){e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached"}(r||(r={}))},"./src/hls.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return y}));var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=n("./src/loader/playlist-loader.ts"),o=n("./src/loader/key-loader.ts"),a=n("./src/controller/id3-track-controller.ts"),s=n("./src/controller/latency-controller.ts"),u=n("./src/controller/level-controller.ts"),l=n("./src/controller/fragment-tracker.ts"),c=n("./src/controller/stream-controller.ts"),d=n("./src/is-supported.ts"),f=n("./src/utils/logger.ts"),h=n("./src/config.ts"),p=n("./node_modules/eventemitter3/index.js"),v=n("./src/events.ts"),m=n("./src/errors.ts");function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){void 0===t&&(t={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new p.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var n=this.config=Object(h.mergeConfig)(e.DefaultConfig,t);this.userConfig=t,Object(f.enableLogs)(n.debug),this._autoLevelCapping=-1,n.progressive&&Object(h.enableStreamingMode)(n);var r=n.abrController,d=n.bufferController,v=n.capLevelController,m=n.fpsController,g=this.abrController=new r(this),y=this.bufferController=new d(this),b=this.capLevelController=new v(this),_=new m(this),E=new i.default(this),w=new o.default(this),S=new a.default(this),T=this.levelController=new u.default(this),k=new l.FragmentTracker(this),x=this.streamController=new c.default(this,k);b.setStreamController(x),_.setStreamController(x);var A=[T,x];this.networkControllers=A;var P=[E,w,g,y,b,_,S,k];this.audioTrackController=this.createController(n.audioTrackController,null,A),this.createController(n.audioStreamController,k,A),this.subtitleTrackController=this.createController(n.subtitleTrackController,null,A),this.createController(n.subtitleStreamController,k,A),this.createController(n.timelineController,null,P),this.emeController=this.createController(n.emeController,null,P),this.cmcdController=this.createController(n.cmcdController,null,P),this.latencyController=this.createController(s.default,null,P),this.coreComponents=P}e.isSupported=function(){return Object(d.isSupported)()};var t=e.prototype;return t.createController=function(e,t,n){if(e){var r=t?new e(this,t):new e(this);return n&&n.push(r),r}return null},t.on=function(e,t,n){void 0===n&&(n=this),this._emitter.on(e,t,n)},t.once=function(e,t,n){void 0===n&&(n=this),this._emitter.once(e,t,n)},t.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},t.off=function(e,t,n,r){void 0===n&&(n=this),this._emitter.off(e,t,n,r)},t.listeners=function(e){return this._emitter.listeners(e)},t.emit=function(e,t,n){return this._emitter.emit(e,t,n)},t.trigger=function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(t){f.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.trigger(v.Events.ERROR,{type:m.ErrorTypes.OTHER_ERROR,details:m.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,error:t})}return!1},t.listenerCount=function(e){return this._emitter.listenerCount(e)},t.destroy=function(){f.logger.log("destroy"),this.trigger(v.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0},t.attachMedia=function(e){f.logger.log("attachMedia"),this._media=e,this.trigger(v.Events.MEDIA_ATTACHING,{media:e})},t.detachMedia=function(){f.logger.log("detachMedia"),this.trigger(v.Events.MEDIA_DETACHING,void 0),this._media=null},t.loadSource=function(e){this.stopLoad();var t=this.media,n=this.url,i=this.url=r.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});f.logger.log("loadSource:"+i),t&&n&&n!==i&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(t)),this.trigger(v.Events.MANIFEST_LOADING,{url:e})},t.startLoad=function(e){void 0===e&&(e=-1),f.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},t.stopLoad=function(){f.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},t.swapAudioCodec=function(){f.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.recoverMediaError=function(){f.logger.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)},t.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(e,[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){f.logger.log("set currentLevel:"+e),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){f.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){f.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){f.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){f.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(f.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var n=e.length,r=0;r<n;r++)if(e[r].maxBitrate>t)return r;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.1.3"}},{key:"Events",get:function(){return v.Events}},{key:"ErrorTypes",get:function(){return m.ErrorTypes}},{key:"ErrorDetails",get:function(){return m.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:h.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}]),e}();y.defaultConfig=void 0},"./src/is-supported.ts":function(e,t,n){n.r(t),n.d(t,"isSupported",(function(){return o})),n.d(t,"changeTypeSupported",(function(){return a}));var r=n("./src/utils/mediasource-helper.ts");function i(){return self.SourceBuffer||self.WebKitSourceBuffer}function o(){var e=Object(r.getMediaSource)();if(!e)return!1;var t=i(),n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!o}function a(){var e,t=i();return"function"==typeof(null==t||null===(e=t.prototype)||void 0===e?void 0:e.changeType)}},"./src/loader/fragment-loader.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return c})),n.d(t,"LoadError",(function(){return f}));var r=n("./src/polyfills/number.ts"),i=n("./src/errors.ts");function o(e){var t="function"==typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},o(e)}function a(e,t,n){return a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&s(i,n.prototype),i},a.apply(null,arguments)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var l=Math.pow(2,17),c=function(){function e(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}var t=e.prototype;return t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.abort=function(){this.loader&&this.loader.abort()},t.load=function(e,t){var n=this,r=e.url;if(!r)return Promise.reject(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,networkDetails:null},"Fragment does not have a "+(r?"part list":"url")));this.abort();var o=this.config,a=o.fLoader,s=o.loader;return new Promise((function(r,u){n.loader&&n.loader.destroy();var c=n.loader=e.loader=a?new a(o):new s(o),h=d(e),p={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout,highWaterMark:l};e.stats=c.stats,c.load(h,p,{onSuccess:function(t,i,o,a){n.resetLoader(e,c),r({frag:e,part:null,payload:t.data,networkDetails:a})},onError:function(t,r,o){n.resetLoader(e,c),u(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:t,networkDetails:o}))},onAbort:function(t,r,o){n.resetLoader(e,c),u(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,networkDetails:o}))},onTimeout:function(t,r,o){n.resetLoader(e,c),u(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,networkDetails:o}))},onProgress:function(n,r,i,o){t&&t({frag:e,part:null,payload:i,networkDetails:o})}})}))},t.loadPart=function(e,t,n){var r=this;this.abort();var o=this.config,a=o.fLoader,s=o.loader;return new Promise((function(u,c){r.loader&&r.loader.destroy();var h=r.loader=e.loader=a?new a(o):new s(o),p=d(e,t),v={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout,highWaterMark:l};t.stats=h.stats,h.load(p,v,{onSuccess:function(i,o,a,s){r.resetLoader(e,h),r.updateStatsFromPart(e,t);var l={frag:e,part:t,payload:i.data,networkDetails:s};n(l),u(l)},onError:function(n,o,a){r.resetLoader(e,h),c(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:n,networkDetails:a}))},onAbort:function(n,o,a){e.stats.aborted=t.stats.aborted,r.resetLoader(e,h),c(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,networkDetails:a}))},onTimeout:function(n,o,a){r.resetLoader(e,h),c(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,networkDetails:a}))}})}))},t.updateStatsFromPart=function(e,t){var n=e.stats,r=t.stats,i=r.total;if(n.loaded+=r.loaded,i){var o=Math.round(e.duration/t.duration),a=Math.min(Math.round(n.loaded/i),o),s=(o-a)*Math.round(n.loaded/a);n.total=n.loaded+s}else n.total=Math.max(n.loaded,n.total);var u=n.loading,l=r.loading;u.start?u.first+=l.first-l.start:(u.start=l.start,u.first=l.first),u.end=l.end},t.resetLoader=function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()},e}();function d(e,t){void 0===t&&(t=null);var n=t||e,i={frag:e,part:t,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},o=n.byteRangeStartOffset,a=n.byteRangeEndOffset;return Object(r.isFiniteNumber)(o)&&Object(r.isFiniteNumber)(a)&&(i.rangeStart=o,i.rangeEnd=a),i}var f=function(e){var t,n;function r(t){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).data=void 0,n.data=t,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n),r}(o(Error))},"./src/loader/fragment.ts":function(e,t,n){n.r(t),n.d(t,"ElementaryStreamTypes",(function(){return r})),n.d(t,"BaseSegment",(function(){return h})),n.d(t,"Fragment",(function(){return p})),n.d(t,"Part",(function(){return v}));var r,i=n("./src/polyfills/number.ts"),o=n("./node_modules/url-toolkit/src/url-toolkit.js"),a=n("./src/utils/logger.ts"),s=n("./src/loader/level-key.ts"),u=n("./src/loader/load-stats.ts");function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}!function(e){e.AUDIO="audio",e.VIDEO="video",e.AUDIOVIDEO="audiovideo"}(r||(r={}));var h=function(){function e(e){var t;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((t={})[r.AUDIO]=null,t[r.VIDEO]=null,t[r.AUDIOVIDEO]=null,t),this.baseurl=e}return e.prototype.setByteRange=function(e,t){var n=e.split("@",2),r=[];1===n.length?r[0]=t?t.byteRangeEndOffset:0:r[0]=parseInt(n[1]),r[1]=parseInt(n[0])+r[0],this._byteRange=r},f(e,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(o.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),p=function(e){function t(t,n){var r;return(r=e.call(this,n)||this)._decryptdata=null,r.rawProgramDateTime=null,r.programDateTime=null,r.tagList=[],r.duration=0,r.sn=0,r.levelkey=void 0,r.type=void 0,r.loader=null,r.level=-1,r.cc=0,r.startPTS=void 0,r.endPTS=void 0,r.appendedPTS=void 0,r.startDTS=void 0,r.endDTS=void 0,r.start=0,r.deltaPTS=void 0,r.maxStartPTS=void 0,r.minEndPTS=void 0,r.stats=new u.LoadStats,r.urlId=0,r.data=void 0,r.bitrateTest=!1,r.title=null,r.initSegment=null,r.type=t,r}l(t,e);var n=t.prototype;return n.createInitializationVector=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t},n.setDecryptDataFromLevelKey=function(e,t){var n=e;return"AES-128"===(null==e?void 0:e.method)&&e.uri&&!e.iv&&((n=s.LevelKey.fromURI(e.uri)).method=e.method,n.iv=this.createInitializationVector(t),n.keyFormat="identity"),n},n.setElementaryStreamInfo=function(e,t,n,r,i,o){void 0===o&&(o=!1);var a=this.elementaryStreams,s=a[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,n),s.startDTS=Math.min(s.startDTS,r),s.endDTS=Math.max(s.endDTS,i)):a[e]={startPTS:t,endPTS:n,startDTS:r,endDTS:i,partial:o}},n.clearElementaryStreamInfo=function(){var e=this.elementaryStreams;e[r.AUDIO]=null,e[r.VIDEO]=null,e[r.AUDIOVIDEO]=null},f(t,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!=typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&a.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(i.isFiniteNumber)(this.programDateTime))return null;var e=Object(i.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;return!(null===(e=this.decryptdata)||void 0===e||!e.keyFormat||!this.decryptdata.uri)}}]),t}(h),v=function(e){function t(t,n,r,i,o){var a;(a=e.call(this,r)||this).fragOffset=0,a.duration=0,a.gap=!1,a.independent=!1,a.relurl=void 0,a.fragment=void 0,a.index=void 0,a.stats=new u.LoadStats,a.duration=t.decimalFloatingPoint("DURATION"),a.gap=t.bool("GAP"),a.independent=t.bool("INDEPENDENT"),a.relurl=t.enumeratedString("URI"),a.fragment=n,a.index=i;var s=t.enumeratedString("BYTERANGE");return s&&a.setByteRange(s,o),o&&(a.fragOffset=o.fragOffset+o.duration),a}return l(t,e),f(t,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),t}(h)},"./src/loader/key-loader.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return a}));var r=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/utils/logger.ts"),a=function(){function e(e){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){this.hls.on(r.Events.KEY_LOADING,this.onKeyLoading,this)},t._unregisterListeners=function(){this.hls.off(r.Events.KEY_LOADING,this.onKeyLoading)},t.destroy=function(){for(var e in this._unregisterListeners(),this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={}},t.onKeyLoading=function(e,t){var n=t.frag,i=n.type,a=this.loaders[i];if(n.decryptdata){var s=n.decryptdata.uri;if(s!==this.decrypturl||null===this.decryptkey){var u=this.hls.config;if(a&&(o.logger.warn("abort previous key loader for type:"+i),a.abort()),!s)return void o.logger.warn("key uri is falsy");var l=u.loader,c=n.loader=this.loaders[i]=new l(u);this.decrypturl=s,this.decryptkey=null;var d={url:s,frag:n,responseType:"arraybuffer"},f={timeout:u.fragLoadingTimeOut,maxRetry:0,retryDelay:u.fragLoadingRetryDelay,maxRetryDelay:u.fragLoadingMaxRetryTimeout,highWaterMark:0},h={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(d,f,h)}else this.decryptkey&&(n.decryptdata.key=this.decryptkey,this.hls.trigger(r.Events.KEY_LOADED,{frag:n}))}else o.logger.warn("Missing decryption data on fragment in onKeyLoading")},t.loadsuccess=function(e,t,n){var i=n.frag;i.decryptdata?(this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=null,delete this.loaders[i.type],this.hls.trigger(r.Events.KEY_LOADED,{frag:i})):o.logger.error("after key load, decryptdata unset")},t.loaderror=function(e,t){var n=t.frag,o=n.loader;o&&o.abort(),delete this.loaders[n.type],this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})},t.loadtimeout=function(e,t){var n=t.frag,o=n.loader;o&&o.abort(),delete this.loaders[n.type],this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},e}()},"./src/loader/level-details.ts":function(e,t,n){n.r(t),n.d(t,"LevelDetails",(function(){return o}));var r=n("./src/polyfills/number.ts");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=e}return e.prototype.reloaded=function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t,this.advanced=this.endSN>e.endSN||t>0||0===t&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay},function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(r.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;return e>0?1e3*(this.driftEnd-this.driftStart)/e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!==(e=this.fragments)&&void 0!==e&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),e}()},"./src/loader/level-key.ts":function(e,t,n){n.r(t),n.d(t,"LevelKey",(function(){return o}));var r=n("./node_modules/url-toolkit/src/url-toolkit.js");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(e,t){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=t?Object(r.buildAbsoluteURL)(e,t,{alwaysNormalize:!0}):e}return e.fromURL=function(t,n){return new e(t,n)},e.fromURI=function(t){return new e(t)},function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"uri",get:function(){return this._uri}}]),e}()},"./src/loader/load-stats.ts":function(e,t,n){n.r(t),n.d(t,"LoadStats",(function(){return r}));var r=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return m}));var r=n("./src/polyfills/number.ts"),i=n("./node_modules/url-toolkit/src/url-toolkit.js"),o=n("./src/loader/fragment.ts"),a=n("./src/loader/level-details.ts"),s=n("./src/loader/level-key.ts"),u=n("./src/utils/attr-list.ts"),l=n("./src/utils/logger.ts"),c=n("./src/utils/codecs.ts"),d=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,f=/#EXT-X-MEDIA:(.*)/g,h=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),p=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),v=/\.(mp4|m4s|m4v|m4a)$/i,m=function(){function e(){}return e.findGroup=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.id===t)return r}},e.convertAVC1ToAVCOTI=function(e){var t=e.split(".");if(t.length>2){var n=t.shift()+".";return(n+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).substr(-4)}return e},e.resolve=function(e,t){return i.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,n){var r,i=[],o={},a=!1;for(d.lastIndex=0;null!=(r=d.exec(t));)if(r[1]){var s=new u.AttrList(r[1]),l={attrs:s,bitrate:s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),name:s.NAME,url:e.resolve(r[2],n)},c=s.decimalResolution("RESOLUTION");c&&(l.width=c.width,l.height=c.height),g((s.CODECS||"").split(/[ ,]+/).filter((function(e){return e})),l),l.videoCodec&&-1!==l.videoCodec.indexOf("avc1")&&(l.videoCodec=e.convertAVC1ToAVCOTI(l.videoCodec)),i.push(l)}else if(r[3]){var f=new u.AttrList(r[3]);f["DATA-ID"]&&(a=!0,o[f["DATA-ID"]]=f)}return{levels:i,sessionData:a?o:null}},e.parseMasterPlaylistMedia=function(t,n,r,i){var o;void 0===i&&(i=[]);var a=[],s=0;for(f.lastIndex=0;null!==(o=f.exec(t));){var l=new u.AttrList(o[1]);if(l.TYPE===r){var c={attrs:l,bitrate:0,id:s++,groupId:l["GROUP-ID"],instreamId:l["INSTREAM-ID"],name:l.NAME||l.LANGUAGE||"",type:r,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:l.LANGUAGE,url:l.URI?e.resolve(l.URI,n):""};if(i.length){var d=e.findGroup(i,c.groupId)||i[0];y(c,d,"audioCodec"),y(c,d,"textCodec")}a.push(c)}}return a},e.parseLevelPlaylist=function(e,t,n,c,d){var f,m,g,y=new a.LevelDetails(t),_=y.fragments,E=null,w=0,S=0,T=0,k=0,x=null,A=new o.Fragment(c,t),P=-1,O=!1;for(h.lastIndex=0,y.m3u8=e;null!==(f=h.exec(e));){O&&(O=!1,(A=new o.Fragment(c,t)).start=T,A.sn=w,A.cc=k,A.level=n,E&&(A.initSegment=E,A.rawProgramDateTime=E.rawProgramDateTime));var C=f[1];if(C){A.duration=parseFloat(C);var I=(" "+f[2]).slice(1);A.title=I||null,A.tagList.push(I?["INF",C,I]:["INF",C])}else if(f[3])Object(r.isFiniteNumber)(A.duration)&&(A.start=T,g&&(A.levelkey=g),A.sn=w,A.level=n,A.cc=k,A.urlId=d,_.push(A),A.relurl=(" "+f[3]).slice(1),b(A,x),x=A,T+=A.duration,w++,S=0,O=!0);else if(f[4]){var L=(" "+f[4]).slice(1);x?A.setByteRange(L,x):A.setByteRange(L)}else if(f[5])A.rawProgramDateTime=(" "+f[5]).slice(1),A.tagList.push(["PROGRAM-DATE-TIME",A.rawProgramDateTime]),-1===P&&(P=_.length);else{if(!(f=f[0].match(p))){l.logger.warn("No matches on slow regex match for level playlist!");continue}for(m=1;m<f.length&&void 0===f[m];m++);var N=(" "+f[m]).slice(1),D=(" "+f[m+1]).slice(1),R=f[m+2]?(" "+f[m+2]).slice(1):"";switch(N){case"PLAYLIST-TYPE":y.type=D.toUpperCase();break;case"MEDIA-SEQUENCE":w=y.startSN=parseInt(D);break;case"SKIP":var M=new u.AttrList(D),j=M.decimalInteger("SKIPPED-SEGMENTS");if(Object(r.isFiniteNumber)(j)){y.skippedSegments=j;for(var F=j;F--;)_.unshift(null);w+=j}var V=M.enumeratedString("RECENTLY-REMOVED-DATERANGES");V&&(y.recentlyRemovedDateranges=V.split("\t"));break;case"TARGETDURATION":y.targetduration=parseFloat(D);break;case"VERSION":y.version=parseInt(D);break;case"EXTM3U":break;case"ENDLIST":y.live=!1;break;case"#":(D||R)&&A.tagList.push(R?[D,R]:[D]);break;case"DIS":k++;case"GAP":A.tagList.push([N]);break;case"BITRATE":A.tagList.push([N,D]);break;case"DISCONTINUITY-SEQ":k=parseInt(D);break;case"KEY":var U,B=new u.AttrList(D),z=B.enumeratedString("METHOD"),G=B.URI,q=B.hexadecimalInteger("IV"),H=B.enumeratedString("KEYFORMATVERSIONS"),W=B.enumeratedString("KEYID"),K=null!=(U=B.enumeratedString("KEYFORMAT"))?U:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(K)>-1){l.logger.warn("Keyformat "+K+" is not supported from the manifest");continue}if("identity"!==K)continue;z&&(g=s.LevelKey.fromURL(t,G),G&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(z)>=0&&(g.method=z,g.keyFormat=K,W&&(g.keyID=W),H&&(g.keyFormatVersions=H),g.iv=q));break;case"START":var Y=new u.AttrList(D).decimalFloatingPoint("TIME-OFFSET");Object(r.isFiniteNumber)(Y)&&(y.startTimeOffset=Y);break;case"MAP":var X=new u.AttrList(D);A.relurl=X.URI,X.BYTERANGE&&A.setByteRange(X.BYTERANGE),A.level=n,A.sn="initSegment",g&&(A.levelkey=g),A.initSegment=null,E=A,O=!0;break;case"SERVER-CONTROL":var $=new u.AttrList(D);y.canBlockReload=$.bool("CAN-BLOCK-RELOAD"),y.canSkipUntil=$.optionalFloat("CAN-SKIP-UNTIL",0),y.canSkipDateRanges=y.canSkipUntil>0&&$.bool("CAN-SKIP-DATERANGES"),y.partHoldBack=$.optionalFloat("PART-HOLD-BACK",0),y.holdBack=$.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Q=new u.AttrList(D);y.partTarget=Q.decimalFloatingPoint("PART-TARGET");break;case"PART":var J=y.partList;J||(J=y.partList=[]);var Z=S>0?J[J.length-1]:void 0,ee=S++,te=new o.Part(new u.AttrList(D),A,t,ee,Z);J.push(te),A.duration+=te.duration;break;case"PRELOAD-HINT":var ne=new u.AttrList(D);y.preloadHint=ne;break;case"RENDITION-REPORT":var re=new u.AttrList(D);y.renditionReports=y.renditionReports||[],y.renditionReports.push(re);break;default:l.logger.warn("line parsed but not handled: "+f)}}}x&&!x.relurl?(_.pop(),T-=x.duration,y.partList&&(y.fragmentHint=x)):y.partList&&(b(A,x),A.cc=k,y.fragmentHint=A);var ie=_.length,oe=_[0],ae=_[ie-1];if((T+=y.skippedSegments*y.targetduration)>0&&ie&&ae){y.averagetargetduration=T/ie;var se=ae.sn;y.endSN="initSegment"!==se?se:0,oe&&(y.startCC=oe.cc,oe.initSegment||y.fragments.every((function(e){return e.relurl&&(t=e.relurl,v.test(null!=(n=null===(r=i.parseURL(t))||void 0===r?void 0:r.path)?n:""));var t,n,r}))&&(l.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(A=new o.Fragment(c,t)).relurl=ae.relurl,A.level=n,A.sn="initSegment",oe.initSegment=A,y.needSidxRanges=!0))}else y.endSN=0,y.startCC=0;return y.fragmentHint&&(T+=y.fragmentHint.duration),y.totalduration=T,y.endCC=k,P>0&&function(e,t){for(var n=e[t],r=t;r--;){var i=e[r];if(!i)return;i.programDateTime=n.programDateTime-1e3*i.duration,n=i}}(_,P),y},e}();function g(e,t){["video","audio","text"].forEach((function(n){var r=e.filter((function(e){return Object(c.isCodecType)(e,n)}));if(r.length){var i=r.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[n+"Codec"]=i.length>0?i[0]:r[0],e=e.filter((function(e){return-1===r.indexOf(e)}))}})),t.unknownCodecs=e}function y(e,t,n){var r=t[n];r&&(e[n]=r)}function b(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Object(r.isFiniteNumber)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}},"./src/loader/playlist-loader.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),o=n("./src/errors.ts"),a=n("./src/utils/logger.ts"),s=n("./src/utils/mp4-tools.ts"),u=n("./src/loader/m3u8-parser.ts"),l=n("./src/types/loader.ts"),c=n("./src/utils/attr-list.ts");function d(e,t){var n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n}var f=function(){function e(e){this.hls=void 0,this.loaders=Object.create(null),this.hls=e,this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.createInternalLoader=function(e){var t=this.hls.config,n=t.pLoader,r=t.loader,i=new(n||r)(t);return e.loader=i,this.loaders[e.type]=i,i},t.getInternalLoader=function(e){return this.loaders[e.type]},t.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},t.onManifestLoading=function(e,t){var n=t.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:l.PlaylistContextType.MANIFEST,url:n,deliveryDirectives:null})},t.onLevelLoading=function(e,t){var n=t.id,r=t.level,i=t.url,o=t.deliveryDirectives;this.load({id:n,groupId:null,level:r,responseType:"text",type:l.PlaylistContextType.LEVEL,url:i,deliveryDirectives:o})},t.onAudioTrackLoading=function(e,t){var n=t.id,r=t.groupId,i=t.url,o=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:l.PlaylistContextType.AUDIO_TRACK,url:i,deliveryDirectives:o})},t.onSubtitleTrackLoading=function(e,t){var n=t.id,r=t.groupId,i=t.url,o=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:l.PlaylistContextType.SUBTITLE_TRACK,url:i,deliveryDirectives:o})},t.load=function(e){var t,n,r,i,o,s,u=this.hls.config,c=this.getInternalLoader(e);if(c){var d=c.context;if(d&&d.url===e.url)return void a.logger.trace("[playlist-loader]: playlist request ongoing");a.logger.log("[playlist-loader]: aborting previous loader for type: "+e.type),c.abort()}switch(e.type){case l.PlaylistContextType.MANIFEST:n=u.manifestLoadingMaxRetry,r=u.manifestLoadingTimeOut,i=u.manifestLoadingRetryDelay,o=u.manifestLoadingMaxRetryTimeout;break;case l.PlaylistContextType.LEVEL:case l.PlaylistContextType.AUDIO_TRACK:case l.PlaylistContextType.SUBTITLE_TRACK:n=0,r=u.levelLoadingTimeOut;break;default:n=u.levelLoadingMaxRetry,r=u.levelLoadingTimeOut,i=u.levelLoadingRetryDelay,o=u.levelLoadingMaxRetryTimeout}if(c=this.createInternalLoader(e),null!==(t=e.deliveryDirectives)&&void 0!==t&&t.part&&(e.type===l.PlaylistContextType.LEVEL&&null!==e.level?s=this.hls.levels[e.level].details:e.type===l.PlaylistContextType.AUDIO_TRACK&&null!==e.id?s=this.hls.audioTracks[e.id].details:e.type===l.PlaylistContextType.SUBTITLE_TRACK&&null!==e.id&&(s=this.hls.subtitleTracks[e.id].details),s)){var f=s.partTarget,h=s.targetduration;f&&h&&(r=Math.min(1e3*Math.max(3*f,.8*h),r))}var p={timeout:r,maxRetry:n,retryDelay:i,maxRetryDelay:o,highWaterMark:0},v={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(e,p,v)},t.loadsuccess=function(e,t,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this.handleSidxRequest(e,n),void this.handlePlaylistLoaded(e,t,n,r);this.resetInternalLoader(n.type);var i=e.data;0===i.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(e,t,n,r):this.handleMasterPlaylist(e,t,n,r)):this.handleManifestParsingError(e,n,"no EXTM3U delimiter",r)},t.loaderror=function(e,t,n){void 0===n&&(n=null),this.handleNetworkError(t,n,!1,e)},t.loadtimeout=function(e,t,n){void 0===n&&(n=null),this.handleNetworkError(t,n,!0)},t.handleMasterPlaylist=function(e,t,n,r){var o=this.hls,s=e.data,l=d(e,n),f=u.default.parseMasterPlaylist(s,l),h=f.levels,p=f.sessionData;if(h.length){var v=h.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),m=h.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),g=u.default.parseMasterPlaylistMedia(s,l,"AUDIO",v),y=u.default.parseMasterPlaylistMedia(s,l,"SUBTITLES",m),b=u.default.parseMasterPlaylistMedia(s,l,"CLOSED-CAPTIONS");g.length&&(g.some((function(e){return!e.url}))||!h[0].audioCodec||h[0].attrs.AUDIO||(a.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new c.AttrList({}),bitrate:0,url:""}))),o.trigger(i.Events.MANIFEST_LOADED,{levels:h,audioTracks:g,subtitles:y,captions:b,url:l,stats:t,networkDetails:r,sessionData:p})}else this.handleManifestParsingError(e,n,"no level found in manifest",r)},t.handleTrackOrLevelPlaylist=function(e,t,n,a){var s=this.hls,f=n.id,h=n.level,p=n.type,v=d(e,n),m=Object(r.isFiniteNumber)(f)?f:0,g=Object(r.isFiniteNumber)(h)?h:m,y=function(e){switch(e.type){case l.PlaylistContextType.AUDIO_TRACK:return l.PlaylistLevelType.AUDIO;case l.PlaylistContextType.SUBTITLE_TRACK:return l.PlaylistLevelType.SUBTITLE;default:return l.PlaylistLevelType.MAIN}}(n),b=u.default.parseLevelPlaylist(e.data,v,g,y,m);if(b.fragments.length){if(p===l.PlaylistContextType.MANIFEST){var _={attrs:new c.AttrList({}),bitrate:0,details:b,name:"",url:v};s.trigger(i.Events.MANIFEST_LOADED,{levels:[_],audioTracks:[],url:v,stats:t,networkDetails:a,sessionData:null})}if(t.parsing.end=performance.now(),b.needSidxRanges){var E,w=null===(E=b.fragments[0].initSegment)||void 0===E?void 0:E.url;this.load({url:w,isSidxRequest:!0,type:p,level:h,levelDetails:b,id:f,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else n.levelDetails=b,this.handlePlaylistLoaded(e,t,n,a)}else s.trigger(i.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:v,reason:"no fragments found in level",level:"number"==typeof n.level?n.level:void 0})},t.handleSidxRequest=function(e,t){var n=Object(s.parseSegmentIndex)(new Uint8Array(e.data));if(n){var r=n.references,i=t.levelDetails;r.forEach((function(e,t){var r=e.info,o=i.fragments[t];0===o.byteRange.length&&o.setByteRange(String(1+r.end-r.start)+"@"+String(r.start)),o.initSegment&&o.initSegment.setByteRange(String(n.moovEndOffset)+"@0")}))}},t.handleManifestParsingError=function(e,t,n,r){this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:t.type===l.PlaylistContextType.MANIFEST,url:e.url,reason:n,response:e,context:t,networkDetails:r})},t.handleNetworkError=function(e,t,n,r){void 0===n&&(n=!1),a.logger.warn("[playlist-loader]: A network "+(n?"timeout":"error")+" occurred while loading "+e.type+" level: "+e.level+" id: "+e.id+' group-id: "'+e.groupId+'"');var s=o.ErrorDetails.UNKNOWN,u=!1,c=this.getInternalLoader(e);switch(e.type){case l.PlaylistContextType.MANIFEST:s=n?o.ErrorDetails.MANIFEST_LOAD_TIMEOUT:o.ErrorDetails.MANIFEST_LOAD_ERROR,u=!0;break;case l.PlaylistContextType.LEVEL:s=n?o.ErrorDetails.LEVEL_LOAD_TIMEOUT:o.ErrorDetails.LEVEL_LOAD_ERROR,u=!1;break;case l.PlaylistContextType.AUDIO_TRACK:s=n?o.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:o.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case l.PlaylistContextType.SUBTITLE_TRACK:s=n?o.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:o.ErrorDetails.SUBTITLE_LOAD_ERROR,u=!1}c&&this.resetInternalLoader(e.type);var d={type:o.ErrorTypes.NETWORK_ERROR,details:s,fatal:u,url:e.url,loader:c,context:e,networkDetails:t};r&&(d.response=r),this.hls.trigger(i.Events.ERROR,d)},t.handlePlaylistLoaded=function(e,t,n,r){var o=n.type,a=n.level,s=n.id,u=n.groupId,c=n.loader,d=n.levelDetails,f=n.deliveryDirectives;if(null!=d&&d.targetduration){if(c)switch(d.live&&(c.getCacheAge&&(d.ageHeader=c.getCacheAge()||0),c.getCacheAge&&!isNaN(d.ageHeader)||(d.ageHeader=0)),o){case l.PlaylistContextType.MANIFEST:case l.PlaylistContextType.LEVEL:this.hls.trigger(i.Events.LEVEL_LOADED,{details:d,level:a||0,id:s||0,stats:t,networkDetails:r,deliveryDirectives:f});break;case l.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(i.Events.AUDIO_TRACK_LOADED,{details:d,id:s||0,groupId:u||"",stats:t,networkDetails:r,deliveryDirectives:f});break;case l.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(i.Events.SUBTITLE_TRACK_LOADED,{details:d,id:s||0,groupId:u||"",stats:t,networkDetails:r,deliveryDirectives:f})}}else this.handleManifestParsingError(e,n,"invalid target duration",r)},e}();t.default=f},"./src/polyfills/number.ts":function(e,t,n){n.r(t),n.d(t,"isFiniteNumber",(function(){return r})),n.d(t,"MAX_SAFE_INTEGER",(function(){return i}));var r=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},i=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(e,t,n){n.r(t);var r=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},e}();t.default=r},"./src/remux/mp4-generator.ts":function(e,t,n){n.r(t);var r=Math.pow(2,32)-1,i=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,u,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t=8,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=r.length,a=o;o--;)t+=r[o].byteLength;var s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),o=0,t=8;o<a;o++)s.set(r[o],t),t+=r[o].byteLength;return s},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,n){n*=t;var i=Math.floor(n/(r+1)),o=Math.floor(n%(r+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))},e.moov=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))},e.mvex=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))},e.mvhd=function(t,n){n*=t;var i=Math.floor(n/(r+1)),o=Math.floor(n%(r+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)},e.sdtp=function(t){var n,r,i=t.samples||[],o=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,o[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,o)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var n,r,i,o=[],a=[];for(n=0;n<t.sps.length;n++)i=(r=t.sps[n]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)i=(r=t.pps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(a))),u=t.width,l=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var n=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var n=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var n=t.id,i=t.duration*t.timescale,o=t.width,a=t.height,s=Math.floor(i/(r+1)),u=Math.floor(i%(r+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,u>>24,u>>16&255,u>>8&255,255&u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,a>>8&255,255&a,0,0]))},e.traf=function(t,n){var i=e.sdtp(t),o=t.id,a=Math.floor(n/(r+1)),s=Math.floor(n%(r+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,i.length+16+20+8+16+8+8),i)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,n){var r,i,o,a,s,u,l=t.samples||[],c=l.length,d=12+16*c,f=new Uint8Array(d);for(n+=8+d,f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)o=(i=l[r]).duration,a=i.size,s=i.flags,u=i.cts,f.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*r);return e.box(e.types.trun,f)},e.initSegment=function(t){e.types||e.init();var n=e.moov(t),r=new Uint8Array(e.FTYP.byteLength+n.byteLength);return r.set(e.FTYP),r.set(n,e.FTYP.byteLength),r},e}();i.types=void 0,i.HDLR_TYPES=void 0,i.STTS=void 0,i.STSC=void 0,i.STCO=void 0,i.STSZ=void 0,i.VMHD=void 0,i.SMHD=void 0,i.STSD=void 0,i.FTYP=void 0,i.DINF=void 0,t.default=i},"./src/remux/mp4-remuxer.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return v})),n.d(t,"normalizePts",(function(){return m}));var r=n("./src/polyfills/number.ts"),i=n("./src/remux/aac-helper.ts"),o=n("./src/remux/mp4-generator.ts"),a=n("./src/events.ts"),s=n("./src/errors.ts"),u=n("./src/utils/logger.ts"),l=n("./src/types/loader.ts"),c=n("./src/utils/timescale-conversion.ts");function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var f=null,h=null,p=!1,v=function(){function e(e,t,n,r){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=t,this.typeSupported=n,this.ISGenerated=!1,null===f){var i=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);f=i?parseInt(i[1]):0}if(null===h){var o=navigator.userAgent.match(/Safari\/(\d+)/i);h=o?parseInt(o[1]):0}p=!!f&&f<75||!!h&&h<600}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){u.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e},t.resetNextTimestamp=function(){u.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},t.resetInitSegment=function(){u.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,n=e.reduce((function(e,n){var r=n.pts-e;return r<-4294967296?(t=!0,m(e,n.pts)):r>0?e:n.pts}),e[0].pts);return t&&u.logger.debug("PTS rollover detected"),n},t.remux=function(e,t,n,r,i,o,a,s){var c,d,f,h,p,v,g=i,y=i,b=e.pid>-1,_=t.pid>-1,E=t.samples.length,w=e.samples.length>0,S=E>1;if((!b||w)&&(!_||S)||this.ISGenerated||a){this.ISGenerated||(f=this.generateIS(e,t,i));var T=this.isVideoContiguous,k=-1;if(S&&(k=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!T&&this.config.forceKeyFrameOnDiscontinuity))if(v=!0,k>0){u.logger.warn("[mp4-remuxer]: Dropped "+k+" out of "+E+" video samples due to a missing keyframe");var x=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(k),t.dropped+=k,y+=(t.samples[0].pts-x)/(t.timescale||9e4)}else-1===k&&(u.logger.warn("[mp4-remuxer]: No keyframe found out of "+E+" video samples"),v=!1);if(this.ISGenerated){if(w&&S){var A=this.getVideoStartPts(t.samples),P=(m(e.samples[0].pts,A)-A)/t.inputTimeScale;g+=Math.max(0,P),y+=Math.max(0,-P)}if(w){if(e.samplerate||(u.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),f=this.generateIS(e,t,i)),d=this.remuxAudio(e,g,this.isAudioContiguous,o,_||S||s===l.PlaylistLevelType.AUDIO?y:void 0),S){var O=d?d.endPTS-d.startPTS:0;t.inputTimeScale||(u.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),f=this.generateIS(e,t,i)),c=this.remuxVideo(t,y,T,O)}}else S&&(c=this.remuxVideo(t,y,T,0));c&&(c.firstKeyFrame=k,c.independent=-1!==k)}}return this.ISGenerated&&(n.samples.length&&(p=this.remuxID3(n,i)),r.samples.length&&(h=this.remuxText(r,i))),{audio:d,video:c,initSegment:f,independent:v,text:h,id3:p}},t.generateIS=function(e,t,n){var i,a,s,u=e.samples,l=t.samples,c=this.typeSupported,d={},f=!Object(r.isFiniteNumber)(this._initPTS),h="audio/mp4";if(f&&(i=a=1/0),e.config&&u.length&&(e.timescale=e.samplerate,e.isAAC||(c.mpeg?(h="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3")),d.audio={id:"audio",container:h,codec:e.codec,initSegment:!e.isAAC&&c.mpeg?new Uint8Array(0):o.default.initSegment([e]),metadata:{channelCount:e.channelCount}},f&&(s=e.inputTimeScale,i=a=u[0].pts-Math.round(s*n))),t.sps&&t.pps&&l.length&&(t.timescale=t.inputTimeScale,d.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:o.default.initSegment([t]),metadata:{width:t.width,height:t.height}},f)){s=t.inputTimeScale;var p=this.getVideoStartPts(l),v=Math.round(s*n);a=Math.min(a,m(l[0].dts,p)-v),i=Math.min(i,p-v)}if(Object.keys(d).length)return this.ISGenerated=!0,f&&(this._initPTS=i,this._initDTS=a),{tracks:d,initPTS:i,timescale:s}},t.remuxVideo=function(e,t,n,r){var i,l,h,v=e.inputTimeScale,y=e.samples,b=[],_=y.length,E=this._initPTS,w=this.nextAvcDts,S=8,T=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY,x=0,A=!1;n&&null!==w||(w=t*v-(y[0].pts-m(y[0].dts,y[0].pts)));for(var P=0;P<_;P++){var O=y[P];O.pts=m(O.pts-E,w),O.dts=m(O.dts-E,w),O.dts>O.pts&&(x=Math.max(Math.min(x,O.pts-O.dts),-18e3)),O.dts<y[P>0?P-1:P].dts&&(A=!0)}A&&y.sort((function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r})),l=y[0].dts,h=y[y.length-1].dts;var C=Math.round((h-l)/(_-1));if(x<0){if(x<-2*C){u.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(c.toMsFromMpegTsClock)(-C,!0)+" ms");for(var I=x,L=0;L<_;L++)y[L].dts=I=Math.max(I,y[L].pts-C),y[L].pts=Math.max(I,y[L].pts)}else{u.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(c.toMsFromMpegTsClock)(x,!0)+" ms to overcome this issue");for(var N=0;N<_;N++)y[N].dts=y[N].dts+x}l=y[0].dts}if(n){var D=l-w,R=D>C;if(R||D<-1){R?u.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(D,!0)+" ms ("+D+"dts) hole between fragments detected, filling it"):u.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(-D,!0)+" ms ("+D+"dts) overlapping between fragments detected"),l=w;var M=y[0].pts-D;y[0].dts=l,y[0].pts=M,u.logger.log("Video: First PTS/DTS adjusted: "+Object(c.toMsFromMpegTsClock)(M,!0)+"/"+Object(c.toMsFromMpegTsClock)(l,!0)+", delta: "+Object(c.toMsFromMpegTsClock)(D,!0)+" ms")}}p&&(l=Math.max(0,l));for(var j=0,F=0,V=0;V<_;V++){for(var U=y[V],B=U.units,z=B.length,G=0,q=0;q<z;q++)G+=B[q].data.length;F+=G,j+=z,U.length=G,U.dts=Math.max(U.dts,l),U.pts=Math.max(U.pts,U.dts,0),T=Math.min(U.pts,T),k=Math.max(U.pts,k)}h=y[_-1].dts;var H,W=F+4*j+8;try{H=new Uint8Array(W)}catch(e){return void this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:W,reason:"fail allocating video mdat "+W})}var K=new DataView(H.buffer);K.setUint32(0,W),H.set(o.default.types.mdat,4);for(var Y=0;Y<_;Y++){for(var X=y[Y],$=X.units,Q=0,J=0,Z=$.length;J<Z;J++){var ee=$[J],te=ee.data,ne=ee.data.byteLength;K.setUint32(S,ne),S+=4,H.set(te,S),S+=ne,Q+=4+ne}if(Y<_-1)i=y[Y+1].dts-X.dts;else{var re=this.config,ie=X.dts-y[Y>0?Y-1:Y].dts;if(re.stretchShortVideoTrack&&null!==this.nextAudioPts){var oe=Math.floor(re.maxBufferHole*v),ae=(r?T+r*v:this.nextAudioPts)-X.pts;ae>oe?((i=ae-ie)<0&&(i=ie),u.logger.log("[mp4-remuxer]: It is approximately "+ae/90+" ms to the next segment; using duration "+i/90+" ms for the last video frame.")):i=ie}else i=ie}var se=Math.round(X.pts-X.dts);b.push(new g(X.key,i,Q,se))}if(b.length&&f&&f<70){var ue=b[0].flags;ue.dependsOn=2,ue.isNonSync=0}console.assert(void 0!==i,"mp4SampleDuration must be computed"),this.nextAvcDts=w=h+i,this.isVideoContiguous=!0;var le={data1:o.default.moof(e.sequenceNumber++,l,d({},e,{samples:b})),data2:H,startPTS:T/v,endPTS:(k+i)/v,startDTS:l/v,endDTS:w/v,type:"video",hasAudio:!1,hasVideo:!0,nb:b.length,dropped:e.dropped};return e.samples=[],e.dropped=0,console.assert(H.length,"MDAT length must not be zero"),le},t.remuxAudio=function(e,t,n,r,l){var c=e.inputTimeScale,f=c/(e.samplerate?e.samplerate:c),h=e.isAAC?1024:1152,p=h*f,v=this._initPTS,y=!e.isAAC&&this.typeSupported.mpeg,b=[],_=e.samples,E=y?0:8,w=this.nextAudioPts||-1,S=t*c;if(this.isAudioContiguous=n=n||_.length&&w>0&&(r&&Math.abs(S-w)<9e3||Math.abs(m(_[0].pts-v,S)-w)<20*p),_.forEach((function(e){e.pts=m(e.pts-v,S)})),!n||w<0){if(_=_.filter((function(e){return e.pts>=0})),!_.length)return;w=0===l?0:r?Math.max(0,S):_[0].pts}if(e.isAAC)for(var T=void 0!==l,k=this.config.maxAudioFramesDrift,x=0,A=w;x<_.length;x++){var P=_[x],O=P.pts,C=O-A,I=Math.abs(1e3*C/c);if(C<=-k*p&&T)0===x&&(u.logger.warn("Audio frame @ "+(O/c).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*C/c)+" ms."),this.nextAudioPts=w=A=O);else if(C>=k*p&&I<1e4&&T){var L=Math.round(C/p);(A=O-L*p)<0&&(L--,A+=p),0===x&&(this.nextAudioPts=w=A),u.logger.warn("[mp4-remuxer]: Injecting "+L+" audio frame @ "+(A/c).toFixed(3)+"s due to "+Math.round(1e3*C/c)+" ms gap.");for(var N=0;N<L;N++){var D=Math.max(A,0),R=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);R||(u.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),R=P.unit.subarray()),_.splice(x,0,{unit:R,pts:D}),A+=p,x++}}P.pts=A,A+=p}for(var M,j=null,F=null,V=0,U=_.length;U--;)V+=_[U].unit.byteLength;for(var B=0,z=_.length;B<z;B++){var G=_[B],q=G.unit,H=G.pts;if(null!==F)b[B-1].duration=Math.round((H-F)/f);else{if(n&&e.isAAC&&(H=w),j=H,!(V>0))return;V+=E;try{M=new Uint8Array(V)}catch(e){return void this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:V,reason:"fail allocating audio mdat "+V})}y||(new DataView(M.buffer).setUint32(0,V),M.set(o.default.types.mdat,4))}M.set(q,E);var W=q.byteLength;E+=W,b.push(new g(!0,h,W,0)),F=H}var K=b.length;if(K){var Y=b[b.length-1];this.nextAudioPts=w=F+f*Y.duration;var X=y?new Uint8Array(0):o.default.moof(e.sequenceNumber++,j/f,d({},e,{samples:b}));e.samples=[];var $=j/c,Q=w/c,J={data1:X,data2:M,startPTS:$,endPTS:Q,startDTS:$,endDTS:Q,type:"audio",hasAudio:!0,hasVideo:!1,nb:K};return this.isAudioContiguous=!0,console.assert(M.length,"MDAT length must not be zero"),J}},t.remuxEmptyAudio=function(e,t,n,r){var o=e.inputTimeScale,a=o/(e.samplerate?e.samplerate:o),s=this.nextAudioPts,l=(null!==s?s:r.startDTS*o)+this._initDTS,c=r.endDTS*o+this._initDTS,d=1024*a,f=Math.ceil((c-l)/d),h=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(u.logger.warn("[mp4-remuxer]: remux empty Audio"),h){for(var p=[],v=0;v<f;v++){var m=l+v*d;p.push({unit:h,pts:m,dts:m})}return e.samples=p,this.remuxAudio(e,t,n,!1)}u.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},t.remuxID3=function(e,t){var n=e.samples.length;if(n){for(var r=e.inputTimeScale,i=this._initPTS,o=this._initDTS,a=0;a<n;a++){var s=e.samples[a];s.pts=m(s.pts-i,t*r)/r,s.dts=m(s.dts-o,t*r)/r}var u=e.samples;return e.samples=[],{samples:u}}},t.remuxText=function(e,t){var n=e.samples.length;if(n){for(var r=e.inputTimeScale,i=this._initPTS,o=0;o<n;o++){var a=e.samples[o];a.pts=m(a.pts-i,t*r)/r}e.samples.sort((function(e,t){return e.pts-t.pts}));var s=e.samples;return e.samples=[],{samples:s}}},e}();function m(e,t){var n;if(null===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}var g=function(e,t,n,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=n,this.cts=r,this.flags=new y(e)},y=function(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1}},"./src/remux/passthrough-remuxer.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/utils/mp4-tools.ts"),o=n("./src/loader/fragment.ts"),a=n("./src/utils/logger.ts"),s=function(){function e(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this.initPTS=e,this.lastEndDTS=null},t.resetNextTimestamp=function(){this.lastEndDTS=null},t.resetInitSegment=function(e,t,n){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(e),this.emitInitSegment=!0},t.generateInitSegment=function(e){var t=this.audioCodec,n=this.videoCodec;if(!e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var r=this.initData=Object(i.parseInitSegment)(e);t||(t=l(r.audio,o.ElementaryStreamTypes.AUDIO)),n||(n=l(r.video,o.ElementaryStreamTypes.VIDEO));var s={};r.audio&&r.video?s.audiovideo={container:"video/mp4",codec:t+","+n,initSegment:e,id:"main"}:r.audio?s.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:r.video?s.video={container:"video/mp4",codec:n,initSegment:e,id:"main"}:a.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s},t.remux=function(e,t,n,o,s){var l=this.initPTS,c=this.lastEndDTS,d={audio:void 0,video:void 0,text:o,id3:n,initSegment:void 0};Object(r.isFiniteNumber)(c)||(c=this.lastEndDTS=s||0);var f=t.samples;if(!f||!f.length)return d;var h={initPTS:void 0,timescale:1},p=this.initData;if(p&&p.length||(this.generateInitSegment(f),p=this.initData),!p||!p.length)return a.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),d;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1),Object(r.isFiniteNumber)(l)||(this.initPTS=h.initPTS=l=u(p,f,c));var v=Object(i.getDuration)(f,p),m=c,g=v+m;Object(i.offsetStartDTS)(p,f,l),v>0?this.lastEndDTS=g:(a.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var y=!!p.audio,b=!!p.video,_="";y&&(_+="audio"),b&&(_+="video");var E={data1:f,startPTS:m,startDTS:m,endPTS:g,endDTS:g,type:_,hasAudio:y,hasVideo:b,nb:1,dropped:0};return d.audio="audio"===E.type?E:void 0,d.video="audio"!==E.type?E:void 0,d.text=o,d.id3=n,d.initSegment=h,d},e}(),u=function(e,t,n){return Object(i.getStartDTS)(e,t)-n};function l(e,t){var n=null==e?void 0:e.codec;return n&&n.length>4?n:"hvc1"===n?"hvc1.1.c.L120.90":"av01"===n?"av01.0.04M.08":"avc1"===n||t===o.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}t.default=s},"./src/task-loop.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.onHandlerDestroyed=function(){},t.hasInterval=function(){return!!this._tickInterval},t.hasNextTick=function(){return!!this._tickTimer},t.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},t.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},t.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},t.doTick=function(){},e}()},"./src/types/level.ts":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i;function o(e,t){var n=e.canSkipUntil,r=e.canSkipDateRanges,o=e.endSN;return n&&(void 0!==t?t-o:0)<n?r?i.v2:i.Yes:i.No}n.r(t),n.d(t,"HlsSkip",(function(){return i})),n.d(t,"getSkipValue",(function(){return o})),n.d(t,"HlsUrlParameters",(function(){return a})),n.d(t,"Level",(function(){return s})),function(e){e.No="",e.Yes="YES",e.v2="v2"}(i||(i={}));var a=function(){function e(e,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=n}return e.prototype.addDirectives=function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.toString()},e}(),s=function(){function e(e){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this.attrs=e.attrs,this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter((function(e){return e})).join(",").replace(/\.[^.,]+/g,"")}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.details=void 0,this._urlId=t)}}]),e}()},"./src/types/loader.ts":function(e,t,n){var r,i;n.r(t),n.d(t,"PlaylistContextType",(function(){return r})),n.d(t,"PlaylistLevelType",(function(){return i})),function(e){e.MANIFEST="manifest",e.LEVEL="level",e.AUDIO_TRACK="audioTrack",e.SUBTITLE_TRACK="subtitleTrack"}(r||(r={})),function(e){e.MAIN="main",e.AUDIO="audio",e.SUBTITLE="subtitle"}(i||(i={}))},"./src/types/transmuxer.ts":function(e,t,n){n.r(t),n.d(t,"ChunkMetadata",(function(){return r}));var r=function(e,t,n,r,i,o){void 0===r&&(r=0),void 0===i&&(i=-1),void 0===o&&(o=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=n,this.size=r,this.part=i,this.partial=o}},"./src/utils/attr-list.ts":function(e,t,n){n.r(t),n.d(t,"AttrList",(function(){return o}));var r=/^(\d+)x(\d+)$/,i=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function e(t){for(var n in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(n)&&(this[n]=t[n])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.optionalFloat=function(e,t){var n=this[e];return n?parseFloat(n):t},t.enumeratedString=function(e){return this[e]},t.bool=function(e){return"YES"===this[e]},t.decimalResolution=function(e){var t=r.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,n={};for(i.lastIndex=0;null!==(t=i.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1]]=r}return n},e}()},"./src/utils/binary-search.ts":function(e,t,n){n.r(t),t.default={search:function(e,t){for(var n=0,r=e.length-1,i=null,o=null;n<=r;){var a=t(o=e[i=(n+r)/2|0]);if(a>0)n=i+1;else{if(!(a<0))return o;r=i-1}}return null}}},"./src/utils/buffer-helper.ts":function(e,t,n){n.r(t),n.d(t,"BufferHelper",(function(){return o}));var r=n("./src/utils/logger.ts"),i={length:0,start:function(){return 0},end:function(){return 0}},o=function(){function e(){}return e.isBuffered=function(t,n){try{if(t)for(var r=e.getBuffered(t),i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}catch(e){}return!1},e.bufferInfo=function(t,n,r){try{if(t){var i,o=e.getBuffered(t),a=[];for(i=0;i<o.length;i++)a.push({start:o.start(i),end:o.end(i)});return this.bufferedInfo(a,n,r)}}catch(e){}return{len:0,start:n,end:n,nextStart:void 0}},e.bufferedInfo=function(e,t,n){t=Math.max(0,t),e.sort((function(e,t){return e.start-t.start||t.end-e.end}));var r=[];if(n)for(var i=0;i<e.length;i++){var o=r.length;if(o){var a=r[o-1].end;e[i].start-a<n?e[i].end>a&&(r[o-1].end=e[i].end):r.push(e[i])}else r.push(e[i])}else r=e;for(var s,u=0,l=t,c=t,d=0;d<r.length;d++){var f=r[d].start,h=r[d].end;if(t+n>=f&&t<h)l=f,u=(c=h)-t;else if(t+n<f){s=f;break}}return{len:u,start:l||0,end:c||0,nextStart:s}},e.getBuffered=function(e){try{return e.buffered}catch(e){return r.logger.log("failed to get media.buffered",e),i}},e}()},"./src/utils/codecs.ts":function(e,t,n){n.r(t),n.d(t,"isCodecType",(function(){return i})),n.d(t,"isCodecSupportedInMp4",(function(){return o}));var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function i(e,t){var n=r[t];return!!n&&!0===n[e.slice(0,4)]}function o(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/discontinuities.ts":function(e,t,n){n.r(t),n.d(t,"findFirstFragWithCC",(function(){return a})),n.d(t,"shouldAlignOnDiscontinuities",(function(){return s})),n.d(t,"findDiscontinuousReferenceFrag",(function(){return u})),n.d(t,"adjustSlidingStart",(function(){return c})),n.d(t,"alignStream",(function(){return d})),n.d(t,"alignPDT",(function(){return f})),n.d(t,"alignFragmentByPDTDelta",(function(){return h})),n.d(t,"alignMediaPlaylistByPDT",(function(){return p}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/logger.ts"),o=n("./src/controller/level-helper.ts");function a(e,t){for(var n=null,r=0,i=e.length;r<i;r++){var o=e[r];if(o&&o.cc===t){n=o;break}}return n}function s(e,t,n){return!(!t.details||!(n.endCC>n.startCC||e&&e.cc<n.startCC))}function u(e,t){var n=e.fragments,r=t.fragments;if(r.length&&n.length){var o=a(n,r[0].cc);if(o&&(!o||o.startPTS))return o;i.logger.log("No frag in previous level to align on")}else i.logger.log("No fragments to align")}function l(e,t){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}function c(e,t){for(var n=t.fragments,r=0,i=n.length;r<i;r++)l(n[r],e);t.fragmentHint&&l(t.fragmentHint,e),t.alignedSliding=!0}function d(e,t,n){t&&(function(e,t,n){if(s(e,n,t)){var o=u(n.details,t);o&&Object(r.isFiniteNumber)(o.start)&&(i.logger.log("Adjusting PTS using last level due to CC increase within current level "+t.url),c(o.start,t))}}(e,n,t),!n.alignedSliding&&t.details&&f(n,t.details),n.alignedSliding||!t.details||n.skippedSegments||Object(o.adjustSliding)(t.details,n))}function f(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var n=t.fragments[0].programDateTime,o=e.fragments[0].programDateTime,a=(o-n)/1e3+t.fragments[0].start;a&&Object(r.isFiniteNumber)(a)&&(i.logger.log("Adjusting PTS using programDateTime delta "+(o-n)+"ms, sliding:"+a.toFixed(3)+" "+e.url+" "),c(a,e))}}function h(e,t){var n=e.programDateTime;if(n){var r=(n-t)/1e3;e.start=e.startPTS=r,e.endPTS=r+e.duration}}function p(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var n=t.fragments[0].programDateTime-1e3*t.fragments[0].start;e.fragments.forEach((function(e){h(e,n)})),e.fragmentHint&&h(e.fragmentHint,n),e.alignedSliding=!0}}},"./src/utils/ewma-bandwidth-estimator.ts":function(e,t,n){n.r(t);var r=n("./src/utils/ewma.ts"),i=function(){function e(e,t,n){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(e),this.fast_=new r.default(t)}var t=e.prototype;return t.update=function(e,t){var n=this.slow_,i=this.fast_;this.slow_.halfLife!==e&&(this.slow_=new r.default(e,n.getEstimate(),n.getTotalWeight())),this.fast_.halfLife!==t&&(this.fast_=new r.default(t,i.getEstimate(),i.getTotalWeight()))},t.sample=function(e,t){var n=(e=Math.max(e,this.minDelayMs_))/1e3,r=8*t/n;this.fast_.sample(n,r),this.slow_.sample(n,r)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}();t.default=i},"./src/utils/ewma.ts":function(e,t,n){n.r(t);var r=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=n}var t=e.prototype;return t.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_},e}();t.default=r},"./src/utils/fetch-loader.ts":function(e,t,n){n.r(t),n.d(t,"fetchSupported",(function(){return d}));var r=n("./src/polyfills/number.ts"),i=n("./src/loader/load-stats.ts"),o=n("./src/demux/chunk-cache.ts");function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},a(e)}function s(e,t,n){return s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&u(i,n.prototype),i},s.apply(null,arguments)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}var f=function(){function e(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||h,this.controller=new self.AbortController,this.stats=new i.LoadStats}var t=e.prototype;return t.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},t.abortInternal=function(){var e=this.response;e&&e.ok||(this.stats.aborted=!0,this.controller.abort())},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},t.load=function(e,t,n){var i=this,o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();var a=function(e,t){var n={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(c({},e.headers))};return e.rangeEnd&&n.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1)),n}(e,this.controller.signal),s=n.onProgress,u="arraybuffer"===e.responseType,l=u?"byteLength":"length";this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){i.abortInternal(),n.onTimeout(o,e,i.response)}),t.timeout),self.fetch(this.request).then((function(n){if(i.response=i.loader=n,!n.ok){var a=n.status,l=n.statusText;throw new p(l||"fetch, bad network response",a,n)}return o.loading.first=Math.max(self.performance.now(),o.loading.start),o.total=parseInt(n.headers.get("Content-Length")||"0"),s&&Object(r.isFiniteNumber)(t.highWaterMark)?i.loadProgressively(n,o,e,t.highWaterMark,s):u?n.arrayBuffer():n.text()})).then((function(a){var u=i.response;self.clearTimeout(i.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first),o.loaded=o.total=a[l];var c={url:u.url,data:a};s&&!Object(r.isFiniteNumber)(t.highWaterMark)&&s(o,e,a,u),n.onSuccess(c,o,e,u)})).catch((function(t){if(self.clearTimeout(i.requestTimeout),!o.aborted){var r=t.code||0;n.onError({code:r,text:t.message},e,t.details)}}))},t.getCacheAge=function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e},t.loadProgressively=function(e,t,n,r,i){void 0===r&&(r=0);var a=new o.default,s=e.body.getReader();return function o(){return s.read().then((function(s){if(s.done)return a.dataLength&&i(t,n,a.flush(),e),Promise.resolve(new ArrayBuffer(0));var u=s.value,l=u.length;return t.loaded+=l,l<r||a.dataLength?(a.push(u),a.dataLength>=r&&i(t,n,a.flush(),e)):i(t,n,u,e),o()})).catch((function(){return Promise.reject()}))}()},e}();function h(e,t){return new self.Request(e.url,t)}var p=function(e){var t,n;function r(t,n,r){var i;return(i=e.call(this,t)||this).code=void 0,i.details=void 0,i.code=n,i.details=r,i}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),r}(a(Error));t.default=f},"./src/utils/logger.ts":function(e,t,n){n.r(t),n.d(t,"enableLogs",(function(){return s})),n.d(t,"logger",(function(){return u}));var r=function(){},i={trace:r,debug:r,log:r,warn:r,info:r,error:r},o=i;function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach((function(t){o[t]=e[t]?e[t].bind(e):function(e){var t=self.console[e];return t?t.bind(self.console,"["+e+"] >"):r}(t)}))}function s(e){if(self.console&&!0===e||"object"==typeof e){a(e,"debug","log","info","warn","error");try{o.log()}catch(e){o=i}}else o=i}var u=i},"./src/utils/mediakeys-helper.ts":function(e,t,n){var r;n.r(t),n.d(t,"KeySystems",(function(){return r})),n.d(t,"requestMediaKeySystemAccess",(function(){return i})),function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready"}(r||(r={}));var i="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(e,t,n){function r(){return self.MediaSource||self.WebKitMediaSource}n.r(t),n.d(t,"getMediaSource",(function(){return r}))},"./src/utils/mp4-tools.ts":function(e,t,n){n.r(t),n.d(t,"bin2str",(function(){return s})),n.d(t,"readUint16",(function(){return u})),n.d(t,"readUint32",(function(){return l})),n.d(t,"writeUint32",(function(){return c})),n.d(t,"findBox",(function(){return d})),n.d(t,"parseSegmentIndex",(function(){return f})),n.d(t,"parseInitSegment",(function(){return h})),n.d(t,"getStartDTS",(function(){return p})),n.d(t,"getDuration",(function(){return v})),n.d(t,"computeRawDurationFromSamples",(function(){return m})),n.d(t,"offsetStartDTS",(function(){return g})),n.d(t,"segmentValidRange",(function(){return y})),n.d(t,"appendUint8Array",(function(){return b}));var r=n("./src/utils/typed-array.ts"),i=n("./src/loader/fragment.ts"),o=Math.pow(2,32)-1,a=[].push;function s(e){return String.fromCharCode.apply(null,e)}function u(e,t){"data"in e&&(t+=e.start,e=e.data);var n=e[t]<<8|e[t+1];return n<0?65536+n:n}function l(e,t){"data"in e&&(t+=e.start,e=e.data);var n=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return n<0?4294967296+n:n}function c(e,t,n){"data"in e&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function d(e,t){var n,r,i,o=[];if(!t.length)return o;"data"in e?(n=e.data,r=e.start,i=e.end):(r=0,i=(n=e).byteLength);for(var u=r;u<i;){var c=l(n,u),f=c>1?u+c:i;if(s(n.subarray(u+4,u+8))===t[0])if(1===t.length)o.push({data:n,start:u+8,end:f});else{var h=d({data:n,start:u+8,end:f},t.slice(1));h.length&&a.apply(o,h)}u=f}return o}function f(e){var t=d(e,["moov"])[0],n=t?t.end:null,r=d(e,["sidx"]);if(!r||!r[0])return null;var i=[],o=r[0],a=o.data[0],s=0===a?8:16,c=l(o,s);s+=4,s+=0===a?8:16,s+=2;var f=o.end+0,h=u(o,s);s+=2;for(var p=0;p<h;p++){var v=s,m=l(o,v);v+=4;var g=2147483647&m;if(1==(2147483648&m)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var y=l(o,v);v+=4,i.push({referenceSize:g,subsegmentDuration:y,info:{duration:y/c,start:f,end:f+g-1}}),f+=g,s=v+=4}return{earliestPresentationTime:0,timescale:c,version:a,referencesCount:h,references:i,moovEndOffset:n}}function h(e){for(var t=[],n=d(e,["moov","trak"]),r=0;r<n.length;r++){var o=n[r],a=d(o,["tkhd"])[0];if(a){var u=a.data[a.start],c=0===u?12:20,f=l(a,c),h=d(o,["mdia","mdhd"])[0];if(h){var p=l(h,c=0===(u=h.data[h.start])?12:20),v=d(o,["mdia","hdlr"])[0];if(v){var m=s(v.data.subarray(v.start+8,v.start+12)),g={soun:i.ElementaryStreamTypes.AUDIO,vide:i.ElementaryStreamTypes.VIDEO}[m];if(g){var y=d(o,["mdia","minf","stbl","stsd"])[0],b=void 0;y&&(b=s(y.data.subarray(y.start+12,y.start+16))),t[f]={timescale:p,type:g},t[g]={timescale:p,id:f,codec:b}}}}}}return d(e,["moov","mvex","trex"]).forEach((function(e){var n=l(e,4),r=t[n];r&&(r.default={duration:l(e,12),flags:l(e,20)})})),t}function p(e,t){return d(t,["moof","traf"]).reduce((function(t,n){var r=d(n,["tfdt"])[0],i=r.data[r.start],o=d(n,["tfhd"]).reduce((function(t,n){var o=l(n,4),a=e[o];if(a){var s=l(r,4);1===i&&(s*=Math.pow(2,32),s+=l(r,8));var u=s/(a.timescale||9e4);if(isFinite(u)&&(null===t||u<t))return u}return t}),null);return null!==o&&isFinite(o)&&(null===t||o<t)?o:t}),null)||0}function v(e,t){for(var n=0,r=0,o=0,a=d(e,["moof","traf"]),s=0;s<a.length;s++){var u=a[s],c=d(u,["tfhd"])[0],h=t[l(c,4)];if(h){var p=h.default,v=l(c,0)|(null==p?void 0:p.flags),g=null==p?void 0:p.duration;8&v&&(g=l(c,2&v?12:8));for(var y=h.timescale||9e4,b=d(u,["trun"]),_=0;_<b.length;_++)!(n=m(b[_]))&&g&&(n=g*l(b[_],4)),h.type===i.ElementaryStreamTypes.VIDEO?r+=n/y:h.type===i.ElementaryStreamTypes.AUDIO&&(o+=n/y)}}if(0===r&&0===o){var E=f(e);if(null!=E&&E.references)return E.references.reduce((function(e,t){return e+t.info.duration||0}),0)}return r||o}function m(e){var t=l(e,0),n=8;1&t&&(n+=4),4&t&&(n+=4);for(var r=0,i=l(e,4),o=0;o<i;o++)256&t&&(r+=l(e,n),n+=4),512&t&&(n+=4),1024&t&&(n+=4),2048&t&&(n+=4);return r}function g(e,t,n){d(t,["moof","traf"]).forEach((function(t){d(t,["tfhd"]).forEach((function(r){var i=l(r,4),a=e[i];if(a){var s=a.timescale||9e4;d(t,["tfdt"]).forEach((function(e){var t=e.data[e.start],r=l(e,4);if(0===t)c(e,4,r-n*s);else{r*=Math.pow(2,32),r+=l(e,8),r-=n*s,r=Math.max(r,0);var i=Math.floor(r/(o+1)),a=Math.floor(r%(o+1));c(e,4,i),c(e,8,a)}}))}}))}))}function y(e){var t={valid:null,remainder:null},n=d(e,["moof"]);if(!n)return t;if(n.length<2)return t.remainder=e,t;var i=n[n.length-1];return t.valid=Object(r.sliceUint8)(e,0,i.start-8),t.remainder=Object(r.sliceUint8)(e,i.start-8),t}function b(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}},"./src/utils/texttrack-utils.ts":function(e,t,n){n.r(t),n.d(t,"sendAddTrackEvent",(function(){return i})),n.d(t,"addCueToTrack",(function(){return o})),n.d(t,"clearCurrentCues",(function(){return a})),n.d(t,"removeCuesInRange",(function(){return s})),n.d(t,"getCuesInRange",(function(){return u}));var r=n("./src/utils/logger.ts");function i(e,t){var n;try{n=new Event("addtrack")}catch(e){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}function o(e,t){var n=e.mode;if("disabled"===n&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(n){r.logger.debug("[texttrack-utils]: "+n);var i=new self.TextTrackCue(t.startTime,t.endTime,t.text);i.id=t.id,e.addCue(i)}"disabled"===n&&(e.mode=n)}function a(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var n=e.cues.length;n--;)e.removeCue(e.cues[n]);"disabled"===t&&(e.mode=t)}function s(e,t,n){var r=e.mode;if("disabled"===r&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var i=u(e.cues,t,n),o=0;o<i.length;o++)e.removeCue(i[o]);"disabled"===r&&(e.mode=r)}function u(e,t,n){var r=[],i=function(e,t){if(t<e[0].startTime)return 0;var n=e.length-1;if(t>e[n].endTime)return-1;for(var r=0,i=n;r<=i;){var o=Math.floor((i+r)/2);if(t<e[o].startTime)i=o-1;else{if(!(t>e[o].startTime&&r<n))return o;r=o+1}}return e[r].startTime-t<t-e[i].startTime?r:i}(e,t);if(i>-1)for(var o=i,a=e.length;o<a;o++){var s=e[o];if(s.startTime>=t&&s.endTime<=n)r.push(s);else if(s.startTime>n)return r}return r}},"./src/utils/time-ranges.ts":function(e,t,n){n.r(t),t.default={toString:function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}}},"./src/utils/timescale-conversion.ts":function(e,t,n){n.r(t),n.d(t,"toTimescaleFromBase",(function(){return i})),n.d(t,"toTimescaleFromScale",(function(){return o})),n.d(t,"toMsFromMpegTsClock",(function(){return a})),n.d(t,"toMpegTsClockFromTimescale",(function(){return s}));var r=9e4;function i(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=!1);var i=e*t*n;return r?Math.round(i):i}function o(e,t,n,r){return void 0===n&&(n=1),void 0===r&&(r=!1),i(e,t,1/n,r)}function a(e,t){return void 0===t&&(t=!1),i(e,1e3,1/r,t)}function s(e,t){return void 0===t&&(t=1),i(e,r,1/t)}},"./src/utils/typed-array.ts":function(e,t,n){function r(e,t,n){return Uint8Array.prototype.slice?e.slice(t,n):new Uint8Array(Array.prototype.slice.call(e,t,n))}n.r(t),n.d(t,"sliceUint8",(function(){return r}))},"./src/utils/xhr-loader.ts":function(e,t,n){n.r(t);var r=n("./src/utils/logger.ts"),i=n("./src/loader/load-stats.ts"),o=/^age:\s*[\d.]+\s*$/m,a=function(){function e(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e?e.xhrSetup:null,this.stats=new i.LoadStats,this.retryDelay=0}var t=e.prototype;return t.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},t.abortInternal=function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},t.load=function(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e=this.config,t=this.context;if(e){var n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0;var i=this.xhrSetup;try{if(i)try{i(n,t.url)}catch(e){n.open("GET",t.url,!0),i(n,t.url)}n.readyState||n.open("GET",t.url,!0);var o=this.context.headers;if(o)for(var a in o)n.setRequestHeader(a,o[a])}catch(e){return void this.callbacks.onError({code:n.status,text:e.message},t,n)}t.rangeEnd&&n.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),n.onreadystatechange=this.readystatechange.bind(this),n.onprogress=this.loadprogress.bind(this),n.responseType=t.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),e.timeout),n.send()}},t.readystatechange=function(){var e=this.context,t=this.loader,n=this.stats;if(e&&t){var i=t.readyState,o=this.config;if(!n.aborted&&i>=2)if(self.clearTimeout(this.requestTimeout),0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start)),4===i){t.onreadystatechange=null,t.onprogress=null;var a=t.status;if(a>=200&&a<300){var s,u;if(n.loading.end=Math.max(self.performance.now(),n.loading.first),u="arraybuffer"===e.responseType?(s=t.response).byteLength:(s=t.responseText).length,n.loaded=n.total=u,!this.callbacks)return;var l=this.callbacks.onProgress;if(l&&l(n,e,s,t),!this.callbacks)return;var c={url:t.responseURL,data:s};this.callbacks.onSuccess(c,n,e,t)}else n.retry>=o.maxRetry||a>=400&&a<499?(r.logger.error(a+" while loading "+e.url),this.callbacks.onError({code:a,text:t.statusText},e,t)):(r.logger.warn(a+" while loading "+e.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),n.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),o.timeout)}},t.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url);var e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))},t.loadprogress=function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)},t.getCacheAge=function(){var e=null;if(this.loader&&o.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e},e}();t.default=a}}).default},e.exports=n())}(_ve);var Eve,wve,Sve=d(_ve.exports);!function(e){e.LoadedData="loadeddata",e.LoadedMetaData="loadedmetadata",e.CanPlay="canplay",e.Playing="playing",e.Pause="pause",e.Ended="ended",e.TimeUpdate="timeupdate",e.Seeking="seeking",e.Seeked="seeked",e.VolumeChange="volumechange",e.DurationChange="durationchange",e.Waiting="waiting",e.Error="error",e.Unlocked="unlocked"}(Eve||(Eve={})),function(e){e.ABORTED="AbortError",e.NETWORK="NetworkError",e.NOT_ALLOWED="NotAllowedError",e.NOT_SUPPORTED="NotSupportedError"}(wve||(wve={}));var Tve,kve="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",xve={autoplay:!1,controls:!1,defaultMuted:!0,loop:!1,muted:!0,preload:"auto",requireUnlock:!1},Ave=function(){if(void 0===Tve){var e=new Audio;Tve=!!e.canPlayType("application/vnd.apple.mpegurl")}return Tve},Pve=function(e){function t(t){var n=e.call(this)||this;n.unlocked=!1,n.requireUnlock=!1,n.$audio=new Audio;var r=SR(SR({},xve),t),i=r.requireUnlock,o=TR(r,["requireUnlock"]);return Object.keys(o).forEach((function(e){n.$audio[e]=o[e]})),n.requireUnlock=i||!1,i&&document.addEventListener("click",n.unlock.bind(n),{once:!0}),n}return wR(t,e),Object.defineProperty(t.prototype,"duration",{get:function(){return Math.min(this.$audio.duration,59.9)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.$audio.currentTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this.$audio.paused},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return this.$audio.src===kve?"":this.$audio.src},enumerable:!1,configurable:!0}),t.prototype.load=function(e){if(e)if(e.includes(".m3u8"))if(Sve.isSupported())this.hls=new Sve,this.hls.loadSource(e),this.hls.attachMedia(this.$audio);else{if(!Ave())throw new Error("Cannot play hls file: ".concat(e));this.$audio.src=e,this.$audio.load()}else this.$audio.src=e,this.$audio.load()},t.prototype.unload=function(){this.hls?this.hls.destroy():(this.$audio.removeAttribute("src"),this.$audio.load())},t.prototype.play=function(){return xR(this,void 0,void 0,(function(){var e,t;return AR(this,(function(n){switch(n.label){case 0:if(!this.src||!this.$audio.paused||this.requireUnlock&&!this.unlocked)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.$audio.play()];case 2:return n.sent(),this.error=void 0,[3,4];case 3:return e=n.sent(),t=e.name,this.error=t,this.emit(Eve.Error,t),[3,4];case 4:return[2]}}))}))},t.prototype.unlock=function(){return xR(this,void 0,void 0,(function(){var e,t,n;return AR(this,(function(r){switch(r.label){case 0:return this.unlocked?[2]:(e=!this.src)?[4,this.load(kve)]:[3,2];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.$audio.play()];case 3:return r.sent(),this.error=void 0,this.unlocked=!0,e?(this.unload(),[2]):(this.emit(Eve.Unlocked),[3,5]);case 4:return t=r.sent(),n=t.name,this.error=n,[3,5];case 5:return[2]}}))}))},t.prototype.pause=function(){this.src&&!this.$audio.paused&&this.$audio.pause()},t.prototype.updateTime=function(e){return xR(this,void 0,void 0,(function(){var t=this;return AR(this,(function(n){return this.$audio.currentTime=e,[2,new Promise((function(e){navigator.onLine?t.$audio.addEventListener(Eve.TimeUpdate,(function(){return e()}),{once:!0}):e()}))]}))}))},t.prototype.setMuted=function(e){this.$audio.muted=e},t.prototype.on=function(t,n,r){return e.prototype.on.call(this,t,n,r),this.$audio.addEventListener(t,n,r),this},t.prototype.off=function(t,n){return e.prototype.off.call(this,t,n),this.$audio.removeEventListener(t,n),this},t.prototype.isAtEndingPoint=function(){return!this.duration||this.currentTime/this.duration>.99},t.prototype.moveToEndingPoint=function(){var e=this.$audio.duration;return Rle.isIos()&&(e=Math.floor(10*e)/10),this.updateTime(e)},t.prototype.isAudioActive=function(){return!!this.src&&!this.isAtEndingPoint()},t}(OR.exports.EventEmitter),Ove={getTrackInfo:function(e){return xR(this,void 0,void 0,(function(){var t;return AR(this,(function(n){return t=SR({trackIds:e},Sve.isSupported()||Ave()?{previewType:fve.Hls,codecType:dve.Aac}:{previewType:fve.Pd}),[2,Jpe({serviceName:"make",usePostfix:!1}).get("/vibe/tracks",{params:t}).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t[0]}))]}))}))}},Cve=1;function Ive(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}var Lve,Nve=function(e){return new Promise((function(t,n){var r=document.createElement("script"),i=e.url;if(e.params){var o=Ive(e.params);o&&(i+=(i.indexOf("?")>=0?"&":"?")+o)}function a(){r&&(r.onload=r.onreadystatechange=r.onerror=null,r.parentNode&&r.parentNode.removeChild(r),r=null)}r.async=!0;var s="axiosJsonpCallback"+Cve++,u=window[s],l=!1;window[s]=function(e){window[s]=u,l||t({data:e,status:200})};var c={_:(new Date).getTime()};c[e.callbackParamName||"callback"]=s,i+=(i.indexOf("?")>=0?"&":"?")+Ive(c),r.onload=r.onreadystatechange=function(){r.readyState&&!/loaded|complete/.test(r.readyState)||a()},r.onerror=function(){a(),n(new Error("Network Error"))},e.cancelToken&&e.cancelToken.promise.then((function(e){r&&(l=!0,n(e))})),r.src=i,document.head.appendChild(r)}))},Dve=function(){var e,t,n=(null===(t=null===(e=ple.defaultCustomLayerOptions)||void 0===e?void 0:e.reaction)||void 0===t?void 0:t.options)||{},r=n.isUseApigw,i=n.pool;return Ype.create({adapter:Nve,timeout:5e3,withCredentials:!0,params:r?{pool:i}:void 0})},Rve=function(e){return xR(void 0,void 0,void 0,(function(){return AR(this,(function(t){return[2,Dve().get(e).then((function(e){var t,n,r=null===(n=null===(t=e.data)||void 0===t?void 0:t.reactions)||void 0===n?void 0:n.find((function(e){return"like"===e.reactionType})),i=null!=r?r:{},o=i.count,a=void 0===o?0:o,s=i.isReacted;return{count:a,isReacted:void 0!==s&&s}}))]}))}))},Mve=function(e){return xR(void 0,void 0,void 0,(function(){return AR(this,(function(t){return[2,Dve().get(e,{params:{isDuplication:!1}}).then((function(e){return{guestToken:e.data.guestToken,timestamp:e.data.timestamp}}))]}))}))},jve=function(e,t,n){return xR(void 0,void 0,void 0,(function(){var r,i,o;return AR(this,(function(a){switch(a.label){case 0:return[4,Mve(e)];case 1:return r=a.sent(),i=r.guestToken,o=r.timestamp,[2,Dve().get(e,{params:{guestToken:i,timestamp:o,reactionType:"like",isDuplication:!1,categoryId:n,_method:t?"POST":"DELETE",suppress_response_codes:!0}}).then((function(e){var t=e.data;if(t.errorCode&&t.statusCode)throw t;return t}))]}}))}))},Fve=function(e){var t,n,r=(null===(n=null===(t=ple.defaultCustomLayerOptions)||void 0===t?void 0:t.reaction)||void 0===n?void 0:n.options)||{},i=r.domain,o=r.serviceId,a=r.contentsId,s=null==a?void 0:a(e);return"".concat(i,"/v1/services/").concat(o,"/contents/").concat(s)},Vve=function(e){var t=$pe(),n="TRACK_".concat(e);return"".concat(t,"/vibeWeb/like/v1/services/MUSIC/contents/").concat(n)},Uve={getMomentReactionInfo:function(e){return xR(void 0,void 0,void 0,(function(){var t;return AR(this,(function(n){return t=Fve(e),[2,Rve(t)]}))}))},getVibeReactionInfo:function(e){return xR(void 0,void 0,void 0,(function(){var t;return AR(this,(function(n){return t=Vve(e),[2,Rve(t)]}))}))},toggleMomentReaction:function(e,t){return xR(void 0,void 0,void 0,(function(){var n,r,i,o,a;return AR(this,(function(s){return n=Fve(e),r=null===(a=null===(o=null===(i=ple.defaultCustomLayerOptions)||void 0===i?void 0:i.reaction)||void 0===o?void 0:o.options)||void 0===a?void 0:a.categoryId,[2,jve(n,t,r)]}))}))},toggleVibeReaction:function(e,t){return xR(void 0,void 0,void 0,(function(){var n;return AR(this,(function(r){return n=Vve(e),[2,jve(n,t,"TRACK")]}))}))}},Bve={auth:Xpe,blog:rve,place:ave,shopping:uve,book:lve,movie:cve,playCount:pve,style:vve,stats:bve,vibe:Ove,reaction:Uve},zve=function(){function e(){}return e.prototype.getAll=function(){return{getMoment:this.getMoment,getPlayInfo:this.getPlayInfo,deleteMoment:this.deleteMoment}},e.prototype.initialize=function(e,t){var n=this,r=SR(SR({},this.getAll()),e),i=SR(SR({},r),{getMoment:function(e){if(!e)return Promise.resolve(null);var n=e.momentId,i=function(){return r.getMoment(e).then((function(e){var t;return $le.includes(e.blockType)&&(t={serviceType:"moment",code:Kle.Blocked,message:e.alertMessage}),SR(SR({},e),{error:t})}))},o=(null==t?void 0:t.playCount)?function(e){return Bve.playCount.getPlayCount({momentId:e})}:function(){return Promise.resolve()};return n?Promise.all([i(),o(n)]).then((function(t){var n=t[0],r=t[1];return SR(SR(SR({},e),n),{playCount:r})})):i().then((function(t){return o(t.momentId).then((function(n){return SR(SR(SR({},e),t),{playCount:n})}))}))}});Object.keys(i).forEach((function(e){n[e]=i[e]}))},e}(),Gve=new zve;!function(e){e.UpdateError="error/UPDATE",e.ResetError="error/RESET"}(Lve||(Lve={}));var qve,Hve,Wve=function(e){return e&&e.code!==Kle.Blocked},Kve=function(e){return Wve(e)&&(e.code===Xle.Network||"Network Error"===e.message)},Yve=function(e){var t,n;return e&&(e.serviceType?(t=e.code,n=e.message):(Kve(e)?t=Xle.Network:e.response?t=e.response.status:e.request&&(t=Xle.Client),n=Jle[t])),{serviceType:e.serviceType,code:t||Yle.InternalServerError,message:n||Jle[Yle.InternalServerError]}},Xve=function(e){return{type:Lve.UpdateError,payload:Yve(e)}},$ve=function(e,t){var n=function(e,t){switch(e){case Nle.Progress:return Kle.Encoding;case Nle.Failure:return t?Kle.EncodeFailure:Kle.NotExist;default:return Kle.Encoding}}(e,t===ahe.BlogOwner),r=Jle[n];return{type:Lve.UpdateError,payload:{code:n,message:r}}},Qve=function(){return{type:Lve.ResetError,payload:null}};!function(e){e.SetIndex="moment/SET_INDEX",e.SetMomentData="moment/SET",e.UpdateMomentData="moment/UPDATE",e.RefreshList="moment/REFRESH_LIST",e.Clear="moment/CLEAR"}(qve||(qve={})),function(e){e.Prev="moment/SET_MOMENT_PREV",e.Next="moment/SET_MOMENT_NEXT"}(Hve||(Hve={}));var Jve,Zve,eme={id:null,indexes:[],momentId:null,duration:0,clips:[],events:[],description:"",bgm:"",metadata:{},resolution:{width:0,height:0},style:null,tags:[],thumbnailUrl:"",title:"",nickname:"",date:new Date,userRelationType:ahe.BlogOwner,commentCount:0,reactionCount:0,blogId:"",encodingType:Nle.Progress,blockType:Dle.Passed,blogName:"",directory:SR({},vhe),version:"1.0.0",playCount:0,isLiked:!1,sprites:[],isDeleted:!1},tme={items:[eme],currentIndex:0},nme=function(e){var t=function(e){var t=e.title,n=e.description;return SR(SR({},e),{title:"".concat(t," ").concat(n),description:""})}(e),n=t.version;if(rce(n))return function(e){var t=e.clips,n=void 0===t?[]:t,r=0,i=n.map((function(e){var t=r;return r+=e.duration,t}));return SR(SR({},e),{events:n.map((function(e,t){return e.events.map((function(e,n){var r=e.method.range;return e.method.range=r&&{startTime:i[t]+r.startTime/1e3,endTime:i[t]+r.endTime/1e3},SR(SR({},e),{eventId:e.eventId||"".concat(t,"_").concat(n)})}))})).reduce((function(e,t){return e.concat(t)}),[]),indexes:n.map((function(e,t){return{range:{startTime:i[t],endTime:i[t]+e.duration},thumbnail:phe(e.thumbnail,she.Item),title:e.title}}))})}(t);if(ice(n))return function(e){var t=e.clips,n=void 0===t?[]:t,r=e.indexes,i=n[0],o=(null==i?void 0:i.events)||[];return SR(SR({},e),{events:o.map((function(e,t){return SR(SR({},e),{eventId:e.eventId||"".concat(t),method:{range:{startTime:e.method.range.startTime/1e3,endTime:e.method.range.endTime/1e3}}})})),indexes:r.map((function(e){return SR(SR({},e),{range:{startTime:e.range.startTime/1e3,endTime:e.range.endTime/1e3}})}))})}(t);throw new Error(Jle[Kle.NotSupportedVersion])};function rme(e){return{type:qve.UpdateMomentData,payload:e}}function ime(e){return function(t){return Gve.getMoment(e).then((function(n){var r=nme(SR(SR({},e),n));t(rme(r))})).catch((function(n){t(rme(SR(SR({},e),{error:Yve(n)})))}))}}function ome(){return function(e,t){var n=Gve.getPrevMoment,r=t().moment.items[0];n&&r&&n(r).then((function(t){t&&(e({type:Hve.Prev,payload:SR(SR({},eme),t)}),e(ime(t)))})).catch((function(){}))}}function ame(){return function(e,t){var n=Gve.getNextMoment,r=t().moment.items,i=r[r.length-1];n&&i&&n(i).then((function(t){t&&(e({type:Hve.Next,payload:SR(SR({},eme),t)}),e(ime(t)))})).catch((function(){}))}}function sme(e){return{type:qve.SetIndex,payload:e}}function ume(e){return{type:qve.SetMomentData,payload:SR(SR({},eme),e)}}!function(e){e[e.NetworkError=0]="NetworkError",e[e.Error=1]="Error",e[e.AddressCopied=2]="AddressCopied",e[e.InvalidLink=3]="InvalidLink",e[e.MusicError=4]="MusicError",e[e.VibeMusicLiked=5]="VibeMusicLiked"}(Zve||(Zve={}));var lme,cme=ule(((Jve={})[Zve.NetworkError]="message.error_network",Jve[Zve.Error]="message.error_common",Jve[Zve.AddressCopied]="message.success_copy_url",Jve[Zve.InvalidLink]="message.error_load_info",Jve[Zve.MusicError]="message.error_temporary_music",Jve[Zve.VibeMusicLiked]="message.success_like_vibe",Jve)),dme=function(){function e(){}return e.prototype.set=function(e,t){var n=this;void 0===t&&(t=3e3),this.clear(),this.timerId=setTimeout((function(){n.timerId=null,e()}),t)},e.prototype.clear=function(){this.timerId&&clearTimeout(this.timerId),this.timerId=null},e}();!function(e){e.Set="toast/SET",e.Reset="toast/RESET"}(lme||(lme={}));var fme={active:!1,message:""},hme=new dme,pme=function(e){return"Network Error"===(null==e?void 0:e.message)?Zve.NetworkError:Zve.Error},vme=function(){return hme.clear(),{type:lme.Reset}},mme=function(t,n){return function(r){r({type:lme.Set,message:t}),hme.set((function(){return r(vme())}),n||e.HideDelay.Toast)}},gme=function(e){return function(t){t(mme(cme[e]))}},yme=function(e){return function(t){var n=pme(e);t(mme(n===Zve.NetworkError?cme[Zve.NetworkError]:e.message))}},bme=IW({auth:function(e,t){switch(void 0===e&&(e=rhe),t.type){case Qfe.Set:return SR(SR({},e),t.payload);case Qfe.Reset:return SR({},rhe);default:return e}},layer:function(e,t){switch(void 0===e&&(e=che),t.type){case nhe.Set:return SR(SR({},e),t.payload);case nhe.Update:case nhe.UpdateState:return SR(SR(SR({},e),t.payload),{previousLayerState:e.layerState});case nhe.PreviousState:return SR(SR(SR({},e),{layerState:e.previousLayerState}),lhe[e.previousLayerState]);default:return e}},moment:function(e,t){switch(void 0===e&&(e=tme),t.type){case Hve.Prev:return SR(SR({},e),{items:PR([t.payload],e.items,!0),currentIndex:e.items.length?1:0});case Hve.Next:return SR(SR({},e),{items:PR(PR([],e.items,!0),[t.payload],!1)});case qve.SetMomentData:var n=nme(t.payload);return SR(SR({},e),{items:[n]});case qve.SetIndex:return SR(SR({},e),{currentIndex:t.payload});case qve.UpdateMomentData:var r=t.payload,i=(u=PR([],e.items,!0)).findIndex((function(e){return e.id&&e.id===r.id})),o=-1===i?e.currentIndex:i;return u[o]=SR(SR({},u[o]),r),SR(SR({},e),{items:u});case qve.RefreshList:var a=(u=PR([],e.items,!0)).findIndex((function(e){return e.isDeleted}));if(-1===a)return SR({},e);var s=a<e.currentIndex;return u.splice(a,1),SR(SR({},e),{items:u,currentIndex:e.currentIndex-(s?1:0)});case qve.Clear:var u;return(u=PR([],e.items,!0))[e.currentIndex]=SR(SR({},u[e.currentIndex]),{isDeleted:!0}),SR(SR({},e),{items:u});default:return e}},error:function(e,t){switch(void 0===e&&(e=null),t.type){case Lve.UpdateError:return SR(SR({},e),t.payload);case Lve.ResetError:return null;default:return e}},toast:function(e,t){switch(void 0===e&&(e=fme),t.type){case lme.Set:return{active:!0,message:t.message};case lme.Reset:return SR(SR({},e),{active:!1});default:return e}}});function _me(e,t){void 0===t&&(t={});var n=kde({}),r=[Ade,Jfe,Zfe(e)],i=n(DW.apply(void 0,r));return CW(bme,t,i)}var Eme,wme=u.default.createContext({}),Sme=function(t){var n=t.viewer,r=t.children,o=i.useState(n.openType!==e.ViewerOpenType.Layer),a=o[0],s=o[1],l=i.useState(!0),c=l[0],d=l[1];return i.useEffect((function(){var t=function(){return s(!0)},r=function(){document.hidden?d(!1):d(!0)};return document.addEventListener("visibilitychange",r),n.on(e.ViewerEvents.OpenTransitionEnd,t),function(){document.removeEventListener("visibilitychange",r),n.off(e.ViewerEvents.OpenTransitionEnd,t)}}),[n]),u.default.createElement(wme.Provider,{value:{viewer:n,isTransitionEnd:a,isDocumentFocused:c}},r)},Tme=function(){var e=i.useContext(wme).isDocumentFocused,t=Zce((function(e){return e.error})),n=Zce((function(e){return e.layer})),r=n.isExtraLayerVisible,o=n.popupState,a=n.activeStickerLayerId;return t&&t.code!==Kle.Blocked||r||!!o||!e||null!==a},kme=function(){return"complete"===document.readyState};!function(e){e[e.NotAvailable=0]="NotAvailable",e[e.Loaded=1]="Loaded",e[e.Loading=2]="Loading",e[e.Failed=3]="Failed"}(Eme||(Eme={}));var xme=function(){var e=i.useState(navigator.onLine),t=e[0],n=e[1];return i.useEffect((function(){var e=function(){return n(navigator.onLine)};return window.addEventListener("online",e),window.addEventListener("offline",e),function(){window.removeEventListener("online",e),window.removeEventListener("offline",e)}}),[]),t},Ame=new dme,Pme=u.default.createContext({}),Ome=function(t){var n=t.player,r=t.playingPoint,o=t.children,a=Tme(),s=i.useState({isPlaying:!0,timestamp:Date.now()}),l=s[0],c=l.isPlaying,d=l.timestamp,f=s[1],h=i.useState(!1),p=h[0],v=h[1],m=function(t){var n=Zce((function(e){return e.error})),r=i.useState(!1),o=r[0],a=r[1],s=xme(),u=i.useState(Eme.NotAvailable),l=u[0],c=u[1],d=i.useCallback((function(){c(Eme.Loaded),a(!1),Ame.clear()}),[]),f=i.useCallback((function(){c(Eme.Loading),navigator.onLine?t.reload().then(d).catch((function(){return c(Eme.Failed)})):c(Eme.Failed)}),[t]);return i.useEffect((function(){var n=function(){return a(!0)};return t.on(e.PlayerEvents.Playing,d),t.on(e.PlayerEvents.Waiting,n),function(){t.off(e.PlayerEvents.Playing,d),t.off(e.PlayerEvents.Waiting,n)}}),[t]),i.useEffect((function(){s||!o||n||(c(Eme.Loading),Ame.set((function(){return c(Eme.Failed)}),1e3))}),[s,o,n]),i.useEffect((function(){return function(){d()}}),[]),{networkLoadingState:l,retry:f,reset:d}}(n),g=m.networkLoadingState,y=m.retry,b=m.reset,_=p?Xae:r,E=i.useCallback((function(e){f({isPlaying:e,timestamp:Date.now()}),Yfe.set(Wfe,e)}),[]);return i.useEffect((function(){a||g===Eme.Failed?n.pause():c?n.play():n.pause()}),[n,a,c,d,g]),i.useEffect((function(){var t=function(e){if(!e.replay&&!p){var t=!!Ple&&window.performance.navigation.type===window.performance.navigation.TYPE_RELOAD||Xfe();a&&n.pause(),E(t),v(!0)}},r=function(){return E(!1)};return n.on(e.PlayerEvents.MomentLoaded,t),n.on(e.PlayerEvents.MomentEnded,r),function(){n.off(e.PlayerEvents.MomentLoaded,t),n.off(e.PlayerEvents.MomentEnded,r)}}),[n,c,p,a]),u.default.createElement(Pme.Provider,{value:{player:n,isPlaying:c,setPlaying:E,networkLoadingState:g,retry:y,reset:b,isRestored:p,startingPoint:_}},o)},Cme=u.default.createContext({}),Ime=function(){return SR(SR({},i.useContext(Pme)),i.useContext(wme))},Lme=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),Nme="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Dme=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Rme="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Dme):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},Mme=["top","right","bottom","left","width","height","size","weight"],jme="undefined"!=typeof MutationObserver,Fme=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){Rme(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Nme&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),jme?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Nme&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=Mme.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Vme=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Ume=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Dme},Bme=Kme(0,0,0,0);function zme(e){return parseFloat(e)||0}function Gme(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+zme(e["border-"+n+"-width"])}),0)}function qme(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Bme;var r=Ume(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=zme(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=zme(r.width),u=zme(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=Gme(r,"left","right")+o),Math.round(u+a)!==n&&(u-=Gme(r,"top","bottom")+a)),!function(e){return e===Ume(e).document.documentElement}(e)){var l=Math.round(s+o)-t,c=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return Kme(i.left,i.top,s,u)}var Hme="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Ume(e).SVGGraphicsElement}:function(e){return e instanceof Ume(e).SVGElement&&"function"==typeof e.getBBox};function Wme(e){return Nme?Hme(e)?function(e){var t=e.getBBox();return Kme(0,0,t.width,t.height)}(e):qme(e):Bme}function Kme(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Yme=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Kme(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Wme(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Xme=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return Vme(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);Vme(this,{target:e,contentRect:n})},$me=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Lme,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ume(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Yme(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ume(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Xme(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Qme="undefined"!=typeof WeakMap?new WeakMap:new Lme,Jme=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Fme.getInstance(),r=new $me(t,n,this);Qme.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Jme.prototype[e]=function(){var t;return(t=Qme.get(this))[e].apply(t,arguments)}}));var Zme=void 0!==Dme.ResizeObserver?Dme.ResizeObserver:Jme,ege=function(){var e=i.useState(null),t=e[0],n=e[1],r=i.useState(Zle),o=r[0],a=r[1],s=i.useMemo((function(){return new Zme((function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t].contentRect,i=r.width,o=r.height;a({width:i,height:o})}}))}),[]);return i.useEffect((function(){if(t)return s.observe(t),function(){s.disconnect()}}),[t]),[n,o]},tge=function(){var e=Zce((function(e){return e.moment}));return e.items[e.currentIndex]||{}},nge="--window-inner-height";function rge(){var e="".concat(window.innerHeight,"px");document.documentElement.style.setProperty(nge,e),document.body.style.setProperty(nge,e)}var ige=function(){var t=Ime(),n=t.player,r=t.viewer,o=tge().resolution,a=ege(),s=a[0],u=a[1],l=i.useState(Zle),c=l[0],d=l[1];i.useEffect((function(){if(Rle.isIos()){var t=XR((function(){rge()}),e.Delay.Resize);return rge(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}}),[r]),i.useEffect((function(){var e,t=((null===(e=r.container)||void 0===e?void 0:e.getBoundingClientRect())||{}).height,n=void 0===t?0:t;u.width>u.height&&window.scrollTo(0,0),d({width:u.width,height:n})}),[r,u]),i.useEffect((function(){r instanceof ORe&&document.documentElement.style.setProperty("--viewer-height","".concat(c.height,"px"))}),[r,c]);var f=i.useMemo((function(){return kle({ratio:r.ratio,size:u,resolution:o})}),[c,o]),h=i.useMemo((function(){var e=c.width,t=e>c.height,n={width:"100%",height:"100%"};return e<gle.Portrait?n:t?e<gle.Landscape?n:f:Tle({size:c,resolution:o}).width>e?n:f}),[f,c,o]);return i.useEffect((function(){n.setShadowRootSize(f),function(e){var t=e.videoSize,n=e.viewerSize.height,r=(t||{height:n}).height;document.documentElement.style.setProperty("--track-transform-unit","number"==typeof r&&r>=n?"1":"0")}({viewerSize:c,videoSize:f})}),[n,f]),{viewerRef:s,viewerSize:c,layerSize:h,playerSize:f}},oge=function(){var t=Xce(),n=Ime().player,r=tge(),o=r.momentId,a=i.useCallback((function(){var e=r.momentId,t=r.blogId;return e&&t?Bve.playCount.increasePlayCount({momentId:o,naverId:t}).then((function(e){return e.count})):Promise.resolve()}),[r]),s=i.useCallback((function(e){Yfe.set(qfe,!0),t(rme({playCount:e}))}),[t,rme]),u=i.useCallback((function(){return!Yfe.get(qfe)&&a().then(s)}),[a,s]),l=i.useCallback((function(){return a().then(s)}),[a,s]);return i.useEffect((function(){return n.on(e.PlayerEvents.MomentLoaded,u),n.on(e.PlayerEvents.Replay,l),function(){n.off(e.PlayerEvents.MomentLoaded,u),n.off(e.PlayerEvents.Replay,l)}}),[n,r]),i.useEffect((function(){Yfe.set(qfe,null)}),[o]),null},age=function(e){var t=e.children,n=i.useState(null),r=n[0],o=n[1],a=u.default.Children.only(t);return i.useEffect((function(){var e=function(e){e.touches.length>1&&e.preventDefault()};return null==r||r.addEventListener("touchstart",e),function(){null==r||r.removeEventListener("touchstart",e)}}),[r]),u.default.cloneElement(a,{ref:function(e){var t=a.ref;return"function"==typeof t?t(e):a.ref.current=e,o(e)}})},sge="global_blind__LI1Kv";function uge(e){return void 0===e}var lge,cge=function(){function e(){this.options={},this._eventHandler={}}var t=e.prototype;return t.trigger=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._eventHandler[e]||[];if(!(i.length>0))return!0;var o=n[0]||{},a=n.slice(1);i=i.concat();var s=!1;o.eventType=e,o.stop=function(){s=!0},o.currentTarget=this;var u=[o];return a.length>=1&&(u=u.concat(a)),i.forEach((function(e){e.apply(t,u)})),!s},t.once=function(e,t){var n=this;if("object"==typeof e&&uge(t)){var r=e;for(var i in r)this.once(i,r[i]);return this}if("string"==typeof e&&"function"==typeof t){var o=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t.apply(n,r),n.off(e,o)};this.on(e,o)}return this},t.hasOn=function(e){return!!this._eventHandler[e]},t.on=function(e,t){if("object"==typeof e&&uge(t)){var n=e;for(var r in n)this.on(r,n[r]);return this}if("string"==typeof e&&"function"==typeof t){var i=this._eventHandler[e];uge(i)&&(this._eventHandler[e]=[],i=this._eventHandler[e]),i.push(t)}return this},t.off=function(e,t){var n,r;if(uge(e))return this._eventHandler={},this;if(uge(t)){if("string"==typeof e)return delete this._eventHandler[e],this;var i=e;for(var o in i)this.off(o,i[o]);return this}var a=this._eventHandler[e];if(a){var s=0;try{for(var u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),l=u.next();!l.done;l=u.next()){if(l.value===t){a.splice(s,1);break}s++}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}return this},e.VERSION="2.2.2",e}();function dge(){return dge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dge.apply(this,arguments)}function fge(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function hge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}lge="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var pge,vge=lge,mge=["","webkit","Moz","MS","ms","o"],gge="undefined"==typeof document?{style:{}}:document.createElement("div"),yge=Math.round,bge=Math.abs,_ge=Date.now;function Ege(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<mge.length;){if((r=(n=mge[o])?n+i:t)in e)return r;o++}}pge="undefined"==typeof window?{}:window;var wge=Ege(gge.style,"touchAction"),Sge=void 0!==wge,Tge="compute",kge="auto",xge="manipulation",Age="none",Pge="pan-x",Oge="pan-y",Cge=function(){if(!Sge)return!1;var e={},t=pge.CSS&&pge.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return e[n]=!t||pge.CSS.supports("touch-action",n)})),e}(),Ige="ontouchstart"in pge,Lge=void 0!==Ege(pge,"PointerEvent"),Nge=Ige&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Dge="touch",Rge="mouse",Mge=25,jge=1,Fge=4,Vge=8,Uge=1,Bge=2,zge=4,Gge=8,qge=16,Hge=Bge|zge,Wge=Gge|qge,Kge=Hge|Wge,Yge=["x","y"],Xge=["clientX","clientY"];function $ge(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function Qge(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function Jge(e,t){return e.indexOf(t)>-1}var Zge=function(){function e(e,t){this.manager=e,this.set(t)}var t=e.prototype;return t.set=function(e){e===Tge&&(e=this.compute()),Sge&&this.manager.element.style&&Cge[e]&&(this.manager.element.style[wge]=e),this.actions=e.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var e=[];return $ge(this.manager.recognizers,(function(t){Qge(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(Jge(e,Age))return Age;var t=Jge(e,Pge),n=Jge(e,Oge);return t&&n?Age:t||n?t?Pge:Oge:Jge(e,xge)?xge:kge}(e.join(" "))},t.preventDefaults=function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=Jge(r,Age)&&!Cge[Age],o=Jge(r,Oge)&&!Cge[Oge],a=Jge(r,Pge)&&!Cge[Pge];if(i){var s=1===e.pointers.length,u=e.distance<2,l=e.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return i||o&&n&Hge||a&&n&Wge?this.preventSrc(t):void 0}},t.preventSrc=function(e){this.manager.session.prevented=!0,e.preventDefault()},e}();function eye(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function tye(e){var t=e.length;if(1===t)return{x:yge(e[0].clientX),y:yge(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:yge(n/t),y:yge(r/t)}}function nye(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:yge(e.pointers[n].clientX),clientY:yge(e.pointers[n].clientY)},n++;return{timeStamp:_ge(),pointers:t,center:tye(t),deltaX:e.deltaX,deltaY:e.deltaY}}function rye(e,t,n){n||(n=Yge);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function iye(e,t,n){n||(n=Yge);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}function oye(e,t){return e===t?Uge:bge(e)>=bge(t)?e<0?Bge:zge:t<0?Gge:qge}function aye(e,t,n){return{x:t/e||0,y:n/e||0}}function sye(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=nye(t)),i>1&&!n.firstMultiple?n.firstMultiple=nye(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=t.center=tye(r);t.timeStamp=_ge(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=iye(s,u),t.distance=rye(s,u),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==jge&&o.eventType!==Fge||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=oye(t.deltaX,t.deltaY);var l,c,d=aye(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=bge(d.x)>bge(d.y)?d.x:d.y,t.scale=a?(l=a.pointers,rye((c=r)[0],c[1],Xge)/rye(l[0],l[1],Xge)):1,t.rotation=a?function(e,t){return iye(t[1],t[0],Xge)+iye(e[1],e[0],Xge)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(t.eventType!==Vge&&(s>Mge||void 0===a.velocity)){var u=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,c=aye(s,u,l);r=c.x,i=c.y,n=bge(c.x)>bge(c.y)?c.x:c.y,o=oye(u,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var f,h=e.element,p=t.srcEvent;eye(f=p.composedPath?p.composedPath()[0]:p.path?p.path[0]:p.target,h)&&(h=f),t.target=h}function uye(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&jge&&r-i==0,a=t&(Fge|Vge)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,sye(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function lye(e){return e.trim().split(/\s+/g)}function cye(e,t,n){$ge(lye(t),(function(t){e.addEventListener(t,n,!1)}))}function dye(e,t,n){$ge(lye(t),(function(t){e.removeEventListener(t,n,!1)}))}function fye(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}var hye=function(){function e(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){Qge(e.options.enable,[e])&&n.handler(t)},this.init()}var t=e.prototype;return t.handler=function(){},t.init=function(){this.evEl&&cye(this.element,this.evEl,this.domHandler),this.evTarget&&cye(this.target,this.evTarget,this.domHandler),this.evWin&&cye(fye(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&dye(this.element,this.evEl,this.domHandler),this.evTarget&&dye(this.target,this.evTarget,this.domHandler),this.evWin&&dye(fye(this.element),this.evWin,this.domHandler)},e}();function pye(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}var vye={pointerdown:jge,pointermove:2,pointerup:Fge,pointercancel:Vge,pointerout:Vge},mye={2:Dge,3:"pen",4:Rge,5:"kinect"},gye="pointerdown",yye="pointermove pointerup pointercancel";pge.MSPointerEvent&&!pge.PointerEvent&&(gye="MSPointerDown",yye="MSPointerMove MSPointerUp MSPointerCancel");var bye=function(e){function t(){var n,r=t.prototype;return r.evEl=gye,r.evWin=yye,(n=e.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return fge(t,e),t.prototype.handler=function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=vye[r],o=mye[e.pointerType]||e.pointerType,a=o===Dge,s=pye(t,e.pointerId,"pointerId");i&jge&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):i&(Fge|Vge)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))},t}(hye);function _ye(e){return Array.prototype.slice.call(e,0)}function Eye(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];pye(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}var wye={touchstart:jge,touchmove:2,touchend:Fge,touchcancel:Vge},Sye=function(e){function t(){var n;return t.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).targetIds={},n}return fge(t,e),t.prototype.handler=function(e){var t=wye[e.type],n=Tye.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Dge,srcEvent:e})},t}(hye);function Tye(e,t){var n,r,i=_ye(e.touches),o=this.targetIds;if(t&(2|jge)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var a=_ye(e.changedTouches),s=[],u=this.target;if(r=i.filter((function(e){return eye(e.target,u)})),t===jge)for(n=0;n<r.length;)o[r[n].identifier]=!0,n++;for(n=0;n<a.length;)o[a[n].identifier]&&s.push(a[n]),t&(Fge|Vge)&&delete o[a[n].identifier],n++;return s.length?[Eye(r.concat(s),"identifier",!0),s]:void 0}var kye={mousedown:jge,mousemove:2,mouseup:Fge},xye=function(e){function t(){var n,r=t.prototype;return r.evEl="mousedown",r.evWin="mousemove mouseup",(n=e.apply(this,arguments)||this).pressed=!1,n}return fge(t,e),t.prototype.handler=function(e){var t=kye[e.type];t&jge&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=Fge),this.pressed&&(t&Fge&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Rge,srcEvent:e}))},t}(hye),Aye=2500;function Pye(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},r=this.lastTouches;this.lastTouches.push(n),setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),Aye)}}function Oye(e,t){e&jge?(this.primaryTouch=t.changedPointers[0].identifier,Pye.call(this,t)):e&(Fge|Vge)&&Pye.call(this,t)}function Cye(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}var Iye=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handler=function(e,t,n){var i=n.pointerType===Dge,o=n.pointerType===Rge;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)Oye.call(hge(hge(r)),t,n);else if(o&&Cye.call(hge(hge(r)),n))return;r.callback(e,t,n)}},r.touch=new Sye(r.manager,r.handler),r.mouse=new xye(r.manager,r.handler),r.primaryTouch=null,r.lastTouches=[],r}return fge(t,e),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(hye);function Lye(e,t,n){return!!Array.isArray(e)&&($ge(e,n[t],n),!0)}var Nye=32,Dye=1;function Rye(e,t){var n=t.manager;return n?n.get(e):e}function Mye(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}var jye=function(){function e(e){void 0===e&&(e={}),this.options=dge({enable:!0},e),this.id=Dye++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var t=e.prototype;return t.set=function(e){return vge(this.options,e),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(e){if(Lye(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Rye(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},t.dropRecognizeWith=function(e){return Lye(e,"dropRecognizeWith",this)||(e=Rye(e,this),delete this.simultaneous[e.id]),this},t.requireFailure=function(e){if(Lye(e,"requireFailure",this))return this;var t=this.requireFail;return-1===pye(t,e=Rye(e,this))&&(t.push(e),e.requireFailure(this)),this},t.dropRequireFailure=function(e){if(Lye(e,"dropRequireFailure",this))return this;e=Rye(e,this);var t=pye(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(e){return!!this.simultaneous[e.id]},t.emit=function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Mye(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Mye(n))},t.tryEmit=function(e){if(this.canEmit())return this.emit(e);this.state=Nye},t.canEmit=function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},t.recognize=function(e){var t=vge({},e);if(!Qge(this.options.enable,[this,t]))return this.reset(),void(this.state=Nye);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},t.process=function(e){},t.getTouchAction=function(){},t.reset=function(){},e}(),Fye=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,dge({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},t))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}fge(t,e);var n=t.prototype;return n.getTouchAction=function(){return[xge]},n.process=function(e){var t=this,n=this.options,r=e.pointers.length===n.pointers,i=e.distance<n.threshold,o=e.deltaTime<n.time;if(this.reset(),e.eventType&jge&&0===this.count)return this.failTimeout();if(i&&o&&r){if(e.eventType!==Fge)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<n.interval,s=!this.pCenter||rye(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&a?this.count+=1:this.count=1,this._input=e,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){t.state=8,t.tryEmit()}),n.interval),2):8}return Nye},n.failTimeout=function(){var e=this;return this._timer=setTimeout((function(){e.state=Nye}),this.options.interval),Nye},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(jye),Vye=function(e){function t(t){return void 0===t&&(t={}),e.call(this,dge({pointers:1},t))||this}fge(t,e);var n=t.prototype;return n.attrTest=function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},n.process=function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(n&Vge||!i)?16|t:r||i?n&Fge?8|t:2&t?4|t:2:Nye},t}(jye);function Uye(e){return e===qge?"down":e===Gge?"up":e===Bge?"left":e===zge?"right":""}var Bye=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,dge({event:"pan",threshold:10,pointers:1,direction:Kge},t))||this).pX=null,n.pY=null,n}fge(t,e);var n=t.prototype;return n.getTouchAction=function(){var e=this.options.direction,t=[];return e&Hge&&t.push(Oge),e&Wge&&t.push(Pge),t},n.directionTest=function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&Hge?(i=0===o?Uge:o<0?Bge:zge,n=o!==this.pX,r=Math.abs(e.deltaX)):(i=0===a?Uge:a<0?Gge:qge,n=a!==this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},n.attrTest=function(e){return Vye.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},n.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var n=Uye(t.direction);n&&(t.additionalEvent=this.options.event+n),e.prototype.emit.call(this,t)},t}(Vye),zye=function(e){function t(t){return void 0===t&&(t={}),e.call(this,dge({event:"swipe",threshold:10,velocity:.3,direction:Hge|Wge,pointers:1},t))||this}fge(t,e);var n=t.prototype;return n.getTouchAction=function(){return Bye.prototype.getTouchAction.call(this)},n.attrTest=function(t){var n,r=this.options.direction;return r&(Hge|Wge)?n=t.overallVelocity:r&Hge?n=t.overallVelocityX:r&Wge&&(n=t.overallVelocityY),e.prototype.attrTest.call(this,t)&&r&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&bge(n)>this.options.velocity&&t.eventType&Fge},n.emit=function(e){var t=Uye(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)},t}(Vye),Gye=function(e){function t(t){return void 0===t&&(t={}),e.call(this,dge({event:"pinch",threshold:0,pointers:2},t))||this}fge(t,e);var n=t.prototype;return n.getTouchAction=function(){return[Age]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},n.emit=function(t){if(1!==t.scale){var n=t.scale<1?"in":"out";t.additionalEvent=this.options.event+n}e.prototype.emit.call(this,t)},t}(Vye),qye=function(e){function t(t){return void 0===t&&(t={}),e.call(this,dge({event:"rotate",threshold:0,pointers:2},t))||this}fge(t,e);var n=t.prototype;return n.getTouchAction=function(){return[Age]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)},t}(Vye),Hye=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,dge({event:"press",pointers:1,time:251,threshold:9},t))||this)._timer=null,n._input=null,n}fge(t,e);var n=t.prototype;return n.getTouchAction=function(){return[kge]},n.process=function(e){var t=this,n=this.options,r=e.pointers.length===n.pointers,i=e.distance<n.threshold,o=e.deltaTime>n.time;if(this._input=e,!i||!r||e.eventType&(Fge|Vge)&&!o)this.reset();else if(e.eventType&jge)this.reset(),this._timer=setTimeout((function(){t.state=8,t.tryEmit()}),n.time);else if(e.eventType&Fge)return 8;return Nye},n.reset=function(){clearTimeout(this._timer)},n.emit=function(e){8===this.state&&(e&&e.eventType&Fge?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=_ge(),this.manager.emit(this.options.event,this._input)))},t}(jye),Wye={domEvents:!1,touchAction:Tge,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Kye=[[qye,{enable:!1}],[Gye,{enable:!1},["rotate"]],[zye,{direction:Hge}],[Bye,{direction:Hge},["swipe"]],[Fye],[Fye,{event:"doubletap",taps:2},["tap"]],[Hye]];function Yye(e,t){var n,r=e.element;r.style&&($ge(e.options.cssProps,(function(i,o){n=Ege(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}var Xye=function(){function e(e,t){var n,r=this;this.options=vge({},Wye,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(Lge?bye:Nge?Sye:Ige?Iye:xye))(n,uye),this.touchAction=new Zge(this,this.options.touchAction),Yye(this,!0),$ge(this.options.recognizers,(function(e){var t=r.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}var t=e.prototype;return t.set=function(e){return vge(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},t.stop=function(e){this.session.stopped=e?2:1},t.recognize=function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(t.curRecognizer=null,i=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!==i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(t.curRecognizer=n,i=n),o++}},t.get=function(e){if(e instanceof jye)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event===e)return t[n];return null},t.add=function(e){if(Lye(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},t.remove=function(e){if(Lye(e,"remove",this))return this;var t=this.get(e);if(e){var n=this.recognizers,r=pye(n,t);-1!==r&&(n.splice(r,1),this.touchAction.update())}return this},t.on=function(e,t){if(void 0===e||void 0===t)return this;var n=this.handlers;return $ge(lye(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this},t.off=function(e,t){if(void 0===e)return this;var n=this.handlers;return $ge(lye(e),(function(e){t?n[e]&&n[e].splice(pye(n[e],t),1):delete n[e]})),this},t.emit=function(e,t){this.options.domEvents&&function(e,t){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},t.destroy=function(){this.element&&Yye(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),$ye={touchstart:jge,touchmove:2,touchend:Fge,touchcancel:Vge},Qye=function(e){function t(){var n,r=t.prototype;return r.evTarget="touchstart",r.evWin="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).started=!1,n}return fge(t,e),t.prototype.handler=function(e){var t=$ye[e.type];if(t===jge&&(this.started=!0),this.started){var n=Jye.call(this,e,t);t&(Fge|Vge)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Dge,srcEvent:e})}},t}(hye);function Jye(e,t){var n=_ye(e.touches),r=_ye(e.changedTouches);return t&(Fge|Vge)&&(n=Eye(n.concat(r),"identifier",!0)),[n,r]}function Zye(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=window.console&&(window.console.warn||window.console.log);return i&&i.call(window.console,r,n),e.apply(this,arguments)}}var ebe=Zye((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&void 0===e[r[i]])&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),tbe=Zye((function(e,t){return ebe(e,t,!0)}),"merge","Use `assign`.");function nbe(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&vge(r,n)}function rbe(e,t){return function(){return e.apply(t,arguments)}}var ibe,obe=function(){var e=function(e,t){return void 0===t&&(t={}),new Xye(e,dge({recognizers:Kye.concat()},t))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=Kge,e.DIRECTION_DOWN=qge,e.DIRECTION_LEFT=Bge,e.DIRECTION_RIGHT=zge,e.DIRECTION_UP=Gge,e.DIRECTION_HORIZONTAL=Hge,e.DIRECTION_VERTICAL=Wge,e.DIRECTION_NONE=Uge,e.DIRECTION_DOWN=qge,e.INPUT_START=jge,e.INPUT_MOVE=2,e.INPUT_END=Fge,e.INPUT_CANCEL=Vge,e.STATE_POSSIBLE=1,e.STATE_BEGAN=2,e.STATE_CHANGED=4,e.STATE_ENDED=8,e.STATE_RECOGNIZED=8,e.STATE_CANCELLED=16,e.STATE_FAILED=Nye,e.Manager=Xye,e.Input=hye,e.TouchAction=Zge,e.TouchInput=Sye,e.MouseInput=xye,e.PointerEventInput=bye,e.TouchMouseInput=Iye,e.SingleTouchInput=Qye,e.Recognizer=jye,e.AttrRecognizer=Vye,e.Tap=Fye,e.Pan=Bye,e.Swipe=zye,e.Pinch=Gye,e.Rotate=qye,e.Press=Hye,e.on=cye,e.off=dye,e.each=$ge,e.merge=tbe,e.extend=ebe,e.bindFn=rbe,e.assign=vge,e.inherit=nbe,e.bindFn=rbe,e.prefixed=Ege,e.toArray=_ye,e.inArray=pye,e.uniqueArray=Eye,e.splitStr=lye,e.boolOrFn=Qge,e.hasParent=eye,e.addEventListeners=cye,e.removeEventListeners=dye,e.defaults=vge({},Wye,{preset:Kye}),e}(),abe=obe,sbe=function(e,t){return sbe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},sbe(e,t)},ube=function(){return ube=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ube.apply(this,arguments)};function lbe(e,t,n,r){var i=e,o=[n[0]?t[0]:r?t[0]-r[0]:t[0],n[1]?t[1]:r?t[1]+r[1]:t[1]];return i=Math.max(o[0],i),Math.min(o[1],i)}function cbe(e,t){return e<t[0]||e>t[1]}function dbe(e,t,n){return n[1]&&e>t[1]||n[0]&&e<t[0]}function fbe(e,t,n){var r=e,i=t[0],o=t[1],a=o-i;return n[1]&&e>o&&(r=(r-o)%a+i),n[0]&&e<i&&(r=(r-i)%a+o),r}function hbe(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function pbe(e,t){var n;if(void 0===t&&(t=!1),"string"==typeof e){if(e.match(/^<([a-z]+)\s*([^>]*)>/)){var r=document.createElement("div");r.innerHTML=e,n=hbe(r.childNodes)}else n=hbe(document.querySelectorAll(e));t||(n=n.length>=1?n[0]:void 0)}else e===ibe?n=e:!e.nodeName||1!==e.nodeType&&9!==e.nodeType?"jQuery"in ibe&&e instanceof jQuery||e.constructor.prototype.jquery?n=t?e.toArray():e.get(0):Array.isArray(e)&&(n=e.map((function(e){return pbe(e)})),t||(n=n.length>=1?n[0]:void 0)):n=e;return n}var vbe=(ibe="undefined"==typeof window?{navigator:{userAgent:""}}:window).requestAnimationFrame||ibe.webkitRequestAnimationFrame,mbe=ibe.cancelAnimationFrame||ibe.webkitCancelAnimationFrame;if(vbe&&!mbe){var gbe={},ybe=vbe;vbe=function(e){var t=ybe((function(n){gbe[t]&&e(n)}));return gbe[t]=!0,t},mbe=function(e){delete gbe[e]}}else vbe&&mbe||(vbe=function(e){return ibe.setTimeout((function(){e(ibe.performance&&ibe.performance.now&&ibe.performance.now()||(new Date).getTime())}),16)},mbe=ibe.clearTimeout);function bbe(e,t){var n={};for(var r in e)r&&(n[r]=t(e[r],r));return n}function _be(e,t){var n={};for(var r in e)r&&t(e[r],r)&&(n[r]=e[r]);return n}function Ebe(e,t){for(var n in e)if(n&&!t(e[n],n))return!1;return!0}function wbe(e,t){return Ebe(e,(function(e,n){return e===t[n]}))}var Sbe={};function Tbe(e,t){return Sbe[t]||(Sbe[t]=function(e){var t=e<1?Math.pow(10,xbe(e)):1;return function(n){return 0===e?0:Math.round(Math.round(n/e)*e*t)/t}}(t)),Sbe[t](e)}function kbe(e,t){if(!e||!t)return e;var n="number"==typeof t;return bbe(e,(function(e,r){return Tbe(e,n?t:t[r])}))}function xbe(e){if(!isFinite(e))return 0;var t=e+"";if(t.indexOf("e")>=0){for(var n=0,r=1;Math.round(e*r)/r!==e;)r*=10,n++;return n}return t.indexOf(".")>=0?t.length-t.indexOf(".")-1:0}function Abe(e,t,n){return Math.max(Math.min(e,n),t)}var Pbe=function(){function e(e){var t=e.options,n=e.itm,r=e.em,i=e.axm;this.options=t,this.itm=n,this.em=r,this.axm=i,this.animationEnd=this.animationEnd.bind(this)}var t=e.prototype;return t.getDuration=function(e,t,n){var r,i=this;if(void 0!==n)r=n;else{var o=bbe(t,(function(t,n){return function(e,t){var n=Math.sqrt(e/t*2);return n<100?0:n}(Math.abs(t-e[n]),i.options.deceleration)}));r=Object.keys(o).reduce((function(e,t){return Math.max(e,o[t])}),-1/0)}return Abe(r,this.options.minimumDuration,this.options.maximumDuration)},t.createAnimationParam=function(e,t,n){var r=this.axm.get(),i=e,o=n&&n.event||null;return{depaPos:r,destPos:i,duration:Abe(t,this.options.minimumDuration,this.options.maximumDuration),delta:this.axm.getDelta(r,i),inputEvent:o,input:n&&n.input||null,isTrusted:!!o,done:this.animationEnd}},t.grab=function(e,t){if(this._animateParam&&e.length){var n=this.axm.get(e),r=this.axm.map(n,(function(e,t){return fbe(e,t.range,t.circular)}));Ebe(r,(function(e,t){return n[t]===e}))||this.em.triggerChange(r,!1,n,t,!!t),this._animateParam=null,this._raf&&function(e){mbe(e)}(this._raf),this._raf=null,this.em.triggerAnimationEnd(!(!t||!t.event))}},t.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},t.restore=function(e){var t=this.axm.get(),n=this.axm.map(t,(function(e,t){return Math.min(t.range[1],Math.max(t.range[0],e))}));this.animateTo(n,this.getDuration(t,n),e)},t.animationEnd=function(){var e=this.getEventInfo();this._animateParam=null;var t=this.axm.filter(this.axm.get(),(function(e,t){return dbe(e,t.range,t.circular)}));Object.keys(t).length>0&&this.setTo(this.axm.map(t,(function(e,t){return fbe(e,t.range,t.circular)}))),this.itm.setInterrupt(!1),this.em.triggerAnimationEnd(!!e),this.axm.isOutside()?this.restore(e):this.finish(!!e)},t.finish=function(e){this._animateParam=null,this.itm.setInterrupt(!1),this.em.triggerFinish(e)},t.animateLoop=function(e,t){if(e.duration){this._animateParam=ube({},e);var n=this._animateParam,r=this,i=n.destPos,o=n.depaPos,a=0,s=bbe(o,(function(e,t){return e<=i[t]?1:-1})),u=bbe(i,(function(e){return e})),l=(new Date).getTime();n.startTime=l,function c(){r._raf=null;var d=(new Date).getTime(),f=(d-n.startTime)/e.duration,h=r.easing(f),p=r.axm.map(o,(function(e,t,r){var u=f>=1?i[r]:e+n.delta[r]*(h-a),l=fbe(u,t.range,t.circular);if(u!==l){var c=s[r]*(t.range[1]-t.range[0]);i[r]-=c,o[r]-=c}return l})),v=!r.em.triggerChange(p,!1,o);if(o=p,l=d,a=h,h>=1)return wbe(i=r.getFinalPos(i,u),r.axm.get(Object.keys(i)))||r.em.triggerChange(i,!0,o),void t();v?r.finish(!1):r._raf=vbe(c)}()}else this.em.triggerChange(e.destPos,!0),t()},t.getFinalPos=function(e,t){var n=this,r=1e-6,i=bbe(e,(function(e,i){return e>=t[i]-r&&e<=t[i]+r?t[i]:Tbe(e,n.getRoundUnit(e,i))}));return i},t.getRoundUnit=function(e,t){var n=this.options.round,r=null;if(!n){var i=this.axm.getAxisOptions(t);r=function(e){return 1/Math.pow(10,e)}(Math.max(xbe(i.range[0]),xbe(i.range[1]),xbe(e)))}return r||n},t.getUserControll=function(e){var t=e.setTo();return t.destPos=this.axm.get(t.destPos),t.duration=Abe(t.duration,this.options.minimumDuration,this.options.maximumDuration),t},t.animateTo=function(e,t,n){var r=this,i=this.createAnimationParam(e,t,n),o=ube({},i.depaPos),a=this.em.triggerAnimationStart(i),s=this.getUserControll(i);if(!a&&this.axm.every(s.destPos,(function(e,t){return dbe(e,t.range,t.circular)}))&&console.warn("You can't stop the 'animation' event when 'circular' is true."),a&&!wbe(s.destPos,o)){var u=n&&n.event||null;this.animateLoop({depaPos:o,destPos:s.destPos,duration:s.duration,delta:this.axm.getDelta(o,s.destPos),isTrusted:!!u,inputEvent:u,input:n&&n.input||null},(function(){return r.animationEnd()}))}},t.easing=function(e){return e>1?1:this.options.easing(e)},t.setTo=function(e,t){void 0===t&&(t=0);var n=Object.keys(e);this.grab(n);var r=this.axm.get(n);if(wbe(e,r))return this;this.itm.setInterrupt(!0);var i=_be(e,(function(e,t){return r[t]!==e}));return Object.keys(i).length?(i=this.axm.map(i,(function(e,t){var n=t.range,r=t.circular;return r&&(r[0]||r[1])?e:lbe(e,n,r)})),wbe(i,r)||(t>0?this.animateTo(i,t):(this.em.triggerChange(i),this.finish(!1))),this):this},t.setBy=function(e,t){return void 0===t&&(t=0),this.setTo(bbe(this.axm.get(Object.keys(e)),(function(t,n){return t+e[n]})),t)},e}(),Obe=function(){function e(e){this.axes=e}var t=e.prototype;return t.triggerHold=function(e,t){var n=this.getRoundPos(e).roundPos;this.axes.trigger("hold",{pos:n,input:t.input||null,inputEvent:t.event||null,isTrusted:!0})},t.triggerRelease=function(e){var t=this.getRoundPos(e.destPos,e.depaPos),n=t.roundPos,r=t.roundDepa;e.destPos=n,e.depaPos=r,e.setTo=this.createUserControll(e.destPos,e.duration),this.axes.trigger("release",e)},t.triggerChange=function(e,t,n,r,i){void 0===i&&(i=!1);var o=this.am,a=o.axm,s=o.getEventInfo(),u=this.getRoundPos(e,n),l=u.roundPos,c=u.roundDepa,d=a.moveTo(l,c),f=r&&r.event||s&&s.event||null,h={pos:d.pos,delta:d.delta,holding:i,inputEvent:f,isTrusted:!!f,input:r&&r.input||s&&s.input||null,set:f?this.createUserControll(d.pos):function(){}},p=this.axes.trigger("change",h);return f&&a.set(h.set().destPos),p},t.triggerAnimationStart=function(e){var t=this.getRoundPos(e.destPos,e.depaPos),n=t.roundPos,r=t.roundDepa;return e.destPos=n,e.depaPos=r,e.setTo=this.createUserControll(e.destPos,e.duration),this.axes.trigger("animationStart",e)},t.triggerAnimationEnd=function(e){void 0===e&&(e=!1),this.axes.trigger("animationEnd",{isTrusted:e})},t.triggerFinish=function(e){void 0===e&&(e=!1),this.axes.trigger("finish",{isTrusted:e})},t.createUserControll=function(e,t){void 0===t&&(t=0);var n={destPos:ube({},e),duration:t};return function(e,t){return e&&(n.destPos=ube({},e)),void 0!==t&&(n.duration=t),n}},t.setAnimationManager=function(e){this.am=e},t.destroy=function(){this.axes.off()},t.getRoundPos=function(e,t){var n=this.axes.options.round;return{roundPos:kbe(e,n),roundDepa:kbe(t,n)}},e}(),Cbe=function(){function e(e){this.options=e,this._prevented=!1}var t=e.prototype;return t.isInterrupting=function(){return this.options.interruptable||this._prevented},t.isInterrupted=function(){return!this.options.interruptable&&this._prevented},t.setInterrupt=function(e){!this.options.interruptable&&(this._prevented=e)},e}(),Ibe=function(){function e(e,t){var n=this;this.axis=e,this.options=t,this._complementOptions(),this._pos=Object.keys(this.axis).reduce((function(e,t){return e[t]=n.axis[t].range[0],e}),{})}var t=e.prototype;return t._complementOptions=function(){var e=this;Object.keys(this.axis).forEach((function(t){e.axis[t]=ube({range:[0,100],bounce:[0,0],circular:[!1,!1]},e.axis[t]),["bounce","circular"].forEach((function(n){var r=e.axis,i=r[t][n];/string|number|boolean/.test(typeof i)&&(r[t][n]=[i,i])}))}))},t.getDelta=function(e,t){var n=this.get(e);return bbe(this.get(t),(function(e,t){return e-n[t]}))},t.get=function(e){var t=this;return e&&Array.isArray(e)?e.reduce((function(e,n){return n&&n in t._pos&&(e[n]=t._pos[n]),e}),{}):ube(ube({},this._pos),e||{})},t.moveTo=function(e,t){void 0===t&&(t=this._pos);var n=bbe(this._pos,(function(n,r){return r in e&&r in t?e[r]-t[r]:0}));return this.set(this.map(e,(function(e,t){return t?fbe(e,t.range,t.circular):0}))),{pos:ube({},this._pos),delta:n}},t.set=function(e){for(var t in e)t&&t in this._pos&&(this._pos[t]=e[t])},t.every=function(e,t){var n=this.axis;return Ebe(e,(function(e,r){return t(e,n[r],r)}))},t.filter=function(e,t){var n=this.axis;return _be(e,(function(e,r){return t(e,n[r],r)}))},t.map=function(e,t){var n=this.axis;return bbe(e,(function(e,r){return t(e,n[r],r)}))},t.isOutside=function(e){return!this.every(e?this.get(e):this._pos,(function(e,t){return!cbe(e,t.range)}))},t.getAxisOptions=function(e){return this.axis[e]},e}(),Lbe=function(){function e(e){var t=e.options,n=e.itm,r=e.em,i=e.axm,o=e.am;this.isOutside=!1,this.moveDistance=null,this.isStopped=!1,this.options=t,this.itm=n,this.em=r,this.axm=i,this.am=o}var t=e.prototype;return t.atOutside=function(e){var t=this;if(this.isOutside)return this.axm.map(e,(function(e,t){var n=t.range[0]-t.bounce[0],r=t.range[1]+t.bounce[1];return e>r?r:e<n?n:e}));var n=this.am.easing(1e-5)/1e-5;return this.axm.map(e,(function(e,r){var i=r.range[0],o=r.range[1],a=r.bounce,s=r.circular;return s&&(s[0]||s[1])?e:e<i?i-t.am.easing((i-e)/(a[0]*n))*a[0]:e>o?o+t.am.easing((e-o)/(a[1]*n))*a[1]:e}))},t.get=function(e){return this.axm.get(e.axes)},t.hold=function(e,t){if(!this.itm.isInterrupted()&&e.axes.length){var n={input:e,event:t};this.isStopped=!1,this.itm.setInterrupt(!0),this.am.grab(e.axes,n),!this.moveDistance&&this.em.triggerHold(this.axm.get(),n),this.isOutside=this.axm.isOutside(e.axes),this.moveDistance=this.axm.get(e.axes)}},t.change=function(e,t,n){if(!this.isStopped&&this.itm.isInterrupting()&&!this.axm.every(n,(function(e){return 0===e}))){var r,i=this.moveDistance||this.axm.get(e.axes);r=bbe(i,(function(e,t){return e+(n[t]||0)})),this.moveDistance&&(this.moveDistance=r),this.isOutside&&this.axm.every(i,(function(e,t){return!cbe(e,t.range)}))&&(this.isOutside=!1),i=this.atOutside(i),r=this.atOutside(r),!this.em.triggerChange(r,!1,i,{input:e,event:t},!0)&&(this.isStopped=!0,this.moveDistance=null,this.am.finish(!1))}},t.release=function(e,t,n,r){if(!this.isStopped&&this.itm.isInterrupting()&&this.moveDistance){var i=this.axm.get(e.axes),o=this.axm.get(),a=this.axm.get(this.axm.map(n,(function(e,t,n){return t.circular&&(t.circular[0]||t.circular[1])?i[n]+e:lbe(i[n]+e,t.range,t.circular,t.bounce)}))),s=this.am.getDuration(a,i,r);0===s&&(a=ube({},o));var u={depaPos:o,destPos:a,duration:s,delta:this.axm.getDelta(o,a),inputEvent:t,input:e,isTrusted:!0};this.em.triggerRelease(u),this.moveDistance=null;var l=this.am.getUserControll(u),c=wbe(l.destPos,o),d={input:e,event:t};c||0===l.duration?(!c&&this.em.triggerChange(l.destPos,!1,o,d,!0),this.itm.setInterrupt(!1),this.axm.isOutside()?this.am.restore(d):this.em.triggerFinish(!0)):this.am.animateTo(l.destPos,l.duration,d)}},e}(),Nbe="ontouchstart"in ibe&&"safari"===function(e){return void 0===e&&function(){if("undefined"==typeof navigator||!navigator||!navigator.userAgentData)return!1;var e=navigator.userAgentData,t=e.brands||e.uaList;return!(!t||!t.length)}()?function(e){var t=navigator.userAgentData,n=(t.uaList||t.brands).slice(),r=t.mobile||!1,i=n[0],o=(e&&e.platform||t.platform||navigator.platform).toLowerCase(),a={name:i.brand,version:i.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!oae(cae,n).brand},s={name:"unknown",version:"-1",majorVersion:-1};a.webkit=!a.chromium&&eae(lae,(function(e){return aae(n,e)}));var u=oae(uae,n);if(a.chromium=!!u.brand,a.chromiumVersion=u.version,!a.chromium){var l=oae(lae,n);a.webkit=!!l.brand,a.webkitVersion=l.version}var c=tae(dae,(function(e){return new RegExp(""+e.test,"g").exec(o)}));s.name=c?c.id:"",e&&(s.version=e.platformVersion);var d=oae(sae,n);return d.brand&&(a.name=d.brand,a.version=e?e.uaFullVersion:d.version),a.webkit&&(s.name=r?"ios":"mac"),"ios"===s.name&&a.webview&&(a.version="-1"),s.version=rae(s.version),a.version=rae(a.version),s.majorVersion=parseInt(s.version,10),a.majorVersion=parseInt(a.version,10),{browser:a,os:s,isMobile:r,isHints:!0}}():fae(e)}().browser.name,Dbe=function(){if("undefined"==typeof document)return"";for(var e=(document.head||document.getElementsByTagName("head")[0]).style,t=["transform","webkitTransform","msTransform","mozTransform"],n=0,r=t.length;n<r;n++)if(t[n]in e)return t[n];return""}(),Rbe=function(e){function t(t,n,r){void 0===t&&(t={}),void 0===n&&(n={});var i=e.call(this)||this;return i.axis=t,i._inputs=[],i.options=ube({easing:function(e){return 1-Math.pow(1-e,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null},n),i.itm=new Cbe(i.options),i.axm=new Ibe(i.axis,i.options),i.em=new Obe(i),i.am=new Pbe(i),i.io=new Lbe(i),i.em.setAnimationManager(i.am),r&&i.em.triggerChange(r),i}!function(e,t){function n(){this.constructor=e}sbe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e);var n=t.prototype;return n.connect=function(e,t){var n;if(n="string"==typeof e?e.split(" "):e.concat(),~this._inputs.indexOf(t)&&this.disconnect(t),"hammer"in t){var r=this._inputs.filter((function(e){return e.hammer&&e.element===t.element}));r.length&&(t.hammer=r[0].hammer)}return t.mapAxes(n),t.connect(this.io),this._inputs.push(t),this},n.disconnect=function(e){if(e){var t=this._inputs.indexOf(e);t>=0&&(this._inputs[t].disconnect(),this._inputs.splice(t,1))}else this._inputs.forEach((function(e){return e.disconnect()})),this._inputs=[];return this},n.get=function(e){return this.axm.get(e)},n.setTo=function(e,t){return void 0===t&&(t=0),this.am.setTo(e,t),this},n.setBy=function(e,t){return void 0===t&&(t=0),this.am.setBy(e,t),this},n.isBounceArea=function(e){return this.axm.isOutside(e)},n.destroy=function(){this.disconnect(),this.em.destroy()},t.VERSION="2.8.0",t.TRANSFORM=Dbe,t.DIRECTION_NONE=Uge,t.DIRECTION_LEFT=Bge,t.DIRECTION_RIGHT=zge,t.DIRECTION_UP=Gge,t.DIRECTION_DOWN=qge,t.DIRECTION_HORIZONTAL=Hge,t.DIRECTION_VERTICAL=Wge,t.DIRECTION_ALL=Kge,t}(cge),Mbe="PointerEvent"in ibe||"MSPointerEvent"in ibe,jbe="ontouchstart"in ibe,Fbe="_EGJS_AXES_INPUTTYPE_";function Vbe(e,t){return t.reduce((function(t,n,r){return e[r]&&(t[e[r]]=n),t}),{})}function Ube(e,t,n){return n?!!(t===Kge||t&e&&n&e):!!(t&e)}var Bbe=function(){function e(e,t){if(this.axes=[],this.hammer=null,this.element=null,this.panRecognizer=null,this.isRightEdge=!1,this.rightEdgeTimer=0,this.panFlag=!1,void 0===Xye)throw new Error("The Hammerjs must be loaded before eg.Axes.PanInput.\nhttp://hammerjs.github.io/");this.element=pbe(e),this.options=ube({inputType:["touch","mouse","pointer"],scale:[1,1],thresholdAngle:45,threshold:0,iOSEdgeSwipeThreshold:30,releaseOnScroll:!1,hammerManagerOptions:{cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",userDrag:"none"}}},t),this.onHammerInput=this.onHammerInput.bind(this),this.onPanmove=this.onPanmove.bind(this),this.onPanend=this.onPanend.bind(this)}var t=e.prototype;return t.mapAxes=function(e){var t=!!e[0],n=!!e[1];this._direction=t&&n?Kge:t?Hge:n?Wge:Uge,this.axes=e},t.connect=function(e){var t={direction:this._direction,threshold:this.options.threshold};if(this.hammer)this.removeRecognizer(),this.dettachEvent();else{var n=this.element[Fbe];n||(n=String(Math.round(Math.random()*(new Date).getTime())));var r=function(e){void 0===e&&(e=[]);var t=!1,n=!1,r=!1;return e.forEach((function(e){switch(e){case"mouse":n=!0;break;case"touch":t=jbe;break;case"pointer":r=Mbe}})),r?bye:t&&n?Iye:t?Sye:n?xye:null}(this.options.inputType);if(!r)throw new Error("Wrong inputType parameter!");this.hammer=function(e,t){try{return new Xye(e,ube({},t))}catch(e){return null}}(this.element,ube({inputClass:r},this.options.hammerManagerOptions)),this.element[Fbe]=n}return this.panRecognizer=new Bye(t),this.hammer.add(this.panRecognizer),this.attachEvent(e),this},t.disconnect=function(){return this.removeRecognizer(),this.hammer&&this.dettachEvent(),this._direction=Uge,this},t.destroy=function(){this.disconnect(),this.hammer&&0===this.hammer.recognizers.length&&this.hammer.destroy(),delete this.element[Fbe],this.element=null,this.hammer=null},t.enable=function(){return this.hammer&&(this.hammer.get("pan").options.enable=!0),this},t.disable=function(){return this.hammer&&(this.hammer.get("pan").options.enable=!1),this},t.isEnable=function(){return!(!this.hammer||!this.hammer.get("pan").options.enable)},t.removeRecognizer=function(){this.hammer&&this.panRecognizer&&(this.hammer.remove(this.panRecognizer),this.panRecognizer=null)},t.onHammerInput=function(e){if(this.isEnable())if(e.isFirst){if(this.panFlag=!1,!1!==e.srcEvent.cancelable){var t=this.options.iOSEdgeSwipeThreshold;this.observer.hold(this,e),this.isRightEdge=Nbe&&e.center.x>window.innerWidth-t,this.panFlag=!0}}else e.isFinal&&this.onPanend(e)},t.onPanmove=function(e){var t=this;if(this.panFlag){var n=this.options,r=n.iOSEdgeSwipeThreshold,i=n.releaseOnScroll,o=function(e,t){if(t<0||t>90)return Uge;var n=Math.abs(e);return n>t&&n<180-t?Wge:Hge}(e.angle,this.options.thresholdAngle),a=this.hammer.session.prevInput;if(!i||e.srcEvent.cancelable){if(a&&Nbe){if(e.center.x<0)return void this.onPanend(ube(ube({},a),{velocityX:0,velocityY:0,offsetX:0,offsetY:0}));this.isRightEdge&&(clearTimeout(this.rightEdgeTimer),e.deltaX<-r?this.isRightEdge=!1:this.rightEdgeTimer=window.setTimeout((function(){t.onPanend(ube(ube({},a),{velocityX:0,velocityY:0,offsetX:0,offsetY:0}))}),100))}a?(e.offsetX=e.deltaX-a.deltaX,e.offsetY=e.deltaY-a.deltaY):(e.offsetX=0,e.offsetY=0);var s=this.getOffset([e.offsetX,e.offsetY],[Ube(Hge,this._direction,o),Ube(Wge,this._direction,o)]),u=s.some((function(e){return 0!==e}));if(u){var l=e.srcEvent;!1!==l.cancelable&&l.preventDefault(),l.stopPropagation()}e.preventSystemEvent=u,u&&this.observer.change(this,e,Vbe(this.axes,s))}else this.onPanend(ube(ube({},e),{velocityX:0,velocityY:0,offsetX:0,offsetY:0}))}},t.onPanend=function(e){if(this.panFlag){clearTimeout(this.rightEdgeTimer),this.panFlag=!1;var t,n,r,i,o=this.getOffset([Math.abs(e.velocityX)*(e.deltaX<0?-1:1),Math.abs(e.velocityY)*(e.deltaY<0?-1:1)],[Ube(Hge,this._direction),Ube(Wge,this._direction)]);t=o,n=this.observer.options.deceleration,r=Math.sqrt(t[0]*t[0]+t[1]*t[1]),i=Math.abs(r/-n),o=[t[0]/2*i,t[1]/2*i],this.observer.release(this,e,Vbe(this.axes,o))}},t.attachEvent=function(e){this.observer=e,this.hammer.on("hammer.input",this.onHammerInput).on("panstart panmove",this.onPanmove)},t.dettachEvent=function(){this.hammer.off("hammer.input",this.onHammerInput).off("panstart panmove",this.onPanmove),this.observer=null},t.getOffset=function(e,t){var n=[0,0],r=this.options.scale;return t[0]&&(n[0]=e[0]*r[0]),t[1]&&(n[1]=e[1]*r[1]),n},e}(),zbe=Rbe,Gbe=function(e,t){return Gbe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Gbe(e,t)};function qbe(e,t){function n(){this.constructor=e}Gbe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Hbe(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var Wbe="snap",Kbe="freeScroll",Ybe={snap:{type:"snap",count:1},freeScroll:{type:"freeScroll"}},Xbe="undefined"!=typeof document,$be={classPrefix:"eg-flick",deceleration:.0075,horizontal:!0,circular:!1,infinite:!1,infiniteThreshold:0,lastIndex:1/0,threshold:40,duration:100,panelEffect:function(e){return 1-Math.pow(1-e,3)},defaultIndex:0,inputType:["touch","mouse"],thresholdAngle:45,bounce:10,autoResize:!1,adaptive:!1,zIndex:2e3,bound:!1,overflow:!1,hanger:"50%",anchor:"50%",gap:0,moveType:Ybe.snap,useOffset:!1,isEqualSize:!1,isConstantSize:!1,renderOnlyVisible:!1,renderExternal:!1,resizeOnContentsReady:!1,iOSEdgeSwipeThreshold:30,collectStatistics:!0,useResizeObserver:!0},Qbe={position:"relative",zIndex:$be.zIndex,overflow:"hidden"},Jbe={width:"100%",height:"100%",willChange:"transform"},Zbe={position:"absolute"},e_e={HOLD_START:"holdStart",HOLD_END:"holdEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",CHANGE:"change",RESTORE:"restore",SELECT:"select",NEED_PANEL:"needPanel",VISIBLE_CHANGE:"visibleChange",CONTENT_LOAD:"contentLoad",CONTENT_ERROR:"contentError"},t_e={HOLD:"hold",CHANGE:"change",RELEASE:"release",ANIMATION_END:"animationEnd",FINISH:"finish"},n_e=0,r_e=1,i_e=2,o_e=3,a_e=4,s_e={PREV:"PREV",NEXT:"NEXT"},u_e={prev:!0,next:!0,moveTo:!0,getIndex:!0,getAllPanels:!0,getCurrentPanel:!0,getElement:!0,getSize:!0,getPanel:!0,getPanelCount:!0,getStatus:!0,getVisiblePanels:!0,enableInput:!0,disableInput:!0,destroy:!0,resize:!0,setStatus:!0,isPlaying:!0},l_e=function(){var e={webkitTransform:"-webkit-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",transform:"transform"};if(!Xbe)return{name:e.transform,has3d:!0};var t=document.documentElement.style,n="";for(var r in e)r in t&&(n=r);if(!n)throw new Error("Browser doesn't support CSS3 2D Transforms.");var i=document.createElement("div");document.documentElement.insertBefore(i,null),i.style[n]="translate3d(1px, 1px, 1px)";var o=window.getComputedStyle(i).getPropertyValue(e[n]);i.parentElement.removeChild(i);var a={name:n,has3d:o.length>0&&"none"!==o};return l_e=function(){return a},a},c_e=l_e();function d_e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){Object.keys(t).forEach((function(n){var r=t[n];e[n]=r}))})),e}function f_e(e){Array.isArray(e)||(e=[e]);var t=[];return e.forEach((function(e){if(h_e(e)){var n=document.createElement("div");for(n.innerHTML=e,t.push.apply(t,y_e(n.children));n.firstChild;)n.removeChild(n.firstChild)}else t.push(e)})),t}function h_e(e){return"string"==typeof e}function p_e(e,t){return e.classList?e.classList.contains(t):e.className.split(" ").indexOf(t)>=0}function v_e(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function m_e(e,t,n){return Math.max(Math.min(e,n),t)}function g_e(e,t,n){return e>=t&&e<=n}function y_e(e){return[].slice.call(e)}function b_e(e,t,n){var r=null!=n?n:t/2,i=/(?:(\+|\-)\s*)?(\d+(?:\.\d+)?(%|px)?)/g;if("number"==typeof e)return m_e(e,0,t);for(var o=0,a=0,s=i.exec(e);null!=s;){var u=s[1],l=s[2],c=s[3],d=parseFloat(l);if(o<=0&&(u=u||"+"),!u)return r;"%"===c&&(d=d/100*t),a+="+"===u?d:-d,++o,s=i.exec(e)}return 0===o?r:m_e(a,0,t)}function __e(e,t){var n=t[0],r=t[1],i=t[2];return e>r&&i-r?(e-r)/(i-r):e<r&&r-n?(e-r)/(r-n):e!==r&&i-n?(e-n)/(i-n):0}function E_e(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(null!=r&&t(r))return n}return-1}function w_e(e){for(var t=[],n=0;n<e;n+=1)t[n]=n;return t}function S_e(e,t,n,r){var i=r?n-t+1:n-t;return e<t?e=n-(r?(t-e-1)%i:(t-e)%i):e>n&&(e=t+(r?(e-n-1)%i:(e-n)%i)),e}function T_e(e,t){t.className?e.setAttribute("class",t.className):e.removeAttribute("class"),t.style?e.setAttribute("style",t.style):e.removeAttribute("style")}function k_e(e,t){Object.keys(u_e).forEach((function(n){e[n]||(e[n]=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=(e=this[t])[n].apply(e,r);return o===this[t]?this:o})}))}function x_e(e,t){var n;if(t)n={x:0,y:0,width:e.offsetWidth,height:e.offsetHeight};else{var r=e.getBoundingClientRect();n={x:r.left,y:r.top,width:r.width,height:r.height}}return n}var A_e,P_e=function(){function e(e,t,n){this.viewport=n,this.prevSibling=null,this.nextSibling=null,this.clonedPanels=[],this.state={index:t,position:0,relativeAnchorPosition:0,size:0,isClone:!1,isVirtual:!1,cloneIndex:-1,originalStyle:{className:"",style:""},cachedBbox:null},this.setElement(e)}var t=e.prototype;return t.resize=function(e){var t=this.state,n=this.viewport.options,r=e||this.getBbox();this.state.cachedBbox=r;var i=t.size;t.size=n.horizontal?r.width:r.height,i!==t.size&&(t.relativeAnchorPosition=b_e(n.anchor,t.size)),t.isClone||this.clonedPanels.forEach((function(e){var n=e.state;n.size=t.size,n.cachedBbox=t.cachedBbox,n.relativeAnchorPosition=t.relativeAnchorPosition}))},t.unCacheBbox=function(){this.state.cachedBbox=null},t.getProgress=function(){var e=this.viewport,t=e.options,n=e.panelManager.getPanelCount(),r=e.getScrollAreaSize();return(t.circular?Math.floor(this.getPosition()/r)*n:0)+this.getIndex()-e.getCurrentProgress()},t.getOutsetProgress=function(){var e=this.viewport,t=[-this.getSize(),e.getRelativeHangerPosition()-this.getRelativeAnchorPosition(),e.getSize()];return __e(this.getPosition()-e.getCameraPosition(),t)},t.getVisibleRatio=function(){var e=this.viewport,t=this.getSize(),n=this.getPosition()-e.getCameraPosition(),r=n+t,i=Math.min(e.getSize(),r)-Math.max(n,0);return i>=0?i/t:0},t.focus=function(e){var t=this.viewport,n=t.getCurrentPanel();if(t.getHangerPosition()!==this.getAnchorPosition()&&n){var r=n.getPosition()===this.getPosition()?"":e_e.CHANGE;t.moveTo(this,t.findEstimatedPosition(this),r,null,e)}},t.update=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!0);var n=this.getIdenticalPanels();e&&n.forEach((function(t){e(t.getElement())})),t&&(n.forEach((function(e){e.unCacheBbox()})),this.viewport.addVisiblePanel(this),this.viewport.resize())},t.prev=function(){var e=this.viewport.options,t=this.prevSibling;if(!t)return null;var n=this.getIndex(),r=this.getPosition(),i=t.getIndex(),o=t.getPosition(),a=t.getSize(),s=n-i>1,u=e.infinite&&n>0&&i>n;if(s||u)return null;var l=r-a-e.gap,c=t;return o!==l&&(c=t.clone(t.getCloneIndex(),!0)).setPosition(l),c},t.next=function(){var e=this.viewport,t=e.options,n=this.nextSibling,r=e.panelManager.getLastIndex();if(!n)return null;var i=this.getIndex(),o=this.getPosition(),a=n.getIndex(),s=n.getPosition(),u=a-i>1,l=t.infinite&&i<r&&a<i;if(u||l)return null;var c=o+this.getSize()+t.gap,d=n;return s!==c&&(d=n.clone(n.getCloneIndex(),!0)).setPosition(c),d},t.insertBefore=function(e){var t=this.viewport,n=f_e(e),r=t.panelManager.firstPanel(),i=this.prevSibling,o=i&&r.getIndex()!==this.getIndex()?Math.max(i.getIndex()+1,this.getIndex()-n.length):Math.max(this.getIndex()-n.length,0);return t.insert(o,n)},t.insertAfter=function(e){return this.viewport.insert(this.getIndex()+1,e)},t.remove=function(){return this.viewport.remove(this.getIndex()),this},t.destroy=function(e){if(!e.preserveUI){var t=this.state.originalStyle;T_e(this.element,t)}for(var n in this)this[n]=null},t.getElement=function(){return this.element},t.getAnchorPosition=function(){return this.state.position+this.state.relativeAnchorPosition},t.getRelativeAnchorPosition=function(){return this.state.relativeAnchorPosition},t.getIndex=function(){return this.state.index},t.getPosition=function(){return this.state.position},t.getSize=function(){return this.state.size},t.getBbox=function(){var e=this.state,t=this.viewport,n=this.element,r=t.options;if(n){if(!e.cachedBbox){var i=Boolean(n.parentNode),o=t.getCameraElement();i||(o.appendChild(n),t.addVisiblePanel(this)),e.cachedBbox=x_e(n,r.useOffset),!i&&t.options.renderExternal&&o.removeChild(n)}}else e.cachedBbox={x:0,y:0,width:0,height:0};return e.cachedBbox},t.isClone=function(){return this.state.isClone},t.getOverlappedClass=function(e){for(var t=this.element,n=0,r=e;n<r.length;n++){var i=r[n];if(p_e(t,i))return i}},t.getCloneIndex=function(){return this.state.cloneIndex},t.getClonedPanels=function(){return this.state.isClone?this.original.getClonedPanels():this.clonedPanels},t.getIdenticalPanels=function(){return this.state.isClone?this.original.getIdenticalPanels():Hbe([this],this.clonedPanels)},t.getOriginalPanel=function(){return this.state.isClone?this.original:this},t.setIndex=function(e){this.state.index=e,this.clonedPanels.forEach((function(t){return t.state.index=e}))},t.setPosition=function(e){return this.state.position=e,this},t.setPositionCSS=function(e){if(void 0===e&&(e=0),this.element){var t=this.state,n=t.position,r=this.viewport.options,i=this.element.style,o=r.horizontal?i.left:i.top,a=n-e+"px";t.isVirtual||o===a||(r.horizontal?i.left=a:i.top=a)}},t.clone=function(t,n,r){void 0===n&&(n=!1);var i=this.state,o=this.viewport,a=r;!a&&this.element&&(a=n?this.element:this.element.cloneNode(!0));var s=new e(a,i.index,o),u=s.state;return s.original=i.isClone?this.original:this,u.isClone=!0,u.isVirtual=n,u.cloneIndex=t,u.size=i.size,u.relativeAnchorPosition=i.relativeAnchorPosition,u.originalStyle=i.originalStyle,u.cachedBbox=i.cachedBbox,n?(s.prevSibling=this.prevSibling,s.nextSibling=this.nextSibling):this.clonedPanels.push(s),s},t.removeElement=function(){if(!this.viewport.options.renderExternal){var e=this.element;e.parentNode&&e.parentNode.removeChild(e)}this.state.isClone||this.removeClonedPanelsAfter(0)},t.removeClonedPanelsAfter=function(e){var t=this.viewport.options,n=this.clonedPanels.splice(e);t.renderExternal||n.forEach((function(e){e.removeElement()}))},t.setElement=function(e){if(e){var t=this.element;if(e!==t){var n=this.viewport.options;if(t)n.horizontal?e.style.left=t.style.left:e.style.top=t.style.top;else{var r=this.state.originalStyle;r.className=e.getAttribute("class"),r.style=e.getAttribute("style")}this.element=e,n.classPrefix&&function(e,t){e.classList?e.classList.add(t):p_e(e,t)||(e.className=(e.className+" "+t).replace(/\s{2,}/g," "))}(e,n.classPrefix+"-panel"),v_e(this.element,Zbe)}}},e}(),O_e=function(){function e(e,t){this.cameraElement=e,this.panels=[],this.clones=[],this.range={min:-1,max:-1},this.length=0,this.cloneCount=0,this.options=t,this.lastIndex=t.lastIndex}var t=e.prototype;return t.firstPanel=function(){return this.panels[this.range.min]},t.lastPanel=function(){return this.panels[this.range.max]},t.allPanels=function(){return Hbe(this.panels,this.clones.reduce((function(e,t){return Hbe(e,t)}),[]))},t.originalPanels=function(){return this.panels},t.clonedPanels=function(){return this.clones},t.replacePanels=function(e,t){this.panels=e,this.clones=t,this.range={min:E_e(e,(function(e){return Boolean(e)})),max:e.length-1},this.length=e.filter((function(e){return Boolean(e)})).length,this.chainAllPanels()},t.has=function(e){return!!this.panels[e]},t.get=function(e){return this.panels[e]},t.getPanelCount=function(){return this.length},t.getLastIndex=function(){return this.lastIndex},t.getRange=function(){return this.range},t.getCloneCount=function(){return this.cloneCount},t.setLastIndex=function(e){this.lastIndex=e;var t=this.firstPanel(),n=this.lastPanel();if(t&&n){var r=this.range;if(n.getIndex()>e){var i=this.panels.splice(e+1);this.length-=i.length;var o=i.filter((function(e){return!!e}))[0].prevSibling;o?r.max=o.getIndex():(r.min=-1,r.max=-1),this.shouldRender()&&i.forEach((function(e){return e.removeElement()}))}}},t.setCloneCount=function(e){this.cloneCount=e},t.insert=function(e,t){var n=this.panels,r=this.range,i=this.options.circular,o=this.lastIndex,a=this.findFirstPanelFrom(e),s=this.firstPanel(),u=a?a.getElement():i&&s?s.getClonedPanels()[0].getElement():null;this.insertNewPanels(t,u);var l=t.length;if(e>r.max)t.forEach((function(t,r){n[e+r]=t}));else{var c=n.slice(e,e+t.length),d=E_e(c,(function(e){return!!e}));if(d<0&&(d=c.length),l=t.length-d,n.splice.apply(n,Hbe([e,d],t)),n.length>o+1){var f=n.splice(o+1).filter((function(e){return Boolean(e)}));this.length-=f.length;var h=o-E_e(this.panels.concat().reverse(),(function(e){return!!e}));this.panels.splice(h+1),this.range.max=h,this.shouldRender()&&f.forEach((function(e){return e.removeElement()}))}}if(l>0&&n.slice(e+t.length).forEach((function(e){e.setIndex(e.getIndex()+l)})),this.length+=t.length,this.updateIndex(e),i){this.addNewClones(e,t,t.length-l,a);var p=this.clones,v=this.panels.length;p[0]&&p[0].length>o+1&&p.forEach((function(e){e.splice(v)}))}return l},t.replace=function(e,t){var n=this.panels,r=this.range,i=this.options.circular,o=this.findFirstPanelFrom(e+t.length),a=this.firstPanel(),s=o?o.getElement():i&&a?a.getClonedPanels()[0].getElement():null;this.insertNewPanels(t,s),e>r.max&&(n[e]=null);var u=n.splice.apply(n,Hbe([e,t.length],t)),l=u.filter((function(e){return Boolean(e)})).length;return this.length+=t.length-l,this.updateIndex(e),i&&this.addNewClones(e,t,t.length,o),this.shouldRender()&&u.forEach((function(e){return e&&e.removeElement()})),u},t.remove=function(e,t){void 0===t&&(t=1);var n=this.options.circular,r=this.panels,i=this.clones;t=Math.max(t,0);var o=r.splice(e,t).filter((function(e){return!!e}));this.shouldRender()&&o.forEach((function(e){return e.removeElement()})),n&&i.forEach((function(n){n.splice(e,t)})),r.slice(e).forEach((function(e){e.setIndex(e.getIndex()-t)}));var a=r.length-1;if(!r[a]){var s=E_e(r.concat().reverse(),(function(e){return!!e}));a=s<0?-1:a-s,r.splice(a+1),n&&i.forEach((function(e){e.splice(a+1)}))}return this.range={min:E_e(r,(function(e){return!!e})),max:a},this.length-=o.length,this.length<=0&&(this.clones=[],this.cloneCount=0),o},t.chainAllPanels=function(){var e=this.allPanels().filter((function(e){return!!e})),t=e.length;if(t<=1)1===t&&(e[0].prevSibling=null,e[0].nextSibling=null);else{e.slice(1,e.length-1).forEach((function(t,n){var r=e[n],i=e[n+2];t.prevSibling=r,t.nextSibling=i}));var n=e[0],r=e[t-1];n.prevSibling=null,n.nextSibling=e[1],r.prevSibling=e[t-2],r.nextSibling=null,this.options.circular&&(n.prevSibling=r,r.nextSibling=n)}},t.insertClones=function(e,t,n,r){void 0===r&&(r=0);var i=this.clones,o=this.lastIndex;if(i[e]){var a=i[e];t>=a.length?n.forEach((function(e,n){a[t+n]=e})):(a.splice.apply(a,Hbe([t,r],n)),n.length>o+1&&n.splice(o+1))}else{var s=[];n.forEach((function(e,n){s[t+n]=e})),i[e]=s}},t.removeClonesAfter=function(e){this.panels.forEach((function(t){t.removeClonedPanelsAfter(e)})),this.clones.splice(e)},t.findPanelOf=function(e){for(var t=0,n=this.allPanels();t<n.length;t++){var r=n[t];if(r&&r.getElement().contains(e))return r}},t.findFirstPanelFrom=function(e){for(var t=0,n=this.panels.slice(e);t<n.length;t++){var r=n[t];if(r&&r.getIndex()>=e&&r.getElement().parentNode)return r}},t.addNewClones=function(e,t,n,r){for(var i=this,o=this.cameraElement,a=this.getCloneCount(),s=this.lastPanel(),u=s?s.getClonedPanels():[],l=r?r.getClonedPanels():[],c=function(r){var a=l[r],s=u[r],c=a?a.getElement():s?s.getElement().nextElementSibling:null,f=t.map((function(e){var t=e.clone(r);return i.shouldRender()&&o.insertBefore(t.getElement(),c),t}));d.insertClones(r,e,f,n)},d=this,f=0,h=w_e(a);f<h.length;f++)c(h[f])},t.updateIndex=function(e){var t=this.panels,n=this.range,r=t.length-1;r>n.max&&(n.max=r),(e<n.min||n.min<0)&&(n.min=e)},t.insertNewPanels=function(e,t){if(this.shouldRender()){var n=document.createDocumentFragment();e.forEach((function(e){return n.appendChild(e.getElement())})),this.cameraElement.insertBefore(n,t)}},t.shouldRender=function(){var e=this.options;return!e.renderExternal&&!e.renderOnlyVisible},e}(),C_e=function(){function e(){this.delta=0,this.direction=null,this.targetPanel=null,this.lastPosition=0}var t=e.prototype;return t.onEnter=function(e){this.delta=e.delta,this.direction=e.direction,this.targetPanel=e.targetPanel,this.lastPosition=e.lastPosition},t.onExit=function(e){},t.onHold=function(e,t){},t.onChange=function(e,t){},t.onRelease=function(e,t){},t.onAnimationEnd=function(e,t){},t.onFinish=function(e,t){},e}(),I_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n_e,t.holding=!1,t.playing=!1,t}qbe(t,e);var n=t.prototype;return n.onEnter=function(){this.direction=null,this.targetPanel=null,this.delta=0,this.lastPosition=0},n.onHold=function(e,t){var n=t.flicking,r=t.viewport,i=t.triggerEvent,o=t.transitTo;if(n.getPanelCount()<=0)return r.options.infinite&&r.moveCamera(r.getCameraPosition(),e),void o(a_e);this.lastPosition=r.getCameraPosition(),i(e_e.HOLD_START,e,!0).onSuccess((function(){o(r_e)})).onStopped((function(){o(a_e)}))},n.onChange=function(e,t){var n=t.triggerEvent,r=t.transitTo;n(e_e.MOVE_START,e,!1).onSuccess((function(){r(o_e).onChange(e,t)})).onStopped((function(){r(a_e)}))},t}(C_e),L_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=r_e,t.holding=!0,t.playing=!0,t.releaseEvent=null,t}qbe(t,e);var n=t.prototype;return n.onChange=function(e,t){var n=t.flicking,r=t.triggerEvent,i=t.transitTo,o=n.options.horizontal?e.inputEvent.offsetX:e.inputEvent.offsetY;this.direction=o<0?s_e.NEXT:s_e.PREV,r(e_e.MOVE_START,e,!0).onSuccess((function(){i(i_e).onChange(e,t)})).onStopped((function(){i(a_e)}))},n.onRelease=function(e,t){var n=t.viewport,r=t.triggerEvent,i=t.transitTo;if(r(e_e.HOLD_END,e,!0),0!==e.delta.flick)return e.setTo({flick:n.getCameraPosition()},0),void i(n_e);e.inputEvent.srcEvent.cancelable&&(this.releaseEvent=e)},n.onFinish=function(e,t){var n=t.viewport,r=t.triggerEvent;if((0,t.transitTo)(n_e),this.releaseEvent){var i,o=this.releaseEvent,a=o.inputEvent.srcEvent;if("touchend"===a.type){var s=a.changedTouches[0];i=document.elementFromPoint(s.clientX,s.clientY)}else i=a.target;var u=n.panelManager.findPanelOf(i),l=n.getCameraPosition();if(u){var c=u.getPosition();r(e_e.SELECT,o,!0,{direction:c>l?s_e.NEXT:c<l?s_e.PREV:null,index:u.getIndex(),panel:u,element:i})}}},t}(C_e),N_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i_e,t.holding=!0,t.playing=!0,t}qbe(t,e);var n=t.prototype;return n.onChange=function(e,t){var n=t.moveCamera,r=t.transitTo;e.delta.flick&&n(e).onStopped((function(){r(a_e)}))},n.onRelease=function(e,t){var n=t.flicking,r=t.viewport,i=t.triggerEvent,o=t.transitTo,a=t.stopCamera,s=this.delta,u=Math.abs(s),l=n.options,c=l.horizontal,d=r.moveType,f=e.inputEvent,h=c?f.velocityX:f.velocityY,p=c?f.deltaX:f.deltaY,v=Math.abs(h)>1?h<0:u>0?s>0:p<0,m=r.options.bound?Math.max(u,Math.abs(p)):u,g=f.deltaX?Math.abs(180*Math.atan(f.deltaY/f.deltaX)/Math.PI):90,y=c?g<=l.thresholdAngle:g>l.thresholdAngle,b=m>=l.threshold&&y,_={viewport:r,axesEvent:e,state:this,swipeDistance:m,isNextDirection:v};i(e_e.HOLD_END,e,!0);var E=this.targetPanel;if(!b&&E){var w=d.findPanelWhenInterrupted(_);return r.moveTo(w.panel,w.destPos,w.eventType,e,w.duration),void o(o_e)}var S=r.getCurrentPanel(),T=r.getNearestPanel();if(!S||!T)return e.stop(),void o(n_e);var k=b?d.findTargetPanel(_):d.findRestorePanel(_);r.moveTo(k.panel,k.destPos,k.eventType,e,k.duration).onSuccess((function(){o(o_e)})).onStopped((function(){o(a_e),a(e)}))},t}(C_e),D_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o_e,t.holding=!1,t.playing=!0,t}qbe(t,e);var n=t.prototype;return n.onHold=function(e,t){var n=t.viewport,r=t.triggerEvent,i=t.transitTo,o=n.options,a=n.getScrollArea(),s=n.getScrollAreaSize(),u=Math.floor((this.lastPosition+this.delta-a.prev)/s),l=this.targetPanel;if(o.circular&&0!==u&&l){var c=n.panelManager.getCloneCount(),d=l.getPosition(),f=S_e(l.getCloneIndex()-u,-1,c-1,!0),h=d-u*s,p=l.getIdenticalPanels()[f+1].clone(f,!0);p.setPosition(h),this.targetPanel=p}this.delta=0,this.lastPosition=n.getCameraPosition(),n.setCurrentPanel(n.getNearestPanel()),r(e_e.HOLD_START,e,!0).onSuccess((function(){i(i_e)})).onStopped((function(){i(a_e)}))},n.onChange=function(e,t){var n=t.moveCamera,r=t.transitTo;e.delta.flick&&n(e).onStopped((function(){r(a_e)}))},n.onFinish=function(e,t){var n=t.flicking,r=t.viewport,i=t.triggerEvent,o=t.transitTo,a=e&&e.isTrusted;r.options.bound?r.setCurrentPanel(this.targetPanel):r.setCurrentPanel(r.getNearestPanel()),n.options.adaptive&&r.updateAdaptiveSize(),o(n_e),r.updateCameraPosition(),i(e_e.MOVE_END,e,a,{direction:this.direction})},t}(C_e),R_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a_e,t.holding=!1,t.playing=!0,t}qbe(t,e);var n=t.prototype;return n.onAnimationEnd=function(e,t){(0,t.transitTo)(n_e)},n.onChange=function(e,t){var n=t.viewport,r=t.transitTo;e.stop(),n.updateAxesPosition(n.getCameraPosition()),r(n_e)},n.onRelease=function(e,t){var n=t.transitTo;0===e.delta.flick&&n(n_e)},t}(C_e),M_e=function(){function e(){var e=this;this.state=new I_e,this.transitTo=function(t){var n=e.state;if(n.type!==t){var r=void 0;switch(t){case n_e:r=new I_e;break;case r_e:r=new L_e;break;case i_e:r=new N_e;break;case o_e:r=new D_e;break;case a_e:r=new R_e}n.onExit(r),r.onEnter(n),e.state=r}return e.state}}var t=e.prototype;return t.fire=function(e,t,n){var r=this.state;switch(e){case t_e.HOLD:r.onHold(t,n);break;case t_e.CHANGE:r.onChange(t,n);break;case t_e.RELEASE:r.onRelease(t,n);break;case t_e.ANIMATION_END:r.onAnimationEnd(t,n);break;case t_e.FINISH:r.onFinish(t,n)}},t.getState=function(){return this.state},e}(),j_e=function(e){function t(t){var n=e.call(this)||this;return n.type=Wbe,n.count=t,n}qbe(t,e);var n=t.prototype;return n.findTargetPanel=function(e){var t=e.viewport,n=e.axesEvent,r=e.swipeDistance,i=this.count,o=Math.abs(n.delta.flick),a=t.getCurrentPanel(),s=t.getNearestPanel(),u=this.calcBrinkOfChange(e),l=s.getIndex()===a.getIndex(),c=t.canSetBoundMode()&&l,d=!t.isOutOfBound()&&(r<=u||c);return i>1&&o>u?this.findSnappedPanel(e):d?this.findAdjacentPanel(e):{panel:s,duration:t.options.duration,destPos:t.findEstimatedPosition(s),eventType:r<=u||t.isOutOfBound()&&l?e_e.RESTORE:e_e.CHANGE}},n.findSnappedPanel=function(e){for(var t=e.axesEvent,n=e.viewport,r=e.state,i=e.isNextDirection,o=Math.abs(t.delta.flick),a=this.calcBrinkOfChange(e),s=this.count,u=n.options,l=n.getScrollAreaSize(),c=u.gap/2,d=t.destPos.flick+n.getRelativeHangerPosition(),f=n.getNearestPanel(),h=f.getCloneIndex()+1,p=0;p<s;){var v=f.getOriginalPanel(),m=v.getPosition()+h*l,g=v.getSize();if(i&&m+g+c>d||!i&&m-c<d)break;var y=i?f.nextSibling:f.prevSibling;if(!y)break;var b=f.getIndex(),_=y.getIndex();(i&&_<=b||!i&&_>=b)&&(h=i?h+1:h-1),f=y,p+=1}var E=f.getOriginalPanel().getPosition();0!==h&&(f=f.clone(f.getCloneIndex(),!0)).setPosition(E+h*l);var w=n.options.duration,S=m_e(t.duration,w,w*p);return{panel:f,destPos:n.findEstimatedPosition(f),duration:S,eventType:Math.max(o,r.delta)>a?e_e.CHANGE:e_e.RESTORE}},n.findAdjacentPanel=function(e){var t=e.viewport,n=e.isNextDirection,r=t.options,i=t.getCurrentIndex(),o=t.panelManager.get(i),a=t.getHangerPosition(),s=t.getScrollArea(),u=o.getIdenticalPanels()[1],l=r.circular&&Math.abs(o.getAnchorPosition()-a)>Math.abs(u.getAnchorPosition()-a)?u:o,c=l.getPosition(),d=n?l.nextSibling:l.prevSibling,f=d?e_e.CHANGE:e_e.RESTORE,h=d||l,p=h.getRelativeAnchorPosition(),v=(r.circular?n?c+l.getSize()+p+r.gap:c-(h.getSize()-p)-r.gap:h.getAnchorPosition())-t.getRelativeHangerPosition();return{panel:h,destPos:t.canSetBoundMode()?m_e(v,s.prev,s.next):v,duration:r.duration,eventType:f}},t}(function(){function e(){}var t=e.prototype;return t.is=function(e){return e===this.type},t.findRestorePanel=function(e){var t=e.viewport,n=t.options,r=n.circular?this.findRestorePanelInCircularMode(e):t.getCurrentPanel();return{panel:r,destPos:t.findEstimatedPosition(r),duration:n.duration,eventType:e_e.RESTORE}},t.findPanelWhenInterrupted=function(e){var t=e.state,n=e.viewport,r=t.targetPanel;return{panel:r,destPos:n.findEstimatedPosition(r),duration:n.options.duration,eventType:""}},t.calcBrinkOfChange=function(e){var t=e.viewport,n=e.isNextDirection,r=t.options,i=t.getCurrentPanel(),o=r.gap/2,a=i.getRelativeAnchorPosition(),s=n?i.getSize()-a+o:a+o;return Math.max(s,r.threshold)},t.findRestorePanelInCircularMode=function(e){var t=e.viewport,n=t.getCurrentPanel().getOriginalPanel(),r=t.getHangerPosition(),i=n.getIdenticalPanels()[1],o=Math.abs(n.getAnchorPosition()-r)>Math.abs(i.getAnchorPosition()-r);return!e.isNextDirection&&o?i:n},e}()),F_e=function(e){function t(){var t=e.call(this,1/0)||this;return t.type=Kbe,t}qbe(t,e);var n=t.prototype;return n.findTargetPanel=function(t){var n=t.axesEvent,r=t.state,i=t.viewport,o=n.destPos.flick,a=this.calcBrinkOfChange(t),s=i.getScrollArea(),u=i.getCurrentPanel(),l=i.options;if(Math.abs(n.delta.flick+r.delta)>a){var c=e.prototype.findSnappedPanel.call(this,t);return c.duration=n.duration,c.destPos=o,c.eventType=l.circular||c.panel!==u?e_e.CHANGE:"",c}var d=l.circular?S_e(o,s.prev,s.next,!1):o;return d=m_e(d,s.prev,s.next),d+=i.getRelativeHangerPosition(),{panel:i.findNearestPanelAt(d),destPos:o,duration:n.duration,eventType:""}},n.findRestorePanel=function(e){return this.findTargetPanel(e)},n.findPanelWhenInterrupted=function(e){var t=e.viewport;return{panel:t.getNearestPanel(),destPos:t.getCameraPosition(),duration:0,eventType:""}},n.calcBrinkOfChange=function(e){var t=e.viewport,n=e.isNextDirection,r=t.options,i=t.getCurrentPanel(),o=r.gap/2,a=t.stateMachine.getState().lastPosition,s=i.getPosition(),u=a+t.getRelativeHangerPosition(),l=t.getScrollAreaSize(),c=n?s+i.getSize()-u+o:u-s+o;return c=Math.abs(c%l),Math.min(c,l-c)},t}(j_e),V_e=function(){function e(e,t,n){var r=this;this.plugins=[],this.stopCamera=function(e){e&&e.setTo&&e.setTo({flick:r.state.position},0),r.stateMachine.transitTo(n_e)},this.flicking=e,this.triggerEvent=n,this.state={size:0,position:0,panelMaintainRatio:0,relativeHangerPosition:0,positionOffset:0,scrollArea:{prev:0,next:0},translate:c_e,infiniteThreshold:0,checkedIndexes:[],isAdaptiveCached:!1,isViewportGiven:!1,isCameraGiven:!1,originalViewportStyle:{className:null,style:null},originalCameraStyle:{className:null,style:null},cachedBbox:null},this.options=t,this.stateMachine=new M_e,this.visiblePanels=[],this.panelBboxes={},this.build()}var t=e.prototype;return t.moveTo=function(e,t,n,r,i){var o=this;void 0===i&&(i=this.options.duration);var a,s=this.state,u=this.stateMachine.getState(),l=s.position,c=!!r&&r.isTrusted,d=t===l?null:t>l?s_e.NEXT:s_e.PREV;return(a=n===e_e.CHANGE?this.triggerEvent(e_e.CHANGE,r,c,{index:e.getIndex(),panel:e,direction:d}):n===e_e.RESTORE?this.triggerEvent(e_e.RESTORE,r,c):{onSuccess:function(e){return e(),this},onStopped:function(){return this}}).onSuccess((function(){u.delta=0,u.lastPosition=o.getCameraPosition(),u.targetPanel=e,u.direction=t===l?null:t>l?s_e.NEXT:s_e.PREV,t===l&&(o.nearestPanel=e,o.currentPanel=e),r&&r.setTo?r.setTo({flick:t},i):o.axes.setTo({flick:t},i)})),a},t.moveCamera=function(e,t){var n=this.state,r=this.options,i=n.translate.name,o=n.scrollArea;r.circular&&!g_e(e,o.prev,o.next)&&(e=S_e(e,o.prev,o.next,!1)),n.position=e,this.nearestPanel=this.findNearestPanel();var a=this.nearestPanel,s=a?a.getPosition():0;if(a){var u=this.getHangerPosition(),l=a.getPosition(),c=a.getSize(),d=r.gap/2;n.panelMaintainRatio=(u-l+d)/(c+2*d)}else n.panelMaintainRatio=0;this.checkNeedPanel(t),e+=(a?a.getPosition():0)-s,n.position=e,this.updateVisiblePanels();var f=r.renderOnlyVisible?n.positionOffset:0,h=(r.horizontal?[-(e-f),0]:[0,-(e-f)]).map((function(e){return Math.round(e)+"px"})).join(", ");this.cameraElement.style[i]=n.translate.has3d?"translate3d("+h+", 0px)":"translate("+h+")"},t.unCacheBbox=function(){var e=this.state,t=this.options;e.cachedBbox=null,this.visiblePanels=[];var n=this.viewportElement;t.horizontal?n.style.height="":n.style.width="",e.isAdaptiveCached=!1,this.panelBboxes={}},t.resize=function(){this.updateSize(),this.updateOriginalPanelPositions(),this.updateAdaptiveSize(),this.updateScrollArea(),this.updateClonePanels(),this.updateVisiblePanelPositions(),this.updateCameraPosition(),this.updatePlugins()},t.findNearestPanel=function(){var e=this.state,t=this.panelManager,n=this.getHangerPosition();return this.isOutOfBound()?e.position<=e.scrollArea.prev?t.firstPanel():t.lastPanel():this.findNearestPanelAt(n)},t.findNearestPanelAt=function(e){for(var t,n=1/0,r=0,i=this.panelManager.allPanels();r<i.length;r++){var o=i[r];if(o){var a=o.getPosition(),s=a+o.getSize(),u=g_e(e,a,s)?0:Math.min(Math.abs(a-e),Math.abs(s-e));if(u>n)break;if(u===n){var l=Math.abs(e-t.getAnchorPosition());if(Math.abs(e-o.getAnchorPosition())>l)break}n=u,t=o}}return t},t.findNearestIdenticalPanel=function(e){var t=e,n=1/0,r=this.getHangerPosition();return e.getIdenticalPanels().forEach((function(e){var i=e.getAnchorPosition(),o=Math.abs(i-r);o<n&&(t=e,n=o)})),t},t.findShortestPositionToPanel=function(e){var t=this.state,n=this.options,r=e.getAnchorPosition(),i=this.getHangerPosition(),o=Math.abs(i-r),a=t.scrollArea.next-t.scrollArea.prev;if(n.circular)return o<=a-o?r-t.relativeHangerPosition:r>i?r-t.relativeHangerPosition-a:r-t.relativeHangerPosition+a;var s=r-t.relativeHangerPosition;return this.canSetBoundMode()?m_e(s,t.scrollArea.prev,t.scrollArea.next):s},t.findEstimatedPosition=function(e){var t=this.getScrollArea(),n=e.getAnchorPosition()-this.getRelativeHangerPosition();return this.canSetBoundMode()?m_e(n,t.prev,t.next):n},t.addVisiblePanel=function(e){this.getVisibleIndexOf(e)<0&&this.visiblePanels.push(e)},t.enable=function(){this.panInput||this.createPanInput()},t.disable=function(){this.panInput&&(this.panInput.destroy(),this.panInput=null,this.axes.destroy(),this.setAxesInstance(),this.updateScrollArea(),this.updateAxesPosition(this.state.position),this.stateMachine.transitTo(n_e))},t.insert=function(e,t){var n=this,r=this.panelManager.getLastIndex();if(e<0||e>r)return[];var i=this.state,o=this.options,a=f_e(t).map((function(t,r){return new P_e(t,e+r,n)})).slice(0,r-e+1);if(a.length<=0)return[];var s=this.panelManager.insert(e,a);if(this.resizePanels(a),!this.currentPanel){this.currentPanel=a[0],this.nearestPanel=a[0];var u=a[0],l=this.findEstimatedPosition(u);i.position=l,this.updateAxesPosition(l),i.panelMaintainRatio=(u.getRelativeAnchorPosition()+o.gap/2)/(u.getSize()+o.gap)}return this.updateCheckedIndexes({min:e,max:e}),i.checkedIndexes.forEach((function(t,n){var r=t[0],o=t[1];e<r&&i.checkedIndexes.splice(n,1,[r+s,o+s])})),this.resize(),a},t.replace=function(e,t){var n=this,r=this.state,i=this.options,o=this.panelManager,a=o.getLastIndex();if(e<0||e>a)return[];var s=f_e(t).map((function(t,r){return new P_e(t,e+r,n)})).slice(0,a-e+1);if(s.length<=0)return[];o.replace(e,s).forEach((function(e){var t=n.getVisibleIndexOf(e);t>-1&&n.visiblePanels.splice(t,1)})),this.resizePanels(s);var u=this.currentPanel;if(u)g_e(u.getIndex(),e,e+s.length-1)&&(this.currentPanel=o.get(u.getIndex()));else{this.currentPanel=s[0],this.nearestPanel=s[0];var l=s[0],c=this.findEstimatedPosition(l);r.position=c,this.updateAxesPosition(c),r.panelMaintainRatio=(l.getRelativeAnchorPosition()+i.gap/2)/(l.getSize()+i.gap)}return this.updateCheckedIndexes({min:e,max:e+s.length-1}),this.resize(),s},t.remove=function(e,t){void 0===t&&(t=1);var n=this.state;e=Math.max(e,0);var r=this.panelManager,i=this.getCurrentIndex(),o=r.remove(e,t);if(g_e(i,e,e+t-1)){var a=Math.max(e-1,r.getRange().min);this.currentPanel=r.get(a)}t>0&&(this.updateCheckedIndexes({min:e-1,max:e+t}),this.visiblePanels=[]),r.getPanelCount()<=0&&(this.currentPanel=void 0,this.nearestPanel=void 0),this.resize();var s=n.scrollArea;if(n.position<s.prev||n.position>s.next){var u=S_e(n.position,s.prev,s.next,!1);this.moveCamera(u),this.updateAxesPosition(u)}return o},t.updateAdaptiveSize=function(){var e=this.state,t=this.options,n=t.horizontal,r=this.getCurrentPanel();if(r){var i=t.adaptive||!e.isAdaptiveCached,o=this.viewportElement.style;if(i){var a=void 0;if(t.adaptive){var s=r.getBbox();a=n?s.height:s.width}else{var u=this.panelManager.originalPanels().reduce((function(e,t){var r=t.getBbox();return Math.max(e,n?r.height:r.width)}),0);a=u}if(!e.isAdaptiveCached){var l=this.updateBbox();a=Math.max(a,n?l.height:l.width),e.isAdaptiveCached=!0}var c=a+"px";n?(o.height=c,e.cachedBbox.height=a):(o.width=c,e.cachedBbox.width=a)}}},t.updateCameraPosition=function(){var e=this.state,t=this.getCurrentPanel(),n=this.getCameraPosition(),r=this.stateMachine.getState(),i=this.moveType.is(Kbe),o=this.getRelativeHangerPosition(),a=this.options.gap/2;if(r.holding||r.playing)this.updateVisiblePanels();else{var s;if(i){var u=this.canSetBoundMode()&&(n===e.scrollArea.prev||n===e.scrollArea.next),l=this.getNearestPanel();s=u||!l?n:l.getPosition()-a+(l.getSize()+2*a)*e.panelMaintainRatio-o}else s=t?t.getAnchorPosition()-o:n;this.canSetBoundMode()&&(s=m_e(s,e.scrollArea.prev,e.scrollArea.next)),this.updateAxesPosition(s),this.moveCamera(s)}},t.updateBbox=function(){var e=this.state,t=this.options,n=this.viewportElement;return e.cachedBbox||(e.cachedBbox=x_e(n,t.useOffset)),e.cachedBbox},t.updatePlugins=function(){var e=this;this.plugins.forEach((function(t){t.update&&t.update(e.flicking)}))},t.destroy=function(e){var t,n=this.state,r=this.flicking.getElement(),i=this.viewportElement,o=this.cameraElement,a=this.panelManager.originalPanels();if(this.removePlugins(this.plugins),!e.preserveUI&&(T_e(i,n.originalViewportStyle),T_e(o,n.originalCameraStyle),!n.isCameraGiven&&!this.options.renderExternal)){var s=n.isViewportGiven?i:r,u=n.isViewportGiven?o:i;a.forEach((function(e){s.appendChild(e.getElement())})),s.removeChild(u)}for(var l in this.axes.destroy(),null===(t=this.panInput)||void 0===t||t.destroy(),a.forEach((function(t){t.destroy(e)})),this)this[l]=null},t.restore=function(e){var t=e.panels,n=this.options.defaultIndex,r=this.cameraElement,i=this.panelManager;r.innerHTML=t.map((function(e){return e.html})).join(""),this.refreshPanels();var o=i.originalPanels(),a=[];t.forEach((function(e,t){var n=o[t];n.setIndex(e.index),n.setPosition(e.position),a[e.index]=n})),i.replacePanels(a,[]),i.setCloneCount(0);var s=i.getPanelCount();this.currentPanel=s>0?i.get(e.index)||i.get(n)||i.firstPanel():void 0,this.visiblePanels=a.filter((function(e){return Boolean(e)})),this.resize(),this.axes.setTo({flick:e.position},0),this.moveCamera(e.position)},t.calcVisiblePanels=function(){var e=this.panelManager.allPanels();if(this.options.renderOnlyVisible){var t=this.getCameraPosition(),n=this.getSize(),r=this.nearestPanel,i=function(e,t,n){for(var r=[],i=e;;){var o=t(i);if(!o||n(o))break;r.push(o),i=o}return r},o=this.panelManager.getPanelCount(),a=function(e){return e.getIndex()+(e.getCloneIndex()+1)*o};return Hbe([r],i(r,(function(e){var t=e.nextSibling;return t&&t.getPosition()>=e.getPosition()?t:null}),(function(e){return e.getPosition()>=t+n})),i(r,(function(e){var t=e.prevSibling;return t&&t.getPosition()<=e.getPosition()?t:null}),(function(e){return e.getPosition()+e.getSize()<=t}))).sort((function(e,t){return a(e)-a(t)}))}return e.filter((function(e){var t=e.getOutsetProgress();return t>-1&&t<1}))},t.getCurrentPanel=function(){return this.currentPanel},t.getCurrentIndex=function(){var e=this.currentPanel;return e?e.getIndex():-1},t.getNearestPanel=function(){return this.nearestPanel},t.getCurrentProgress=function(){var e=this.stateMachine.getState(),t=e.playing||e.holding?this.nearestPanel:this.currentPanel,n=this.panelManager;if(!t)return NaN;var r=this.getScrollArea(),i=r.prev,o=r.next,a=this.getCameraPosition(),s=this.isOutOfBound(),u=t.prevSibling,l=t.nextSibling,c=this.getHangerPosition(),d=t.getAnchorPosition();s&&u&&l&&a<o&&c-u.getAnchorPosition()<d-c&&(l=(t=u).nextSibling,u=t.prevSibling,d=t.getAnchorPosition());var f=t.getIndex()+(t.getCloneIndex()+1)*n.getPanelCount(),h=t.getSize();if(s){var p=this.getRelativeHangerPosition();d>o+p?c=d+c-p-o:d<i+p&&(c=d+c-p-i)}var v=c>=d,m=this.options.gap,g=d,y=d;v?y=l?l.getAnchorPosition():d+h+m:g=u?u.getAnchorPosition():d-h-m;var b=(c-g)/(y-g);return(v?f:u?u.getIndex():f-1)+b},t.updateAxesPosition=function(e){var t=this.axes;t.off(),t.setTo({flick:e},0),t.on(this.axesHandlers)},t.getSize=function(){return this.state.size},t.getScrollArea=function(){return this.state.scrollArea},t.isOutOfBound=function(){var e=this.state,t=this.options,n=e.scrollArea;return!t.circular&&t.bound&&(e.position<=n.prev||e.position>=n.next)},t.canSetBoundMode=function(){var e=this.options;return e.bound&&!e.circular},t.getViewportElement=function(){return this.viewportElement},t.getCameraElement=function(){return this.cameraElement},t.getScrollAreaSize=function(){var e=this.state.scrollArea;return e.next-e.prev},t.getRelativeHangerPosition=function(){return this.state.relativeHangerPosition},t.getHangerPosition=function(){return this.state.position+this.state.relativeHangerPosition},t.getCameraPosition=function(){return this.state.position},t.getPositionOffset=function(){return this.state.positionOffset},t.getCheckedIndexes=function(){return this.state.checkedIndexes},t.getVisiblePanels=function(){return this.visiblePanels},t.setCurrentPanel=function(e){this.currentPanel=e},t.setLastIndex=function(e){var t=this.currentPanel,n=this.panelManager;n.setLastIndex(e),t&&t.getIndex()>e&&(this.currentPanel=n.lastPanel()),this.resize()},t.setVisiblePanels=function(e){this.visiblePanels=e},t.connectAxesHandler=function(e){var t=this.axes;this.axesHandlers=e,t.on(e)},t.addPlugins=function(e){var t=this,n=[].concat(e);return n.forEach((function(e){e.init(t.flicking)})),this.plugins=this.plugins.concat(n),this},t.removePlugins=function(e){var t=this,n=this.plugins;return[].concat(e).forEach((function(e){var r=n.indexOf(e);r>-1&&n.splice(r,1),e.destroy(t.flicking)})),this},t.updateCheckedIndexes=function(e){var t=this.state,n=0;t.checkedIndexes.concat().forEach((function(r,i){var o=r[0],a=r[1];e.min<=a&&e.max>=o&&(t.checkedIndexes.splice(i-n,1),n++)}))},t.appendUncachedPanelElements=function(e){var t=this,n=this.options,r=document.createDocumentFragment();if(n.isEqualSize){var i=this.visiblePanels,o=n.isEqualSize,a={};this.visiblePanels=[],Object.keys(this.panelBboxes).forEach((function(e){a[e]=!0})),e.forEach((function(e){var i=e.getOverlappedClass(o);i&&!a[i]?(n.renderExternal||r.appendChild(e.getElement()),t.visiblePanels.push(e),a[i]=!0):i||(n.renderExternal||r.appendChild(e.getElement()),t.visiblePanels.push(e))})),i.forEach((function(e){t.addVisiblePanel(e)}))}else n.renderExternal||e.forEach((function(e){return r.appendChild(e.getElement())})),this.visiblePanels=e.filter((function(e){return Boolean(e)}));n.renderExternal||this.cameraElement.appendChild(r)},t.updateClonePanels=function(){var e=this.panelManager;this.options.circular&&e.getPanelCount()>0&&(this.clonePanels(),this.updateClonedPanelPositions()),e.chainAllPanels()},t.getVisibleIndexOf=function(e){return E_e(this.visiblePanels,(function(t){return t===e}))},t.build=function(){this.setElements(),this.applyCSSValue(),this.setMoveType(),this.setAxesInstance(),this.createPanInput(),this.refreshPanels(),this.setDefaultPanel(),this.resize(),this.moveToDefaultPanel()},t.setElements=function(){var e=this.state,t=this.options,n=this.flicking.getElement(),r=t.classPrefix,i=n.children[0],o=i&&p_e(i,r+"-viewport"),a=o?i:document.createElement("div"),s=o?a.children[0]:n.children[0],u=s&&p_e(s,r+"-camera"),l=u?s:document.createElement("div");u?e.originalCameraStyle={className:l.getAttribute("class"),style:l.getAttribute("style")}:(l.className=r+"-camera",y_e(o?a.children:n.children).forEach((function(e){l.appendChild(e)}))),o?e.originalViewportStyle={className:a.getAttribute("class"),style:a.getAttribute("style")}:(a.className=r+"-viewport",n.appendChild(a)),u&&o||a.appendChild(l),this.viewportElement=a,this.cameraElement=l,e.isViewportGiven=o,e.isCameraGiven=u},t.applyCSSValue=function(){var e=this.options,t=this.viewportElement,n=this.cameraElement,r=this.viewportElement.style;v_e(t,Qbe),v_e(n,Jbe),t.style.zIndex=""+e.zIndex,e.horizontal?(r.minHeight="100%",r.width="100%"):(r.minWidth="100%",r.height="100%"),e.overflow&&(r.overflow="visible"),this.panelManager=new O_e(this.cameraElement,e)},t.setMoveType=function(){var e=this.options.moveType;switch(e.type){case Wbe:this.moveType=new j_e(e.count);break;case Kbe:this.moveType=new F_e;break;default:throw new Error("moveType is not correct!")}},t.setAxesInstance=function(){var e=this.state,t=this.options,n=e.scrollArea;this.axes=new zbe({flick:{range:[n.prev,n.next],circular:t.circular,bounce:[0,0]}},{easing:t.panelEffect,deceleration:t.deceleration,interruptable:!0})},t.refreshPanels=function(){var e=this,t=this.panelManager,n=y_e(this.cameraElement.children).map((function(t,n){return new P_e(t,n,e)}));t.replacePanels(n,[]),this.visiblePanels=n.filter((function(e){return Boolean(e)}))},t.setDefaultPanel=function(){var e=this.options,t=this.panelManager,n=this.panelManager.getRange(),r=m_e(e.defaultIndex,n.min,n.max);this.currentPanel=t.get(r)},t.clonePanels=function(){var e=this.state,t=this.options,n=this.panelManager,r=t.gap,i=e.size,o=n.firstPanel(),a=n.lastPanel();if(o){var s=n.originalPanels(),u=s.concat().reverse(),l=a.getPosition()+a.getSize()-o.getPosition()+r;if(!(l<=0)){for(var c=o.getRelativeAnchorPosition(),d=this.getRelativeHangerPosition(),f=(d-c)%l,h=0,p=null,v=0,m=u;v<m.length;v++)if((E=m[v])&&(h+=E.getSize()+r)>=f){p=E;break}var g=(i-d+c)%l;h=0;for(var y=null,b=0,_=s;b<_.length;b++){var E;if((E=_[b])&&(h+=E.getSize()+r)>=g){y=E;break}}var w=p&&y&&0!==p.getIndex()&&p.getIndex()<=y.getIndex(),S=Math.ceil((d+o.getSize()-c)/l)+Math.ceil((i-d+c)/l)-1+(w?1:0),T=n.getCloneCount();if(n.setCloneCount(S),!t.renderExternal)if(S>T)for(var k=function(e){var t,r=s.map((function(t){return t.clone(e)})),i=document.createDocumentFragment();r.forEach((function(e){return i.appendChild(e.getElement())})),x.cameraElement.appendChild(i),(t=x.visiblePanels).push.apply(t,r.filter((function(e){return Boolean(e)}))),n.insertClones(e,0,r)},x=this,A=T;A<S;A++)k(A);else S<T&&n.removeClonesAfter(S)}}},t.moveToDefaultPanel=function(){var e=this.state,t=this.panelManager,n=this.options,r=this.panelManager.getRange(),i=m_e(n.defaultIndex,r.min,r.max),o=t.get(i),a=0;o&&(a=o.getAnchorPosition()-e.relativeHangerPosition,a=this.canSetBoundMode()?m_e(a,e.scrollArea.prev,e.scrollArea.next):a),this.moveCamera(a),this.axes.setTo({flick:a},0)},t.updateSize=function(){var e=this.state,t=this.options,n=this.panelManager.originalPanels().filter((function(e){return Boolean(e)})),r=this.updateBbox(),i=e.size;e.size=t.horizontal?r.width:r.height,i!==e.size&&(e.relativeHangerPosition=b_e(t.hanger,e.size),e.infiniteThreshold=b_e(t.infiniteThreshold,e.size)),n.length<=0||this.resizePanels(n)},t.updateOriginalPanelPositions=function(){var e=this.options.gap,t=this.panelManager,n=t.firstPanel(),r=t.originalPanels();if(n){var i=this.currentPanel,o=this.nearestPanel,a=this.stateMachine.getState(),s=this.state.scrollArea,u=n.getPosition(),l=n;o?l=g_e(a.lastPosition+a.delta,s.prev,s.next)?o:i:n.getIndex()>0&&(l=i);var c=r.slice(0,l.getIndex()+(l.getCloneIndex()+1)*r.length).reduce((function(t,n){return t+n.getSize()+e}),0);u=l.getPosition()-c,r.forEach((function(t){var n=u,r=t.getSize();t.setPosition(n),u+=r+e})),this.options.renderOnlyVisible||r.forEach((function(e){return e.setPositionCSS()}))}},t.updateClonedPanelPositions=function(){var e=this.state,t=this.options,n=this.panelManager,r=n.clonedPanels().reduce((function(e,t){return Hbe(e,t)}),[]).filter((function(e){return Boolean(e)})),i=e.scrollArea,o=n.firstPanel(),a=n.lastPanel();if(o){for(var s=a.getPosition()+a.getSize()-o.getPosition()+t.gap,u=0,l=r;u<l.length;u++){var c=(v=l[u]).getOriginalPanel(),d=s*(v.getCloneIndex()+1)+c.getPosition();v.setPosition(d)}for(var f=o.getPosition(),h=0,p=r.concat().reverse();h<p.length;h++){var v,m=(v=p[h]).getSize(),g=f-m-t.gap;if(g+m<=i.prev)break;v.setPosition(g),f=g}this.options.renderOnlyVisible||r.forEach((function(e){e.setPositionCSS()}))}},t.updateVisiblePanelPositions=function(){var e=this;this.options.renderOnlyVisible&&this.visiblePanels.forEach((function(t){t.setPositionCSS(e.state.positionOffset)}))},t.updateScrollArea=function(){var e=this.state,t=this.panelManager,n=this.options,r=this.axes,i=t.firstPanel(),o=t.lastPanel(),a=e.relativeHangerPosition;if(i)if(this.canSetBoundMode())if((l=o.getPosition()+o.getSize()-i.getPosition())>=e.size)e.scrollArea={prev:i.getPosition(),next:o.getPosition()+o.getSize()-e.size};else{var s=b_e(n.anchor,l),u=i.getPosition()+m_e(s,l-(e.size-a),a);e.scrollArea={prev:u-a,next:u-a}}else if(n.circular){var l=o.getPosition()+o.getSize()-i.getPosition()+n.gap;e.scrollArea={prev:i.getAnchorPosition()-a,next:l+i.getAnchorPosition()-a}}else e.scrollArea={prev:i.getAnchorPosition()-a,next:o.getAnchorPosition()-a};else e.scrollArea={prev:0,next:0};var c,d,f=e.size,h=n.bounce;if((d=h)&&d.constructor===Array)c=h.map((function(e){return b_e(e,f,$be.bounce)}));else{var p=b_e(h,f,$be.bounce);c=[p,p]}var v=r.axis.flick;v.range=[e.scrollArea.prev,e.scrollArea.next],v.bounce=c},t.checkNeedPanel=function(e){var t=this.state,n=this.options,r=this.panelManager,i=this.currentPanel,o=this.nearestPanel,a=this.stateMachine.getState();if(n.infinite){var s=n.gap,u=t.infiniteThreshold,l=r.getLastIndex();if(!(l<0))if(i&&o){for(var c=o.getPosition(),d=a.holding||a.playing?o:i;d;){var f=d.getIndex(),h=d.nextSibling,p=f!==(_=r.lastPanel()).getIndex()&&h?h.getIndex():l+1,v=o.getPosition(),m=d.getPosition()+d.getSize()-(v-c)+s-u<=t.position+t.size;if(p-f>1&&m&&this.triggerNeedPanel({axesEvent:e,siblingPanel:d,direction:s_e.NEXT,indexRange:{min:f+1,max:p-1,length:p-f-1}}),n.circular&&f===l&&m){var g=(b=r.firstPanel())?b.getIndex():-1;g>0&&this.triggerNeedPanel({axesEvent:e,siblingPanel:d,direction:s_e.NEXT,indexRange:{min:0,max:g-1,length:g}})}var y=r.lastPanel();if(y&&f===y.getIndex()||!m)break;d=d.nextSibling}for(d=o;d;){var b,_,E=t.position,w=d.getIndex(),S=d.prevSibling,T=w!==(b=r.firstPanel()).getIndex()&&S?S.getIndex():-1;if(v=o.getPosition(),m=d.getPosition()-(v-c)-s+u>=E,w-T>1&&m&&this.triggerNeedPanel({axesEvent:e,siblingPanel:d,direction:s_e.PREV,indexRange:{min:T+1,max:w-1,length:w-T-1}}),n.circular&&0===w&&m&&(_=r.lastPanel())&&_.getIndex()<l){var k=_.getIndex();this.triggerNeedPanel({axesEvent:e,siblingPanel:d,direction:s_e.PREV,indexRange:{min:k+1,max:l,length:l-k}})}var x=r.firstPanel();if(x&&w===x.getIndex()||!m)break;d=d.prevSibling}}else this.triggerNeedPanel({axesEvent:e,siblingPanel:null,direction:null,indexRange:{min:0,max:l,length:l+1}})}},t.triggerNeedPanel=function(e){var t=this,n=e.axesEvent,r=e.siblingPanel,i=e.direction,o=e.indexRange,a=this.options,s=this.state.checkedIndexes,u=s.some((function(e){var t=e[0],n=e[1];return t===o.min||n===o.max})),l=this.flicking.hasOn(e_e.NEED_PANEL);if(!u&&l){s.push([o.min,o.max]);var c=r?r.getIndex():0,d=!!n&&n.isTrusted;this.triggerEvent(e_e.NEED_PANEL,n,d,{index:c,panel:r,direction:i,range:o,fill:function(e){var n=t.panelManager;if(!r)return t.insert(n.getRange().max+1,e);var s=f_e(e),u=i===s_e.NEXT?s.slice(0,o.length):s.slice(-o.length);return i===s_e.NEXT?a.circular&&c===n.getLastIndex()?t.insert(0,u):r.insertAfter(u):i===s_e.PREV?a.circular&&0===c?t.insert(o.max-u.length+1,u):r.insertBefore(u):t.insert(0,u)}})}},t.updateVisiblePanels=function(){var e=this.state,t=this.options,n=this.panelManager,r=this.stateMachine.getState(),i=this.cameraElement,o=t.renderExternal;if(t.renderOnlyVisible)if(this.nearestPanel){var a=this.visiblePanels,s=this.calcVisiblePanels(),u=this.checkVisiblePanelChange(a,s),l=u.addedPanels,c=u.removedPanels;if(!(l.length<=0&&c.length<=0)){if(r.holding)s.push.apply(s,c);else{var d=s[0].getPosition();e.positionOffset=d}if(s.forEach((function(t){t.setPositionCSS(e.positionOffset)})),!o){r.holding||c.forEach((function(e){var t=e.getElement();t.parentNode&&i.removeChild(t)}));var f=document.createDocumentFragment();l.forEach((function(e){f.appendChild(e.getElement())})),i.appendChild(f)}var h=s[0],p=s[s.length-1],v=function(e){return e.getIndex()+(e.getCloneIndex()+1)*n.getPanelCount()},m={min:v(h),max:v(p)};this.visiblePanels=s,this.flicking.trigger(e_e.VISIBLE_CHANGE,{type:e_e.VISIBLE_CHANGE,range:m})}}else for(this.visiblePanels=[];i.firstChild;)i.removeChild(i.firstChild)},t.checkVisiblePanelChange=function(e,t){var n=e.map((function(){return 0})),r=t.map((function(){return 0}));e.forEach((function(e,i){t.forEach((function(t,o){e===t&&(n[i]++,r[o]++)}))}));var i=n.reduce((function(t,n,r){return 0===n?Hbe(t,[e[r]]):t}),[]),o=r.reduce((function(e,n,r){return 0===n?Hbe(e,[t[r]]):e}),[]);return{removedPanels:i,addedPanels:o}},t.resizePanels=function(e){var t=this.options,n=this.panelBboxes;if(!0!==t.isEqualSize)if(t.isEqualSize){var r=t.isEqualSize;e.forEach((function(e){var t=e.getOverlappedClass(r);t?(e.resize(n[t]),n[t]=e.getBbox()):e.resize()}))}else e.forEach((function(e){e.resize()}));else{if(!n.default){var i=e[0];n.default=i.getBbox()}var o=n.default;e.forEach((function(e){e.resize(o)}))}},t.createPanInput=function(){var e=this.options;this.panInput=new Bbe(this.viewportElement,{inputType:e.inputType,thresholdAngle:e.thresholdAngle,iOSEdgeSwipeThreshold:e.iOSEdgeSwipeThreshold,scale:e.horizontal?[-1,0]:[0,-1],releaseOnScroll:!0}),this.axes.connect(e.horizontal?["flick",""]:["","flick"],this.panInput)},e}(),U_e=function(){function e(e){var t,n=this;this.skipFirstResize=(t=!0,function(){t?t=!1:n.onResize()}),this.onResize=function(){n.flicking.resize()},this.flicking=e,this.enabled=!1,this.resizeObserver=null}var t=e.prototype;return t.enable=function(){var e=this.flicking;if(this.enabled&&this.disable(),e.options.useResizeObserver&&window.ResizeObserver){var t=e.getElement(),n=0!==t.clientWidth||0!==t.clientHeight?new ResizeObserver(this.skipFirstResize):new ResizeObserver(this.onResize);n.observe(t),this.resizeObserver=n}else window.addEventListener("resize",this.onResize);return this.enabled=!0,this},t.disable=function(){if(!this.enabled)return this;var e=this.resizeObserver;return e?(e.disconnect(),this.resizeObserver=null):window.removeEventListener("resize",this.onResize),this.enabled=!1,this},e}(),B_e=function(e){function t(t,n){void 0===n&&(n={});var r,i=e.call(this)||this;if(i.contentsReadyChecker=null,i.isPanelChangedAtBeforeSync=!1,i.resize=function(){var e=i.viewport,t=i.options,n=i.getElement(),r=e.panelManager.allPanels();t.isConstantSize||r.filter((function(e){return!!e})).forEach((function(e){return e.unCacheBbox()}));var o=t.renderOnlyVisible&&!t.isConstantSize&&!0!==t.isEqualSize,a=n.parentElement,s=a.style.height;return a.style.height=a.offsetHeight+"px",e.unCacheBbox(),e.updateBbox(),o&&e.appendUncachedPanelElements(r),e.resize(),a.style.height=s,i},i.triggerEvent=function(t,n,r,o){void 0===o&&(o={});var a=i.viewport,s=!0;if(a){var u=a.stateMachine.getState(),l=a.getScrollArea(),c=l.prev,d=l.next,f=__e(a.getCameraPosition(),[c,c,d]);i.options.circular&&(f%=1),s=!e.prototype.trigger.call(i,t,d_e({type:t,index:i.getIndex(),panel:i.getCurrentPanel(),direction:u.direction,holding:u.holding,progress:f,axesEvent:n,isTrusted:r},o))}return{onSuccess:function(e){return s||e(),this},onStopped:function(e){return s&&e(),this}}},i.moveCamera=function(e){var t=i.viewport,n=t.stateMachine.getState(),r=i.options,o=e.pos.flick,a=t.getCameraPosition();if(e.isTrusted&&n.holding){var s=r.horizontal?e.inputEvent.offsetX:e.inputEvent.offsetY,u=o-a,l=s<0==o<a;r.circular&&l&&(u=(u>0?-1:1)*(t.getScrollAreaSize()-Math.abs(u)));var c=0===u?n.direction:u>0?s_e.NEXT:s_e.PREV;n.direction=c}return n.delta+=e.delta.flick,t.moveCamera(o,e),i.triggerEvent(e_e.MOVE,e,e.isTrusted).onStopped((function(){t.moveCamera(a,e)}))},h_e(t)){if(!(r=document.querySelector(t)))throw new Error("Base element doesn't exist.")}else{if(!t.nodeName||1!==t.nodeType)throw new Error("Element should be provided in string or HTMLElement.");r=t}i.wrapper=r,i.options=d_e({},$be,n);var o=i.options,a=o.moveType;return a in Ybe&&(o.moveType=Ybe[a]),i.viewport=new V_e(i,i.options,i.triggerEvent),i.autoResizer=new U_e(i),i.listenInput(),i.listenResize(),i}qbe(t,e);var n=t.prototype;return n.prev=function(e){var t=this.getCurrentPanel(),n=this.viewport.stateMachine.getState();if(t&&n.type===n_e){var r=t.prev();r&&r.focus(e)}return this},n.next=function(e){var t=this.getCurrentPanel(),n=this.viewport.stateMachine.getState();if(t&&n.type===n_e){var r=t.next();r&&r.focus(e)}return this},n.moveTo=function(e,t){var n=this.viewport,r=n.panelManager.get(e),i=n.stateMachine.getState();if(!r||i.type!==n_e)return this;var o=r.getAnchorPosition(),a=n.getHangerPosition(),s=r;if(this.options.circular){var u=n.getScrollAreaSize(),l=[o-u,o,o+u].reduce((function(e,t){return Math.abs(t-a)<Math.abs(e-a)?t:e}),1/0)-r.getRelativeAnchorPosition(),c=r.getIdenticalPanels(),d=l-o;d>0?s=c[1]:d<0&&(s=c[c.length-1]),(s=s.clone(s.getCloneIndex(),!0)).setPosition(l)}var f=this.getIndex();if(a===s.getAnchorPosition()&&f===e)return this;var h=r.getIndex()===n.getCurrentIndex()?"":e_e.CHANGE;return n.moveTo(s,n.findEstimatedPosition(s),h,null,t),this},n.getIndex=function(){return this.viewport.getCurrentIndex()},n.getElement=function(){return this.wrapper},n.getSize=function(){return this.viewport.getSize()},n.getCurrentPanel=function(){return this.viewport.getCurrentPanel()||null},n.getPanel=function(e){return this.viewport.panelManager.get(e)||null},n.getAllPanels=function(e){var t=this.viewport.panelManager;return(e?t.allPanels():t.originalPanels()).filter((function(e){return!!e}))},n.getVisiblePanels=function(){return this.viewport.calcVisiblePanels()},n.getPanelCount=function(){return this.viewport.panelManager.getPanelCount()},n.getCloneCount=function(){return this.viewport.panelManager.getCloneCount()},n.getLastIndex=function(){return this.viewport.panelManager.getLastIndex()},n.setLastIndex=function(e){return this.viewport.setLastIndex(e),this},n.isPlaying=function(){return this.viewport.stateMachine.getState().playing},n.enableInput=function(){return this.viewport.enable(),this},n.disableInput=function(){return this.viewport.disable(),this},n.getStatus=function(){var e=this.viewport,t=e.panelManager.originalPanels().filter((function(e){return!!e})).map((function(e){return{html:e.getElement().outerHTML,index:e.getIndex(),position:e.getPosition()}}));return{index:e.getCurrentIndex(),panels:t,position:e.getCameraPosition()}},n.setStatus=function(e){this.viewport.restore(e)},n.addPlugins=function(e){return this.viewport.addPlugins(e),this},n.removePlugins=function(e){return this.viewport.removePlugins(e),this},n.destroy=function(e){var t;for(var n in void 0===e&&(e={}),this.off(),this.autoResizer.disable(),this.viewport.destroy(e),null===(t=this.contentsReadyChecker)||void 0===t||t.destroy(),this)this[n]=null},n.prepend=function(e){var t=this.viewport,n=f_e(e),r=Math.max(t.panelManager.getRange().min-n.length,0),i=t.insert(r,n);return this.checkContentsReady(i),i},n.append=function(e){var t=this.viewport,n=t.insert(t.panelManager.getRange().max+1,e);return this.checkContentsReady(n),n},n.replace=function(e,t){var n=this.viewport.replace(e,t);return this.checkContentsReady(n),n},n.remove=function(e,t){return void 0===t&&(t=1),this.viewport.remove(e,t)},n.getRenderingIndexes=function(e){var t=this.viewport,n=t.getVisiblePanels(),r=e.maintained.reduce((function(e,t){var n=t[0];return e[t[1]]=n,e}),{}),i=e.list.length,o=e.added,a=Hbe(n.map((function(e){return function(e){return e.getIndex()+(e.getCloneIndex()+1)*i}(e)})).filter((function(e){return null!=r[e%i]})),o),s=t.panelManager.allPanels();return t.setVisiblePanels(a.map((function(e){return s[e]}))),a},n.beforeSync=function(e){var t,n=this,r=e.maintained,i=e.added,o=e.changed,a=e.removed,s=this.viewport,u=s.panelManager,l=this.options.circular,c=s.getCurrentPanel(),d=u.getCloneCount(),f=u.clonedPanels(),h=s.getVisiblePanels().filter((function(e){return E_e(a,(function(t){return t===e.getIndex()}))<0}));if(s.setVisiblePanels(h),i.length<=0&&a.length<=0&&o.length<=0&&d===f.length)return this;var p=u.originalPanels(),v=[],m=w_e(d).map((function(){return[]}));r.forEach((function(e){var t=e[0],n=e[1];v[n]=p[t],v[n].setIndex(n)})),i.forEach((function(e){v[e]=new P_e(null,e,n.viewport)})),l&&w_e(d).forEach((function(e){var t=f[e],n=m[e];r.forEach((function(r){var i=r[0],o=r[1];n[o]=t?t[i]:v[o].clone(e,!1),n[o].setIndex(o)})),i.forEach((function(t){var r=v[t];n[t]=r.clone(e,!1)}))})),i.forEach((function(e){s.updateCheckedIndexes({min:e,max:e})})),a.forEach((function(e){s.updateCheckedIndexes({min:e-1,max:e+1})}));var g=s.getCheckedIndexes();g.forEach((function(e,t){var n=e[0],r=e[1],o=i.filter((function(e){return e<n&&u.has(e)})).length-a.filter((function(e){return e<n})).length;g.splice(t,1,[n+o,r+o])})),o.length>0&&r.forEach((function(e){var t=e[1];s.updateCheckedIndexes({min:t,max:t})})),u.replacePanels(v,m);var y=null!==(t=null==c?void 0:c.getIndex())&&void 0!==t?t:-1,b=E_e(a,(function(e){return e===y}))>=0;(!c||b)&&v.length>0?s.setCurrentPanel(v[0]):v.length<=0&&s.setCurrentPanel(void 0),this.isPanelChangedAtBeforeSync=!0},n.sync=function(e){var t=e.list,n=e.maintained,r=e.added,i=e.changed,o=e.removed;if(r.length<=0&&o.length<=0&&i.length<=0)return this;var a=this.viewport,s=this.options,u=s.renderOnlyVisible,l=s.circular,c=a.panelManager;if(!u){var d=c.getRange(),f=e;if(l){var h=d.max,p=t.length/(c.getCloneCount()+1)>>0,v=r.filter((function(e){return e<p})),m=o.filter((function(e){return e<=h})),g=n.filter((function(e){return e[0]<=h})),y=i.filter((function(e){return e[0]<=h}));f={added:v,maintained:g,removed:m,changed:y}}this.beforeSync(f)}var b=u?a.getVisiblePanels():this.getAllPanels(!0);return r.forEach((function(e){var n=t[e],r=b[e];r.setElement(n),r.unCacheBbox()})),this.isPanelChangedAtBeforeSync&&(a.setVisiblePanels([]),this.isPanelChangedAtBeforeSync=!1),a.resize(),this},n.listenInput=function(){var e=this,t=e.viewport,n=t.stateMachine;e.eventContext={flicking:e,viewport:e.viewport,transitTo:n.transitTo,triggerEvent:e.triggerEvent,moveCamera:e.moveCamera,stopCamera:t.stopCamera};var r={},i=function(t){var i=t_e[t];r[i]=function(t){return n.fire(i,t,e.eventContext)}};for(var o in t_e)i(o);e.viewport.connectAxesHandler(r)},n.listenResize=function(){var e=this,t=this.options;if(t.autoResize&&this.autoResizer.enable(),t.resizeOnContentsReady){var n=new Wae,r=function(){e.resize(),e.trigger(e_e.CONTENT_LOAD,{type:e_e.CONTENT_LOAD})};n.on("preReady",r),n.on("readyElement",(function(e){e.hasLoading&&e.isPreReadyOver&&r()})),n.on("error",(function(t){e.trigger(e_e.CONTENT_ERROR,{type:e_e.CONTENT_ERROR,element:t.element})})),n.check([this.wrapper]),this.contentsReadyChecker=n}},n.checkContentsReady=function(e){var t;null===(t=this.contentsReadyChecker)||void 0===t||t.check(e.map((function(e){return e.getElement()})))},t.VERSION="3.9.3",t.DIRECTION=s_e,t.EVENTS=e_e,t}(cge),z_e=B_e,G_e=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(e){return this.values[this.keys.indexOf(e)]},t.set=function(e,t){var n=this.keys,r=this.values,i=n.indexOf(e),o=-1===i?n.length:i;n[o]=e,r[o]=t},e}(),q_e=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(e){return this.object[e]},t.set=function(e,t){this.object[e]=t},e}(),H_e="function"==typeof Map,W_e=function(){function e(){}var t=e.prototype;return t.connect=function(e,t){this.prev=e,this.next=t,e&&(e.next=this),t&&(t.prev=this)},t.disconnect=function(){var e=this.prev,t=this.next;e&&(e.next=t),t&&(t.prev=e)},t.getIndex=function(){for(var e=this,t=-1;e;)e=e.prev,++t;return t},e}(),K_e=function(){function e(e,t,n,r,i,o,a,s){this.prevList=e,this.list=t,this.added=n,this.removed=r,this.changed=i,this.maintained=o,this.changedBeforeAdded=a,this.fixed=s}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var e=function(e,t){var n=[],r=[];return e.forEach((function(e){var t=e[0],i=e[1],o=new W_e;n[t]=o,r[i]=o})),n.forEach((function(e,t){e.connect(n[t-1])})),e.filter((function(e,n){return!t[n]})).map((function(e,t){var i=e[0],o=e[1];if(i===o)return[0,0];var a=n[i],s=r[o-1],u=a.getIndex();return a.disconnect(),s?a.connect(s,s.next):a.connect(void 0,n[0]),[u,a.getIndex()]}))}(this.changedBeforeAdded,this.fixed),t=this.changed,n=[];this.cacheOrdered=e.filter((function(e,r){var i=e[0],o=e[1],a=t[r],s=a[0],u=a[1];if(i!==o)return n.push([s,u]),!0})),this.cachePureChanged=n},e}(),Y_e=function(){function e(e,t){void 0===e&&(e=[]),this.findKeyCallback=t,this.list=[].slice.call(e)}return e.prototype.update=function(e){var t=[].slice.call(e),n=function(e,t,n){var r=H_e?Map:n?q_e:G_e,i=n||function(e){return e},o=[],a=[],s=[],u=e.map(i),l=t.map(i),c=new r,d=new r,f=[],h=[],p={},v=[],m=0,g=0;return u.forEach((function(e,t){c.set(e,t)})),l.forEach((function(e,t){d.set(e,t)})),u.forEach((function(e,t){var n=d.get(e);void 0===n?(++g,a.push(t)):p[n]=g})),l.forEach((function(e,t){var n=c.get(e);void 0===n?(o.push(t),++m):(s.push([n,t]),g=p[t]||0,f.push([n-g,t-m]),h.push(t===n),n!==t&&v.push([n,t]))})),a.reverse(),new K_e(e,t,o,a,v,s,f,h)}(this.list,t,this.findKeyCallback);return this.list=t,n},e}(),X_e=Y_e,$_e=function(e,t){return $_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},$_e(e,t)},Q_e="function"==typeof Map?void 0:(A_e=0,function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++A_e)}),J_e=function(e){function t(t){return void 0===t&&(t=[]),e.call(this,t,Q_e)||this}return function(e,t){function n(){this.constructor=e}$_e(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(X_e),Z_e=J_e,eEe=function(e,t){return eEe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},eEe(e,t)};function tEe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}eEe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var nEe=function(){return nEe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nEe.apply(this,arguments)},rEe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tEe(t,e),t.prototype.render=function(){return this.props.children},t}(i.Component),iEe={tag:"div",viewportTag:"div",cameraTag:"div",classPrefix:"eg-flick",plugins:[],onNeedPanel:function(e){},onMoveStart:function(e){},onMove:function(e){},onMoveEnd:function(e){},onHoldStart:function(e){},onHoldEnd:function(e){},onRestore:function(e){},onSelect:function(e){},onChange:function(e){},onContentLoad:function(e){},onContentError:function(e){},onVisibleChange:function(e){}},oEe=function(e){function t(t){var n=e.call(this,t)||this;n.state={cloneCount:0},n.options=nEe(nEe({},$be),{renderExternal:!0}),n.pluginsDiffer=new X_e;var r=n.options;for(var i in t)i in $be&&(r[i]=t[i]);return n}tEe(t,e);var n=t.prototype;return n.render=function(){var e=this,t=this.props,n=t.tag,r=t.viewportTag,o=t.cameraTag,a=t.classPrefix,s={};for(var u in t)u in iEe||u in $be||(s[u]=t[u]);return i.createElement(n,nEe({},s,{ref:function(t){t&&(e.containerElement=t)}}),i.createElement(r,{className:a+"-viewport"},i.createElement(o,{className:a+"-camera",ref:function(t){t&&(e.cameraElement=t)}},this.renderPanels())))},n.componentDidUpdate=function(){var e=this.childrenDiffer.update(this.getElements());this.flicking.sync(e),this.checkPlugins(),this.checkCloneCount()},n.componentDidMount=function(){var e=this;this.childrenDiffer=new Z_e(this.getElements()),this.flicking=new z_e(this.containerElement,nEe(nEe({},this.options),{framework:"react",frameworkVersion:i.version})).on({moveStart:function(t){return e.props.onMoveStart(t)},move:function(t){return e.props.onMove(t)},moveEnd:function(t){return e.props.onMoveEnd(t)},holdStart:function(t){return e.props.onHoldStart(t)},holdEnd:function(t){return e.props.onHoldEnd(t)},select:function(t){return e.props.onSelect(t)},needPanel:function(t){return e.props.onNeedPanel(t)},change:function(t){return e.props.onChange(t)},restore:function(t){return e.props.onRestore(t)},visibleChange:function(t){e.props.onVisibleChange(t),e.forceUpdate()},contentLoad:function(t){e.props.onContentLoad(t),e.forceUpdate()},contentError:function(t){return e.props.onContentError(t)}});var t=this.getChildren();this.jsxDiffer=new X_e(t.map((function(e){return""+e.key}))),this.props.status&&this.setStatus(this.props.status),this.checkPlugins(),this.checkCloneCount(),this.props.renderOnlyVisible&&this.forceUpdate()},n.componentWillUnmount=function(){this.destroy({preserveUI:!0})},n.checkPlugins=function(){var e=this.pluginsDiffer.update(this.props.plugins),t=e.list,n=e.added,r=e.removed,i=e.prevList;this.flicking.addPlugins(n.map((function(e){return t[e]}))),this.flicking.removePlugins(r.map((function(e){return i[e]})))},n.checkCloneCount=function(){var e=this.flicking.getCloneCount();this.state.cloneCount!==e&&this.setState({cloneCount:e})},n.renderPanels=function(){var e,t=this.props.renderOnlyVisible,n=this.flicking,r=this.getChildren();if(n&&t){var o=this.jsxDiffer.update(r.map((function(e){return""+e.key}))),a=r.length;n.beforeSync(o);var s=n.getRenderingIndexes(o);e=s.map((function(e){if(e>=a){var t=e%a,n=Math.floor(e/a)-1,o=r[t];return i.createElement(rEe,{key:"clone"+n+o.key},o)}return r[e]}))}else{var u=this.state.cloneCount;e=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(r);for(var l=function(t){e=e.concat(r.map((function(e){return i.createElement(rEe,{key:"clone"+t+e.key},e)})))},c=0;c<u;++c)l(c)}return e},n.getChildren=function(){var e=i.Children.toArray(this.props.children).slice();return"number"==typeof this.props.lastIndex?e.slice(0,this.props.lastIndex+1):e},n.getElements=function(){return this.cameraElement.children},t.defaultProps=iEe,function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);o>3&&a&&Object.defineProperty(t,n,a)}([k_e],t.prototype,"flicking",void 0),t}(i.Component),aEe=oEe,sEe={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),(t=e.ClickLoggerDomain||(e.ClickLoggerDomain={})).real="cc.naver.com",t.test="alpha-cc.naver.com";var n=function(){function t(){var e=this;this.log=function(t,n){if(!e.logger)throw new Error("must call initialize method first");if(t){var r="nodeType"in t&&t.nodeType===Node.ELEMENT_NODE?t:t.currentTarget,i=n||r&&r.getAttribute("data-nclick");e.logger&&i&&e.logger(r,i,"","")}}}return t.prototype.initialize=function(e){var n=e.domain,r=void 0===n?t.defaultDomain:n,i=e.serviceCode;if(!i)throw new Error("serviceCode must be defined.");window.ccsrv=r,window.g_ssc=i,window.nsc=i,!this.logger&&this.loadScript()},t.prototype.loadScript=function(){!function(e){var t=function(e,t,n,r,i,a,s){o(e,t,n,r,a,s)},n=e.ccsrv||"cc.naver.com",r=e.nsc||"decide.me",i={};function o(e,n,r,i,o,a){var s,u,l,c=e,d=e;if("nodeType"in e&&e.nodeType>=1)c=window.event||e;else if(e){var f=e.srcElement||e.currentTarget||e.target;f&&(d=t.findLink(f))}return o||(o=""),l=t.gcp(d,c),u=t.gl(n,r,i,l,"",0,t.st,o,a),s=t.l(d,u),t.sd(s),!0}t.vs="0.4.7",t.md="cc",t.pt="https:",t.ct=0,t.ec=encodeURIComponent,t.st=1,t.findLink=function(e){for(var t=e;t&&"BODY"!==t.tagName&&"HTML"!==t.tagName&&"A"!==t.tagName;)t=t.parentNode;return"A"!==t.tagName&&(t=e),t},t.l=function(e,r){var i,o,a;return e&&e.href&&e.getAttribute("href")?(o=e.tagName.toLowerCase(),(a=e.href.toLowerCase())&&0==a.indexOf(t.pt+"//"+n)?i=e.href:a&&0!=a.indexOf(t.pt+"//"+n)&&o&&"img"!=o&&(i=r+"&u="+t.ec(e.href)),i):r+"&u=about%3Ablank"},t.sd=function(e,n){var r,i=0;t.ct>0&&(e+="&nt="+(new Date).getTime()),"function"==typeof n&&(i=1);var o=new Image;o.src=e,o.onload=function(){r&&clearTimeout(r),i&&n(),o.onload=null},o.onerror=function(){r&&clearTimeout(r),i&&n(),o.onerror=null},i&&(r=setTimeout((function(){n()}),5e3)),t.ct++},t.ggv=function(t){return i[t]||e[t]||""},t.gl=function(i,o,a,s,u,l,c,d,f){var h=t.ggv("g_ssc"),p=t.ggv("g_query"),v=t.ggv("g_pid"),m=t.ggv("g_sid"),g=e.lcs_get_lpid||null;null==l&&(l=1),null==c&&(c=1);var y=t.pt+"//"+n+"/"+t.md+"?a="+i+"&r="+a+"&i="+o+"&m="+l;return 1==c?(h&&(y+="&ssc="+h),p&&(y+="&q="+t.ec(p)),m&&(y+="&s="+m),f?y+="&p="+f:v?y+="&p="+v:g?y+="&p="+g():console.warn("'g_pid / lcs_get_lpid' is not exist.")):(y+="&nsc="+r,console.warn("[DEPRECATED] NSC mode")),d&&(y+="&g="+d),u&&(y+="&u="+t.ec(u)),s&&(y+=s),y},t.al=function(e,t){var n=window;n.addEventListener?n.addEventListener(e,t,!1):n.attachEvent&&n.attachEvent("on"+e,t)},t.gsbw=function(){var e=document.createElement("p");e.style.width="200px",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;return n==r&&(r=t.clientWidth),document.body.removeChild(t),n-r},t.fp=function(e){var t=curtop=0;try{if(e.offsetParent)do{t+=e.offsetLeft,curtop+=e.offsetTop}while(e=e.offsetParent);else(e.x||e.y)&&(e.x&&(t+=e.x),e.y&&(curtop+=e.y))}catch(e){}return[t,curtop]},t.ws=function(e){e||(e=window);var n=0;if(e.innerWidth){if(n=e.innerWidth,"number"==typeof e.innerWidth){var r=t.gsbw();n=e.innerWidth-r}}else document.documentElement&&document.documentElement.clientWidth?n=document.documentElement.clientWidth:document.body&&(document.body.clientWidth||document.body.clientHeight)&&(n=document.body.clientWidth);return n},t.ci=function(e){var t,n=e.parentNode;if(null==n||null==n)return!1;for(;;)if("#document"==n.nodeName.toLowerCase()){t=n.parentWindow?n.parentWindow:n.defaultView;try{return null!=t.frameElement&&null!=t.frameElement&&"iframe"==t.frameElement.nodeName.toLowerCase()&&t.frameElement.id||!1}catch(e){return!1}}else if(null==(n=n.parentNode)||null==n)return!1},t.gcp=function(e,n){var r,i,o,a=-1,s=-1,u=-1,l=-1,c="",d=window.event?window.event:e;n&&(d=n||window.event);try{if(bw=t.ws(window),o=t.ci(e)){var f=t.fp(document.getElementById(o));d.clientX&&null!=d.clientX&&((r=document.body).clientLeft&&r.clientTop?(ifrSx=d.clientX-r.clientLeft,ifrSy=d.clientY-r.clientTop):(ifrSx=d.clientX,ifrSy=d.clientY)),u=f[0]+ifrSx,l=f[1]+ifrSy,document.body&&(document.body.scrollTop||document.body.scrollLeft)?(a=u-(r=document.body).scrollLeft,s=l-r.scrollTop):document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)?(a=u-(i=document.documentElement).scrollLeft,s=l-i.scrollTop):(a=u,s=l)}else d.clientX&&null!=d.clientX&&((r=document.body).clientLeft&&r.clientTop?(a=d.clientX-r.clientLeft,s=d.clientY-r.clientTop):(a=d.clientX,s=d.clientY)),document.body&&(document.body.scrollTop||document.body.scrollLeft)?(u=document.body.scrollLeft+(a<0?0:a),l=document.body.scrollTop+(s<0?0:s)):document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)?(null!=(i=document.documentElement).scrollLeft&&(u=i.scrollLeft+(a<0?0:a)),null!=i.scrollTop&&(l=i.scrollTop+(s<0?0:s))):(u=a<0?0:a,l=s<0?0:s),d.pageX&&(u=d.pageX),d.pageY&&(l=d.pageY)}catch(n){}return-1!=u&&-1!=l&&(c+="&px="+u+"&py="+l),-1!=a&&-1!=s&&(c+="&sx="+a+"&sy="+s),c},e.nclk_proxy=function(n,r,i,o,a,s){var u=e.g_nclk_proxy||"";return u&&n.href&&(n.href=u+t.ec(n.href)),t(n,r,i,o,a,s)},e.nclk=t,e.nclk_v2=o,e.nclk_v2_with_obj=function(e){var t=e||{};t.e&&t.a&&(i.g_ssc=t.g_ssc||"",i.g_query=t.g_query||"",i.g_sid=t.g_sid||"",i.g_pid=t.g_pid||"",o(t.e,t.a,t.i,t.r,t.g,t.pid),i={})}}(window),this.logger=window.nclk_v2},t.prototype.reset=function(){delete window.ccsrv,delete window.g_ssc,delete window.nsc},t.defaultDomain=e.ClickLoggerDomain.real,t}(),r=new n;e.default=r}(sEe);var uEe=d(sEe),lEe={};!function(e){var t;function n(e){var t={nnb:!0},n={},r={},i={},o=0,a=0,s=!1;function u(e){var c=e||{};if(!s){var d,h=(d=c,function(){window.setTimeout((function(){s=!1,u(d)}),10)});if("complete"!==document.readyState){var p="onpageshow"in window?"pageshow":"load";return document.addEventListener?window.addEventListener(p,h,!1):window.attachEvent("on"+p,h),a++,void(s=!0)}window.lcs_SerName||(window.lcs_SerName="lcs.naver.com");var v,m,g,y,b,_="",E=document,w=window.location;try{g="https://"+window.lcs_SerName+"/m?"}catch(e){return}try{_=g+"u="+encodeURIComponent(w.href)+"&e="+(E.referrer?encodeURIComponent(E.referrer):"")}catch(e){}try{if(void 0===n.i&&(n.i=""),o<1){!function(){r.os=function(){var e="";try{navigator.platform&&(e=navigator.platform)}catch(e){}return e}(),r.ln=function(){var e="";try{navigator.userLanguage?e=navigator.userLanguage:navigator.language&&(e=navigator.language)}catch(e){}return e}(),r.sr=function(){var e="";try{if(window.screen&&screen.width&&screen.height)e=screen.width+"x"+screen.height;else if(window.java||self.java){var t=java.awt.Toolkit.getDefaultToolkit().getScreenSize();e=t.width+"x"+t.height}}catch(t){e=""}return e}(),r.pr=window.devicePixelRatio||1;var e=function(){var e=document,t={bw:"",bh:""};try{t.bw=e.documentElement.clientWidth?e.documentElement.clientWidth:e.body.clientWidth,t.bh=e.documentElement.clientHeight?e.documentElement.clientHeight:e.body.clientHeight}catch(e){}return t}();r.bw=e.bw,r.bh=e.bh,r.c=function(){var e="";try{window.screen?e=screen.colorDepth?screen.colorDepth:screen.pixelDepth:(window.java||self.java)&&(e=java.awt.Toolkit.getDefaultToolkit().getColorModel().getPixelSize())}catch(t){e=""}return e}(),r.j=function(){var e="";try{e=navigator.javaEnabled()?"Y":"N"}catch(e){}return e}(),r.k=function(){var e="";try{e=navigator.cookieEnabled?"Y":"N"}catch(e){}return e}()}(),t.nnb&&function(){try{var e=l();if(e){if(e.ls){var t=e.ls;if(13==t.length)return void(n.ls=t)}var r=function(){try{var e,t,n,r=document.cookie.split(";");for(n=0;n<r.length;n++)if(e=r[n].substr(0,r[n].indexOf("=")),t=r[n].substr(r[n].indexOf("=")+1),"NNB"==(e=e.replace(/^\s+|\s+$/g,"")))return unescape(t)}catch(e){}}();null!=r&&""!=r&&(e.ls=r,n.ls=r)}}catch(e){}}(),(b=navigator.connection)&&(b.type&&b.type.length>1&&(n.ct=b.type),b.effectiveType&&(n.ect=b.effectiveType)),function(){var e=window.performance||{};if(e.timing){var t=e.timing;for(var n in t){var r=t[n];"number"==typeof r&&(i[n]=r)}}}();var S=i.loadEventStart||0;if((i.loadEventEnd||0)<S&&a<3)return a++,s=!0,void h();!function(){var e=window.performance||{};try{e.getEntriesByType&&e.getEntriesByType("paint").forEach((function(e,t,n){var r=e.name;switch(r){case"first-paint":case"first-contentful-paint":i[r]=e.startTime}}))}catch(e){console.warn(e)}}(),void 0!==(y=function(){var e=window.performance||{};if(e.navigation)return e.navigation.type}())&&(i.ngt=y)}for(v in r)"function"!=typeof r[v]&&(_+="&"+v+"="+encodeURIComponent(r[v]));for(v in n)void 0!==(m=n[v])&&"function"!=typeof m&&(_+="&"+v+"="+encodeURIComponent(m));if(o<1)for(v in i)(m=i[v])&&(_+="&"+v+"="+encodeURIComponent(m));var T,k=c.dni?c.dni:function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:""}("NAPP_DI");for(v in k?c.dni=k:delete c.dni,c)(v.length>=3&&"function"!=typeof c[v]||"qy"===v)&&(_+="&"+v+"="+encodeURIComponent(c[v]));0!=!!c&&0!=!!c.pid||(T=window.g_pid?g_pid:f(),_+="&pid="+encodeURIComponent(T)),_+="&ts="+(new Date).getTime(),_+="&EOU";var x=document.createElement("img");x.src=_,x.onload=function(){x.onload=null},o++}catch(e){}}}function l(){var e=null;try{e=window.localStorage}catch(e){}try{e||(e=window.sessionStorage)}catch(e){}return e||null}var c=null;function d(){var e,t=l(),n=t?t.ls:null;e=n||navigator.userAgent+Math.random();var r,i=window.performance||{},o=location.href;return r=i.now?i.now():(new Date).getTime(),c=h.md5(e+o+r)}function f(){return null===c&&(c=d()),c}var h={};!function(e){function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,n,r,i,o,a){return t((s=t(t(n,e),t(i,a)))<<(u=o)|s>>>32-u,r);var s,u}function r(e,t,r,i,o,a,s){return n(t&r|~t&i,e,t,o,a,s)}function i(e,t,r,i,o,a,s){return n(t&i|r&~i,e,t,o,a,s)}function o(e,t,r,i,o,a,s){return n(t^r^i,e,t,o,a,s)}function a(e,t,r,i,o,a,s){return n(r^(t|~i),e,t,o,a,s)}function s(e,n){var s,u,l,c,d;e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var f=1732584193,h=-271733879,p=-1732584194,v=271733878;for(s=0;s<e.length;s+=16)u=f,l=h,c=p,d=v,f=r(f,h,p,v,e[s],7,-680876936),v=r(v,f,h,p,e[s+1],12,-389564586),p=r(p,v,f,h,e[s+2],17,606105819),h=r(h,p,v,f,e[s+3],22,-1044525330),f=r(f,h,p,v,e[s+4],7,-176418897),v=r(v,f,h,p,e[s+5],12,1200080426),p=r(p,v,f,h,e[s+6],17,-1473231341),h=r(h,p,v,f,e[s+7],22,-45705983),f=r(f,h,p,v,e[s+8],7,1770035416),v=r(v,f,h,p,e[s+9],12,-1958414417),p=r(p,v,f,h,e[s+10],17,-42063),h=r(h,p,v,f,e[s+11],22,-1990404162),f=r(f,h,p,v,e[s+12],7,1804603682),v=r(v,f,h,p,e[s+13],12,-40341101),p=r(p,v,f,h,e[s+14],17,-1502002290),f=i(f,h=r(h,p,v,f,e[s+15],22,1236535329),p,v,e[s+1],5,-165796510),v=i(v,f,h,p,e[s+6],9,-1069501632),p=i(p,v,f,h,e[s+11],14,643717713),h=i(h,p,v,f,e[s],20,-373897302),f=i(f,h,p,v,e[s+5],5,-701558691),v=i(v,f,h,p,e[s+10],9,38016083),p=i(p,v,f,h,e[s+15],14,-660478335),h=i(h,p,v,f,e[s+4],20,-405537848),f=i(f,h,p,v,e[s+9],5,568446438),v=i(v,f,h,p,e[s+14],9,-1019803690),p=i(p,v,f,h,e[s+3],14,-187363961),h=i(h,p,v,f,e[s+8],20,1163531501),f=i(f,h,p,v,e[s+13],5,-1444681467),v=i(v,f,h,p,e[s+2],9,-51403784),p=i(p,v,f,h,e[s+7],14,1735328473),f=o(f,h=i(h,p,v,f,e[s+12],20,-1926607734),p,v,e[s+5],4,-378558),v=o(v,f,h,p,e[s+8],11,-2022574463),p=o(p,v,f,h,e[s+11],16,1839030562),h=o(h,p,v,f,e[s+14],23,-35309556),f=o(f,h,p,v,e[s+1],4,-1530992060),v=o(v,f,h,p,e[s+4],11,1272893353),p=o(p,v,f,h,e[s+7],16,-155497632),h=o(h,p,v,f,e[s+10],23,-1094730640),f=o(f,h,p,v,e[s+13],4,681279174),v=o(v,f,h,p,e[s],11,-358537222),p=o(p,v,f,h,e[s+3],16,-722521979),h=o(h,p,v,f,e[s+6],23,76029189),f=o(f,h,p,v,e[s+9],4,-640364487),v=o(v,f,h,p,e[s+12],11,-421815835),p=o(p,v,f,h,e[s+15],16,530742520),f=a(f,h=o(h,p,v,f,e[s+2],23,-995338651),p,v,e[s],6,-198630844),v=a(v,f,h,p,e[s+7],10,1126891415),p=a(p,v,f,h,e[s+14],15,-1416354905),h=a(h,p,v,f,e[s+5],21,-57434055),f=a(f,h,p,v,e[s+12],6,1700485571),v=a(v,f,h,p,e[s+3],10,-1894986606),p=a(p,v,f,h,e[s+10],15,-1051523),h=a(h,p,v,f,e[s+1],21,-2054922799),f=a(f,h,p,v,e[s+8],6,1873313359),v=a(v,f,h,p,e[s+15],10,-30611744),p=a(p,v,f,h,e[s+6],15,-1560198380),h=a(h,p,v,f,e[s+13],21,1309151649),f=a(f,h,p,v,e[s+4],6,-145523070),v=a(v,f,h,p,e[s+11],10,-1120210379),p=a(p,v,f,h,e[s+2],15,718787259),h=a(h,p,v,f,e[s+9],21,-343485551),f=t(f,u),h=t(h,l),p=t(p,c),v=t(v,d);return[f,h,p,v]}function u(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function l(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function c(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function d(e){return unescape(encodeURIComponent(e))}function f(e){return function(e){return u(s(l(e),8*e.length))}(d(e))}function h(e,t){return function(e,t){var n,r,i=l(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=s(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=s(o.concat(l(t)),512+8*t.length),u(s(a.concat(r),640))}(d(e),d(t))}e.md5=function(e,t,n){return t?n?h(t,e):function(e,t){return c(h(e,t))}(t,e):n?f(e):c(f(e))}}(h),e.lcs_do=u,e.lcs_do_gdid=function(e,t){try{e&&(n.i=e,t?u(t):u())}catch(e){}},e.lcs_get_lpid=f,e.lcs_update_lpid=function(){return c=d()},e.lcs_version="v0.8.3"}Object.defineProperty(e,"__esModule",{value:!0}),(t=e.PageLoggerDomain||(e.PageLoggerDomain={})).real="lcs.naver.com",t.test="alpha-lcs.naver.com";var r=function(){function t(){}return t.prototype.initialize=function(e){void 0===e&&(e={});var n=e.domain,r=void 0===n?t.defaultDomain:n;window.lcs_SerName=r,!this.logger&&this.loadScript()},t.prototype.loadScript=function(){n(window),this.logger=window.lcs_do},t.prototype.log=function(e){this.logger||this.loadScript(),this.logger&&this.logger(e)},t.defaultDomain=e.PageLoggerDomain.real,t}(),i=new r;e.default=i}(lEe);var cEe=d(lEe),dEe=!1,fEe=function(e,t){if(dEe){if(!e){var n=document.createElement("div");uEe.log(n,t)}uEe.log(e,t)}},hEe={exports:{}};!function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&e.push(a)}}else if("object"===o)if(i.toString===Object.prototype.toString)for(var s in i)t.call(i,s)&&i[s]&&e.push(s);else e.push(i.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(hEe);var pEe=hEe.exports,vEe="Loading_wrap__b8iPj",mEe="Loading_align__HXMZ1",gEe="Loading_dot__n4Ydn",yEe=function(e){var t=e.backgroundColor,n=void 0===t?"transparent":t;return u.default.createElement("div",{className:vEe,style:{backgroundColor:n}},u.default.createElement("div",{className:mEe},u.default.createElement("div",{className:gEe}),u.default.createElement("div",{className:gEe}),u.default.createElement("div",{className:gEe})))},bEe=function(t){var n=t.loading,r=Ime(),o=r.player,a=r.networkLoadingState,s=i.useState(!1),l=s[0],c=s[1];return i.useEffect((function(){var t=function(){return c(!1)},n=function(){c(!1),o.off(e.PlayerEvents.TimeUpdate,n)},r=function(){c(!0),o.on(e.PlayerEvents.TimeUpdate,n)};return o.on(e.PlayerEvents.Waiting,r),o.on(e.PlayerEvents.CanPlay,t),function(){o.off(e.PlayerEvents.Waiting,r),o.off(e.PlayerEvents.CanPlay,t)}}),[]),i.useEffect((function(){void 0!==n&&c(n)}),[n]),a===Eme.Loading?u.default.createElement(yEe,null):a===Eme.Failed?null:l?u.default.createElement(yEe,{backgroundColor:n?"#111":"transparent"}):null},_Ee=function(e,t){return e.replace("#","".concat(t))},EEe=function(e){var t=e.currentTime,n=e.originSize,r=e.sprite,i=r.source,o=r.thumbnailWidth,a=r.thumbnailHeight,s=r.rowCount,u=r.columnCount,l=r.interval,c=r.allThumbnailCount,d=Math.min(Math.floor(1e3*t/l),c-1),f=Math.floor(d/(s*u)),h=d-f*s*u,p=h%s*n.width,v=Math.floor(h/u)*n.height,m=n.width/o,g=n.height/a;return{backgroundPosition:"-".concat(p,"px -").concat(v,"px"),backgroundImage:"url(".concat(_Ee(i,f),")"),backgroundRepeat:"no-repeat",backgroundSize:"".concat(o*s*m,"px\n      ").concat(a*u*g,"px")}},wEe="ViewerPanel_viewer_wrap__M1I98",SEe="ViewerPanel_viewer__wcRn1",TEe="ViewerPanel_disabled__TQu9F",kEe="ViewerPanel_thumbnail__ihO5v",xEe="ViewerPanel_message__NUxZ9",AEe="ViewerPanel_button_refresh__ZOH5z";function PEe(e){return PEe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PEe(e)}var OEe=function(e,t){return OEe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},OEe(e,t)},CEe=function(){return CEe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},CEe.apply(this,arguments)};function IEe(e){return IEe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IEe(e)}var LEe=function(){return LEe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},LEe.apply(this,arguments)};function NEe(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}!function(){if("object"===("undefined"==typeof window?"undefined":IEe(window)))if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=window.document;n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.USE_MUTATION_OBSERVER=!0,n.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},n.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},n.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},n.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(window,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,i(window,"resize",this._checkForIntersections,!0),i(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},n.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,a=o(i),s=this._rootContainsTarget(i),u=r.entry,l=e&&s&&this._computeTargetAndRootIntersection(i,n),c=r.entry=new t({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:n,intersectionRect:l});u?e&&s?this._hasCrossedThreshold(u,c)&&this._queuedEntries.push(c):u&&u.isIntersecting&&this._queuedEntries.push(c):this._queuedEntries.push(c)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},n.prototype._computeTargetAndRootIntersection=function(t,n){if("none"!=window.getComputedStyle(t).display){for(var r,i,a,u,l,c,d,f,h=o(t),p=s(t),v=!1;!v;){var m=null,g=1==p.nodeType?window.getComputedStyle(p):{};if("none"==g.display)return;if(p==this.root||p==e?(v=!0,m=n):p!=e.body&&p!=e.documentElement&&"visible"!=g.overflow&&(m=o(p)),m&&(r=m,i=h,a=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0,a=Math.max(r.top,i.top),u=Math.min(r.bottom,i.bottom),l=Math.max(r.left,i.left),f=u-a,!(h=(d=(c=Math.min(r.right,i.right))-l)>=0&&f>=0&&{top:a,bottom:u,left:l,right:c,width:d,height:f})))break;p=s(p)}return h}},n.prototype._getRootRect=function(){var t;if(this.root)t=o(this.root);else{var n=e.documentElement,r=e.body;t={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},n.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},n.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},n.prototype._rootIsInDom=function(){return!this.root||a(e,this.root)},n.prototype._rootContainsTarget=function(t){return a(this.root||e,t)},n.prototype._registerInstance=function(){},n.prototype._unregisterInstance=function(){},window.IntersectionObserver=n,window.IntersectionObserverEntry=t}function t(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function n(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(e,t){var n=null;return function(){n||(n=setTimeout((function(){e(),n=null}),t))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function r(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function i(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function o(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function a(e,t){for(var n=t;n;){if(n==e)return!0;n=s(n)}return!1}function s(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}}();var DEe,REe=function(){function e(e){var t=this;void 0===e&&(e={}),this.instance=null,this.observers=[],this.instanceOptions={},this.mainCallback=function(e){e.forEach((function(e){t.observers.forEach((function(t){return t.target!==e.target||(t.callback&&t.callback(e),!1)}))}))},this.instanceOptions=LEe({},e)}return e.prototype.assignIntersectionObserver=function(){try{this.instance=new IntersectionObserver(this.mainCallback,this.instanceOptions)}catch(e){console.warn("[IntersectionObserver INIT ERROR]",e)}},Object.defineProperty(e.prototype,"options",{get:function(){return this.instanceOptions},enumerable:!1,configurable:!0}),e.prototype.addObserver=function(e,t){this.instance||this.assignIntersectionObserver(),this.observers.push({target:e,callback:t}),this.instance&&this.instance.observe(e)},e.prototype.removeObserver=function(e){var t=this,n=this.observers.reduce((function(n,r){return r.target===e?(t.instance&&t.instance.unobserve(r.target),NEe(n)):NEe(n,[r])}),[]);this.observers=n,0===this.observers.length&&(this.observers=[],this.instance=null)},e}(),MEe={root:null,threshold:[0],rootMargin:"0px 0px 0px 0px"},jEe=function(){function e(){this.generateCount=0,this.groups={}}return e.prototype.generateKey=function(e,t){var n=function(e){if(void 0===e&&(e=0),"string"==typeof e){var t=e.split(" "),n=t[0],r=t[1]||n;return n+" "+r+" "+(t[2]||n)+" "+(t[3]||r)}return null}(t);return n&&e+"|"+n.replace(/ /g,"_")},e.prototype.getInstance=function(e){var t=LEe(LEe({},MEe),e||{}),n=t.root,r=t.threshold,i=t.rootMargin,o=this.generateKey(r,i);if(!o)return console.warn("[InViewCheckerFactory ERRROR] getInstance error please check options",e),null;this.groups[o]=this.groups[o]||[];var a=this.groups[o].find((function(e){return n===e.options.root}))||new REe({threshold:r,rootMargin:i,root:n});return this.groups[o].push(a),a},e}(),FEe=new jEe;!function(e){e.READY="READY",e.PREVIEW_LOADING="PREVIEW_LOADING",e.PREVIEW_LOADED="PREVIEW_LOADED",e.PREVIEW_FAILED="PREVIEW_FAILED",e.IMAGE_LOADING="IMAGE_LOADING",e.IMAGE_LOADED="IMAGE_LOADED",e.IMAGE_FAILED="IMAGE_FAILED"}(DEe||(DEe={}));var VEe,UEe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inViewChecker=null,t.containerRef=u.default.createRef(),t.haveLazyCallback=!1,t.mockImg=null,t.state={srcs:"object"===PEe(t.props.src)?t.props.src:{src:t.props.src},status:DEe.READY,error:null},t.onLoadSuccess=function(){var e=t.state.status;t.setState({status:e===DEe.PREVIEW_LOADING?DEe.PREVIEW_LOADED:DEe.IMAGE_LOADED},(function(){t.state.status===DEe.IMAGE_LOADED&&t.props.onLoad&&t.props.onLoad()}))},t.onLoadError=function(e){var n=t.state.status;e&&e.type&&t.setState({status:n===DEe.PREVIEW_LOADING?DEe.PREVIEW_FAILED:DEe.IMAGE_FAILED,error:e},(function(){t.state.status===DEe.IMAGE_FAILED&&t.props.onError&&t.props.onError()}))},t.observerCallback=function(e){e&&e.isIntersecting&&(t.inViewChecker&&t.inViewChecker.removeObserver(e.target),t.haveLazyCallback=!1,t.getPreviewImage())},t}return function(e,t){function n(){this.constructor=e}OEe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){this.props.useLazy&&this.containerRef.current?(this.haveLazyCallback=!0,this.inViewChecker=FEe.getInstance({root:this.props.watchRoot,threshold:this.props.watchThreshold,rootMargin:this.props.watchRootMargin}),this.inViewChecker&&this.inViewChecker.addObserver(this.containerRef.current,this.observerCallback)):this.getPreviewImage()},t.prototype.componentDidUpdate=function(e,t){var n=this.state.status;t.status!==n&&(n===DEe.PREVIEW_FAILED&&this.removePreview(),[DEe.PREVIEW_LOADED,DEe.PREVIEW_FAILED].indexOf(n)>=0&&this.getImage())},t.prototype.componentWillUnmount=function(){var e=function(){return null};this.haveLazyCallback&&this.inViewChecker&&this.inViewChecker.removeObserver(this.containerRef.current),this.mockImg&&(this.mockImg.onerror=e,this.mockImg.onload=e)},t.prototype.getPreviewImage=function(){var e=this,t=this.state.srcs;t.src&&0!==t.src.length?t.preview?this.setState({status:DEe.PREVIEW_LOADING},(function(){e.loadImage(t.preview)})):this.getImage():this.setState({status:DEe.IMAGE_FAILED,error:{type:"src is empty"}})},t.prototype.getImage=function(){var e=this,t=this.state.srcs;this.setState({status:DEe.IMAGE_LOADING},(function(){e.loadImage(t.src,t.srcset)}))},t.prototype.removePreview=function(){this.setState((function(e){return{srcs:{src:e.srcs.src}}}))},t.prototype.loadImage=function(e,t){this.mockImg=new Image,this.mockImg.onerror=this.onLoadError,this.mockImg.onload=this.onLoadSuccess,this.mockImg.src=e,t&&(this.mockImg.srcset=t)},t.prototype.renderImage=function(e){var t=this.props,n=t.alt,r=t.childClassName,i=t.useBackground,o=this.state,a=o.srcs,s=o.status===DEe.IMAGE_LOADING&&a.preview?a.preview:a.src;return i?u.default.createElement("div",{className:r,style:CEe(CEe({},e),{backgroundImage:"url("+s+")"})}):u.default.createElement("img",{src:s,srcSet:a.srcset,className:r,style:e,alt:n})},t.prototype.renderDefault=function(e){var t=this.props,n=t.renderLoading,r=t.renderError,i=this.state,o=i.status,a=i.error,s=i.srcs,l=!1;return(o===DEe.PREVIEW_LOADING||!s.preview&&o===DEe.IMAGE_LOADING)&&(l=!0),u.default.createElement("div",{style:e},l&&n&&n(),o===DEe.IMAGE_FAILED&&r&&r(a))},t.prototype.render=function(){var e=this.props,t=e.width,n=e.height,r=e.className,i=e.style,o=e.childStyle,a=e.disableDefaultStyle,s=this.state,l=s.status,c=s.srcs,d=CEe(a?{}:{position:"relative"},i),f=CEe(a?{}:{width:"100%",height:"100%",display:"block"},o);t&&(d.width=t),n&&(d.height=n);var h=l===DEe.IMAGE_LOADED||l===DEe.IMAGE_LOADING&&c.preview;return u.default.createElement("div",{className:r,style:d,ref:this.containerRef},h&&this.renderImage(f),!h&&this.renderDefault(f))},t.displayName="ImageLoader",t.defaultProps={alt:"",className:"",childClassName:"",useBackground:!1,useLazy:!1,renderLoading:function(){},renderError:function(){},watchRoot:null,watchRootMargin:"30px",watchThreshold:.25},t}(i.Component),BEe=function(e){var t=i.useState(Eme.Loading),n=t[0],r=t[1],o=xme(),a=SR(SR({},e.style||{}),{opacity:n===Eme.Loading?0:1,transition:"opacity 0.5s"});return i.useEffect((function(){o&&n===Eme.Failed&&r(Eme.Loading)}),[o]),u.default.createElement(UEe,SR({key:n===Eme.Failed?0:1},e,{useLazy:!0,watchRootMargin:"0px",watchThreshold:0,onLoad:function(){r(Eme.Loaded)},onError:function(){r(Eme.Failed)},style:a}))},zEe="PanelDimmed_dimmed__cly4v",GEe="PanelDimmed_active__d0WG4",qEe="PanelDimmed_animate__WxQFp",HEe="__moment_viewer_container",WEe="panel_dimmed",KEe="moment",YEe="skip_button";!function(e){e[e.SKIP_NONE_STATE=5]="SKIP_NONE_STATE",e[e.SKIP_INFO_STATE=16]="SKIP_INFO_STATE"}(VEe||(VEe={}));var XEe,$Ee,QEe,JEe=u.default.createContext({}),ZEe=function(){return i.useContext(JEe).moment},ewe=function(){return i.useContext(JEe)},twe=function(){var e,t=ewe().enabled;return u.default.createElement("div",{id:WEe,className:pEe(zEe,qEe,(e={},e[GEe]=!t,e)),onClick:function(e){return e.preventDefault()}})};e.GestureType=void 0,(QEe=e.GestureType||(e.GestureType={})).Pinch="Pinch",QEe.Swipe="Swipe",QEe.Tap="Tap",QEe.Pan="Pan",QEe.Press="Press",QEe.DoubleTap="DoubleTap",QEe.Rotate="Rotate";var nwe,rwe,iwe=((XEe={})[e.GestureType.Pinch]=abe.Pinch,XEe[e.GestureType.Swipe]=abe.Swipe,XEe[e.GestureType.Tap]=abe.Tap,XEe[e.GestureType.Pan]=abe.Pan,XEe[e.GestureType.Press]=abe.Press,XEe[e.GestureType.DoubleTap]=abe.Tap,XEe[e.GestureType.Rotate]=abe.Rotate,XEe),owe=(($Ee={})[e.GestureType.Pinch]="pinch",$Ee[e.GestureType.Swipe]="swipe",$Ee[e.GestureType.Tap]="tap",$Ee[e.GestureType.Pan]="pan",$Ee[e.GestureType.Press]="press",$Ee[e.GestureType.DoubleTap]="doubletap",$Ee[e.GestureType.Rotate]="rotate",$Ee),awe=function(t){var n=t.children,r=t.recognizers,o=void 0===r?[]:r,a=t.options,s=i.useState(null),l=s[0],c=s[1],d=u.default.Children.only(n);return i.useEffect((function(){var t,n=Rle.isMobile()?o:o.filter((function(t){return t.type===e.GestureType.Tap}));if(l){if(t=new abe.Manager(l,SR(SR({},a),{recognizers:n.map((function(e){var t=e.type,n=e.options,r=void 0===n?{}:n,i=e.recognizeWith,o=void 0===i?[]:i,a=e.requireFailure,s=void 0===a?[]:a;return[iwe[t],r,o,s]}))})),t.get("doubletap")&&t.get("tap")){var r=t.get("tap"),i=t.get("doubletap");i.recognizeWith(r),r.requireFailure(i)}o.forEach((function(e){e.callback&&t.on(owe[e.type],e.callback)}))}return function(){t&&(o.forEach((function(e){e.callback&&t.off(owe[e.type],e.callback),t.remove(iwe[e.type])})),t.destroy(),t=null)}}),[l,o,a]),u.default.cloneElement(d,{ref:function(e){return d.ref&&(d.ref.current=e),c(e)}})},swe=i.createContext({}),uwe=function(t){var n=t.children,r=t.onTap,o=t.options,a=i.useContext(swe).isFlicking;return u.default.createElement(awe,{options:o,recognizers:[{type:e.GestureType.Tap,callback:function(e){a.current||r(e)}}]},n)},lwe="SelectPopup_wrap__QZA-w",cwe="SelectPopup_popup__48pG7",dwe="SelectPopup_buttons__1gzME",fwe="SelectPopup_button__ZYPR1",hwe="SelectPopup_default__Hn3gW",pwe=function(e){var t=e.title,n=e.description,r=e.items,i=e.onSelect,o=e.onClose;return u.default.createElement(uwe,{onTap:function(e){e.preventDefault(),null==o||o(e)},options:{inputClass:abe.TouchMouseInput}},u.default.createElement("div",{className:lwe},u.default.createElement("div",{className:cwe,role:"alertdialog","aria-modal":"true","aria-labelledby":"TITLE","aria-describedby":"DESCRIPTION"},u.default.createElement("h2",{id:"TITLE",className:sge},t),u.default.createElement("p",{id:"DESCRIPTION",className:sge},n),u.default.createElement("div",{className:dwe},r.map((function(e){return u.default.createElement(uwe,{key:e.type,onTap:function(t){t.preventDefault(),null==i||i(t,e.type)},options:{inputClass:abe.TouchMouseInput}},u.default.createElement("button",{type:"button",className:fwe},u.default.createElement("span",{className:hwe},e.name)))}))))))},vwe="Dialog_wrap__msYXD",mwe="Dialog_content__5Mm70",gwe="Dialog_popup__XYLXP",ywe="Dialog_box__HiVKI",bwe="Dialog_text__LV1pB",_we="Dialog_buttons__kVBcv",Ewe="Dialog_button__xFRoY",wwe="Dialog_default__3foKy",Swe="Dialog_confirm__-1NEg",Twe=function(e){var t=e.message,n=e.separator,r=void 0===n?/\\n|\n/:n;return t?u.default.createElement(u.default.Fragment,null,t.split(r).map((function(e,t){return u.default.createElement(i.Fragment,{key:t},t>0&&u.default.createElement("br",null),e)}))):null},kwe=function(){},xwe=function(e){var t=e.title,n=e.description,r=void 0===n?"":n,i=e.onCancel,o=e.onConfirm,a=e.onTapOutside,s=void 0===a?kwe:a;return u.default.createElement(uwe,{onTap:s,options:{inputClass:abe.TouchMouseInput}},u.default.createElement("div",{className:vwe},u.default.createElement("div",{className:mwe},u.default.createElement("div",{className:gwe,role:"alertdialog","aria-modal":"true","aria-labelledby":"TITLE","aria-describedby":"DESCRIPTION"},u.default.createElement("h2",{id:"TITLE",className:sge},t),u.default.createElement("div",{className:ywe},u.default.createElement("p",{id:"DESCRIPTION",className:bwe},u.default.createElement(Twe,{message:r,separator:"\\n"}))),u.default.createElement("div",{className:_we},i&&u.default.createElement(uwe,{onTap:function(e){e.preventDefault(),i(e)},options:{inputClass:abe.TouchMouseInput}},u.default.createElement("button",{onClick:function(e){return e.preventDefault()},type:"button",className:Ewe},u.default.createElement("span",{className:wwe},sle("action.cancel")))),o&&u.default.createElement(uwe,{onTap:function(e){e.preventDefault(),o(e)},options:{inputClass:abe.TouchMouseInput}},u.default.createElement("button",{onClick:function(e){return e.preventDefault()},type:"button",className:Ewe},u.default.createElement("span",{className:pEe(wwe,Swe)},sle("action.confirm")))))))))};!function(e){e.Login="Login",e.LaunchApp="LaunchApp",e.Delete="Delete",e.None="None",e.Blocked="Blocked"}(rwe||(rwe={}));var Awe,Pwe,Owe,Cwe,Iwe,Lwe,Nwe,Dwe,Rwe,Mwe,jwe,Fwe,Vwe,Uwe,Bwe=((nwe={})[rwe.Login]=ule({title:"label.notice_is_login",description:"message.confirm_login"}),nwe[rwe.LaunchApp]=ule({title:"label.notice_use_app",description:"message.confirm_app"}),nwe[rwe.Blocked]=ule({title:"label.notice_constraint_edit_app",description:"message.error_edit_restrict_moment"}),nwe[rwe.Delete]=ule({title:"label.notice_delete_moment",description:"message.confirm_delete_moment"}),nwe);function zwe(e){return zwe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zwe(e)}!function(e){e.Close="vbn.topclose",e.OpenApp="vbn.topopen",e.AutoClose="vbn.autoclose"}(Awe||(Awe={})),function(e){e.Close="vcomp.close",e.SwipeClose="vcomp.closescroll",e.More="vcomp.more",e.SoundOn="vcomp.soundon",e.SoundOff="vcomp.soundoff",e.Play="vcomp.play",e.Pause="vcomp.pause",e.DragSeekbar="vcomp.seekbar",e.ProfileImage="vcomp.profileimage",e.Nickname="vcomp.nickname",e.Autoclose="vcomp.autoclose",e.Replay="vcomp.replay",e.Retry="vcomp.retry"}(Pwe||(Pwe={})),function(e){e.Like="vflo.like",e.LikeLogin="vflo.likelogin",e.LikeError="vflo.likeerr",e.Unlike="vflo.unlike",e.UnlikeLogin="vflo.unlikelogin",e.UnlikeError="vflo.unlikeerr",e.LikeMore="vflo.likemore",e.Reply="vflo.reply",e.Share="vflo.share",e.DoubleTap="vflo.likedoubletap"}(Owe||(Owe={})),function(e){e.TapRight="vges.inxnext",e.TapLeft="vges.inxpre",e.Hide="vges.uihide",e.Show="vges.uishow",e.NextMoment="vges.mntnext",e.PrevMoment="vges.mntpre",e.MoreInfo="vges.openmoreinfo",e.AutoNextIndex="vges.autoinxnext",e.AutoNextMoment="vges.automntnext"}(Cwe||(Cwe={})),function(e){e.Edit="vmore.edit",e.Delete="vmore.delete",e.Report="vmore.report",e.EditPopupCancel="vmore.editpopcancel",e.EditPopupConfirm="vmore.editpopconfirm",e.DeletePopupCancel="vmore.delpopcancel",e.DeletePopupConfirm="vmore.delpopconfirm"}(Iwe||(Iwe={})),function(e){e.Open="vinfo.open",e.SwipeOpen="vinfo.openscroll",e.Close="vinfo.close",e.TapClose="vinfo.closedim",e.SwipeClose="vinfo.closescroll",e.Thumbnail="vinfo.blogger",e.Buddy="vinfo.nvbtn",e.AddBuddy="vinfo.nvbtnadd",e.MutualToBuddy="vinfo.nvpopchgnv",e.RemoveBuddy="vinfo.nvpopchgdel",e.BuddyPopupCancel="vinfo.nvpopcancel",e.BuddyPopupConfirm="vinfo.nvpopconfirm",e.Tag="vinfo.tag",e.LoginPopupCancel="vinfo.logpopcancel",e.LoginPopupConfirm="vinfo.logpopconfirm",e.ProfileImage="vinfo.profileimage",e.Nickname="vinfo.nickname",e.ScrollDesc="vinfo.subscripscroll",e.TapIndex="vinfo.inxthumbnail",e.ScrollIndex="vinfo.inxscroll"}(Lwe||(Lwe={})),function(e){e.All="vstk",e.Shopping="vstk.sp",e.Place="vstk.pl",e.Book="vstk.bk",e.Movie="vstk.mv",e.News="vstk.ns",e.Blog="vstk.bg",e.Link="vstk.lk",e.Vibe="vstk.mus"}(Nwe||(Nwe={})),function(e){e.Close="vstkpl.close",e.DimmedClose="vstkpl.dimmed",e.Map="vstkpl.map",e.Name="vstkpl.name",e.Copy="vstkpl.copy",e.Saved="vstkpl.saveon",e.UnSaved="vstkpl.saveoff",e.Call="vstkpl.call",e.Reserve="vstkpl.reserve"}(Dwe||(Dwe={})),function(e){e.Close="vstksp.close",e.DimmedClose="vstksp.dimmed",e.Name="vstksp.name",e.Thumbnail="vstksp.image",e.Saved="vstksp.saveon",e.UnSaved="vstksp.saveoff",e.GoShop="vstksp.goshop"}(Rwe||(Rwe={})),function(e){e.Close="vstkbk.close",e.DimmedClose="vstkbk.dimmed",e.Name="vstkbk.name",e.Image="vstkbk.image"}(Mwe||(Mwe={})),function(e){e.Close="vstkmv.close",e.DimmedClose="vstkmv.dimmed",e.Name="vstkmv.name",e.Image="vstkmv.image",e.Ticket="vstkmv.ticket",e.Like="vstkmv.likeit",e.Download="vstkmv.download"}(jwe||(jwe={})),function(e){e.Close="vstkmus.close",e.DimmedClose="vstkmus.dimmed",e.Like="vstkmus.like",e.LikeLogin="vstkmus.likelogin",e.LikeError="vstkmus.likeerr",e.Dislike="vstkmus.dislike",e.DislikeLogin="vstkmus.dislikelogin",e.DislikeError="vstkmus.dislikeerr",e.Play="vstkmus.play",e.Pause="vstkmus.pause",e.TapBar="vstkmus.playbartap",e.ScrollBar="vstkmus.playbarscroll",e.Link="vstkmus.vibelink",e.LoginPopupCancel="vstkmus.loginno",e.LoginPopupConfirm="vstkmus.loginyes"}(Fwe||(Fwe={})),function(e){e.loaded="already loaded"}(Vwe||(Vwe={})),function(e){e.InvalidPath="ScriptLoader: path is not valid"}(Uwe||(Uwe={}));var Gwe,qwe,Hwe,Wwe,Kwe,Ywe,Xwe,$we,Qwe,Jwe,Zwe,eSe,tSe,nSe,rSe,iSe,oSe,aSe,sSe,uSe=function(){function e(){var e=this;this.get=function(t,n,r){var i=(Array.isArray(t)?t:[t]).map((function(e){return"string"==typeof e?{src:e}:e}));i.forEach((function(t){return t.src?e.createScript(t,n,r):r&&r({message:Uwe.InvalidPath,src:t.src})}))},this.getPromise=function(t){return new Promise((function(n,r){return e.get(t,(function(e){return n(e)}),(function(e){var t=e.src||e.target.src;r(new Error("[ScriptLoader: script Load Error] "+t))}))}))},this.createScript=function(t,n,r){var i=t.src,o=e.loadMap[i];if(o)return n&&o.loaded?n({src:i,message:Vwe.loaded}):e.loadMap[i].loadedHandlers.push(n);var a=document.createElement("script");return e.loadMap[i]={loaded:!1,el:a,loadedHandlers:n?[n]:[]},a.onload=function(t){var n=t.target;n.onload=null,n.onerror=null,e.loadMap[i].loaded=!0,e.loadMap[i].loadedHandlers.forEach((function(e){return e&&e(t)}))},a.onerror=r,a.async=!0,Object.keys(t).forEach((function(e){var n=t[e];"object"===zwe(n)?Object.keys(n).forEach((function(t){return a[e][t]=n[t]})):a[e]=n})),!e.headElement&&e.setHeadElement(),e.headElement&&e.headElement.appendChild(a),e},this.setHeadElement(),this.loadMap={}}return e.prototype.setHeadElement=function(){this.headElement="undefined"!=typeof document&&document.getElementsByTagName("head")[0]},e.prototype.getScriptMap=function(e){return this.loadMap[e]},e}(),lSe=new uSe,cSe="7.23.0",dSe="https://www.gstatic.com/firebasejs/"+cSe+"/firebase-app.js",fSe="https://www.gstatic.com/firebasejs/"+cSe+"/firebase-analytics.js",hSe=function(e,t){void 0===t&&(t="[DEFAULT]");var n=i.useState(),r=n[0],o=n[1],a=i.useState(),s=a[0],u=a[1],l=i.useState(!1),c=l[0],d=l[1],f=i.useRef([]),h=i.useCallback((function(e,t){s?s.logEvent(e,t):f.current=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(f.current,[[e,t]])}),[s]);return i.useEffect((function(){c||lSe.getPromise(dSe).then((function(){lSe.getPromise(fSe).then((function(){d(!0),o(window.firebase)}))}))}),[c]),i.useEffect((function(){if(c&&e){var n=(window.firebase.apps||[]).find((function(e){return e.name===t}));n||(n=window.firebase.initializeApp(e,t));var r=n.analytics();u(r),f.current.forEach((function(e){return r.logEvent.apply(r,e)})),f.current=[]}}),[c,e,t]),{firebase:r,analytics:s,logEvent:h}},pSe=u.default.createContext({}),vSe=function(e){var t=e.config,n=e.setLog,r=hSe(t).logEvent;return i.useEffect((function(){n((function(){return r}))}),[r]),null},mSe=function(t){var n=t.children,r=t.config,o=i.useState(),a=o[0],s=o[1],l=i.useCallback((function(t,n){a&&ple.env===e.ServiceEnv.Real&&a(t,n)}),[a]);return u.default.createElement(pSe.Provider,{value:{logEvent:l}},n,r&&u.default.createElement(vSe,SR({},{config:r,setLog:s})))},gSe=function(){return i.useContext(pSe)};!function(e){e.ScreenView="screen_view",e.Tap="tap",e.Scroll="scroll",e.Pinch="pinch",e.DoubleTap="doubletap",e.DragDrop="dragdrop",e.Auto="auto"}(Gwe||(Gwe={})),function(e){e.Player="view_player",e.PlayerInfo="view_playerinfo",e.PlaceLayer="view_placelayer",e.ShoppingLayer="view_shoppinglayer",e.BookLayer="view_booklayer",e.MovieLayer="view_movielayer",e.Error="view_error"}(qwe||(qwe={})),function(e){e.Close="player_banner_close",e.AppLink="player_banner_applink"}(Hwe||(Hwe={})),function(e){e.ProfileImage="player_profileimage",e.ProfileInfo="player_profileinfo",e.More="player_more",e.Close="player_close",e.SwipeClose="player_close_swipedown",e.TitleInfo="player_titleinfo",e.TitleInfoExpand="player_titleinfo_expand",e.SwipeUpToMoreInfo="player_titleinfo_swipeup",e.Play="player_play",e.Pause="player_pause",e.Replay="player_replay",e.Seeker="player_seekpointer",e.Like="player_like",e.Unlike="player_unlike",e.ReactionCount="player_likecount",e.CommentCount="player_reply",e.SocialPlugin="player_share",e.DoubleTap="player_like_doubletap",e.PrevIndex="player_index_prev",e.NextIndex="player_index_next",e.HideInfo="player_info_hidden",e.ShowInfo="player_info_show",e.PrevMoment="player_moment_prev",e.NextMoment="player_moment_next",e.LoginCancel="player_loginpopup_cancel",e.LoginConfirm="player_loginpopup_confirm",e.AutoHideInfo="player_auto_uihidden",e.AutoNextIndex="player_auto_indexnext",e.AutoNextMoment="player_auto_momentnext"}(Wwe||(Wwe={})),function(e){e.Edit="player_more_edit",e.Delete="player_more_delete",e.EditCancel="player_editpopup_cancel",e.EditConfirm="player_editpopup_confirm",e.DeleteCancel="player_deletepopup_cancel",e.DeleteConfirm="player_deletepopup_confirm",e.Report="player_more_report"}(Kwe||(Kwe={})),function(e){e.Place="player_sticker_place",e.Shopping="player_sticker_shopping",e.Movie="player_sticker_movie",e.Book="player_sticker_book",e.News="player_sticker_news",e.Link="player_sticker_link",e.Blog="player_sticker_blog"}(Ywe||(Ywe={})),function(e){e.ProfileImage="playerinfo_profileimage",e.ProfileInfo="playerinfo_profileinfo",e.AddBuddy="playerinfo_followadd",e.RemoveBuddy="playerinfo_unfollow",e.MutualBuddy="playerinfo_followerchange",e.ChangeMutualBuddy="playerinfo_followerpop_change",e.RemoveMutualBuddy="playerinfo_followerpop_unfollow",e.CancelMutualBuddy="playerinfo_followerpop_cancel",e.SwipeDown="playerinfo_close_swipedown",e.Tap="playerinfo_close_tap",e.Title="playerinfo_close_title",e.Tag="playerinfo_close_tag",e.DescScroll="playerinfo_descriptscroll",e.IndexScroll="playerinfo_indexlist",e.IndexThumbnail="playerinfo_indexthumb",e.LoginCancel="playerinfo_loginpopup_cancel",e.LoginConfirm="playerinfo_loginpopup_confirm"}(Xwe||(Xwe={})),function(e){e.Dim="placelayer_dim",e.CloseHandle="placelayer_handle",e.Map="placelayer_map",e.Name="placelayer_name",e.Copy="placelayer_copy",e.Save="placelayer_save",e.CancelSave="placelayer_saved",e.Call="placelayer_call",e.Booking="placelayer_booking"}($we||($we={})),function(e){e.Dim="shoppinglayer_dim",e.CloseHandle="shoppinglayer_handle",e.Name="shoppinglayer_name",e.Thumbnail="shoppinglayer_thumb",e.Save="shoppinglayer_save",e.CancelSave="shoppinglayer_saved",e.Shop="shoppinglayer_goshop"}(Qwe||(Qwe={})),function(e){e.Dim="booklayer_dim",e.CloseHandle="booklayer_handle",e.Name="booklayer_name",e.Thumbnail="booklayer_thumb"}(Jwe||(Jwe={})),function(e){e.Dim="movielayer_dim",e.CloseHandle="movielayer_handle",e.Name="movielayer_name",e.Thumbnail="movielayer_thumb"}(Zwe||(Zwe={})),function(e){e.Retry="error_retry"}(eSe||(eSe={})),function(e){e[e.Sun=1]="Sun",e[e.Mon=2]="Mon",e[e.Tue=3]="Tue",e[e.Wed=4]="Wed",e[e.Thu=5]="Thu",e[e.Fri=6]="Fri",e[e.Sat=7]="Sat"}(tSe||(tSe={})),function(e){e.Shopping="shopping",e.Place="place",e.News="news",e.Movie="movie",e.Link="oglink",e.Book="book",e.Date="date",e.Blog="blog",e.Vibe="vibe"}(nSe||(nSe={})),function(e){e.Author="author",e.Publisher="publisher",e.Directors="directors",e.Actors="actors"}(rSe||(rSe={})),function(e){e.Compare="M",e.Normal="P"}(iSe||(iSe={})),function(e){e.Yes="Y",e.No="N"}(oSe||(oSe={})),function(e){e.Normal="NaverPay",e.Plus="NaverPayPlus"}(aSe||(aSe={})),function(e){e.Naver="naver",e.Google="google"}(sSe||(sSe={}));var ySe=function(){var t=Xce(),n=Ime().viewer,r=gSe().logEvent,o=function(e){return e===nSe.Vibe?{confirmClickCode:Fwe.LoginPopupConfirm,cancelClickCode:Fwe.LoginPopupCancel}:{confirmClickCode:Lwe.LoginPopupConfirm,cancelClickCode:Lwe.LoginPopupCancel,logCategoryCancel:Wwe.LoginCancel,logCategoryConfirm:Wwe.LoginConfirm}}(Zce((function(e){return e.layer.popupSticker}))),a=o.confirmClickCode,s=o.cancelClickCode,l=o.logCategoryCancel,c=o.logCategoryConfirm,d=i.useCallback((function(i){t(dhe({popupState:the.None})),$fe(),n.emit(e.ViewerEvents.RequestLogin),fEe(i.target,a),c&&r(Gwe.Tap,{screen:qwe.Player,category:c})}),[r]),f=i.useCallback((function(e){t(dhe({popupState:the.None})),fEe(e.target,s),l&&r(Gwe.Tap,{screen:qwe.Player,category:l})}),[r]);return u.default.createElement(xwe,SR({},Bwe[rwe.Login],{onConfirm:d,onCancel:f}))};function bSe(e){"close"in e&&e.close()}var _Se,ESe=function(){var e=Xce();return{resetToast:function(){return e(vme())},setToast:function(t,n){return e(mme(t,n))}}},wSe=function(){var t=Xce(),n=Ime().viewer,r=i.useState(!0),o=r[0],a=r[1],s=ESe().setToast,l=ZEe(),c=gSe().logEvent,d=Zce((function(e){var t;return{popupState:e.layer.popupState,customComponent:e.layer.customComponent,isBlockedError:(null===(t=e.error)||void 0===t?void 0:t.code)===Kle.Blocked}})),f=d.popupState,h=d.isBlockedError,p=d.customComponent,v=l.userRelationType,m=i.useState(rwe.None),g=m[0],y=m[1],b=function(e){return e?{title:sle("label.notice_edit_info"),description:sle("message.confirm_edit_info"),items:[{type:rwe.LaunchApp,name:sle("label.edit_info")},{type:rwe.Delete,name:sle("action.delete")}]}:{title:sle("label.is_report"),description:sle("message.confirm_report"),items:[{type:rwe.None,name:sle("label.report")}]}}(v===ahe.BlogOwner),_=i.useContext(swe).flickingRef,E=i.useCallback((function(t,r){var i=r;switch(r){case rwe.None:n.emit(e.ViewerEvents.ClickReport,{moment:l}),fEe(t.target,Iwe.Report),c(Gwe.Tap,{screen:qwe.Player,category:Kwe.Report});break;case rwe.LaunchApp:h&&(i=rwe.Blocked),fEe(t.target,Iwe.Edit),c(Gwe.Tap,{screen:qwe.Player,category:Kwe.Edit});break;case rwe.Delete:fEe(t.target,Iwe.Delete),c(Gwe.Tap,{screen:qwe.Player,category:Kwe.Delete})}y(i)}),[h,c]),w=function(){t(dhe({popupState:the.None})),y(rwe.None),a(!0)},S=function(){g===rwe.None&&w()},T=i.useCallback((function(r){switch(g){case rwe.LaunchApp:n.emit(e.ViewerEvents.EditMoment,{moment:l}),fEe(r.target,Iwe.EditPopupConfirm),c(Gwe.Tap,{screen:qwe.Player,category:Kwe.EditConfirm});break;case rwe.Delete:return a(!1),Gve.deleteMoment(l).then((function(){var r,i,o,a,s=(null===(r=_.current)||void 0===r?void 0:r.getIndex())||0,u=(null===(i=_.current)||void 0===i?void 0:i.getPanelCount())||0,c=s>=u-1;u<=1?bSe(n):(t({type:qve.Clear}),c?null===(o=_.current)||void 0===o||o.prev(_R):null===(a=_.current)||void 0===a||a.next(_R)),n.emit(e.ViewerEvents.DeleteMoment,{moment:l}),w()})).catch((function(){s(sle("message.error_deleted_moment"))})),fEe(r.target,Iwe.DeletePopupConfirm),void c(Gwe.Tap,{screen:qwe.Player,category:Kwe.DeleteConfirm})}w()}),[g,c]),k=i.useCallback((function(e){switch(w(),g){case rwe.LaunchApp:fEe(e.target,Iwe.EditPopupCancel),c(Gwe.Tap,{screen:qwe.Player,category:Kwe.EditCancel});break;case rwe.Delete:fEe(e.target,Iwe.DeletePopupCancel),c(Gwe.Tap,{screen:qwe.Player,category:Kwe.DeleteCancel})}}),[g,c]);switch(f){case the.Header:return g===rwe.Blocked?u.default.createElement(xwe,SR({},Bwe[g],{onConfirm:k,onTapOutside:S})):g===rwe.None?u.default.createElement(pwe,SR({},b,{onSelect:E,onClose:w})):o?u.default.createElement(xwe,SR({},Bwe[g],{onCancel:k,onTapOutside:S,onConfirm:T})):null;case the.Custom:return p||null;case the.Login:return u.default.createElement(ySe,null);default:return null}},SSe={wrap:"OpenAppBanner_wrap__FXD1W",text:"OpenAppBanner_text__udFVG",button:"OpenAppBanner_button__Y1fuV",link:"OpenAppBanner_link__-SFl8",animate:"OpenAppBanner_animate__-JAuW",wrap_close:"OpenAppBanner_wrap_close__LhTge"};function TSe(){return TSe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TSe.apply(this,arguments)}function kSe(e){return l.createElement("svg",TSe({xmlns:"http://www.w3.org/2000/svg",width:18,height:18},e),_Se||(_Se=l.createElement("path",{d:"M4.2 4.2l4.71 4.762c.05.05.13.05.18.001L13.8 4.2m-9.6 9.6l4.659-4.659a.2.2 0 01.282 0L13.8 13.8",fill:"none",stroke:"#000",strokeWidth:1.5,opacity:.3})))}var xSe=function(){function e(){this.storageKey="__MOMENT_VIEWER__",this.isAvailable=!1,this.isAvailable="undefined"!=typeof window&&!!window.localStorage}return e.prototype.getStorageKey=function(e){return"".concat(this.storageKey,":").concat(e)},e.prototype.get=function(e){var t=null;if(this.isAvailable)try{t=window.localStorage.getItem(this.getStorageKey(e))}catch(e){return console.warn("[LocalStorage] getItem() failed",e),null}return t},e.prototype.set=function(e,t){if(this.isAvailable)try{window.localStorage.setItem(this.getStorageKey(e),JSON.stringify(t))}catch(e){console.warn("[LocalStorage] setItem() failed",e)}},e.prototype.remove=function(e){if(this.isAvailable)try{window.localStorage.removeItem(this.getStorageKey(e))}catch(e){console.warn("[LocalStorage] removeItem() failed",e)}},e}(),ASe=new xSe;function PSe(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function OSe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function CSe(e){OSe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function ISe(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var LSe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function NSe(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var DSe={date:NSe({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:NSe({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:NSe({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},RSe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function MSe(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=i.width?String(i.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,u=i.width?String(i.width):e.defaultWidth;r=e.values[u]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var jSe={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:MSe({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:MSe({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:MSe({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:MSe({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:MSe({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function FSe(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(u)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(u,(function(e){return e.test(s)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(u,(function(e){return e.test(s)}));return a=e.valueCallback?e.valueCallback(l):l,{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(s.length)}}}var VSe,USe={ordinalNumber:(VSe={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(VSe.matchPattern);if(!n)return null;var r=n[0],i=e.match(VSe.parsePattern);if(!i)return null;var o=VSe.valueCallback?VSe.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(r.length)}}),era:FSe({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:FSe({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:FSe({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:FSe({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:FSe({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},BSe={code:"en-US",formatDistance:function(e,t,n){var r;return n=n||{},r="string"==typeof LSe[e]?LSe[e]:1===t?LSe[e].one:LSe[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:DSe,formatRelative:function(e,t,n,r){return RSe[e]},localize:jSe,match:USe,options:{weekStartsOn:0,firstWeekContainsDate:1}},zSe=BSe;function GSe(e,t){return OSe(2,arguments),function(e,t){OSe(2,arguments);var n=CSe(e).getTime(),r=PSe(t);return new Date(n+r)}(e,-PSe(t))}function qSe(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var HSe={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return qSe("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):qSe(n+1,2)},d:function(e,t){return qSe(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return qSe(e.getUTCHours()%12||12,t.length)},H:function(e,t){return qSe(e.getUTCHours(),t.length)},m:function(e,t){return qSe(e.getUTCMinutes(),t.length)},s:function(e,t){return qSe(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return qSe(Math.floor(r*Math.pow(10,n-3)),t.length)}},WSe=HSe;function KSe(e){OSe(1,arguments);var t=CSe(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function YSe(e){OSe(1,arguments);var t=CSe(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=KSe(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=KSe(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}var XSe=6048e5;function $Se(e){OSe(1,arguments);var t=CSe(e),n=KSe(t).getTime()-function(e){OSe(1,arguments);var t=YSe(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),KSe(n)}(t).getTime();return Math.round(n/XSe)+1}function QSe(e,t){OSe(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,o=null==i?0:PSe(i),a=null==n.weekStartsOn?o:PSe(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=CSe(e),u=s.getUTCDay(),l=(u<a?7:0)+u-a;return s.setUTCDate(s.getUTCDate()-l),s.setUTCHours(0,0,0,0),s}function JSe(e,t){OSe(1,arguments);var n=CSe(e,t),r=n.getUTCFullYear(),i=t||{},o=i.locale,a=o&&o.options&&o.options.firstWeekContainsDate,s=null==a?1:PSe(a),u=null==i.firstWeekContainsDate?s:PSe(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(r+1,0,u),l.setUTCHours(0,0,0,0);var c=QSe(l,t),d=new Date(0);d.setUTCFullYear(r,0,u),d.setUTCHours(0,0,0,0);var f=QSe(d,t);return n.getTime()>=c.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}var ZSe=6048e5;function eTe(e,t){OSe(1,arguments);var n=CSe(e),r=QSe(n,t).getTime()-function(e,t){OSe(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,o=null==i?1:PSe(i),a=null==n.firstWeekContainsDate?o:PSe(n.firstWeekContainsDate),s=JSe(e,t),u=new Date(0);return u.setUTCFullYear(s,0,a),u.setUTCHours(0,0,0,0),QSe(u,t)}(n,t).getTime();return Math.round(r/ZSe)+1}var tTe="midnight",nTe="noon",rTe="morning",iTe="afternoon",oTe="evening",aTe="night",sTe={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return WSe.y(e,t)},Y:function(e,t,n,r){var i=JSe(e,r),o=i>0?i:1-i;return"YY"===t?qSe(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):qSe(o,t.length)},R:function(e,t){return qSe(YSe(e),t.length)},u:function(e,t){return qSe(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return qSe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return qSe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return WSe.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return qSe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=eTe(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):qSe(i,t.length)},I:function(e,t,n){var r=$Se(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):qSe(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):WSe.d(e,t)},D:function(e,t,n){var r=function(e){OSe(1,arguments);var t=CSe(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):qSe(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return qSe(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return qSe(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return qSe(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?nTe:0===i?tTe:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?oTe:i>=12?iTe:i>=4?rTe:aTe,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return WSe.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):WSe.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):qSe(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):qSe(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):WSe.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):WSe.s(e,t)},S:function(e,t){return WSe.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return lTe(i);case"XXXX":case"XX":return cTe(i);default:return cTe(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return lTe(i);case"xxxx":case"xx":return cTe(i);default:return cTe(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+uTe(i,":");default:return"GMT"+cTe(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+uTe(i,":");default:return"GMT"+cTe(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return qSe(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return qSe((r._originalDate||e).getTime(),t.length)}};function uTe(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+qSe(o,2)}function lTe(e,t){return e%60==0?(e>0?"-":"+")+qSe(Math.abs(e)/60,2):cTe(e,t)}function cTe(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+qSe(Math.floor(i/60),2)+n+qSe(i%60,2)}var dTe=sTe;function fTe(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function hTe(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}var pTe={p:hTe,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),i=r[1],o=r[2];if(!o)return fTe(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",fTe(i,t)).replace("{{time}}",hTe(o,t))}},vTe=pTe,mTe=["D","DD"],gTe=["YY","YYYY"];function yTe(e){return-1!==mTe.indexOf(e)}function bTe(e){return-1!==gTe.indexOf(e)}function _Te(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var ETe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wTe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,STe=/^'([^]*?)'?$/,TTe=/''/g,kTe=/[a-zA-Z]/;function xTe(e,t,n){OSe(2,arguments);var r=String(t),i=n||{},o=i.locale||zSe,a=o.options&&o.options.firstWeekContainsDate,s=null==a?1:PSe(a),u=null==i.firstWeekContainsDate?s:PSe(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=o.options&&o.options.weekStartsOn,c=null==l?0:PSe(l),d=null==i.weekStartsOn?c:PSe(i.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var f=CSe(e);if(!function(e){OSe(1,arguments);var t=CSe(e);return!isNaN(t)}(f))throw new RangeError("Invalid time value");var h=GSe(f,ISe(f)),p={firstWeekContainsDate:u,weekStartsOn:d,locale:o,_originalDate:f};return r.match(wTe).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,vTe[t])(e,o.formatLong,p):e})).join("").match(ETe).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return n.match(STe)[1].replace(TTe,"'");var a=dTe[r];if(a)return!i.useAdditionalWeekYearTokens&&bTe(n)&&_Te(n,t,e),!i.useAdditionalDayOfYearTokens&&yTe(n)&&_Te(n,t,e),a(h,n,o.localize,p);if(r.match(kTe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("")}function ATe(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function PTe(e,t,n){OSe(2,arguments);var r=n||{},i=r.locale,o=i&&i.options&&i.options.weekStartsOn,a=null==o?0:PSe(o),s=null==r.weekStartsOn?a:PSe(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=CSe(e),l=PSe(t),c=((l%7+7)%7<s?7:0)+l-u.getUTCDay();return u.setUTCDate(u.getUTCDate()+c),u}var OTe=/^(1[0-2]|0?\d)/,CTe=/^(3[0-1]|[0-2]?\d)/,ITe=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,LTe=/^(5[0-3]|[0-4]?\d)/,NTe=/^(2[0-3]|[0-1]?\d)/,DTe=/^(2[0-4]|[0-1]?\d)/,RTe=/^(1[0-1]|0?\d)/,MTe=/^(1[0-2]|0?\d)/,jTe=/^[0-5]?\d/,FTe=/^[0-5]?\d/,VTe=/^\d/,UTe=/^\d{1,2}/,BTe=/^\d{1,3}/,zTe=/^\d{1,4}/,GTe=/^-?\d+/,qTe=/^-?\d/,HTe=/^-?\d{1,2}/,WTe=/^-?\d{1,3}/,KTe=/^-?\d{1,4}/,YTe=/^([+-])(\d{2})(\d{2})?|Z/,XTe=/^([+-])(\d{2})(\d{2})|Z/,$Te=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,QTe=/^([+-])(\d{2}):(\d{2})|Z/,JTe=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function ZTe(e,t,n){var r=t.match(e);if(!r)return null;var i=parseInt(r[0],10);return{value:n?n(i):i,rest:t.slice(r[0].length)}}function eke(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function tke(e,t){return ZTe(GTe,e,t)}function nke(e,t,n){switch(e){case 1:return ZTe(VTe,t,n);case 2:return ZTe(UTe,t,n);case 3:return ZTe(BTe,t,n);case 4:return ZTe(zTe,t,n);default:return ZTe(new RegExp("^\\d{1,"+e+"}"),t,n)}}function rke(e,t,n){switch(e){case 1:return ZTe(qTe,t,n);case 2:return ZTe(HTe,t,n);case 3:return ZTe(WTe,t,n);case 4:return ZTe(KTe,t,n);default:return ZTe(new RegExp("^-?\\d{1,"+e+"}"),t,n)}}function ike(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function oke(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var o=i+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return r?n:1-n}var ake=[31,28,31,30,31,30,31,31,30,31,30,31],ske=[31,29,31,30,31,30,31,31,30,31,30,31];function uke(e){return e%400==0||e%4==0&&e%100!=0}var lke,cke={G:{priority:140,parse:function(e,t,n,r){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}},set:function(e,t,n,r){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return nke(4,e,i);case"yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return nke(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var i=e.getUTCFullYear();if(n.isTwoDigitYear){var o=oke(n.year,i);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return nke(4,e,i);case"Yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return nke(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var i=JSe(e,r);if(n.isTwoDigitYear){var o=oke(n.year,i);return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),QSe(e,r)}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),QSe(e,r)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,n,r){return rke("R"===t?4:t.length,e)},set:function(e,t,n,r){var i=new Date(0);return i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0),KSe(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,n,r){return rke("u"===t?4:t.length,e)},set:function(e,t,n,r){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,n,r){switch(t){case"Q":case"QQ":return nke(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,n,r){switch(t){case"q":case"qq":return nke(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"M":return ZTe(OTe,e,i);case"MM":return nke(2,e,i);case"Mo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"L":return ZTe(OTe,e,i);case"LL":return nke(2,e,i);case"Lo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,n,r){switch(t){case"w":return ZTe(LTe,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return nke(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return QSe(function(e,t,n){OSe(2,arguments);var r=CSe(e),i=PSe(t),o=eTe(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*o),r}(e,n,r),r)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,n,r){switch(t){case"I":return ZTe(LTe,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return nke(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return KSe(function(e,t){OSe(2,arguments);var n=CSe(e),r=PSe(t),i=$Se(n)-r;return n.setUTCDate(n.getUTCDate()-7*i),n}(e,n,r),r)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"d":return ZTe(CTe,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return nke(t.length,e)}},validate:function(e,t,n){var r=uke(e.getUTCFullYear()),i=e.getUTCMonth();return r?t>=1&&t<=ske[i]:t>=1&&t<=ake[i]},set:function(e,t,n,r){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"D":case"DD":return ZTe(ITe,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return nke(t.length,e)}},validate:function(e,t,n){return uke(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,n,r){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,n,r){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=PTe(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return nke(t.length,e,i);case"eo":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=PTe(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return nke(t.length,e,i);case"co":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=PTe(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,n,r){var i=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return nke(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});default:return n.day(e,{width:"wide",context:"formatting",valueCallback:i})||n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(e,t,n){return t>=1&&t<=7},set:function(e,t,n,r){return e=function(e,t){OSe(2,arguments);var n=PSe(t);n%7==0&&(n-=7);var r=CSe(e),i=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+i),r}(e,n,r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,n,r){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(ike(n),0,0,0),e},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(e,t,n,r){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(ike(n),0,0,0),e},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(e,t,n,r){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(ike(n),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,n,r){switch(t){case"h":return ZTe(MTe,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return nke(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=12},set:function(e,t,n,r){var i=e.getUTCHours()>=12;return i&&n<12?e.setUTCHours(n+12,0,0,0):i||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,n,r){switch(t){case"H":return ZTe(NTe,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return nke(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=23},set:function(e,t,n,r){return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,n,r){switch(t){case"K":return ZTe(RTe,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return nke(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(e,t,n,r){switch(t){case"k":return ZTe(DTe,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return nke(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=24},set:function(e,t,n,r){var i=n<=24?n%24:n;return e.setUTCHours(i,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,n,r){switch(t){case"m":return ZTe(jTe,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return nke(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCMinutes(n,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,n,r){switch(t){case"s":return ZTe(FTe,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return nke(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCSeconds(n,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,n,r){return nke(t.length,e,(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))},set:function(e,t,n,r){return e.setUTCMilliseconds(n),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,n,r){switch(t){case"X":return eke(YTe,e);case"XX":return eke(XTe,e);case"XXXX":return eke($Te,e);case"XXXXX":return eke(JTe,e);default:return eke(QTe,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,n,r){switch(t){case"x":return eke(YTe,e);case"xx":return eke(XTe,e);case"xxxx":return eke($Te,e);case"xxxxx":return eke(JTe,e);default:return eke(QTe,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,n,r){return tke(e)},set:function(e,t,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,n,r){return tke(e)},set:function(e,t,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},dke=cke,fke=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hke=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pke=/^'([^]*?)'?$/,vke=/''/g,mke=/\S/,gke=/[a-zA-Z]/;function yke(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}var bke,_ke,Eke=((lke={})[nSe.Blog]=28,lke[nSe.Book]=31,lke),wke=ule({UnRegistered:"label.unregistered",MovieUnReleased:"label.movie_unreleased",MovieReReleased:"label.movie_re_released"}),Ske=3600,Tke=1e4,kke=1e8,xke=function(e){if(null==e)return"";for(var t=/(^[+-]?\d+)(\d{3})/,n="".concat(e);t.test(n);)n=n.replace(t,"$1,$2");return n},Ake=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);var r=e||0,i=Math.pow(10,t),o=(Math.floor(r*i)/i).toFixed(t);return!n&&o.includes(".")&&(o=o.replace(/0*$/,"").replace(/\.$/,"")),o},Pke=function(e,t){if(void 0===t&&(t=Date.now()),!e||e>t)return"";var n=parseInt("".concat((t-e)/1e3),10);if(n<60)return sle("label.recent");if(n<Ske){var r=parseInt("".concat(n/60),10);return sle("label.minute_ago",{minute:r})}if(n<86400){var i=parseInt("".concat(n/Ske),10);return sle("label.hour_ago",{hour:i})}return e?xTe(e,"yyyy. M. d."):"0000.00.00."},Oke=function(e){return e?e<1e3?"".concat(e):"999+":"0"},Cke=function(e){return e?e<Tke?xke(e):"ko"!==ale.intl.locale?ale.intl.formatNumber(e,{notation:"compact",style:"decimal",maximumSignificantDigits:4}):e<1e6?"".concat(Ake(e/Tke,1),"만"):e<kke?"".concat(xke(parseInt("".concat(e/Tke),10)),"만"):"".concat(e<1e10?Ake(e/kke,1):xke(parseInt("".concat(e/kke),10)),"억"):"0"},Ike=function(e){if(!e)return"0:00";var t=[],n=0;e>=Ske&&(n=parseInt("".concat(e/Ske),10),t.push(n));var r=parseInt("".concat(e%Ske/60),10);t.push(n&&n>0&&r<10?"0".concat(r):r);var i=e%60;return t.push(i<10?"0".concat(i):i),t.join(":")},Lke=function(e){if(!e)return null;try{var t=function(e,t,n,r){OSe(3,arguments);var i=String(e),o=String(t),a=r||{},s=a.locale||zSe;if(!s.match)throw new RangeError("locale must contain match property");var u=s.options&&s.options.firstWeekContainsDate,l=null==u?1:PSe(u),c=null==a.firstWeekContainsDate?l:PSe(a.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=s.options&&s.options.weekStartsOn,f=null==d?0:PSe(d),h=null==a.weekStartsOn?f:PSe(a.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===o)return""===i?CSe(n):new Date(NaN);var p,v={firstWeekContainsDate:c,weekStartsOn:h,locale:s},m=[{priority:10,subPriority:-1,set:yke,index:0}],g=o.match(hke).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,vTe[t])(e,s.formatLong,v):e})).join("").match(fke),y=[];for(p=0;p<g.length;p++){var b=g[p];!a.useAdditionalWeekYearTokens&&bTe(b)&&_Te(b,o,e),!a.useAdditionalDayOfYearTokens&&yTe(b)&&_Te(b,o,e);var _=b[0],E=dke[_];if(E){var w=E.incompatibleTokens;if(Array.isArray(w)){for(var S=void 0,T=0;T<y.length;T++){var k=y[T].token;if(-1!==w.indexOf(k)||k===_){S=y[T];break}}if(S)throw new RangeError("The format string mustn't contain `".concat(S.fullToken,"` and `").concat(b,"` at the same time"))}else if("*"===E.incompatibleTokens&&y.length)throw new RangeError("The format string mustn't contain `".concat(b,"` and any other token at the same time"));y.push({token:_,fullToken:b});var x=E.parse(i,b,s.match,v);if(!x)return new Date(NaN);m.push({priority:E.priority,subPriority:E.subPriority||0,set:E.set,validate:E.validate,value:x.value,index:m.length}),i=x.rest}else{if(_.match(gke))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if("''"===b?b="'":"'"===_&&(b=b.match(pke)[1].replace(vke,"'")),0!==i.indexOf(b))return new Date(NaN);i=i.slice(b.length)}}if(i.length>0&&mke.test(i))return new Date(NaN);var A=m.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return m.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),P=CSe(n);if(isNaN(P))return new Date(NaN);var O=GSe(P,ISe(P)),C={};for(p=0;p<A.length;p++){var I=A[p];if(I.validate&&!I.validate(O,I.value,v))return new Date(NaN);var L=I.set(O,C,I.value,v);L[0]?(O=L[0],ATe(C,L[1])):O=L}return O}(e,"yyyyMMdd",new Date);return xTe(t,"yyyy. M. d.")}catch(t){if(t instanceof RangeError){var n=null==e?void 0:e.substring(0,4);if(Number(n)>0)return n}return null}},Nke=function(e){var t,n="string"==typeof e?e:null==e?void 0:e[e.length-1];return null!==(t=Lke(n))&&void 0!==t?t:wke.UnRegistered},Dke=function(e){var t,n;if(!e)return wke.MovieUnReleased;if("string"==typeof e)return null!==(t=Lke(e))&&void 0!==t?t:wke.MovieUnReleased;var r=e[e.length-1];return e.length>1?"".concat(Lke(r)," ").concat(wke.MovieReReleased):null!==(n=Lke(r))&&void 0!==n?n:wke.MovieUnReleased},Rke="BANNER_CLOSED",Mke=function(){var e,t=ASe.get(Rke);return!Rle.isMobile()||!!t&&(e=Number(t),!(Date.now()-e>864e5))},jke=new dme,Fke=function(){var t,n=Ime().viewer,r=ZEe(),o=gSe().logEvent,a=i.useMemo((function(){var e;return Mke()||!1===(null===(e=n.use)||void 0===e?void 0:e.openAppBanner)}),[]),s=i.useState(a),l=s[0],c=s[1],d=i.useState(!0),f=d[0],h=d[1],p=function(){c(!0),ASe.set(Rke,Date.now()),jke.clear()};return i.useEffect((function(){return a||jke.set((function(){p(),fEe(null,Awe.AutoClose)}),2e3),function(){jke.clear()}}),[]),a?null:u.default.createElement("div",{className:pEe(SSe.wrap,SSe.animate,(t={},t[SSe.wrap_close]=l,t)),role:"complementary",onTransitionEnd:function(){return l&&h(!1)},style:{display:f?"flex":"none"}},u.default.createElement("strong",{className:pEe(SSe.text,SSe.title)},u.default.createElement("a",{href:"#",className:SSe.link,onClick:function(t){t.preventDefault(),p(),n.emit(e.ViewerEvents.ShowMoment,{moment:r}),fEe(t.currentTarget,Awe.OpenApp),o(Gwe.Tap,{screen:qwe.Player,category:Hwe.AppLink})}},"블로그 앱"),"에서 모먼트를 만들어보세요"),u.default.createElement("button",{type:"button",className:SSe.button,onClick:function(e){p(),fEe(e.currentTarget,Awe.Close),o(Gwe.Tap,{screen:qwe.Player,category:Hwe.Close})},"aria-label":"배너 닫기"},u.default.createElement(kSe,null)))};function Vke(){return Vke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vke.apply(this,arguments)}function Uke(e){return l.createElement("svg",Vke({xmlns:"http://www.w3.org/2000/svg",width:30,height:30},e),bke||(bke=l.createElement("defs",null,l.createElement("filter",{id:"IconMute_svg__a",width:"110.2%",height:"150%",x:"-5.1%",y:"-25%",filterUnits:"objectBoundingBox"},l.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),l.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:2}),l.createElement("feColorMatrix",{in:"shadowBlurOuter1",result:"shadowMatrixOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),l.createElement("feMerge",null,l.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),l.createElement("feMergeNode",{in:"SourceGraphic"}))))),_ke||(_ke=l.createElement("g",{filter:"url(#IconMute_svg__a)",transform:"translate(-5 -1)",fill:"none",fillRule:"evenodd"},l.createElement("g",{transform:"translate(12 8.5)"},l.createElement("rect",{width:1.5,height:8,x:13.609,y:3.359,fill:"#FFF",rx:.75,transform:"rotate(-45 14.359 7.359)"}),l.createElement("rect",{width:1.5,height:8,x:13.609,y:3.359,fill:"#FFF",rx:.75,transform:"rotate(45 14.359 7.359)"}),l.createElement("path",{stroke:"#FFF",strokeLinejoin:"round",strokeWidth:1.5,d:"M0 4.028v6.998h3.101l5.626 3.909V0L3.101 4.028z"})))))}var Bke,zke="MuteLayer_wrap__S0Xo4",Gke="MuteLayer_wrap_close__YmEdy",qke=function(){var t,n=Ime(),r=n.viewer,o=n.player,a=i.useState(r.isInitialMuted&&o.getConsecutivePlayCount()<=1&&o.core.muted),s=a[0],l=a[1],c=!!Zce((function(e){return e.layer.activeStickerLayerId})),d=i.useCallback((function(){r.isInitialMuted=!1,l(!1)}),[r]),f=i.useCallback((function(){o.core.muted=!1,l(!1)}),[o.core]);return i.useEffect((function(){return o.on(e.PlayerEvents.VolumeChange,d),function(){o.off(e.PlayerEvents.VolumeChange,d)}}),[d,o]),Rle.isMobile()?u.default.createElement("div",{className:pEe(zke,(t={},t[Gke]=!s||c,t)),onClick:f},u.default.createElement(Uke,null),sle("message.press_on_volume")):null},Hke="Toast_box__oUjcr",Wke="Toast_active__Gv6ug",Kke="Toast_text__6ibC9",Yke="Toast_animate__GskWL",Xke=function(){var e,t=Zce((function(e){return e.toast})),n=t.active,r=t.message;return u.default.createElement("div",{className:pEe(Hke,Yke,(e={},e[Wke]=n,e))},u.default.createElement("p",{className:Kke},u.default.createElement(Twe,{message:r})))},$ke="EnabledPanel_info_more__SOxit",Qke=new dme,Jke=function(){var t=Xce(),n=Ime().player,r=gSe().logEvent,o=i.useContext(swe),a=o.flickingRef,s=o.isFlicking,u=i.useCallback((function(){t(dhe({isForwardSkipVisible:!1,isBackwardSkipVisible:!1}))}),[]),l=i.useCallback((function(n){t(dhe({isForwardSkipVisible:!n,isBackwardSkipVisible:n})),Qke.set(u,e.HideDelay.Skip)}),[]),c=i.useCallback((function(i){return xR(void 0,void 0,void 0,(function(){var o,c,d;return AR(this,(function(f){switch(f.label){case 0:return o=(null===(c=a.current)||void 0===c?void 0:c.getIndex())||0,s.current?[2]:(u(),fEe(null==i?void 0:i.target,Cwe.TapLeft),n.currentIndex<=0?o<=0||n.getCurrentPoint().currentTime>=1?[4,n.moveToStartingPoint()]:[3,2]:[3,4]);case 1:return f.sent(),l(!0),[3,3];case 2:t(fhe(e.LayerState.Info)),null===(d=a.current)||void 0===d||d.prev(_R),f.label=3;case 3:return[3,6];case 4:return[4,n.prev()];case 5:f.sent(),l(!0),f.label=6;case 6:return r(Gwe.Tap,{screen:qwe.Player,category:Wwe.PrevIndex}),[2]}}))}))}),[n,r]),d=i.useCallback((function(i){return xR(void 0,void 0,void 0,(function(){var o,c,d,f,h;return AR(this,(function(p){switch(p.label){case 0:return o=(null===(d=a.current)||void 0===d?void 0:d.getIndex())||0,c=(null===(f=a.current)||void 0===f?void 0:f.getPanelCount())||0,s.current?[2]:(u(),fEe(null==i?void 0:i.target,Cwe.TapRight),n.currentIndex>=n.totalIndex-1?(o<c-1&&(t(fhe(e.LayerState.Info)),null===(h=a.current)||void 0===h||h.next(_R)),[3,3]):[3,1]);case 1:return[4,n.next()];case 2:p.sent(),l(!1),p.label=3;case 3:return r(Gwe.Tap,{screen:qwe.Player,category:Wwe.NextIndex}),[2]}}))}))}),[n,r]),f=i.useCallback((function(i){return xR(void 0,void 0,void 0,(function(){var o,c,d,f,h;return AR(this,(function(p){switch(p.label){case 0:return o=(null===(d=a.current)||void 0===d?void 0:d.getIndex())||0,c=(null===(f=a.current)||void 0===f?void 0:f.getPanelCount())||0,s.current?[2]:(u(),n.currentIndex>=n.totalIndex-1?(o<c-1&&(t(fhe(e.LayerState.Info)),null===(h=a.current)||void 0===h||h.next(_R),fEe(null==i?void 0:i.target,Cwe.AutoNextMoment),r(Gwe.Auto,{screen:qwe.Player,category:Wwe.AutoNextMoment})),[3,3]):[3,1]);case 1:return[4,n.next()];case 2:p.sent(),l(!1),fEe(null==i?void 0:i.target,Cwe.AutoNextIndex),r(Gwe.Auto,{screen:qwe.Player,category:Wwe.AutoNextIndex}),p.label=3;case 3:return[2]}}))}))}),[n,r]);return{handleTapLeft:c,handleTapRight:d,handleAutoNext:f}},Zke=SR({position:"absolute"},Rle.isIE11()&&{left:"0px",top:"0px"}),exe=u.default.forwardRef((function(e,t){var n=e.className,r=e.children,o=e.style,a=i.useContext(Cme).layerSize;return u.default.createElement("div",{className:n,style:SR(SR(SR({},o),Zke),a),ref:t},r)}));function txe(){return txe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},txe.apply(this,arguments)}function nxe(e){return l.createElement("svg",txe({xmlns:"http://www.w3.org/2000/svg",width:48,height:48},e),Bke||(Bke=l.createElement("g",{stroke:"#FFF",strokeWidth:2,fill:"none",fillRule:"evenodd"},l.createElement("path",{d:"M40 25c0 8.834-7.163 16-16 16-8.835 0-16-7.166-16-16 0-8.837 7.165-16 16-16 4.418 0 8.419 1.791 11.314 4.686"}),l.createElement("path",{d:"M36 6v9h-9"}))))}var rxe=function(e){var t=e.onClick,n=gSe().logEvent;return u.default.createElement("button",{type:"button",className:AEe,onClick:function(e){null==t||t(e),fEe(e.target,Pwe.Retry),n(Gwe.Tap,{screen:qwe.Error,category:eSe.Retry})}},u.default.createElement(nxe,null),u.default.createElement("span",{className:sge},sle("action.refresh")))},ixe=NaN,oxe="[object Symbol]",axe=/^\s+|\s+$/g,sxe=/^[-+]0x[0-9a-f]+$/i,uxe=/^0b[01]+$/i,lxe=/^0o[0-7]+$/i,cxe=parseInt,dxe="object"==typeof c&&c&&c.Object===Object&&c,fxe="object"==typeof self&&self&&self.Object===Object&&self,hxe=dxe||fxe||Function("return this")(),pxe=Object.prototype.toString,vxe=Math.max,mxe=Math.min,gxe=function(){return hxe.Date.now()};function yxe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function bxe(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&pxe.call(e)==oxe}(e))return ixe;if(yxe(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=yxe(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(axe,"");var n=uxe.test(e);return n||lxe.test(e)?cxe(e.slice(2),n?2:8):sxe.test(e)?ixe:+e}var _xe=function(e,t,n){var r,i,o,a,s,u,l=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,o=i;return r=i=void 0,l=t,a=e.apply(o,n)}function p(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-l>=o}function v(){var e=gxe();if(p(e))return m(e);s=setTimeout(v,function(e){var n=t-(e-u);return d?mxe(n,o-(e-l)):n}(e))}function m(e){return s=void 0,f&&r?h(e):(r=i=void 0,a)}function g(){var e=gxe(),n=p(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return function(e){return l=e,s=setTimeout(v,t),c?h(e):a}(u);if(d)return s=setTimeout(v,t),h(u)}return void 0===s&&(s=setTimeout(v,t)),a}return t=bxe(t)||0,yxe(n)&&(c=!!n.leading,o=(d="maxWait"in n)?vxe(bxe(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),g.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},g.flush=function(){return void 0===s?a:m(gxe())},g},Exe={exports:{}};!function(e,t){e.exports=function(){var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.init=i,t.getWindow=function(t){return(0,e.default)(t)?t:(t.ownerDocument||t).defaultView||r.window},t.window=t.realWindow=void 0;var n=void 0;t.realWindow=n;var r=void 0;function i(e){t.realWindow=n=e;var i=e.document.createTextNode("");i.ownerDocument!==e.document&&"function"==typeof e.wrap&&e.wrap(i)===i&&(e=e.wrap(e)),t.window=r=e}t.window=r,"undefined"!=typeof window&&window&&i(window);var o={};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var s=function(e){return!!e&&"object"===a(e)},u=function(e){return"function"==typeof e},l={window:function(n){return n===t.window||(0,e.default)(n)},docFrag:function(e){return s(e)&&11===e.nodeType},object:s,func:u,number:function(e){return"number"==typeof e},bool:function(e){return"boolean"==typeof e},string:function(e){return"string"==typeof e},element:function(e){if(!e||"object"!==a(e))return!1;var n=t.getWindow(e)||t.window;return/object|function/.test(a(n.Element))?e instanceof n.Element:1===e.nodeType&&"string"==typeof e.nodeName},plainObject:function(e){return s(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return s(e)&&void 0!==e.length&&u(e.splice)}};o.default=l;var c={};function d(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.prepared.axis;"x"===n?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):"y"===n&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function f(e){var t=e.iEvent,n=e.interaction;if("drag"===n.prepared.name){var r=n.prepared.axis;if("x"===r||"y"===r){var i="x"===r?"y":"x";t.page[i]=n.coords.start.page[i],t.client[i]=n.coords.start.client[i],t.delta[i]=0}}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.draggable=h.draggable,t.map.drag=h,t.methodDict.drag="draggable",r.actions.drag=h.defaults},listeners:{"interactions:before-action-move":d,"interactions:action-resume":d,"interactions:action-move":f,"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.buttons,i=n.options.drag;if(i&&i.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||0!=(r&n.options.drag.mouseButtons)))return e.action={name:"drag",axis:"start"===i.lockAxis?i.startAxis:i.lockAxis},!1}},draggable:function(e){return o.default.object(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):o.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:d,move:f,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},p=h;c.default=p;var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var m={init:function(e){var t=e;m.document=t.document,m.DocumentFragment=t.DocumentFragment||g,m.SVGElement=t.SVGElement||g,m.SVGSVGElement=t.SVGSVGElement||g,m.SVGElementInstance=t.SVGElementInstance||g,m.Element=t.Element||g,m.HTMLElement=t.HTMLElement||m.Element,m.Event=t.Event,m.Touch=t.Touch||g,m.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function g(){}var y=m;v.default=y;var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var _={init:function(e){var t=v.default.Element,n=e.navigator||{};_.supportsTouch="ontouchstart"in e||o.default.func(e.DocumentTouch)&&v.default.document instanceof e.DocumentTouch,_.supportsPointerEvent=!1!==n.pointerEnabled&&!!v.default.PointerEvent,_.isIOS=/iP(hone|od|ad)/.test(n.platform),_.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),_.isIe9=/MSIE 9/.test(n.userAgent),_.isOperaMobile="Opera"===n.appName&&_.supportsTouch&&/Presto/.test(n.userAgent),_.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",_.pEventTypes=_.supportsPointerEvent?v.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,_.wheelEvent=v.default.document&&"onmousewheel"in v.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},E=_;b.default=E;var w={};function S(e){var t=e.parentNode;if(o.default.docFrag(t)){for(;(t=t.host)&&o.default.docFrag(t););return t}return t}function T(e,n){return t.window!==t.realWindow&&(n=n.replace(/\/deep\//g," ")),e[b.default.prefixedMatchesSelector](n)}Object.defineProperty(w,"__esModule",{value:!0}),w.nodeContains=function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1},w.closest=function(e,t){for(;o.default.element(e);){if(T(e,t))return e;e=S(e)}return null},w.parentNode=S,w.matchesSelector=T,w.indexOfDeepestElement=function(e){for(var n,r=[],i=0;i<e.length;i++){var o=e[i],a=e[n];if(o&&i!==n)if(a){var s=k(o),u=k(a);if(s!==o.ownerDocument)if(u!==o.ownerDocument)if(s!==u){r=r.length?r:x(a);var l=void 0;if(a instanceof v.default.HTMLElement&&o instanceof v.default.SVGElement&&!(o instanceof v.default.SVGSVGElement)){if(o===u)continue;l=o.ownerSVGElement}else l=o;for(var c=x(l,a.ownerDocument),d=0;c[d]&&c[d]===r[d];)d++;var f=[c[d-1],c[d],r[d]];if(f[0])for(var h=f[0].lastChild;h;){if(h===f[1]){n=i,r=c;break}if(h===f[2])break;h=h.previousSibling}}else p=o,m=a,(parseInt(t.getWindow(p).getComputedStyle(p).zIndex,10)||0)>=(parseInt(t.getWindow(m).getComputedStyle(m).zIndex,10)||0)&&(n=i);else n=i}else n=i}var p,m;return n},w.matchesUpTo=function(e,t,n){for(;o.default.element(e);){if(T(e,t))return!0;if((e=S(e))===n)return T(e,t)}return!1},w.getActualElement=function(e){return e.correspondingUseElement||e},w.getScrollXY=A,w.getElementClientRect=P,w.getElementRect=function(e){var n=P(e);if(!b.default.isIOS7&&n){var r=A(t.getWindow(e));n.left+=r.x,n.right+=r.x,n.top+=r.y,n.bottom+=r.y}return n},w.getPath=function(e){for(var t=[];e;)t.push(e),e=S(e);return t},w.trySelector=function(e){return!!o.default.string(e)&&(v.default.document.querySelector(e),!0)};var k=function(e){return e.parentNode||e.host};function x(e,t){for(var n,r=[],i=e;(n=k(i))&&i!==t&&n!==i.ownerDocument;)r.unshift(i),i=n;return r}function A(e){return{x:(e=e||t.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function P(e){var t=e instanceof v.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var O={};Object.defineProperty(O,"__esModule",{value:!0}),O.default=function(e,t){for(var n in t)e[n]=t[n];return e};var C={};function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n){return"parent"===e?(0,w.parentNode)(n):"self"===e?t.getRect(n):(0,w.closest)(n,e)}Object.defineProperty(C,"__esModule",{value:!0}),C.getStringOptionResult=L,C.resolveRectLike=function(e,t,n,r){var i,a=e;return o.default.string(a)?a=L(a,t,n):o.default.func(a)&&(a=a.apply(void 0,function(e){if(Array.isArray(e))return I(e)}(i=r)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),o.default.element(a)&&(a=(0,w.getElementRect)(a)),a},C.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},C.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,O.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e},C.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,O.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},C.addEdges=function(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top};var N={};Object.defineProperty(N,"__esModule",{value:!0}),N.default=function(e,t,n){var r=e.options[n],i=r&&r.origin||e.options.origin,o=(0,C.resolveRectLike)(i,e,t,[e&&t]);return(0,C.rectToXY)(o)||{x:0,y:0}};var D={};function R(e){return e.trim().split(/ +/)}Object.defineProperty(D,"__esModule",{value:!0}),D.default=function e(t,n,r){if(r=r||{},o.default.string(t)&&-1!==t.search(" ")&&(t=R(t)),o.default.array(t))return t.reduce((function(t,i){return(0,O.default)(t,e(i,n,r))}),r);if(o.default.object(t)&&(n=t,t=""),o.default.func(n))r[t]=r[t]||[],r[t].push(n);else if(o.default.array(n))for(var i=0;i<n.length;i++){var a;a=n[i],e(t,a,r)}else if(o.default.object(n))for(var s in n){var u=R(s).map((function(e){return"".concat(t).concat(e)}));e(u,n[s],r)}return r};var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=void 0,M.default=function(e,t){return Math.sqrt(e*e+t*t)};var j={};function F(e,t){for(var n in t){var r=F.prefixedPropREs,i=!1;for(var o in r)if(0===n.indexOf(o)&&r[o].test(n)){i=!0;break}i||"function"==typeof t[n]||(e[n]=t[n])}return e}Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0,F.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};var V=F;j.default=V;var U={};function B(e){return e instanceof v.default.Event||e instanceof v.default.Touch}function z(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function G(e,t){return t=t||{x:0,y:0},b.default.isOperaMobile&&B(e)?(z("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):z("page",e,t),t}function q(e,t){return t=t||{},b.default.isOperaMobile&&B(e)?z("screen",e,t):z("client",e,t),t}function H(e){var t=[];return o.default.array(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function W(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var r=e[n];for(var i in t)t[i]+=r[i]}for(var o in t)t[o]/=e.length;return t}Object.defineProperty(U,"__esModule",{value:!0}),U.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},U.setCoordDeltas=function(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp},U.setCoordVelocity=function(e,t){var n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n},U.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},U.isNativePointer=B,U.getXY=z,U.getPageXY=G,U.getClientXY=q,U.getPointerId=function(e){return o.default.number(e.pointerId)?e.pointerId:e.identifier},U.setCoords=function(e,t,n){var r=t.length>1?W(t):t[0];G(r,e.page),q(r,e.client),e.timeStamp=n},U.getTouchPair=H,U.pointerAverage=W,U.touchBBox=function(e){if(!e.length)return null;var t=H(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),i=Math.max(t[0].pageX,t[1].pageX),o=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,right:i,bottom:o,width:i-n,height:o-r}},U.touchDistance=function(e,t){var n=t+"X",r=t+"Y",i=H(e),o=i[0][n]-i[1][n],a=i[0][r]-i[1][r];return(0,M.default)(o,a)},U.touchAngle=function(e,t){var n=t+"X",r=t+"Y",i=H(e),o=i[1][n]-i[0][n],a=i[1][r]-i[0][r];return 180*Math.atan2(a,o)/Math.PI},U.getPointerType=function(e){return o.default.string(e.pointerType)?e.pointerType:o.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof v.default.Touch?"touch":"mouse"},U.getEventTargets=function(e){var t=o.default.func(e.composedPath)?e.composedPath():e.path;return[w.getActualElement(t?t[0]:e.target),w.getActualElement(e.currentTarget)]},U.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},U.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},Object.defineProperty(U,"pointerExtend",{enumerable:!0,get:function(){return j.default}});var K={};function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(K,"__esModule",{value:!0}),K.BaseEvent=void 0;var $=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),X(this,"type",void 0),X(this,"target",void 0),X(this,"currentTarget",void 0),X(this,"interactable",void 0),X(this,"_interaction",void 0),X(this,"timeStamp",void 0),X(this,"immediatePropagationStopped",!1),X(this,"propagationStopped",!1),this._interaction=t}var t;return(t=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Y(e.prototype,t),e}();K.BaseEvent=$,Object.defineProperty($.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Q={};Object.defineProperty(Q,"__esModule",{value:!0}),Q.find=Q.findIndex=Q.from=Q.merge=Q.remove=Q.contains=void 0,Q.contains=function(e,t){return-1!==e.indexOf(t)},Q.remove=function(e,t){return e.splice(e.indexOf(t),1)};var J=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}return e};Q.merge=J,Q.from=function(e){return J([],e)};var Z=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1};Q.findIndex=Z,Q.find=function(e,t){return e[Z(e,t)]};var ee={};function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?oe(e):t}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(ee,"__esModule",{value:!0}),ee.DropEvent=void 0;var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ae(n);if(r){var i=ae(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ie(this,e)});function o(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),se(oe(r=i.call(this,t._interaction)),"target",void 0),se(oe(r),"dropzone",void 0),se(oe(r),"dragEvent",void 0),se(oe(r),"relatedTarget",void 0),se(oe(r),"draggable",void 0),se(oe(r),"timeStamp",void 0),se(oe(r),"propagationStopped",!1),se(oe(r),"immediatePropagationStopped",!1);var a="dragleave"===n?e.prev:e.cur,s=a.element,u=a.dropzone;return r.type=n,r.target=s,r.currentTarget=s,r.dropzone=u,r.dragEvent=t,r.relatedTarget=t.target,r.draggable=t.interactable,r.timeStamp=t.timeStamp,r}return(t=[{key:"reject",value:function(){var e=this,t=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&t.cur.dropzone===this.dropzone&&t.cur.element===this.target)if(t.prev.dropzone=this.dropzone,t.prev.element=this.target,t.rejected=!0,t.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var n=t.activeDrops,r=Q.findIndex(n,(function(t){var n=t.dropzone,r=t.element;return n===e.dropzone&&r===e.target}));t.activeDrops.splice(r,1);var i=new o(t,this.dragEvent,"dropdeactivate");i.dropzone=this.dropzone,i.target=this.target,this.dropzone.fire(i)}else this.dropzone.fire(new o(t,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&ne(o.prototype,t),o}(K.BaseEvent);ee.DropEvent=ue;var le={};function ce(e,t){for(var n=0;n<e.slice().length;n++){var r=e.slice()[n],i=r.dropzone,o=r.element;t.dropzone=i,t.target=o,i.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function de(e,t){for(var n=function(e,t){for(var n=e.interactables,r=[],i=0;i<n.list.length;i++){var a=n.list[i];if(a.options.drop.enabled){var s=a.options.drop.accept;if(!(o.default.element(s)&&s!==t||o.default.string(s)&&!w.matchesSelector(t,s)||o.default.func(s)&&!s({dropzone:a,draggableElement:t})))for(var u=o.default.string(a.target)?a._context.querySelectorAll(a.target):o.default.array(a.target)?a.target:[a.target],l=0;l<u.length;l++){var c=u[l];c!==t&&r.push({dropzone:a,element:c,rect:a.getRect(c)})}}}return r}(e,t),r=0;r<n.length;r++){var i=n[r];i.rect=i.dropzone.getRect(i.element)}return n}function fe(e,t,n){for(var r=e.dropState,i=e.interactable,o=e.element,a=[],s=0;s<r.activeDrops.length;s++){var u=r.activeDrops[s],l=u.dropzone,c=u.element,d=u.rect;a.push(l.dropCheck(t,n,i,o,c,d)?c:null)}var f=w.indexOfDeepestElement(a);return r.activeDrops[f]||null}function he(e,t,n){var r=e.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(i.activate=new ee.DropEvent(r,n,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),"dragend"===n.type&&(i.deactivate=new ee.DropEvent(r,n,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(i.leave=new ee.DropEvent(r,n,"dragleave"),n.dragLeave=i.leave.target=r.prev.element,n.prevDropzone=i.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(i.enter=new ee.DropEvent(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),"dragend"===n.type&&r.cur.dropzone&&(i.drop=new ee.DropEvent(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),"dragmove"===n.type&&r.cur.dropzone&&(i.move=new ee.DropEvent(r,n,"dropmove"),i.move.dragmove=n,n.dropzone=r.cur.dropzone)),i}function pe(e,t){var n=e.dropState,r=n.activeDrops,i=n.cur,o=n.prev;t.leave&&o.dropzone.fire(t.leave),t.enter&&i.dropzone.fire(t.enter),t.move&&i.dropzone.fire(t.move),t.drop&&i.dropzone.fire(t.drop),t.deactivate&&ce(r,t.deactivate),n.prev.dropzone=i.dropzone,n.prev.element=i.element}function ve(e,t){var n=e.interaction,r=e.iEvent,i=e.event;if("dragmove"===r.type||"dragend"===r.type){var o=n.dropState;t.dynamicDrop&&(o.activeDrops=de(t,n.element));var a=r,s=fe(n,a,i);o.rejected=o.rejected&&!!s&&s.dropzone===o.cur.dropzone&&s.element===o.cur.element,o.cur.dropzone=s&&s.dropzone,o.cur.element=s&&s.element,o.events=he(n,0,a)}}Object.defineProperty(le,"__esModule",{value:!0}),le.default=void 0;var me={id:"actions/drop",install:function(e){var t=e.actions,n=e.interactStatic,r=e.Interactable,i=e.defaults;e.usePlugin(c.default),r.prototype.dropzone=function(e){return function(e,t){if(o.default.object(t)){if(e.options.drop.enabled=!1!==t.enabled,t.listeners){var n=(0,D.default)(t.listeners),r=Object.keys(n).reduce((function(e,t){return e[/^(enter|leave)/.test(t)?"drag".concat(t):/^(activate|deactivate|move)/.test(t)?"drop".concat(t):t]=n[t],e}),{});e.off(e.options.drop.listeners),e.on(r),e.options.drop.listeners=r}return o.default.func(t.ondrop)&&e.on("drop",t.ondrop),o.default.func(t.ondropactivate)&&e.on("dropactivate",t.ondropactivate),o.default.func(t.ondropdeactivate)&&e.on("dropdeactivate",t.ondropdeactivate),o.default.func(t.ondragenter)&&e.on("dragenter",t.ondragenter),o.default.func(t.ondragleave)&&e.on("dragleave",t.ondragleave),o.default.func(t.ondropmove)&&e.on("dropmove",t.ondropmove),/^(pointer|center)$/.test(t.overlap)?e.options.drop.overlap=t.overlap:o.default.number(t.overlap)&&(e.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(e.options.drop.accept=t.accept),"checker"in t&&(e.options.drop.checker=t.checker),e}return o.default.bool(t)?(e.options.drop.enabled=t,e):e.options.drop}(this,e)},r.prototype.dropCheck=function(e,t,n,r,i,a){return function(e,t,n,r,i,a,s){var u=!1;if(!(s=s||e.getRect(a)))return!!e.options.drop.checker&&e.options.drop.checker(t,n,u,e,a,r,i);var l=e.options.drop.overlap;if("pointer"===l){var c=(0,N.default)(r,i,"drag"),d=U.getPageXY(t);d.x+=c.x,d.y+=c.y;var f=d.x>s.left&&d.x<s.right,h=d.y>s.top&&d.y<s.bottom;u=f&&h}var p=r.getRect(i);if(p&&"center"===l){var v=p.left+p.width/2,m=p.top+p.height/2;u=v>=s.left&&v<=s.right&&m>=s.top&&m<=s.bottom}return p&&o.default.number(l)&&(u=Math.max(0,Math.min(s.right,p.right)-Math.max(s.left,p.left))*Math.max(0,Math.min(s.bottom,p.bottom)-Math.max(s.top,p.top))/(p.width*p.height)>=l),e.options.drop.checker&&(u=e.options.drop.checker(t,n,u,e,a,r,i)),u}(this,e,t,n,r,i,a)},n.dynamicDrop=function(t){return o.default.bool(t)?(e.dynamicDrop=t,n):e.dynamicDrop},(0,O.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,i.actions.drop=me.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;"drag"===t.prepared.name&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var n=e.interaction,r=(e.event,e.iEvent);if("drag"===n.prepared.name){var i=n.dropState;i.activeDrops=null,i.events=null,i.activeDrops=de(t,n.element),i.events=he(n,0,r),i.events.activate&&(ce(i.activeDrops,i.events.activate),t.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":ve,"interactions:after-action-move":function(e,t){var n=e.interaction,r=e.iEvent;"drag"===n.prepared.name&&(pe(n,n.dropState.events),t.fire("actions/drop:move",{interaction:n,dragEvent:r}),n.dropState.events={})},"interactions:action-end":function(e,t){if("drag"===e.interaction.prepared.name){var n=e.interaction,r=e.iEvent;ve(e,t),pe(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:r})}},"interactions:stop":function(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:de,getDrop:fe,getDropEvents:he,fireDropEvents:pe,defaults:{enabled:!1,accept:null,overlap:"pointer"}},ge=me;le.default=ge;var ye={};function be(e){var t=e.interaction,n=e.iEvent,r=e.phase;if("gesture"===t.prepared.name){var i=t.pointers.map((function(e){return e.pointer})),a="start"===r,s="end"===r,u=t.interactable.options.deltaSource;if(n.touches=[i[0],i[1]],a)n.distance=U.touchDistance(i,u),n.box=U.touchBBox(i),n.scale=1,n.ds=0,n.angle=U.touchAngle(i,u),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(s){var l=t.prevEvent;n.distance=l.distance,n.box=l.box,n.scale=l.scale,n.ds=0,n.angle=l.angle,n.da=0}else n.distance=U.touchDistance(i,u),n.box=U.touchBBox(i),n.scale=n.distance/t.gesture.startDistance,n.angle=U.touchAngle(i,u),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,o.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=void 0;var _e={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.gesturable=function(e){return o.default.object(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):o.default.bool(e)?(this.options.gesture.enabled=e,this):this.options.gesture},t.map.gesture=_e,t.methodDict.gesture="gesturable",r.actions.gesture=_e.defaults},listeners:{"interactions:action-start":be,"interactions:action-move":be,"interactions:action-end":be,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},Ee=_e;ye.default=Ee;var we={};function Se(e,t,n,r,i,a,s){if(!t)return!1;if(!0===t){var u=o.default.number(a.width)?a.width:a.right-a.left,l=o.default.number(a.height)?a.height:a.bottom-a.top;if(s=Math.min(s,Math.abs(("left"===e||"right"===e?u:l)/2)),u<0&&("left"===e?e="right":"right"===e&&(e="left")),l<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e)return n.x<(u>=0?a.left:a.right)+s;if("top"===e)return n.y<(l>=0?a.top:a.bottom)+s;if("right"===e)return n.x>(u>=0?a.right:a.left)-s;if("bottom"===e)return n.y>(l>=0?a.bottom:a.top)-s}return!!o.default.element(r)&&(o.default.element(t)?t===r:w.matchesUpTo(r,t,i))}function Te(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.resizeAxes){var r=t;n.interactable.options.resize.square?("y"===n.resizeAxes?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,"x"===n.resizeAxes?r.delta.y=0:"y"===n.resizeAxes&&(r.delta.x=0))}}Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var ke={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,n=e.browser,r=e.Interactable,i=e.defaults;ke.cursors=function(e){return e.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),ke.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(t){return function(e,t,n){return o.default.object(t)?(e.options.resize.enabled=!1!==t.enabled,e.setPerAction("resize",t),e.setOnEvents("resize",t),o.default.string(t.axis)&&/^x$|^y$|^xy$/.test(t.axis)?e.options.resize.axis=t.axis:null===t.axis&&(e.options.resize.axis=n.defaults.actions.resize.axis),o.default.bool(t.preserveAspectRatio)?e.options.resize.preserveAspectRatio=t.preserveAspectRatio:o.default.bool(t.square)&&(e.options.resize.square=t.square),e):o.default.bool(t)?(e.options.resize.enabled=t,e):e.options.resize}(this,t,e)},t.map.resize=ke,t.methodDict.resize="resizable",i.actions.resize=ke.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t,i=n.rect;n._rects={start:(0,O.default)({},i),corrected:(0,O.default)({},i),previous:(0,O.default)({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}}(e),Te(e)},"interactions:action-move":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t,i=n.interactable.options.resize.invert,o="reposition"===i||"negate"===i,a=n.rect,s=n._rects,u=s.start,l=s.corrected,c=s.delta,d=s.previous;if((0,O.default)(d,l),o){if((0,O.default)(l,a),"reposition"===i){if(l.top>l.bottom){var f=l.top;l.top=l.bottom,l.bottom=f}if(l.left>l.right){var h=l.left;l.left=l.right,l.right=h}}}else l.top=Math.min(a.top,u.bottom),l.bottom=Math.max(a.bottom,u.top),l.left=Math.min(a.left,u.right),l.right=Math.max(a.right,u.left);for(var p in l.width=l.right-l.left,l.height=l.bottom-l.top,l)c[p]=l[p]-d[p];r.edges=n.prepared.edges,r.rect=l,r.deltaRect=c}}(e),Te(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.element,i=e.rect,a=e.buttons;if(i){var s=(0,O.default)({},t.coords.cur.page),u=n.options.resize;if(u&&u.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||0!=(a&u.mouseButtons))){if(o.default.object(u.edges)){var l={left:!1,right:!1,top:!1,bottom:!1};for(var c in l)l[c]=Se(c,u.edges[c],s,t._latestPointer.eventTarget,r,i,u.margin||ke.defaultMargin);l.left=l.left&&!l.right,l.top=l.top&&!l.bottom,(l.left||l.right||l.top||l.bottom)&&(e.action={name:"resize",edges:l})}else{var d="y"!==u.axis&&s.x>i.right-ke.defaultMargin,f="x"!==u.axis&&s.y>i.bottom-ke.defaultMargin;(d||f)&&(e.action={name:"resize",axes:(d?"x":"")+(f?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,r=e.name,i=ke.cursors,o=null;if(n)o=i[r+n];else if(t){for(var a="",s=["top","bottom","left","right"],u=0;u<s.length;u++){var l=s[u];t[l]&&(a+=l)}o=i[a]}return o},defaultMargin:null},xe=ke;we.default=xe;var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.default=void 0;var Pe={id:"actions",install:function(e){e.usePlugin(ye.default),e.usePlugin(we.default),e.usePlugin(c.default),e.usePlugin(le.default)}};Ae.default=Pe;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var Ce,Ie,Le=0,Ne={request:function(e){return Ce(e)},cancel:function(e){return Ie(e)},init:function(e){if(Ce=e.requestAnimationFrame,Ie=e.cancelAnimationFrame,!Ce)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var r=t[n];Ce=e["".concat(r,"RequestAnimationFrame")],Ie=e["".concat(r,"CancelAnimationFrame")]||e["".concat(r,"CancelRequestAnimationFrame")]}Ce=Ce&&Ce.bind(e),Ie=Ie&&Ie.bind(e),Ce||(Ce=function(t){var n=Date.now(),r=Math.max(0,16-(n-Le)),i=e.setTimeout((function(){t(n+r)}),r);return Le=n+r,i},Ie=function(e){return clearTimeout(e)})}};Oe.default=Ne;var De={};Object.defineProperty(De,"__esModule",{value:!0}),De.getContainer=Me,De.getScroll=je,De.getScrollSize=function(e){return o.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},De.getScrollSizeDelta=function(e,t){var n=e.interaction,r=e.element,i=n&&n.interactable.options[n.prepared.name].autoScroll;if(!i||!i.enabled)return t(),{x:0,y:0};var o=Me(i.container,n.interactable,r),a=je(o);t();var s=je(o);return{x:s.x-a.x,y:s.y-a.y}},De.default=void 0;var Re={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){Re.isScrolling=!0,Oe.default.cancel(Re.i),e.autoScroll=Re,Re.interaction=e,Re.prevTime=Re.now(),Re.i=Oe.default.request(Re.scroll)},stop:function(){Re.isScrolling=!1,Re.interaction&&(Re.interaction.autoScroll=null),Oe.default.cancel(Re.i)},scroll:function(){var e=Re.interaction,t=e.interactable,n=e.element,r=e.prepared.name,i=t.options[r].autoScroll,a=Me(i.container,t,n),s=Re.now(),u=(s-Re.prevTime)/1e3,l=i.speed*u;if(l>=1){var c={x:Re.x*l,y:Re.y*l};if(c.x||c.y){var d=je(a);o.default.window(a)?a.scrollBy(c.x,c.y):a&&(a.scrollLeft+=c.x,a.scrollTop+=c.y);var f=je(a),h={x:f.x-d.x,y:f.y-d.y};(h.x||h.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:h,interaction:e,container:a})}Re.prevTime=s}Re.isScrolling&&(Oe.default.cancel(Re.i),Re.i=Oe.default.request(Re.scroll))},check:function(e,t){var n;return null==(n=e.options[t].autoScroll)?void 0:n.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&Re.check(t.interactable,t.prepared.name))if(t.simulation)Re.x=Re.y=0;else{var r,i,a,s,u=t.interactable,l=t.element,c=t.prepared.name,d=u.options[c].autoScroll,f=Me(d.container,u,l);if(o.default.window(f))s=n.clientX<Re.margin,r=n.clientY<Re.margin,i=n.clientX>f.innerWidth-Re.margin,a=n.clientY>f.innerHeight-Re.margin;else{var h=w.getElementClientRect(f);s=n.clientX<h.left+Re.margin,r=n.clientY<h.top+Re.margin,i=n.clientX>h.right-Re.margin,a=n.clientY>h.bottom-Re.margin}Re.x=i?1:s?-1:0,Re.y=a?1:r?-1:0,Re.isScrolling||(Re.margin=d.margin,Re.speed=d.speed,Re.start(t))}}};function Me(e,n,r){return(o.default.string(e)?(0,C.getStringOptionResult)(e,n,r):e)||(0,t.getWindow)(r)}function je(e){return o.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var Fe={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;e.autoScroll=Re,Re.now=function(){return e.now()},n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=Re.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,Re.stop(),Re.interaction&&(Re.interaction=null)},"interactions:stop":Re.stop,"interactions:action-move":function(e){return Re.onInteractionMove(e)}}};De.default=Fe;var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.warnOnce=function(e,n){var r=!1;return function(){return r||(t.window.console.warn(n),r=!0),e.apply(this,arguments)}},Ve.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},Ve.sign=void 0,Ve.sign=function(e){return e>=0?1:-1};var Ue={};function Be(e){return o.default.bool(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor}function ze(e){return o.default.func(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.default=void 0;var Ge={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(t,n,r,i){var o=function(e,t,n,r,i){var o=e.getRect(r),a={action:null,interactable:e,interaction:n,element:r,rect:o,buttons:t.buttons||{0:1,1:4,3:8,4:16}[t.button]};return i.fire("auto-start:check",a),a.action}(this,n,r,i,e);return this.options.actionChecker?this.options.actionChecker(t,n,o,this,i,r):o},t.prototype.ignoreFrom=(0,Ve.warnOnce)((function(e){return this._backCompatOption("ignoreFrom",e)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,Ve.warnOnce)((function(e){return this._backCompatOption("allowFrom",e)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=ze,t.prototype.styleCursor=Be}};Ue.default=Ge;var qe={};function He(e,t,n,r,i){return t.testIgnoreAllow(t.options[e.name],n,r)&&t.options[e.name].enabled&&Xe(t,n,e,i)?e:null}function We(e,t,n,r,i,o,a){for(var s=0,u=r.length;s<u;s++){var l=r[s],c=i[s],d=l.getAction(t,n,e,c);if(d){var f=He(d,l,c,o,a);if(f)return{action:f,interactable:l,element:c}}}return{action:null,interactable:null,element:null}}function Ke(e,t,n,r,i){var a=[],s=[],u=r;function l(e){a.push(e),s.push(u)}for(;o.default.element(u);){a=[],s=[],i.interactables.forEachMatch(u,l);var c=We(e,t,n,a,s,r,i);if(c.action&&!c.interactable.options[c.action.name].manualStart)return c;u=w.parentNode(u)}return{action:null,interactable:null,element:null}}function Ye(e,t,n){var r=t.action,i=t.interactable,o=t.element;r=r||{name:null},e.interactable=i,e.element=o,(0,Ve.copyAction)(e.prepared,r),e.rect=i&&r.name?i.getRect(o):null,Je(e,n),n.fire("autoStart:prepared",{interaction:e})}function Xe(e,t,n,r){var i=e.options,o=i[n.name].max,a=i[n.name].maxPerElement,s=r.autoStart.maxInteractions,u=0,l=0,c=0;if(!(o&&a&&s))return!1;for(var d=0;d<r.interactions.list.length;d++){var f=r.interactions.list[d],h=f.prepared.name;if(f.interacting()){if(++u>=s)return!1;if(f.interactable===e){if((l+=h===n.name?1:0)>=o)return!1;if(f.element===t&&(c++,h===n.name&&c>=a))return!1}}}return s>0}function $e(e,t){return o.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function Qe(e,t,n){var r=n.autoStart.cursorElement;r&&r!==e&&(r.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function Je(e,t){var n=e.interactable,r=e.element,i=e.prepared;if("mouse"===e.pointerType&&n&&n.options.styleCursor){var a="";if(i.name){var s=n.options[i.name].cursorChecker;a=o.default.func(s)?s(i,n,r,e._interacting):t.actions.map[i.name].getCursor(i)}Qe(e.element,a||"",t)}else t.autoStart.cursorElement&&Qe(t.autoStart.cursorElement,"",t)}Object.defineProperty(qe,"__esModule",{value:!0}),qe.default=void 0;var Ze={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,n=e.defaults;e.usePlugin(Ue.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,O.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(t){return $e(t,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:Xe,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;n.interacting()||Ye(n,Ke(n,r,i,o,t),t)},"interactions:move":function(e,t){!function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;"mouse"!==n.pointerType||n.pointerIsDown||n.interacting()||Ye(n,Ke(n,r,i,o,t),t)}(e,t),function(e,t){var n=e.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){t.fire("autoStart:before-start",e);var r=n.interactable,i=n.prepared.name;i&&r&&(r.options[i].manualStart||!Xe(r,n.element,n.prepared,t)?n.stop():(n.start(n.prepared,r,n.element),Je(n,t)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,r=n.interactable;r&&r.options.styleCursor&&Qe(n.element,"",t)}},maxInteractions:$e,withinInteractionLimit:Xe,validateAction:He};qe.default=Ze;var et={};Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,r=e.eventTarget,i=e.dx,a=e.dy;if("drag"===n.prepared.name){var s=Math.abs(i),u=Math.abs(a),l=n.interactable.options.drag,c=l.startAxis,d=s>u?"x":s<u?"y":"xy";if(n.prepared.axis="start"===l.lockAxis?d[0]:l.lockAxis,"xy"!==d&&"xy"!==c&&c!==d){n.prepared.name=null;for(var f=r,h=function(e){if(e!==n.interactable){var i=n.interactable.options.drag;if(!i.manualStart&&e.testIgnoreAllow(i,f,r)){var o=e.getAction(n.downPointer,n.downEvent,n,f);if(o&&"drag"===o.name&&function(e,t){if(!t)return!1;var n=t.options.drag.startAxis;return"xy"===e||"xy"===n||n===e}(d,e)&&qe.default.validateAction(o,e,f,r,t))return e}}};o.default.element(f);){var p=t.interactables.forEachMatch(f,h);if(p){n.prepared.name="drag",n.interactable=p,n.element=f;break}f=(0,w.parentNode)(f)}}}}}};et.default=tt;var nt={};function rt(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}Object.defineProperty(nt,"__esModule",{value:!0}),nt.default=void 0;var it={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(qe.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=rt(t);n>0&&(t.autoStartHoldTimer=setTimeout((function(){t.start(t.prepared,t.interactable,t.element)}),n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;rt(t)>0&&(t.prepared.name=null)}},getHoldDuration:rt};nt.default=it;var ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=void 0;var at={id:"auto-start",install:function(e){e.usePlugin(qe.default),e.usePlugin(nt.default),e.usePlugin(et.default)}};ot.default=at;var st={};function ut(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):o.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function lt(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}function ct(e){var n=e.Interactable;n.prototype.preventDefault=ut,n.prototype.checkAndPreventDefault=function(n){return function(e,n,r){var i=e.options.preventDefault;if("never"!==i)if("always"!==i){if(n.events.supportsPassive&&/^touch(start|move)$/.test(r.type)){var a=(0,t.getWindow)(r.target).document,s=n.getDocOptions(a);if(!s||!s.events||!1!==s.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(r.type)||o.default.element(r.target)&&(0,w.matchesSelector)(r.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||r.preventDefault()}else r.preventDefault()}(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener:function(t){for(var n=0;n<e.interactions.list.length;n++){var r=e.interactions.list[n];if(r.element&&(r.element===t.target||(0,w.nodeContains)(r.element,t.target)))return void r.interactable.checkAndPreventDefault(t)}}})}Object.defineProperty(st,"__esModule",{value:!0}),st.install=ct,st.default=void 0;var dt={id:"core/interactablePreventDefault",install:ct,listeners:["down","move","up","cancel"].reduce((function(e,t){return e["interactions:".concat(t)]=lt,e}),{})};st.default=dt;var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0,ft.default={};var ht,pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(ht||(ht={})),ht.touchAction,ht.boxSizing,ht.noListeners;var vt={id:"dev-tools",install:function(){}};pt.default=vt;var mt={};Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=function e(t){var n={};for(var r in t){var i=t[r];o.default.plainObject(i)?n[r]=e(i):o.default.array(i)?n[r]=Q.from(i):n[r]=i}return n};var gt={};function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(gt,"__esModule",{value:!0}),gt.getRectOffset=Tt,gt.default=void 0;var wt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Et(this,"states",[]),Et(this,"startOffset",{left:0,right:0,top:0,bottom:0}),Et(this,"startDelta",void 0),Et(this,"result",void 0),Et(this,"endResult",void 0),Et(this,"edges",void 0),Et(this,"interaction",void 0),this.interaction=t,this.result=St()}var t;return(t=[{key:"start",value:function(e,t){var n=e.phase,r=this.interaction,i=function(e){var t=e.interactable.options[e.prepared.name],n=t.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(e){var n=t[e];return n&&n.enabled&&{options:n,methods:n._methods}})).filter((function(e){return!!e}))}(r);this.prepareStates(i),this.edges=(0,O.default)({},r.edges),this.startOffset=Tt(r.rect,t),this.startDelta={x:0,y:0};var o=this.fillArg({phase:n,pageCoords:t,preEnd:!1});return this.result=St(),this.startAll(o),this.result=this.setAll(o)}},{key:"fillArg",value:function(e){var t=this.interaction;return e.interaction=t,e.interactable=t.interactable,e.element=t.element,e.rect=e.rect||t.rect,e.edges=this.edges,e.startOffset=this.startOffset,e}},{key:"startAll",value:function(e){for(var t=0;t<this.states.length;t++){var n=this.states[t];n.methods.start&&(e.state=n,n.methods.start(e))}}},{key:"setAll",value:function(e){var t=e.phase,n=e.preEnd,r=e.skipModifiers,i=e.rect;e.coords=(0,O.default)({},e.pageCoords),e.rect=(0,O.default)({},i);for(var o=r?this.states.slice(r):this.states,a=St(e.coords,e.rect),s=0;s<o.length;s++){var u,l=o[s],c=l.options,d=(0,O.default)({},e.coords),f=null;null!=(u=l.methods)&&u.set&&this.shouldDo(c,n,t)&&(e.state=l,f=l.methods.set(e),C.addEdges(this.interaction.edges,e.rect,{x:e.coords.x-d.x,y:e.coords.y-d.y})),a.eventProps.push(f)}a.delta.x=e.coords.x-e.pageCoords.x,a.delta.y=e.coords.y-e.pageCoords.y,a.rectDelta.left=e.rect.left-i.left,a.rectDelta.right=e.rect.right-i.right,a.rectDelta.top=e.rect.top-i.top,a.rectDelta.bottom=e.rect.bottom-i.bottom;var h=this.result.coords,p=this.result.rect;if(h&&p){var v=a.rect.left!==p.left||a.rect.right!==p.right||a.rect.top!==p.top||a.rect.bottom!==p.bottom;a.changed=v||h.x!==a.coords.x||h.y!==a.coords.y}return a}},{key:"applyToInteraction",value:function(e){var t=this.interaction,n=e.phase,r=t.coords.cur,i=t.coords.start,o=this.result,a=this.startDelta,s=o.delta;"start"===n&&(0,O.default)(this.startDelta,o.delta);for(var u=0;u<2;u++){var l=yt([[i,a],[r,s]][u],2),c=l[0],d=l[1];c.page.x+=d.x,c.page.y+=d.y,c.client.x+=d.x,c.client.y+=d.y}var f=this.result.rectDelta,h=e.rect||t.rect;h.left+=f.left,h.right+=f.right,h.top+=f.top,h.bottom+=f.bottom,h.width=h.right-h.left,h.height=h.bottom-h.top}},{key:"setAndApply",value:function(e){var t=this.interaction,n=e.phase,r=e.preEnd,i=e.skipModifiers,o=this.setAll(this.fillArg({preEnd:r,phase:n,pageCoords:e.modifiedCoords||t.coords.cur.page}));if(this.result=o,!o.changed&&(!i||i<this.states.length)&&t.interacting())return!1;if(e.modifiedCoords){var a=t.coords.cur.page,s={x:e.modifiedCoords.x-a.x,y:e.modifiedCoords.y-a.y};o.coords.x+=s.x,o.coords.y+=s.y,o.delta.x+=s.x,o.delta.y+=s.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var t=e.interaction,n=e.event,r=this.states;if(r&&r.length){for(var i=!1,o=0;o<r.length;o++){var a=r[o];e.state=a;var s=a.options,u=a.methods,l=u.beforeEnd&&u.beforeEnd(e);if(l)return this.endResult=l,!1;i=i||!i&&this.shouldDo(s,!0,e.phase,!0)}i&&t.move({event:n,preEnd:!0})}}},{key:"stop",value:function(e){var t=e.interaction;if(this.states&&this.states.length){var n=(0,O.default)({states:this.states,interactable:t.interactable,element:t.element,rect:null},e);this.fillArg(n);for(var r=0;r<this.states.length;r++){var i=this.states[r];n.state=i,i.methods.stop&&i.methods.stop(n)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.options,i=n.methods,o=n.name;this.states.push({options:r,methods:i,index:t,name:o})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var t=e.interaction,n=t.coords,r=t.rect,i=t.modification;if(i.result){for(var o=i.startDelta,a=i.result,s=a.delta,u=a.rectDelta,l=[[n.start,o],[n.cur,s]],c=0;c<l.length;c++){var d=yt(l[c],2),f=d[0],h=d[1];f.page.x-=h.x,f.page.y-=h.y,f.client.x-=h.x,f.client.y-=h.y}r.left-=u.left,r.right-=u.right,r.top-=u.top,r.bottom-=u.bottom}}},{key:"shouldDo",value:function(e,t,n,r){return!(!e||!1===e.enabled||r&&!e.endOnly||e.endOnly&&!t||"start"===n&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.edges=e.edges,this.states=e.states.map((function(e){return(0,mt.default)(e)})),this.result=St((0,O.default)({},e.result.coords),(0,O.default)({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}])&&_t(e.prototype,t),e}();function St(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Tt(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}gt.default=wt;var kt={};function xt(e){var t=e.iEvent,n=e.interaction.modification.result;n&&(t.modifiers=n.eventProps)}Object.defineProperty(kt,"__esModule",{value:!0}),kt.makeModifier=function(e,t){var n=e.defaults,r={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},i=function(e){var i=e||{};for(var o in i.enabled=!1!==i.enabled,n)o in i||(i[o]=n[o]);var a={options:i,methods:r,name:t,enable:function(){return i.enabled=!0,a},disable:function(){return i.enabled=!1,a}};return a};return t&&"string"==typeof t&&(i._defaults=n,i._methods=r),i},kt.addEventModifiers=xt,kt.default=void 0;var At={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new gt.default(t)},"interactions:before-action-start":function(e){var t=e.interaction.modification;t.start(e,e.interaction.coords.start.page),e.interaction.edges=t.edges,t.applyToInteraction(e)},"interactions:before-action-move":function(e){return e.interaction.modification.setAndApply(e)},"interactions:before-action-end":function(e){return e.interaction.modification.beforeEnd(e)},"interactions:action-start":xt,"interactions:action-move":xt,"interactions:action-end":xt,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}};kt.default=At;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.defaults=void 0,Pt.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Ot={};function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?Dt(e):t}function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.InteractEvent=void 0;var jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rt(n);if(r){var i=Rt(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Nt(this,e)});function o(e,t,n,r,a,s,u){var l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Mt(Dt(l=i.call(this,e)),"target",void 0),Mt(Dt(l),"currentTarget",void 0),Mt(Dt(l),"relatedTarget",null),Mt(Dt(l),"screenX",void 0),Mt(Dt(l),"screenY",void 0),Mt(Dt(l),"button",void 0),Mt(Dt(l),"buttons",void 0),Mt(Dt(l),"ctrlKey",void 0),Mt(Dt(l),"shiftKey",void 0),Mt(Dt(l),"altKey",void 0),Mt(Dt(l),"metaKey",void 0),Mt(Dt(l),"page",void 0),Mt(Dt(l),"client",void 0),Mt(Dt(l),"delta",void 0),Mt(Dt(l),"rect",void 0),Mt(Dt(l),"x0",void 0),Mt(Dt(l),"y0",void 0),Mt(Dt(l),"t0",void 0),Mt(Dt(l),"dt",void 0),Mt(Dt(l),"duration",void 0),Mt(Dt(l),"clientX0",void 0),Mt(Dt(l),"clientY0",void 0),Mt(Dt(l),"velocity",void 0),Mt(Dt(l),"speed",void 0),Mt(Dt(l),"swipe",void 0),Mt(Dt(l),"timeStamp",void 0),Mt(Dt(l),"axes",void 0),Mt(Dt(l),"preEnd",void 0),a=a||e.element;var c=e.interactable,d=(c&&c.options||Pt.defaults).deltaSource,f=(0,N.default)(c,a,n),h="start"===r,p="end"===r,v=h?Dt(l):e.prevEvent,m=h?e.coords.start:p?{page:v.page,client:v.client,timeStamp:e.coords.cur.timeStamp}:e.coords.cur;return l.page=(0,O.default)({},m.page),l.client=(0,O.default)({},m.client),l.rect=(0,O.default)({},e.rect),l.timeStamp=m.timeStamp,p||(l.page.x-=f.x,l.page.y-=f.y,l.client.x-=f.x,l.client.y-=f.y),l.ctrlKey=t.ctrlKey,l.altKey=t.altKey,l.shiftKey=t.shiftKey,l.metaKey=t.metaKey,l.button=t.button,l.buttons=t.buttons,l.target=a,l.currentTarget=a,l.preEnd=s,l.type=u||n+(r||""),l.interactable=c,l.t0=h?e.pointers[e.pointers.length-1].downTime:v.t0,l.x0=e.coords.start.page.x-f.x,l.y0=e.coords.start.page.y-f.y,l.clientX0=e.coords.start.client.x-f.x,l.clientY0=e.coords.start.client.y-f.y,l.delta=h||p?{x:0,y:0}:{x:l[d].x-v[d].x,y:l[d].y-v[d].y},l.dt=e.coords.delta.timeStamp,l.duration=l.timeStamp-l.t0,l.velocity=(0,O.default)({},e.coords.velocity[d]),l.speed=(0,M.default)(l.velocity.x,l.velocity.y),l.swipe=p||"inertiastart"===r?l.getSwipe():null,l}return(t=[{key:"getSwipe",value:function(){var e=this._interaction;if(e.prevEvent.speed<600||this.timeStamp-e.prevEvent.timeStamp>150)return null;var t=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI;t<0&&(t+=360);var n=112.5<=t&&t<247.5,r=202.5<=t&&t<337.5;return{up:r,down:!r&&22.5<=t&&t<157.5,left:n,right:!n&&(292.5<=t||t<67.5),angle:t,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&It(o.prototype,t),o}(K.BaseEvent);Ot.InteractEvent=jt,Object.defineProperties(jt.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var Ft={};function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.PointerInfo=void 0,Ft.PointerInfo=function e(t,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Vt(this,"id",void 0),Vt(this,"pointer",void 0),Vt(this,"event",void 0),Vt(this,"downTime",void 0),Vt(this,"downTarget",void 0),this.id=t,this.pointer=n,this.event=r,this.downTime=i,this.downTarget=o};var Ut,Bt,zt={};function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(zt,"__esModule",{value:!0}),Object.defineProperty(zt,"PointerInfo",{enumerable:!0,get:function(){return Ft.PointerInfo}}),zt.default=zt.Interaction=zt._ProxyMethods=zt._ProxyValues=void 0,zt._ProxyValues=Ut,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(Ut||(zt._ProxyValues=Ut={})),zt._ProxyMethods=Bt,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(Bt||(zt._ProxyMethods=Bt={}));var Ht=0,Wt=function(){function e(t){var n=this,r=t.pointerType,i=t.scopeFire;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),qt(this,"interactable",null),qt(this,"element",null),qt(this,"rect",void 0),qt(this,"_rects",void 0),qt(this,"edges",void 0),qt(this,"_scopeFire",void 0),qt(this,"prepared",{name:null,axis:null,edges:null}),qt(this,"pointerType",void 0),qt(this,"pointers",[]),qt(this,"downEvent",null),qt(this,"downPointer",{}),qt(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),qt(this,"prevEvent",null),qt(this,"pointerIsDown",!1),qt(this,"pointerWasMoved",!1),qt(this,"_interacting",!1),qt(this,"_ending",!1),qt(this,"_stopped",!0),qt(this,"_proxy",null),qt(this,"simulation",null),qt(this,"doMove",(0,Ve.warnOnce)((function(e){this.move(e)}),"The interaction.doMove() method has been renamed to interaction.move()")),qt(this,"coords",{start:U.newCoords(),prev:U.newCoords(),cur:U.newCoords(),delta:U.newCoords(),velocity:U.newCoords()}),qt(this,"_id",Ht++),this._scopeFire=i,this.pointerType=r;var o=this;this._proxy={};var a=function(e){Object.defineProperty(n._proxy,e,{get:function(){return o[e]}})};for(var s in Ut)a(s);var u=function(e){Object.defineProperty(n._proxy,e,{value:function(){return o[e].apply(o,arguments)}})};for(var l in Bt)u(l);this._scopeFire("interactions:new",{interaction:this})}var t;return(t=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(e,t,n){var r=this.updatePointer(e,t,n,!0),i=this.pointers[r];this._scopeFire("interactions:down",{pointer:e,event:t,eventTarget:n,pointerIndex:r,pointerInfo:i,type:"down",interaction:this})}},{key:"start",value:function(e,t,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===e.name?2:1)||!t.options[e.name].enabled)&&((0,Ve.copyAction)(this.prepared,e),this.interactable=t,this.element=n,this.rect=t.getRect(n),this.edges=this.prepared.edges?(0,O.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,t,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,t,n,!1);var r,i,o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,i=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,M.default)(r,i)>this.pointerMoveTolerance);var a=this.getPointerIndex(e),s={pointer:e,pointerIndex:a,pointerInfo:this.pointers[a],event:t,type:"move",eventTarget:n,dx:r,dy:i,duplicate:o,interaction:this};o||U.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",s),o||this.simulation||(this.interacting()&&(s.type=null,this.move(s)),this.pointerWasMoved&&U.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||U.setZeroCoords(this.coords.delta),(e=(0,O.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,t,n,r){var i=this.getPointerIndex(e);-1===i&&(i=this.updatePointer(e,t,n,!1));var o=/cancel$/i.test(t.type)?"cancel":"up";this._scopeFire("interactions:".concat(o),{pointer:e,pointerIndex:i,pointerInfo:this.pointers[i],event:t,eventTarget:n,type:o,curEventTarget:r,interaction:this}),this.simulation||this.end(t),this.removePointer(e,t)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var t;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(t=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,!0===t&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var t=U.getPointerId(e);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:Q.findIndex(this.pointers,(function(e){return e.id===t}))}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,t,n,r){var i=U.getPointerId(e),o=this.getPointerIndex(e),a=this.pointers[o];return r=!1!==r&&(r||/(down|start)$/i.test(t.type)),a?a.pointer=e:(a=new Ft.PointerInfo(i,e,t,null,null),o=this.pointers.length,this.pointers.push(a)),U.setCoords(this.coords.cur,this.pointers.map((function(e){return e.pointer})),this._now()),U.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),r&&(this.pointerIsDown=!0,a.downTime=this.coords.cur.timeStamp,a.downTarget=n,U.pointerExtend(this.downPointer,e),this.interacting()||(U.copyCoords(this.coords.start,this.coords.cur),U.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=t,this.pointerWasMoved=!1)),this._updateLatestPointer(e,t,n),this._scopeFire("interactions:update-pointer",{pointer:e,event:t,eventTarget:n,down:r,pointerInfo:a,pointerIndex:o,interaction:this}),o}},{key:"removePointer",value:function(e,t){var n=this.getPointerIndex(e);if(-1!==n){var r=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:e,event:t,eventTarget:null,pointerIndex:n,pointerInfo:r,interaction:this}),this.pointers.splice(n,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(e,t,n){this._latestPointer.pointer=e,this._latestPointer.event=t,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,t,n,r){return new Ot.InteractEvent(this,e,this.prepared.name,t,this.element,n,r)}},{key:"_fireEvent",value:function(e){this.interactable.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var t=e.event,n=e.phase,r=e.preEnd,i=e.type,o=this.rect;if(o&&"move"===n&&(C.addEdges(this.edges,o,this.coords.delta[this.interactable.options.deltaSource]),o.width=o.right-o.left,o.height=o.bottom-o.top),!1===this._scopeFire("interactions:before-action-".concat(n),e))return!1;var a=e.iEvent=this._createPreparedEvent(t,n,r,i);return this._scopeFire("interactions:action-".concat(n),e),"start"===n&&(this.prevEvent=a),this._fireEvent(a),this._scopeFire("interactions:after-action-".concat(n),e),!0}},{key:"_now",value:function(){return Date.now()}}])&&Gt(e.prototype,t),e}();zt.Interaction=Wt;var Kt=Wt;zt.default=Kt;var Yt={};function Xt(e){e.pointerIsDown&&(Zt(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function $t(e){Qt(e.interaction)}function Qt(e){if(!function(e){return!(!e.offset.pending.x&&!e.offset.pending.y)}(e))return!1;var t=e.offset.pending;return Zt(e.coords.cur,t),Zt(e.coords.delta,t),C.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function Jt(e){var t=e.x,n=e.y;this.offset.pending.x+=t,this.offset.pending.y+=n,this.offset.total.x+=t,this.offset.total.y+=n}function Zt(e,t){var n=e.page,r=e.client,i=t.x,o=t.y;n.x+=i,n.y+=o,r.x+=i,r.y+=o}Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.addTotal=Xt,Yt.applyPending=Qt,Yt.default=void 0,zt._ProxyMethods.offsetBy="";var en={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Jt},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return Xt(e.interaction)},"interactions:before-action-start":$t,"interactions:before-action-move":$t,"interactions:before-action-end":function(e){var t=e.interaction;if(Qt(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}};Yt.default=en;var tn={};function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=tn.InertiaState=void 0;var on=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rn(this,"active",!1),rn(this,"isModified",!1),rn(this,"smoothEnd",!1),rn(this,"allowResume",!1),rn(this,"modification",void 0),rn(this,"modifierCount",0),rn(this,"modifierArg",void 0),rn(this,"startCoords",void 0),rn(this,"t0",0),rn(this,"v0",0),rn(this,"te",0),rn(this,"targetOffset",void 0),rn(this,"modifiedOffset",void 0),rn(this,"currentOffset",void 0),rn(this,"lambda_v0",0),rn(this,"one_ve_v0",0),rn(this,"timeout",void 0),rn(this,"interaction",void 0),this.interaction=t}var t;return(t=[{key:"start",value:function(e){var t=this.interaction,n=an(t);if(!n||!n.enabled)return!1;var r=t.coords.velocity.client,i=(0,M.default)(r.x,r.y),o=this.modification||(this.modification=new gt.default(t));if(o.copyFrom(t.modification),this.t0=t._now(),this.allowResume=n.allowResume,this.v0=i,this.currentOffset={x:0,y:0},this.startCoords=t.coords.cur.page,this.modifierArg=o.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-t.coords.cur.timeStamp<50&&i>n.minSpeed&&i>n.endSpeed)this.startInertia();else{if(o.result=o.setAll(this.modifierArg),!o.result.changed)return!1;this.startSmoothEnd()}return t.modification.result.rect=null,t.offsetBy(this.targetOffset),t._doPhase({interaction:t,event:e,phase:"inertiastart"}),t.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),t.modification.result.rect=null,this.active=!0,t.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,t=this.interaction.coords.velocity.client,n=an(this.interaction),r=n.resistance,i=-Math.log(n.endSpeed/this.v0)/r;this.targetOffset={x:(t.x-i)/r,y:(t.y-i)/r},this.te=i,this.lambda_v0=r/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var o=this.modification,a=this.modifierArg;a.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},o.result=o.setAll(a),o.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+o.result.delta.x,y:this.targetOffset.y+o.result.delta.y}),this.onNextFrame((function(){return e.inertiaTick()}))}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame((function(){return e.smoothEndTick()}))}},{key:"onNextFrame",value:function(e){var t=this;this.timeout=Oe.default.request((function(){t.active&&e()}))}},{key:"inertiaTick",value:function(){var e,t,n,r,i,o=this,a=this.interaction,s=an(a).resistance,u=(a._now()-this.t0)/1e3;if(u<this.te){var l,c=1-(Math.exp(-s*u)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=this.targetOffset.x,t=this.targetOffset.y,n=this.modifiedOffset.x,r=this.modifiedOffset.y,l={x:sn(i=c,0,e,n),y:sn(i,0,t,r)}):l={x:this.targetOffset.x*c,y:this.targetOffset.y*c};var d={x:l.x-this.currentOffset.x,y:l.y-this.currentOffset.y};this.currentOffset.x+=d.x,this.currentOffset.y+=d.y,a.offsetBy(d),a.move(),this.onNextFrame((function(){return o.inertiaTick()}))}else a.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,t=this.interaction,n=t._now()-this.t0,r=an(t).smoothEndDuration;if(n<r){var i={x:un(n,0,this.targetOffset.x,r),y:un(n,0,this.targetOffset.y,r)},o={x:i.x-this.currentOffset.x,y:i.y-this.currentOffset.y};this.currentOffset.x+=o.x,this.currentOffset.y+=o.y,t.offsetBy(o),t.move({skipModifiers:this.modifierCount}),this.onNextFrame((function(){return e.smoothEndTick()}))}else t.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var t=e.pointer,n=e.event,r=e.eventTarget,i=this.interaction;i.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),i.updatePointer(t,n,r,!0),i._doPhase({interaction:i,event:n,phase:"resume"}),(0,U.copyCoords)(i.coords.prev,i.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Oe.default.cancel(this.timeout)}}])&&nn(e.prototype,t),e}();function an(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}function sn(e,t,n,r){var i=1-e;return i*i*t+2*i*e*n+e*e*r}function un(e,t,n,r){return-n*(e/=r)*(e-2)+t}tn.InertiaState=on;var ln={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(Yt.default),e.usePlugin(kt.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new on(t)},"interactions:before-action-end":function(e){var t=e.interaction,n=e.event;return(!t._interacting||t.simulation||!t.inertia.start(n))&&null},"interactions:down":function(e){var t=e.interaction,n=e.eventTarget,r=t.inertia;if(r.active)for(var i=n;o.default.element(i);){if(i===t.element){r.resume(e);break}i=w.parentNode(i)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":kt.addEventModifiers,"interactions:action-inertiastart":kt.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};tn.default=ln;var cn={};function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e.immediatePropagationStopped)break;r(e)}}Object.defineProperty(cn,"__esModule",{value:!0}),cn.Eventable=void 0;var pn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),fn(this,"options",void 0),fn(this,"types",{}),fn(this,"propagationStopped",!1),fn(this,"immediatePropagationStopped",!1),fn(this,"global",void 0),this.options=(0,O.default)({},t||{})}var t;return(t=[{key:"fire",value:function(e){var t,n=this.global;(t=this.types[e.type])&&hn(e,t),!e.propagationStopped&&n&&(t=n[e.type])&&hn(e,t)}},{key:"on",value:function(e,t){var n=(0,D.default)(e,t);for(e in n)this.types[e]=Q.merge(this.types[e]||[],n[e])}},{key:"off",value:function(e,t){var n=(0,D.default)(e,t);for(e in n){var r=this.types[e];if(r&&r.length)for(var i=0;i<n[e].length;i++){var o=n[e][i],a=r.indexOf(o);-1!==a&&r.splice(a,1)}}}},{key:"getRect",value:function(e){return null}}])&&dn(e.prototype,t),e}();cn.Eventable=pn;var vn={};Object.defineProperty(vn,"__esModule",{value:!0}),vn.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var n in t.map)if(0===e.indexOf(n)&&e.substr(n.length)in t.phases)return!0;return!1};var mn={};Object.defineProperty(mn,"__esModule",{value:!0}),mn.createInteractStatic=function(e){var t=function t(n,r){var i=e.interactables.get(n,r);return i||((i=e.interactables.new(n,r)).events.global=t.globalEvents),i};return t.getPointerAverage=U.pointerAverage,t.getTouchBBox=U.touchBBox,t.getTouchDistance=U.touchDistance,t.getTouchAngle=U.touchAngle,t.getElementRect=w.getElementRect,t.getElementClientRect=w.getElementClientRect,t.matchesSelector=w.matchesSelector,t.closest=w.closest,t.globalEvents={},t.version="1.10.11",t.scope=e,t.use=function(e,t){return this.scope.usePlugin(e,t),this},t.isSet=function(e,t){return!!this.scope.interactables.get(e,t&&t.context)},t.on=(0,Ve.warnOnce)((function(e,t,n){if(o.default.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),o.default.array(e)){for(var r=0;r<e.length;r++){var i=e[r];this.on(i,t,n)}return this}if(o.default.object(e)){for(var a in e)this.on(a,e[a],t);return this}return(0,vn.default)(e,this.scope.actions)?this.globalEvents[e]?this.globalEvents[e].push(t):this.globalEvents[e]=[t]:this.scope.events.add(this.scope.document,e,t,{options:n}),this}),"The interact.on() method is being deprecated"),t.off=(0,Ve.warnOnce)((function(e,t,n){if(o.default.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),o.default.array(e)){for(var r=0;r<e.length;r++){var i=e[r];this.off(i,t,n)}return this}if(o.default.object(e)){for(var a in e)this.off(a,e[a],t);return this}var s;return(0,vn.default)(e,this.scope.actions)?e in this.globalEvents&&-1!==(s=this.globalEvents[e].indexOf(t))&&this.globalEvents[e].splice(s,1):this.scope.events.remove(this.scope.document,e,t,n),this}),"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return b.default.supportsTouch},t.supportsPointerEvent=function(){return b.default.supportsPointerEvent},t.stop=function(){for(var e=0;e<this.scope.interactions.list.length;e++)this.scope.interactions.list[e].stop();return this},t.pointerMoveTolerance=function(e){return o.default.number(e)?(this.scope.interactions.pointerMoveTolerance=e,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(e,t){this.scope.addDocument(e,t)},t.removeDocument=function(e){this.scope.removeDocument(e)},t};var gn={};function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(gn,"__esModule",{value:!0}),gn.Interactable=void 0;var _n=function(){function e(n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),bn(this,"options",void 0),bn(this,"_actions",void 0),bn(this,"target",void 0),bn(this,"events",new cn.Eventable),bn(this,"_context",void 0),bn(this,"_win",void 0),bn(this,"_doc",void 0),bn(this,"_scopeEvents",void 0),bn(this,"_rectChecker",void 0),this._actions=r.actions,this.target=n,this._context=r.context||i,this._win=(0,t.getWindow)((0,w.trySelector)(n)?this._context:n),this._doc=this._win.document,this._scopeEvents=o,this.set(r)}var n;return(n=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(e,t){return o.default.func(t.onstart)&&this.on("".concat(e,"start"),t.onstart),o.default.func(t.onmove)&&this.on("".concat(e,"move"),t.onmove),o.default.func(t.onend)&&this.on("".concat(e,"end"),t.onend),o.default.func(t.oninertiastart)&&this.on("".concat(e,"inertiastart"),t.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,t,n){(o.default.array(t)||o.default.object(t))&&this.off(e,t),(o.default.array(n)||o.default.object(n))&&this.on(e,n)}},{key:"setPerAction",value:function(e,t){var n=this._defaults;for(var r in t){var i=r,a=this.options[e],s=t[i];"listeners"===i&&this.updatePerActionListeners(e,a.listeners,s),o.default.array(s)?a[i]=Q.from(s):o.default.plainObject(s)?(a[i]=(0,O.default)(a[i]||{},(0,mt.default)(s)),o.default.object(n.perAction[i])&&"enabled"in n.perAction[i]&&(a[i].enabled=!1!==s.enabled)):o.default.bool(s)&&o.default.object(n.perAction[i])?a[i].enabled=s:a[i]=s}}},{key:"getRect",value:function(e){return e=e||(o.default.element(this.target)?this.target:null),o.default.string(this.target)&&(e=e||this._context.querySelector(this.target)),(0,w.getElementRect)(e)}},{key:"rectChecker",value:function(e){var t=this;return o.default.func(e)?(this._rectChecker=e,this.getRect=function(e){var n=(0,O.default)({},t._rectChecker(e));return"width"in n||(n.width=n.right-n.left,n.height=n.bottom-n.top),n},this):null===e?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(e,t){if((0,w.trySelector)(t)||o.default.object(t)){for(var n in this.options[e]=t,this._actions.map)this.options[n][e]=t;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||(0,w.nodeContains)(this._context,e)}},{key:"testIgnoreAllow",value:function(e,t,n){return!this.testIgnore(e.ignoreFrom,t,n)&&this.testAllow(e.allowFrom,t,n)}},{key:"testAllow",value:function(e,t,n){return!e||!!o.default.element(n)&&(o.default.string(e)?(0,w.matchesUpTo)(n,e,t):!!o.default.element(e)&&(0,w.nodeContains)(e,n))}},{key:"testIgnore",value:function(e,t,n){return!(!e||!o.default.element(n))&&(o.default.string(e)?(0,w.matchesUpTo)(n,e,t):!!o.default.element(e)&&(0,w.nodeContains)(e,n))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,t,n,r){o.default.object(t)&&!o.default.array(t)&&(r=n,n=null);var i="on"===e?"add":"remove",a=(0,D.default)(t,n);for(var s in a){"wheel"===s&&(s=b.default.wheelEvent);for(var u=0;u<a[s].length;u++){var l=a[s][u];(0,vn.default)(s,this._actions)?this.events[e](s,l):o.default.string(this.target)?this._scopeEvents["".concat(i,"Delegate")](this.target,this._context,s,l,r):this._scopeEvents[i](this.target,s,l,r)}}return this}},{key:"on",value:function(e,t,n){return this._onOff("on",e,t,n)}},{key:"off",value:function(e,t,n){return this._onOff("off",e,t,n)}},{key:"set",value:function(e){var t=this._defaults;for(var n in o.default.object(e)||(e={}),this.options=(0,mt.default)(t.base),this._actions.methodDict){var r=n,i=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,(0,O.default)((0,O.default)({},t.perAction),t.actions[r])),this[i](e[r])}for(var a in e)o.default.func(this[a])&&this[a](e[a]);return this}},{key:"unset",value:function(){if(o.default.string(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var t=this._scopeEvents.delegatedEvents[e],n=t.length-1;n>=0;n--){var r=t[n],i=r.selector,a=r.context,s=r.listeners;i===this.target&&a===this._context&&t.splice(n,1);for(var u=s.length-1;u>=0;u--)this._scopeEvents.removeDelegate(this.target,this._context,e,s[u][0],s[u][1])}else this._scopeEvents.remove(this.target,"all")}}])&&yn(e.prototype,n),e}();gn.Interactable=_n;var En={};function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(En,"__esModule",{value:!0}),En.InteractableSet=void 0;var Tn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Sn(this,"list",[]),Sn(this,"selectorMap",{}),Sn(this,"scope",void 0),this.scope=t,t.addListeners({"interactable:unset":function(e){var t=e.interactable,r=t.target,i=t._context,a=o.default.string(r)?n.selectorMap[r]:r[n.scope.id],s=Q.findIndex(a,(function(e){return e.context===i}));a[s]&&(a[s].context=null,a[s].interactable=null),a.splice(s,1)}})}var t;return(t=[{key:"new",value:function(e,t){t=(0,O.default)(t||{},{actions:this.scope.actions});var n=new this.scope.Interactable(e,t,this.scope.document,this.scope.events),r={context:n._context,interactable:n};return this.scope.addDocument(n._doc),this.list.push(n),o.default.string(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(r)):(n.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:e,options:t,interactable:n,win:this.scope._win}),n}},{key:"get",value:function(e,t){var n=t&&t.context||this.scope.document,r=o.default.string(e),i=r?this.selectorMap[e]:e[this.scope.id];if(!i)return null;var a=Q.find(i,(function(t){return t.context===n&&(r||t.interactable.inContext(e))}));return a&&a.interactable}},{key:"forEachMatch",value:function(e,t){for(var n=0;n<this.list.length;n++){var r=this.list[n],i=void 0;if((o.default.string(r.target)?o.default.element(e)&&w.matchesSelector(e,r.target):e===r.target)&&r.inContext(e)&&(i=t(r)),void 0!==i)return i}}}])&&wn(e.prototype,t),e}();En.InteractableSet=Tn;var kn={};function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(kn,"__esModule",{value:!0}),kn.default=void 0;var Cn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),An(this,"currentTarget",void 0),An(this,"originalEvent",void 0),An(this,"type",void 0),this.originalEvent=t,(0,j.default)(this,t)}var t;return(t=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&xn(e.prototype,t),e}();function In(e){if(!o.default.object(e))return{capture:!!e,passive:!1};var t=(0,O.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var Ln={id:"events",install:function(e){var t,n=[],r={},i=[],a={add:s,remove:u,addDelegate:function(e,t,n,o,a){var u=In(a);if(!r[n]){r[n]=[];for(var d=0;d<i.length;d++){var f=i[d];s(f,n,l),s(f,n,c,!0)}}var h=r[n],p=Q.find(h,(function(n){return n.selector===e&&n.context===t}));p||(p={selector:e,context:t,listeners:[]},h.push(p)),p.listeners.push([o,u])},removeDelegate:function(e,t,n,i,o){var a,s=In(o),d=r[n],f=!1;if(d)for(a=d.length-1;a>=0;a--){var h=d[a];if(h.selector===e&&h.context===t){for(var p=h.listeners,v=p.length-1;v>=0;v--){var m=Pn(p[v],2),g=m[0],y=m[1],b=y.capture,_=y.passive;if(g===i&&b===s.capture&&_===s.passive){p.splice(v,1),p.length||(d.splice(a,1),u(t,n,l),u(t,n,c,!0)),f=!0;break}}if(f)break}}},delegateListener:l,delegateUseCapture:c,delegatedEvents:r,documents:i,targets:n,supportsOptions:!1,supportsPassive:!1};function s(e,t,r,i){var o=In(i),s=Q.find(n,(function(t){return t.eventTarget===e}));s||(s={eventTarget:e,events:{}},n.push(s)),s.events[t]||(s.events[t]=[]),e.addEventListener&&!Q.contains(s.events[t],r)&&(e.addEventListener(t,r,a.supportsOptions?o:o.capture),s.events[t].push(r))}function u(e,t,r,i){var o=In(i),s=Q.findIndex(n,(function(t){return t.eventTarget===e})),l=n[s];if(l&&l.events)if("all"!==t){var c=!1,d=l.events[t];if(d){if("all"===r){for(var f=d.length-1;f>=0;f--)u(e,t,d[f],o);return}for(var h=0;h<d.length;h++)if(d[h]===r){e.removeEventListener(t,r,a.supportsOptions?o:o.capture),d.splice(h,1),0===d.length&&(delete l.events[t],c=!0);break}}c&&!Object.keys(l.events).length&&n.splice(s,1)}else for(t in l.events)l.events.hasOwnProperty(t)&&u(e,t,"all")}function l(e,t){for(var n=In(t),i=new Cn(e),a=r[e.type],s=Pn(U.getEventTargets(e),1)[0],u=s;o.default.element(u);){for(var l=0;l<a.length;l++){var c=a[l],d=c.selector,f=c.context;if(w.matchesSelector(u,d)&&w.nodeContains(f,s)&&w.nodeContains(f,u)){var h=c.listeners;i.currentTarget=u;for(var p=0;p<h.length;p++){var v=Pn(h[p],2),m=v[0],g=v[1],y=g.capture,b=g.passive;y===n.capture&&b===n.passive&&m(i)}}}u=w.parentNode(u)}}function c(e){return l(e,!0)}return null==(t=e.document)||t.createElement("div").addEventListener("test",null,{get capture(){return a.supportsOptions=!0},get passive(){return a.supportsPassive=!0}}),e.events=a,a}};kn.default=Ln;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.default=void 0;var Dn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<Dn.methodOrder.length;t++){var n;n=Dn.methodOrder[t];var r=Dn[n](e);if(r)return r}return null},simulationResume:function(e){var t=e.pointerType,n=e.eventType,r=e.eventTarget,i=e.scope;if(!/down|start/i.test(n))return null;for(var o=0;o<i.interactions.list.length;o++){var a=i.interactions.list[o],s=r;if(a.simulation&&a.simulation.allowResume&&a.pointerType===t)for(;s;){if(s===a.element)return a;s=w.parentNode(s)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,r=e.pointerType,i=e.eventType,o=e.scope;if("mouse"!==r&&"pen"!==r)return null;for(var a=0;a<o.interactions.list.length;a++){var s=o.interactions.list[a];if(s.pointerType===r){if(s.simulation&&!Rn(s,n))continue;if(s.interacting())return s;t||(t=s)}}if(t)return t;for(var u=0;u<o.interactions.list.length;u++){var l=o.interactions.list[u];if(!(l.pointerType!==r||/down/i.test(i)&&l.simulation))return l}return null},hasPointer:function(e){for(var t=e.pointerId,n=e.scope,r=0;r<n.interactions.list.length;r++){var i=n.interactions.list[r];if(Rn(i,t))return i}return null},idle:function(e){for(var t=e.pointerType,n=e.scope,r=0;r<n.interactions.list.length;r++){var i=n.interactions.list[r];if(1===i.pointers.length){var o=i.interactable;if(o&&(!o.options.gesture||!o.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&t===i.pointerType)return i}return null}};function Rn(e,t){return e.pointers.some((function(e){return e.id===t}))}var Mn=Dn;Nn.default=Mn;var jn={};function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Un(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qn(e,t){return!t||"object"!==Fn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(jn,"__esModule",{value:!0}),jn.default=void 0;var Wn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Kn(e,t){return function(n){var r=t.interactions.list,i=U.getPointerType(n),o=Vn(U.getEventTargets(n),2),a=o[0],s=o[1],u=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(var l=0;l<n.changedTouches.length;l++){var c=n.changedTouches[l],d={pointer:c,pointerId:U.getPointerId(c),pointerType:i,eventType:n.type,eventTarget:a,curEventTarget:s,scope:t},f=Yn(d);u.push([d.pointer,d.eventTarget,d.curEventTarget,f])}}else{var h=!1;if(!b.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var p=0;p<r.length&&!h;p++)h="mouse"!==r[p].pointerType&&r[p].pointerIsDown;h=h||t.now()-t.prevTouchTime<500||0===n.timeStamp}if(!h){var v={pointer:n,pointerId:U.getPointerId(n),pointerType:i,eventType:n.type,curEventTarget:s,eventTarget:a,scope:t},m=Yn(v);u.push([v.pointer,v.eventTarget,v.curEventTarget,m])}}for(var g=0;g<u.length;g++){var y=Vn(u[g],4),_=y[0],E=y[1],w=y[2];y[3][e](_,n,E,w)}}}function Yn(e){var t=e.pointerType,n=e.scope,r={interaction:Nn.default.search(e),searchDetails:e};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:t})}function Xn(e,t){var n=e.doc,r=e.scope,i=e.options,o=r.interactions.docEvents,a=r.events,s=a[t];for(var u in r.browser.isIOS&&!i.events&&(i.events={passive:!1}),a.delegatedEvents)s(n,u,a.delegateListener),s(n,u,a.delegateUseCapture,!0);for(var l=i&&i.events,c=0;c<o.length;c++){var d=o[c];s(n,d.type,d.listener,l)}}var $n={id:"core/interactions",install:function(e){for(var t={},n=0;n<Wn.length;n++){var r=Wn[n];t[r]=Kn(r,e)}var i,o=b.default.pEventTypes;function a(){for(var t=0;t<e.interactions.list.length;t++){var n=e.interactions.list[t];if(n.pointerIsDown&&"touch"===n.pointerType&&!n._interacting)for(var r=function(){var t=n.pointers[i];e.documents.some((function(e){var n=e.doc;return(0,w.nodeContains)(n,t.downTarget)}))||n.removePointer(t.pointer,t.event)},i=0;i<n.pointers.length;i++)r()}}(i=v.default.PointerEvent?[{type:o.down,listener:a},{type:o.down,listener:t.pointerDown},{type:o.move,listener:t.pointerMove},{type:o.up,listener:t.pointerUp},{type:o.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:a},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(t){for(var n=0;n<e.interactions.list.length;n++)e.interactions.list[n].documentBlur(t)}}),e.prevTouchTime=0,e.Interaction=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(a,t);var n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hn(r);if(i){var n=Hn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return qn(this,e)});function a(){return Bn(this,a),o.apply(this,arguments)}return(n=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(t){e.interactions.pointerMoveTolerance=t}},{key:"_now",value:function(){return e.now()}}])&&zn(a.prototype,n),a}(zt.default),e.interactions={list:[],new:function(t){t.scopeFire=function(t,n){return e.fire(t,n)};var n=new e.Interaction(t);return e.interactions.list.push(n),n},listeners:t,docEvents:i,pointerMoveTolerance:1},e.usePlugin(st.default)},listeners:{"scope:add-document":function(e){return Xn(e,"add")},"scope:remove-document":function(e){return Xn(e,"remove")},"interactable:unset":function(e,t){for(var n=e.interactable,r=t.interactions.list.length-1;r>=0;r--){var i=t.interactions.list[r];i.interactable===n&&(i.stop(),t.fire("interactions:destroy",{interaction:i}),i.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(r,1))}}},onDocSignal:Xn,doOnInteractions:Kn,methodNames:Wn};jn.default=$n;var Qn={};function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(e,t,n){return(Zn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(e,t){return!t||"object"!==Jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e,t,n){return t&&ir(e.prototype,t),n&&ir(e,n),e}function ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.initScope=ur,Qn.Scope=void 0;var sr=function(){function e(){var t=this;rr(this,e),ar(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),ar(this,"isInitialized",!1),ar(this,"listenerMaps",[]),ar(this,"browser",b.default),ar(this,"defaults",(0,mt.default)(Pt.defaults)),ar(this,"Eventable",cn.Eventable),ar(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),ar(this,"interactStatic",(0,mn.createInteractStatic)(this)),ar(this,"InteractEvent",Ot.InteractEvent),ar(this,"Interactable",void 0),ar(this,"interactables",new En.InteractableSet(this)),ar(this,"_win",void 0),ar(this,"document",void 0),ar(this,"window",void 0),ar(this,"documents",[]),ar(this,"_plugins",{list:[],map:{}}),ar(this,"onWindowUnload",(function(e){return t.removeDocument(e.target)}));var n=this;this.Interactable=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(o,e);var t,r,i=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=nr(t);if(r){var i=nr(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return tr(this,e)});function o(){return rr(this,o),i.apply(this,arguments)}return or(o,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(e){return Zn(nr(o.prototype),"set",this).call(this,e),n.fire("interactable:set",{options:e,interactable:this}),this}},{key:"unset",value:function(){Zn(nr(o.prototype),"unset",this).call(this),n.interactables.list.splice(n.interactables.list.indexOf(this),1),n.fire("interactable:unset",{interactable:this})}}]),o}(gn.Interactable)}return or(e,[{key:"addListeners",value:function(e,t){this.listenerMaps.push({id:t,map:e})}},{key:"fire",value:function(e,t){for(var n=0;n<this.listenerMaps.length;n++){var r=this.listenerMaps[n].map[e];if(r&&!1===r(t,this,e))return!1}}},{key:"init",value:function(e){return this.isInitialized?this:ur(this,e)}},{key:"pluginIsInstalled",value:function(e){return this._plugins.map[e.id]||-1!==this._plugins.list.indexOf(e)}},{key:"usePlugin",value:function(e,t){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,t),e.listeners&&e.before){for(var n=0,r=this.listenerMaps.length,i=e.before.reduce((function(e,t){return e[t]=!0,e[lr(t)]=!0,e}),{});n<r;n++){var o=this.listenerMaps[n].id;if(i[o]||i[lr(o)])break}this.listenerMaps.splice(n,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,n){if(-1!==this.getDocIndex(e))return!1;var r=t.getWindow(e);n=n?(0,O.default)({},n):{},this.documents.push({doc:e,options:n}),this.events.documents.push(e),e!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:r,scope:this,options:n})}},{key:"removeDocument",value:function(e){var n=this.getDocIndex(e),r=t.getWindow(e),i=this.documents[n].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:e,window:r,scope:this,options:i})}},{key:"getDocIndex",value:function(e){for(var t=0;t<this.documents.length;t++)if(this.documents[t].doc===e)return t;return-1}},{key:"getDocOptions",value:function(e){var t=this.getDocIndex(e);return-1===t?null:this.documents[t].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function ur(e,n){return e.isInitialized=!0,o.default.window(n)&&t.init(n),v.default.init(n),b.default.init(n),Oe.default.init(n),e.window=n,e.document=n.document,e.usePlugin(jn.default),e.usePlugin(kn.default),e}function lr(e){return e&&e.replace(/\/.*$/,"")}Qn.Scope=sr;var cr={};Object.defineProperty(cr,"__esModule",{value:!0}),cr.default=void 0;var dr=new Qn.Scope,fr=dr.interactStatic;cr.default=fr;var hr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0;dr.init(hr);var pr={};Object.defineProperty(pr,"__esModule",{value:!0}),pr.default=void 0,pr.default=function(){};var vr={};Object.defineProperty(vr,"__esModule",{value:!0}),vr.default=void 0,vr.default=function(){};var mr={};function gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(mr,"__esModule",{value:!0}),mr.default=void 0,mr.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(t){var n=gr(t,2),r=n[0],i=n[1];return r in e||i in e})),n=function(n,r){for(var i=e.range,o=e.limits,a=void 0===o?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:o,s=e.offset,u=void 0===s?{x:0,y:0}:s,l={range:i,grid:e,x:null,y:null},c=0;c<t.length;c++){var d=gr(t[c],2),f=d[0],h=d[1],p=Math.round((n-u.x)/e[f]),v=Math.round((r-u.y)/e[h]);l[f]=Math.max(a.left,Math.min(a.right,p*e[f]+u.x)),l[h]=Math.max(a.top,Math.min(a.bottom,v*e[h]+u.y))}return l};return n.grid=e,n.coordFields=t,n};var br={};Object.defineProperty(br,"__esModule",{value:!0}),Object.defineProperty(br,"edgeTarget",{enumerable:!0,get:function(){return pr.default}}),Object.defineProperty(br,"elements",{enumerable:!0,get:function(){return vr.default}}),Object.defineProperty(br,"grid",{enumerable:!0,get:function(){return mr.default}});var _r={};Object.defineProperty(_r,"__esModule",{value:!0}),_r.default=void 0;var Er={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,O.default)(t.snappers||{},br),t.createSnapGrid=t.snappers.grid}};_r.default=Er;var wr={};function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach((function(t){kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(wr,"__esModule",{value:!0}),wr.aspectRatio=wr.default=void 0;var xr={start:function(e){var t=e.state,n=e.rect,r=e.edges,i=e.pageCoords,o=t.options.ratio,a=t.options,s=a.equalDelta,u=a.modifiers;"preserve"===o&&(o=n.width/n.height),t.startCoords=(0,O.default)({},i),t.startRect=(0,O.default)({},n),t.ratio=o,t.equalDelta=s;var l=t.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(t.xIsPrimaryAxis=!(!r.left&&!r.right),t.equalDelta)t.edgeSign=(l.left?1:-1)*(l.top?1:-1);else{var c=t.xIsPrimaryAxis?l.top:l.left;t.edgeSign=c?-1:1}if((0,O.default)(e.edges,l),u&&u.length){var d=new gt.default(e.interaction);d.copyFrom(e.interaction.modification),d.prepareStates(u),t.subModification=d,d.startAll(Tr({},e))}},set:function(e){var t=e.state,n=e.rect,r=e.coords,i=(0,O.default)({},r),o=t.equalDelta?Ar:Pr;if(o(t,t.xIsPrimaryAxis,r,n),!t.subModification)return null;var a=(0,O.default)({},n);(0,C.addEdges)(t.linkedEdges,a,{x:r.x-i.x,y:r.y-i.y});var s=t.subModification.setAll(Tr(Tr({},e),{},{rect:a,edges:t.linkedEdges,pageCoords:r,prevCoords:r,prevRect:a})),u=s.delta;return s.changed&&(o(t,Math.abs(u.x)>Math.abs(u.y),s.coords,s.rect),(0,O.default)(r,s.coords)),s.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Ar(e,t,n){var r=e.startCoords,i=e.edgeSign;t?n.y=r.y+(n.x-r.x)*i:n.x=r.x+(n.y-r.y)*i}function Pr(e,t,n,r){var i=e.startRect,o=e.startCoords,a=e.ratio,s=e.edgeSign;if(t){var u=r.width/a;n.y=o.y+(u-i.height)*s}else{var l=r.height*a;n.x=o.x+(l-i.width)*s}}wr.aspectRatio=xr;var Or=(0,kt.makeModifier)(xr,"aspectRatio");wr.default=Or;var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.default=void 0;var Ir=function(){};Ir._defaults={};var Lr=Ir;Cr.default=Lr;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0}),Object.defineProperty(Nr,"default",{enumerable:!0,get:function(){return Cr.default}});var Dr={};function Rr(e,t,n){return o.default.func(e)?C.resolveRectLike(e,t.interactable,t.element,[n.x,n.y,t]):C.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.getRestrictionRect=Rr,Dr.restrict=Dr.default=void 0;var Mr={start:function(e){var t=e.rect,n=e.startOffset,r=e.state,i=e.interaction,o=e.pageCoords,a=r.options,s=a.elementRect,u=(0,O.default)({left:0,top:0,right:0,bottom:0},a.offset||{});if(t&&s){var l=Rr(a.restriction,i,o);if(l){var c=l.right-l.left-t.width,d=l.bottom-l.top-t.height;c<0&&(u.left+=c,u.right+=c),d<0&&(u.top+=d,u.bottom+=d)}u.left+=n.left-t.width*s.left,u.top+=n.top-t.height*s.top,u.right+=n.right-t.width*(1-s.right),u.bottom+=n.bottom-t.height*(1-s.bottom)}r.offset=u},set:function(e){var t=e.coords,n=e.interaction,r=e.state,i=r.options,o=r.offset,a=Rr(i.restriction,n,t);if(a){var s=C.xywhToTlbr(a);t.x=Math.max(Math.min(s.right-o.right,t.x),s.left+o.left),t.y=Math.max(Math.min(s.bottom-o.bottom,t.y),s.top+o.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};Dr.restrict=Mr;var jr=(0,kt.makeModifier)(Mr,"restrict");Dr.default=jr;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.restrictEdges=Fr.default=void 0;var Vr={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Ur={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Br(e,t){for(var n=["top","left","bottom","right"],r=0;r<n.length;r++){var i=n[r];i in e||(e[i]=t[i])}return e}var zr={noInner:Vr,noOuter:Ur,start:function(e){var t,n=e.interaction,r=e.startOffset,i=e.state,o=i.options;if(o){var a=(0,Dr.getRestrictionRect)(o.offset,n,n.coords.start.page);t=C.rectToXY(a)}t=t||{x:0,y:0},i.offset={top:t.y+r.top,left:t.x+r.left,bottom:t.y-r.bottom,right:t.x-r.right}},set:function(e){var t=e.coords,n=e.edges,r=e.interaction,i=e.state,o=i.offset,a=i.options;if(n){var s=(0,O.default)({},t),u=(0,Dr.getRestrictionRect)(a.inner,r,s)||{},l=(0,Dr.getRestrictionRect)(a.outer,r,s)||{};Br(u,Vr),Br(l,Ur),n.top?t.y=Math.min(Math.max(l.top+o.top,s.y),u.top+o.top):n.bottom&&(t.y=Math.max(Math.min(l.bottom+o.bottom,s.y),u.bottom+o.bottom)),n.left?t.x=Math.min(Math.max(l.left+o.left,s.x),u.left+o.left):n.right&&(t.x=Math.max(Math.min(l.right+o.right,s.x),u.right+o.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Fr.restrictEdges=zr;var Gr=(0,kt.makeModifier)(zr,"restrictEdges");Fr.default=Gr;var qr={};Object.defineProperty(qr,"__esModule",{value:!0}),qr.restrictRect=qr.default=void 0;var Hr=(0,O.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},Dr.restrict.defaults),Wr={start:Dr.restrict.start,set:Dr.restrict.set,defaults:Hr};qr.restrictRect=Wr;var Kr=(0,kt.makeModifier)(Wr,"restrictRect");qr.default=Kr;var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.restrictSize=Yr.default=void 0;var Xr={width:-1/0,height:-1/0},$r={width:1/0,height:1/0},Qr={start:function(e){return Fr.restrictEdges.start(e)},set:function(e){var t=e.interaction,n=e.state,r=e.rect,i=e.edges,o=n.options;if(i){var a=C.tlbrToXywh((0,Dr.getRestrictionRect)(o.min,t,e.coords))||Xr,s=C.tlbrToXywh((0,Dr.getRestrictionRect)(o.max,t,e.coords))||$r;n.options={endOnly:o.endOnly,inner:(0,O.default)({},Fr.restrictEdges.noInner),outer:(0,O.default)({},Fr.restrictEdges.noOuter)},i.top?(n.options.inner.top=r.bottom-a.height,n.options.outer.top=r.bottom-s.height):i.bottom&&(n.options.inner.bottom=r.top+a.height,n.options.outer.bottom=r.top+s.height),i.left?(n.options.inner.left=r.right-a.width,n.options.outer.left=r.right-s.width):i.right&&(n.options.inner.right=r.left+a.width,n.options.outer.right=r.left+s.width),Fr.restrictEdges.set(e),n.options=o}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Yr.restrictSize=Qr;var Jr=(0,kt.makeModifier)(Qr,"restrictSize");Yr.default=Jr;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0}),Object.defineProperty(Zr,"default",{enumerable:!0,get:function(){return Cr.default}});var ei={};Object.defineProperty(ei,"__esModule",{value:!0}),ei.snap=ei.default=void 0;var ti={start:function(e){var t,n=e.interaction,r=e.interactable,i=e.element,o=e.rect,a=e.state,s=e.startOffset,u=a.options,l=u.offsetWithOrigin?function(e){var t=e.interaction.element;return(0,C.rectToXY)((0,C.resolveRectLike)(e.state.options.origin,null,null,[t]))||(0,N.default)(e.interactable,t,e.interaction.prepared.name)}(e):{x:0,y:0};if("startCoords"===u.offset)t={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var c=(0,C.resolveRectLike)(u.offset,r,i,[n]);(t=(0,C.rectToXY)(c)||{x:0,y:0}).x+=l.x,t.y+=l.y}var d=u.relativePoints;a.offsets=o&&d&&d.length?d.map((function(e,n){return{index:n,relativePoint:e,x:s.left-o.width*e.x+t.x,y:s.top-o.height*e.y+t.y}})):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,n=e.coords,r=e.state,i=r.options,a=r.offsets,s=(0,N.default)(t.interactable,t.element,t.prepared.name),u=(0,O.default)({},n),l=[];i.offsetWithOrigin||(u.x-=s.x,u.y-=s.y);for(var c=0;c<a.length;c++)for(var d=a[c],f=u.x-d.x,h=u.y-d.y,p=0,v=i.targets.length;p<v;p++){var m,g=i.targets[p];(m=o.default.func(g)?g(f,h,t._proxy,d,p):g)&&l.push({x:(o.default.number(m.x)?m.x:f)+d.x,y:(o.default.number(m.y)?m.y:h)+d.y,range:o.default.number(m.range)?m.range:i.range,source:g,index:p,offset:d})}for(var y={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},b=0;b<l.length;b++){var _=l[b],E=_.range,w=_.x-u.x,S=_.y-u.y,T=(0,M.default)(w,S),k=T<=E;E===1/0&&y.inRange&&y.range!==1/0&&(k=!1),y.target&&!(k?y.inRange&&E!==1/0?T/E<y.distance/y.range:E===1/0&&y.range!==1/0||T<y.distance:!y.inRange&&T<y.distance)||(y.target=_,y.distance=T,y.range=E,y.inRange=k,y.delta.x=w,y.delta.y=S)}return y.inRange&&(n.x=y.target.x,n.y=y.target.y),r.closest=y,y},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};ei.snap=ti;var ni=(0,kt.makeModifier)(ti,"snap");ei.default=ni;var ri={};function ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(ri,"__esModule",{value:!0}),ri.snapSize=ri.default=void 0;var oi={start:function(e){var t=e.state,n=e.edges,r=t.options;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],ei.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t,n,r=e.interaction,i=e.state,a=e.coords,s=i.options,u=i.offsets,l={x:a.x-u[0].x,y:a.y-u[0].y};i.options=(0,O.default)({},s),i.options.targets=[];for(var c=0;c<(s.targets||[]).length;c++){var d=(s.targets||[])[c],f=void 0;if(f=o.default.func(d)?d(l.x,l.y,r):d){for(var h=0;h<i.targetFields.length;h++){var p=(n=2,function(e){if(Array.isArray(e))return e}(t=i.targetFields[h])||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ii(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=p[0],m=p[1];if(v in f||m in f){f.x=f[v],f.y=f[m];break}}i.options.targets.push(f)}}var g=ei.snap.set(e);return i.options=s,g},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};ri.snapSize=oi;var ai=(0,kt.makeModifier)(oi,"snapSize");ri.default=ai;var si={};Object.defineProperty(si,"__esModule",{value:!0}),si.snapEdges=si.default=void 0;var ui={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],ri.snapSize.start(e)):null},set:ri.snapSize.set,defaults:(0,O.default)((0,mt.default)(ri.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};si.snapEdges=ui;var li=(0,kt.makeModifier)(ui,"snapEdges");si.default=li;var ci={};Object.defineProperty(ci,"__esModule",{value:!0}),Object.defineProperty(ci,"default",{enumerable:!0,get:function(){return Cr.default}});var di={};Object.defineProperty(di,"__esModule",{value:!0}),Object.defineProperty(di,"default",{enumerable:!0,get:function(){return Cr.default}});var fi={};Object.defineProperty(fi,"__esModule",{value:!0}),fi.default=void 0;var hi={aspectRatio:wr.default,restrictEdges:Fr.default,restrict:Dr.default,restrictRect:qr.default,restrictSize:Yr.default,snapEdges:si.default,snap:ei.default,snapSize:ri.default,spring:ci.default,avoid:Nr.default,transform:di.default,rubberband:Zr.default};fi.default=hi;var pi={};Object.defineProperty(pi,"__esModule",{value:!0}),pi.default=void 0;var vi={id:"modifiers",install:function(e){var t=e.interactStatic;for(var n in e.usePlugin(kt.default),e.usePlugin(_r.default),t.modifiers=fi.default,fi.default){var r=fi.default[n],i=r._defaults,o=r._methods;i._methods=o,e.defaults.perAction[n]=i}}};pi.default=vi;var mi={};function gi(e){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bi(e,t){return(bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _i(e,t){return!t||"object"!==gi(t)&&"function"!=typeof t?Ei(e):t}function Ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wi(e){return(wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(mi,"__esModule",{value:!0}),mi.PointerEvent=mi.default=void 0;var Ti=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bi(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wi(n);if(r){var i=wi(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return _i(this,e)});function o(e,t,n,r,a,s){var u;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Si(Ei(u=i.call(this,a)),"type",void 0),Si(Ei(u),"originalEvent",void 0),Si(Ei(u),"pointerId",void 0),Si(Ei(u),"pointerType",void 0),Si(Ei(u),"double",void 0),Si(Ei(u),"pageX",void 0),Si(Ei(u),"pageY",void 0),Si(Ei(u),"clientX",void 0),Si(Ei(u),"clientY",void 0),Si(Ei(u),"dt",void 0),Si(Ei(u),"eventable",void 0),U.pointerExtend(Ei(u),n),n!==t&&U.pointerExtend(Ei(u),t),u.timeStamp=s,u.originalEvent=n,u.type=e,u.pointerId=U.getPointerId(t),u.pointerType=U.getPointerType(t),u.target=r,u.currentTarget=null,"tap"===e){var l=a.getPointerIndex(t);u.dt=u.timeStamp-a.pointers[l].downTime;var c=u.timeStamp-a.tapTime;u.double=!!(a.prevTap&&"doubletap"!==a.prevTap.type&&a.prevTap.target===u.target&&c<500)}else"doubletap"===e&&(u.dt=t.timeStamp-a.tapTime);return u}return(t=[{key:"_subtractOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX-=t,this.pageY-=n,this.clientX-=t,this.clientY-=n,this}},{key:"_addOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX+=t,this.pageY+=n,this.clientX+=t,this.clientY+=n,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&yi(o.prototype,t),o}(K.BaseEvent);mi.PointerEvent=mi.default=Ti;var ki={};Object.defineProperty(ki,"__esModule",{value:!0}),ki.default=void 0;var xi={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=xi,e.defaults.actions.pointerEvents=xi.defaults,(0,O.default)(e.actions.phaselessTypes,xi.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;e.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&Oi(e),Ai({interaction:n,pointer:r,event:i,eventTarget:o,type:"move"},t))},"interactions:down":function(e,t){!function(e,t){for(var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,a=e.pointerIndex,s=n.pointers[a].hold,u=w.getPath(o),l={interaction:n,pointer:r,event:i,eventTarget:o,type:"hold",targets:[],path:u,node:null},c=0;c<u.length;c++){var d=u[c];l.node=d,t.fire("pointerEvents:collect-targets",l)}if(l.targets.length){for(var f=1/0,h=0;h<l.targets.length;h++){var p=l.targets[h].eventable.options.holdDuration;p<f&&(f=p)}s.duration=f,s.timeout=setTimeout((function(){Ai({interaction:n,eventTarget:o,pointer:r,event:i,type:"hold"},t)}),f)}}(e,t),Ai(e,t)},"interactions:up":function(e,t){Oi(e),Ai(e,t),function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;n.pointerWasMoved||Ai({interaction:n,eventTarget:o,pointer:r,event:i,type:"tap"},t)}(e,t)},"interactions:cancel":function(e,t){Oi(e),Ai(e,t)}},PointerEvent:mi.PointerEvent,fire:Ai,collectEventTargets:Pi,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Ai(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,a=e.type,s=e.targets,u=void 0===s?Pi(e,t):s,l=new mi.PointerEvent(a,r,i,o,n,t.now());t.fire("pointerEvents:new",{pointerEvent:l});for(var c={interaction:n,pointer:r,event:i,eventTarget:o,targets:u,type:a,pointerEvent:l},d=0;d<u.length;d++){var f=u[d];for(var h in f.props||{})l[h]=f.props[h];var p=(0,N.default)(f.eventable,f.node);if(l._subtractOrigin(p),l.eventable=f.eventable,l.currentTarget=f.node,f.eventable.fire(l),l._addOrigin(p),l.immediatePropagationStopped||l.propagationStopped&&d+1<u.length&&u[d+1].node!==l.currentTarget)break}if(t.fire("pointerEvents:fired",c),"tap"===a){var v=l.double?Ai({interaction:n,pointer:r,event:i,eventTarget:o,type:"doubletap"},t):l;n.prevTap=v,n.tapTime=v.timeStamp}return l}function Pi(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,a=e.type,s=n.getPointerIndex(r),u=n.pointers[s];if("tap"===a&&(n.pointerWasMoved||!u||u.downTarget!==o))return[];for(var l=w.getPath(o),c={interaction:n,pointer:r,event:i,eventTarget:o,type:a,path:l,targets:[],node:null},d=0;d<l.length;d++){var f=l[d];c.node=f,t.fire("pointerEvents:collect-targets",c)}return"hold"===a&&(c.targets=c.targets.filter((function(e){var t;return e.eventable.options.holdDuration===(null==(t=n.pointers[s])?void 0:t.hold.duration)}))),c.targets}function Oi(e){var t=e.interaction,n=e.pointerIndex,r=t.pointers[n].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null)}var Ci=xi;ki.default=Ci;var Ii={};function Li(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.default=void 0;var Ni={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(ki.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((function(e,t){return e["pointerEvents:".concat(t)]=Li,e}),{"pointerEvents:new":function(e){var t=e.pointerEvent;"hold"===t.type&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,r=e.pointerEvent,i=e.eventTarget,o=e.targets;if("hold"===r.type&&o.length){var a=o[0].eventable.options.holdRepeatInterval;a<=0||(n.holdIntervalHandle=setTimeout((function(){t.pointerEvents.fire({interaction:n,eventTarget:i,type:"hold",pointer:r,event:r},t)}),a))}}})};Ii.default=Ni;var Di={};function Ri(e){return(0,O.default)(this.events.options,e),this}Object.defineProperty(Di,"__esModule",{value:!0}),Di.default=void 0;var Mi={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=Ri;var n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(e,t){var r=n.call(this,e,t);return r===this&&(this.events.options[e]=t),r}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,r=e.node,i=e.type,o=e.eventTarget;t.interactables.forEachMatch(r,(function(e){var t=e.events,a=t.options;t.types[i]&&t.types[i].length&&e.testIgnoreAllow(a,r,o)&&n.push({node:r,eventable:t,props:{interactable:e}})}))},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(e){return t.getRect(e)}},"interactable:set":function(e,t){var n=e.interactable,r=e.options;(0,O.default)(n.events.options,t.pointerEvents.defaults),(0,O.default)(n.events.options,r.pointerEvents||{})}}};Di.default=Mi;var ji={};Object.defineProperty(ji,"__esModule",{value:!0}),ji.default=void 0;var Fi={id:"pointer-events",install:function(e){e.usePlugin(ki),e.usePlugin(Ii.default),e.usePlugin(Di.default)}};ji.default=Fi;var Vi={};function Ui(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(t){return function(e,t,n){for(var r=o.default.string(e.target)?Q.from(e._context.querySelectorAll(e.target)):[e.target],i=n.window.Promise,a=i?[]:null,s=function(){var o=r[u],s=e.getRect(o);if(!s)return"break";var l=Q.find(n.interactions.list,(function(n){return n.interacting()&&n.interactable===e&&n.element===o&&n.prepared.name===t.name})),c=void 0;if(l)l.move(),a&&(c=l._reflowPromise||new i((function(e){l._reflowResolve=e})));else{var d=(0,C.tlbrToXywh)(s),f={page:{x:d.x,y:d.y},client:{x:d.x,y:d.y},timeStamp:n.now()},h=U.coordsToEvent(f);c=function(e,t,n,r,i){var o=e.interactions.new({pointerType:"reflow"}),a={interaction:o,event:i,pointer:i,eventTarget:n,phase:"reflow"};o.interactable=t,o.element=n,o.prevEvent=i,o.updatePointer(i,i,n,!0),U.setZeroCoords(o.coords.delta),(0,Ve.copyAction)(o.prepared,r),o._doPhase(a);var s=e.window.Promise,u=s?new s((function(e){o._reflowResolve=e})):void 0;return o._reflowPromise=u,o.start(r,t,n),o._interacting?(o.move(a),o.end(i)):(o.stop(),o._reflowResolve()),o.removePointer(i,i),u}(n,e,o,t,h)}a&&a.push(c)},u=0;u<r.length&&"break"!==s();u++);return a&&i.all(a).then((function(){return e}))}(this,t,e)}}Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.install=Ui,Vi.default=void 0;var Bi={id:"reflow",install:Ui,listeners:{"interactions:stop":function(e,t){var n=e.interaction;"reflow"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),Q.remove(t.interactions.list,n))}}};Vi.default=Bi;var zi={exports:{}};function Gi(e){return(Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(zi.exports,"__esModule",{value:!0}),zi.exports.default=void 0,cr.default.use(st.default),cr.default.use(Yt.default),cr.default.use(ji.default),cr.default.use(tn.default),cr.default.use(pi.default),cr.default.use(ot.default),cr.default.use(Ae.default),cr.default.use(De.default),cr.default.use(Vi.default);var qi=cr.default;if(zi.exports.default=qi,"object"===Gi(zi)&&zi)try{zi.exports=cr.default}catch(e){}cr.default.default=cr.default,zi=zi.exports;var Hi={exports:{}};function Wi(e){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Hi.exports,"__esModule",{value:!0}),Hi.exports.default=void 0;var Ki=zi.default;if(Hi.exports.default=Ki,"object"===Wi(Hi)&&Hi)try{Hi.exports=zi.default}catch(e){}return zi.default.default=zi.default,Hi.exports}()}(Exe);var wxe=d(Exe.exports),Sxe="SeekingBar_wrap__FHok-",Txe="SeekingBar_seeking_area__-2peu",kxe="SeekingBar_seeking_box__xtnjD",xxe="SeekingBar_seeking_bar__fi3CS",Axe="SeekingBar_seeking_pointer__gFXAt",Pxe="SeekingBar_active__aPAZj",Oxe="SeekingBar_disabled__MRSga",Cxe="SeekingBar_icon__IlXou",Ixe="SeekingBar_drag__jzsPZ",Lxe="SeekingBar_animate__YQLIw",Nxe="SeekingBar_info_more__oGGm-",Dxe=function(){return Ime().networkLoadingState===Eme.Failed},Rxe={angle:0,type:"landscape-primary"},Mxe=function(e){void 0===e&&(e=Rxe);var t=i.useState(e),n=t[0],r=t[1];return i.useEffect((function(){var t=window.screen,n=!0,i=function(){if(n){var i=t.orientation;if(i){var o=i.angle,a=i.type;r({angle:o,type:a})}else void 0!==window.orientation?r({angle:"number"==typeof window.orientation?window.orientation:0,type:""}):r(e)}};return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}(window,"orientationchange",i),i(),function(){n=!1,function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}(window,"orientationchange",i)}}),[]),n};function jxe(e){var t=i.useRef();return i.useEffect((function(){t.current=e})),t.current}var Fxe,Vxe,Uxe=function(t){var n,r=t.barWidth,o=t.position,a=t.onUpdatePosition,s=t.isDragging,l=t.onDrag,c=Dxe(),d=Xce(),f=gSe().logEvent,h=Zce((function(e){return e.layer})).layerState,p=i.useRef(null),v=i.useContext(Cme).viewerSize,m=Mxe().angle,g=jxe(m);return i.useEffect((function(){return p.current&&wxe(p.current).styleCursor(!1).draggable({modifiers:[wxe.modifiers.restrict({restriction:"parent"})],lockAxis:"x",onstart:function(t){l(!0),d(fhe(e.LayerState.Seeking)),fEe(t.target,Pwe.DragSeekbar),f(Gwe.DragDrop,{screen:qwe.Player,category:Wwe.Seeker})},onmove:XR((function(e){a(e.page.x)}),e.Delay.SeekerDrag),onend:function(){l(!1),d({type:nhe.PreviousState})}}),function(){p.current&&wxe(p.current).unset()}}),[r,p.current,v,f,a]),i.useEffect((function(){void 0!==g&&g!==m&&l(!1)}),[g,m]),u.default.createElement("button",{ref:p,type:"button",className:pEe(Axe,Lxe,(n={},n[Pxe]=s||![e.LayerState.None,e.LayerState.StickerLayer].includes(h),n[Ixe]=s,n[Oxe]=c,n)),style:{transform:"translateX(".concat(o,"px)")},"aria-label":sle("aria.play_position")},u.default.createElement("span",{className:Cxe}))},Bxe="SkipButton_wrap__txkVc",zxe="SkipButton_disabled__bYa7k",Gxe="SkipButton_forward__Zq9Za",qxe="SkipButton_button__7WriL",Hxe="SkipButton_indicator__ffaia",Wxe="SkipButton_icon__qLQK-",Kxe="SkipButton_text__OV7xi",Yxe="SkipButton_rewind__6AnB3";function Xxe(){return Xxe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xxe.apply(this,arguments)}function $xe(e){return l.createElement("svg",Xxe({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),Fxe||(Fxe=l.createElement("g",{fill:"#FFF",fillRule:"evenodd"},l.createElement("path",{d:"M20 11.311v8.971a1 1 0 001.533.846l7.123-4.486a.999.999 0 000-1.692l-7.123-4.485a1.002 1.002 0 00-1.533.846z",opacity:.8}),l.createElement("path",{d:"M11 11.311v8.971a1 1 0 001.533.846l7.123-4.486a.999.999 0 000-1.692l-7.123-4.485a1.002 1.002 0 00-1.533.846z",opacity:.5}),l.createElement("path",{d:"M2 11.311v8.971a1 1 0 001.533.846l7.123-4.486a.999.999 0 000-1.692l-7.123-4.485A1.002 1.002 0 002 11.311z",opacity:.2}))))}function Qxe(){return Qxe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qxe.apply(this,arguments)}function Jxe(e){return l.createElement("svg",Qxe({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),Vxe||(Vxe=l.createElement("g",{fill:"#FFF",fillRule:"evenodd"},l.createElement("path",{d:"M12 11.311v8.971a1 1 0 01-1.533.846l-7.123-4.486a.999.999 0 010-1.692l7.123-4.485a1.002 1.002 0 011.533.846z",opacity:.8}),l.createElement("path",{d:"M21 11.311v8.971a1 1 0 01-1.533.846l-7.123-4.486a.999.999 0 010-1.692l7.123-4.485a1.002 1.002 0 011.533.846z",opacity:.5}),l.createElement("path",{d:"M30 11.311v8.971a1 1 0 01-1.533.846l-7.123-4.486a.999.999 0 010-1.692l7.123-4.485a1.002 1.002 0 011.533.846z",opacity:.2}))))}var Zxe=function(){var t=Ime().player,n=i.useState([void 0,t.currentIndex]),r=n[0],o=r[0],a=r[1],s=n[1],u=i.useState(!1),l=u[0],c=u[1];return i.useEffect((function(){var n=function(){return c(!0)},r=function(){s((function(e){return[e[1],t.currentIndex]})),c(!1)};return t.on(e.PlayerEvents.BeforeIndexChange,n),t.on(e.PlayerEvents.IndexChange,r),function(){t.off(e.PlayerEvents.BeforeIndexChange,n),t.off(e.PlayerEvents.IndexChange,r)}}),[t]),{isIndexChanging:l,prevIndex:o,currentIndex:a}},eAe={exports:{}};!function(e){"undefined"!=typeof navigator&&function(t,n){e.exports?e.exports=n(t):(t.lottie=n(t),t.bodymovin=t.lottie)}(window||{},(function(e){var t,n="http://www.w3.org/2000/svg",r="",i=-999999,o=!0,a="",s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),u=Math.pow,l=Math.sqrt,c=Math.floor,d=Math.min,f={};!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=t.length;for(e=0;e<n;e+=1)f[t[e]]=Math[t[e]]}(),f.random=Math.random,f.abs=function(e){if("object"==typeof e&&e.length){var t,n=L(e.length),r=e.length;for(t=0;t<r;t+=1)n[t]=Math.abs(e[t]);return n}return Math.abs(e)};var h=150,p=Math.PI/180,v=.5519;function m(e,t,n,r){this.type=e,this.currentTime=t,this.totalTime=n,this.direction=r<0?-1:1}function g(e,t){this.type=e,this.direction=t<0?-1:1}function y(e,t,n,r){this.type=e,this.currentLoop=n,this.totalLoops=t,this.direction=r<0?-1:1}function b(e,t,n){this.type=e,this.firstFrame=t,this.totalFrames=n}function _(e,t){this.type=e,this.target=t}function E(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function w(e){this.type="configError",this.nativeError=e}var S,T=(S=0,function(){return a+"__lottie_element_"+(S+=1)});function k(e,t,n){var r,i,o,a,s,u,l,c;switch(u=n*(1-t),l=n*(1-(s=6*e-(a=Math.floor(6*e)))*t),c=n*(1-(1-s)*t),a%6){case 0:r=n,i=c,o=u;break;case 1:r=l,i=n,o=u;break;case 2:r=u,i=n,o=c;break;case 3:r=u,i=l,o=n;break;case 4:r=c,i=u,o=n;break;case 5:r=n,i=u,o=l}return[r,i,o]}function x(e,t,n){var r,i=Math.max(e,t,n),o=Math.min(e,t,n),a=i-o,s=0===i?0:a/i,u=i/255;switch(i){case o:r=0;break;case e:r=t-n+a*(t<n?6:0),r/=6*a;break;case t:r=n-e+2*a,r/=6*a;break;case n:r=e-t+4*a,r/=6*a}return[r,s,u]}function A(e,t){var n=x(255*e[0],255*e[1],255*e[2]);return n[1]+=t,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),k(n[0],n[1],n[2])}function P(e,t){var n=x(255*e[0],255*e[1],255*e[2]);return n[2]+=t,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),k(n[0],n[1],n[2])}function O(e,t){var n=x(255*e[0],255*e[1],255*e[2]);return n[0]+=t/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),k(n[0],n[1],n[2])}function C(){}!function(){var e,t,n=[];for(e=0;e<256;e+=1)t=e.toString(16),n[e]=1===t.length?"0"+t:t}(),C.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var n=this._cbs[e],r=0;r<n.length;r+=1)n[r](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var n=0,r=this._cbs[e].length;n<r;)this._cbs[e][n]===t&&(this._cbs[e].splice(n,1),n-=1,r-=1),n+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var I=function(){function e(e,t){var n,r=0,i=[];switch(e){case"int16":case"uint8c":n=1;break;default:n=1.1}for(r=0;r<t;r+=1)i.push(n);return i}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,n){return"float32"===t?new Float32Array(n):"int16"===t?new Int16Array(n):"uint8c"===t?new Uint8ClampedArray(n):e(t,n)}:e}();function L(e){return Array.apply(null,{length:e})}function N(e){return document.createElementNS(n,e)}function D(e){return document.createElement(e)}function R(){}R.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var M,j=(M={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return M[e]||""}),F={1:"butt",2:"round",3:"square"},V={1:"miter",2:"round",3:"bevel"},U=function(){var e=Math.cos,t=Math.sin,n=Math.tan,r=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function o(n){if(0===n)return this;var r=e(n),i=t(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function a(n){if(0===n)return this;var r=e(n),i=t(n);return this._t(1,0,0,0,0,r,-i,0,0,i,r,0,0,0,0,1)}function s(n){if(0===n)return this;var r=e(n),i=t(n);return this._t(r,0,i,0,0,1,0,0,-i,0,r,0,0,0,0,1)}function u(n){if(0===n)return this;var r=e(n),i=t(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function l(e,t){return this._t(1,t,e,1,0,0)}function c(e,t){return this.shear(n(e),n(t))}function d(r,i){var o=e(i),a=t(i);return this._t(o,a,0,0,-a,o,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(r),1,0,0,0,0,1,0,0,0,0,1)._t(o,-a,0,0,a,o,0,0,0,0,1,0,0,0,0,1)}function f(e,t,n){return n||0===n||(n=1),1===e&&1===t&&1===n?this:this._t(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1)}function h(e,t,n,r,i,o,a,s,u,l,c,d,f,h,p,v){return this.props[0]=e,this.props[1]=t,this.props[2]=n,this.props[3]=r,this.props[4]=i,this.props[5]=o,this.props[6]=a,this.props[7]=s,this.props[8]=u,this.props[9]=l,this.props[10]=c,this.props[11]=d,this.props[12]=f,this.props[13]=h,this.props[14]=p,this.props[15]=v,this}function p(e,t,n){return n=n||0,0!==e||0!==t||0!==n?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1):this}function v(e,t,n,r,i,o,a,s,u,l,c,d,f,h,p,v){var m=this.props;if(1===e&&0===t&&0===n&&0===r&&0===i&&1===o&&0===a&&0===s&&0===u&&0===l&&1===c&&0===d)return m[12]=m[12]*e+m[15]*f,m[13]=m[13]*o+m[15]*h,m[14]=m[14]*c+m[15]*p,m[15]*=v,this._identityCalculated=!1,this;var g=m[0],y=m[1],b=m[2],_=m[3],E=m[4],w=m[5],S=m[6],T=m[7],k=m[8],x=m[9],A=m[10],P=m[11],O=m[12],C=m[13],I=m[14],L=m[15];return m[0]=g*e+y*i+b*u+_*f,m[1]=g*t+y*o+b*l+_*h,m[2]=g*n+y*a+b*c+_*p,m[3]=g*r+y*s+b*d+_*v,m[4]=E*e+w*i+S*u+T*f,m[5]=E*t+w*o+S*l+T*h,m[6]=E*n+w*a+S*c+T*p,m[7]=E*r+w*s+S*d+T*v,m[8]=k*e+x*i+A*u+P*f,m[9]=k*t+x*o+A*l+P*h,m[10]=k*n+x*a+A*c+P*p,m[11]=k*r+x*s+A*d+P*v,m[12]=O*e+C*i+I*u+L*f,m[13]=O*t+C*o+I*l+L*h,m[14]=O*n+C*a+I*c+L*p,m[15]=O*r+C*s+I*d+L*v,this._identityCalculated=!1,this}function m(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function g(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function y(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t];return e}function b(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function _(e,t,n){return{x:e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}}function E(e,t,n){return e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12]}function w(e,t,n){return e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13]}function S(e,t,n){return e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}function T(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,n=-this.props[1]/e,r=-this.props[4]/e,i=this.props[0]/e,o=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,s=new U;return s.props[0]=t,s.props[1]=n,s.props[4]=r,s.props[5]=i,s.props[12]=o,s.props[13]=a,s}function k(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function x(e){var t,n=e.length,r=[];for(t=0;t<n;t+=1)r[t]=k(e[t]);return r}function A(e,t,n){var r=I("float32",6);if(this.isIdentity())r[0]=e[0],r[1]=e[1],r[2]=t[0],r[3]=t[1],r[4]=n[0],r[5]=n[1];else{var i=this.props[0],o=this.props[1],a=this.props[4],s=this.props[5],u=this.props[12],l=this.props[13];r[0]=e[0]*i+e[1]*a+u,r[1]=e[0]*o+e[1]*s+l,r[2]=t[0]*i+t[1]*a+u,r[3]=t[0]*o+t[1]*s+l,r[4]=n[0]*i+n[1]*a+u,r[5]=n[0]*o+n[1]*s+l}return r}function P(e,t,n){return this.isIdentity()?[e,t,n]:[e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]]}function O(e,t){if(this.isIdentity())return e+","+t;var n=this.props;return Math.round(100*(e*n[0]+t*n[4]+n[12]))/100+","+Math.round(100*(e*n[1]+t*n[5]+n[13]))/100}function C(){for(var e=0,t=this.props,n="matrix3d(";e<16;)n+=r(1e4*t[e])/1e4,n+=15===e?")":",",e+=1;return n}function L(e){return e<1e-6&&e>0||e>-1e-6&&e<0?r(1e4*e)/1e4:e}function N(){var e=this.props;return"matrix("+L(e[0])+","+L(e[1])+","+L(e[4])+","+L(e[5])+","+L(e[12])+","+L(e[13])+")"}return function(){this.reset=i,this.rotate=o,this.rotateX=a,this.rotateY=s,this.rotateZ=u,this.skew=c,this.skewFromAxis=d,this.shear=l,this.scale=f,this.setTransform=h,this.translate=p,this.transform=v,this.applyToPoint=_,this.applyToX=E,this.applyToY=w,this.applyToZ=S,this.applyToPointArray=P,this.applyToTriplePoints=A,this.applyToPointStringified=O,this.toCSS=C,this.to2dCSS=N,this.clone=y,this.cloneFromProps=b,this.equals=g,this.inversePoints=x,this.inversePoint=k,this.getInverseMatrix=T,this._t=this.transform,this.isIdentity=m,this._identity=!0,this._identityCalculated=!1,this.props=I("float32",16),this.reset()}}();!function(e,t){var n=this,r=256,i="random",o=t.pow(r,6),a=t.pow(2,52),s=2*a,u=r-1;function l(e){var t,n=e.length,i=this,o=0,a=i.i=i.j=0,s=i.S=[];for(n||(e=[n++]);o<r;)s[o]=o++;for(o=0;o<r;o++)s[o]=s[a=u&a+e[o%n]+(t=s[o])],s[a]=t;i.g=function(e){for(var t,n=0,o=i.i,a=i.j,s=i.S;e--;)t=s[o=u&o+1],n=n*r+s[u&(s[o]=s[a=u&a+t])+(s[a]=t)];return i.i=o,i.j=a,n}}function c(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function d(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(d(e[n],t-1))}catch(e){}return r.length?r:"string"==i?e:e+"\0"}function f(e,t){for(var n,r=e+"",i=0;i<r.length;)t[u&i]=u&(n^=19*t[u&i])+r.charCodeAt(i++);return h(t)}function h(e){return String.fromCharCode.apply(0,e)}t["seed"+i]=function(u,p,v){var m=[],g=f(d((p=!0===p?{entropy:!0}:p||{}).entropy?[u,h(e)]:null===u?function(){try{var t=new Uint8Array(r);return(n.crypto||n.msCrypto).getRandomValues(t),h(t)}catch(t){var i=n.navigator,o=i&&i.plugins;return[+new Date,n,o,n.screen,h(e)]}}():u,3),m),y=new l(m),b=function(){for(var e=y.g(6),t=o,n=0;e<a;)e=(e+n)*r,t*=r,n=y.g(1);for(;e>=s;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|y.g(4)},b.quick=function(){return y.g(4)/4294967296},b.double=b,f(h(y.S),e),(p.pass||v||function(e,n,r,o){return o&&(o.S&&c(o,y),e.state=function(){return c(y,{})}),r?(t[i]=e,n):e})(b,g,"global"in p?p.global:this==t,p.state)},f(t.random(),e)}([],f);var B=function(){var e={getBezierEasing:function(e,n,r,i,o){var a=o||("bez_"+e+"_"+n+"_"+r+"_"+i).replace(/\./g,"p");if(t[a])return t[a];var s=new c([e,n,r,i]);return t[a]=s,s}},t={},n=11,r=1/(n-1),i="function"==typeof Float32Array;function o(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function s(e){return 3*e}function u(e,t,n){return((o(t,n)*e+a(t,n))*e+s(t))*e}function l(e,t,n){return 3*o(t,n)*e*e+2*a(t,n)*e+s(t)}function c(e){this._p=e,this._mSampleValues=i?new Float32Array(n):new Array(n),this._precomputed=!1,this.get=this.get.bind(this)}return c.prototype={get:function(e){var t=this._p[0],n=this._p[1],r=this._p[2],i=this._p[3];return this._precomputed||this._precompute(),t===n&&r===i?e:0===e?0:1===e?1:u(this._getTForX(e),n,i)},_precompute:function(){var e=this._p[0],t=this._p[1],n=this._p[2],r=this._p[3];this._precomputed=!0,e===t&&n===r||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],i=0;i<n;++i)this._mSampleValues[i]=u(i*r,e,t)},_getTForX:function(e){for(var t=this._p[0],i=this._p[2],o=this._mSampleValues,a=0,s=1,c=n-1;s!==c&&o[s]<=e;++s)a+=r;var d=a+(e-o[--s])/(o[s+1]-o[s])*r,f=l(d,t,i);return f>=.001?function(e,t,n,r){for(var i=0;i<4;++i){var o=l(t,n,r);if(0===o)return t;t-=(u(t,n,r)-e)/o}return t}(e,d,t,i):0===f?d:function(e,t,n,r,i){var o,a,s=0;do{(o=u(a=t+(n-t)/2,r,i)-e)>0?n=a:t=a}while(Math.abs(o)>1e-7&&++s<10);return a}(e,a,a+r,t,i)}},e}();function z(e,t){var n,r,i=e.length;for(n=0;n<i;n+=1)for(var o in r=e[n].prototype)Object.prototype.hasOwnProperty.call(r,o)&&(t.prototype[o]=r[o])}function G(e){function t(){}return t.prototype=e,t}!function(){for(var t=0,n=["ms","moz","webkit","o"],r=0;r<n.length&&!e.requestAnimationFrame;++r)e.requestAnimationFrame=e[n[r]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n[r]+"CancelAnimationFrame"]||e[n[r]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(e){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),i=setTimeout((function(){e(n+r)}),r);return t=n+r,i}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)})}();var q=function(){var e=Math;function t(e,t,n,r,i,o){var a=e*r+t*i+n*o-i*r-o*e-n*t;return a>-.001&&a<.001}var n=function(e,t,n,r){var i,o,a,s,c,d,f=h,p=0,v=[],m=[],g=Ae.newElement();for(a=n.length,i=0;i<f;i+=1){for(c=i/(f-1),d=0,o=0;o<a;o+=1)s=u(1-c,3)*e[o]+3*u(1-c,2)*c*n[o]+3*(1-c)*u(c,2)*r[o]+u(c,3)*t[o],v[o]=s,null!==m[o]&&(d+=u(v[o]-m[o],2)),m[o]=v[o];d&&(p+=d=l(d)),g.percents[i]=c,g.lengths[i]=p}return g.addedLength=p,g};function r(e){this.segmentLength=0,this.points=new Array(e)}function i(e,t){this.partialLength=e,this.point=t}var o,a=(o={},function(e,n,a,s){var c=(e[0]+"_"+e[1]+"_"+n[0]+"_"+n[1]+"_"+a[0]+"_"+a[1]+"_"+s[0]+"_"+s[1]).replace(/\./g,"p");if(!o[c]){var d,f,p,v,m,g,y,b=h,_=0,E=null;2===e.length&&(e[0]!==n[0]||e[1]!==n[1])&&t(e[0],e[1],n[0],n[1],e[0]+a[0],e[1]+a[1])&&t(e[0],e[1],n[0],n[1],n[0]+s[0],n[1]+s[1])&&(b=2);var w=new r(b);for(p=a.length,d=0;d<b;d+=1){for(y=L(p),m=d/(b-1),g=0,f=0;f<p;f+=1)v=u(1-m,3)*e[f]+3*u(1-m,2)*m*(e[f]+a[f])+3*(1-m)*u(m,2)*(n[f]+s[f])+u(m,3)*n[f],y[f]=v,null!==E&&(g+=u(y[f]-E[f],2));_+=g=l(g),w.points[d]=new i(g,y),E=y}w.segmentLength=_,o[c]=w}return o[c]});function s(e,t){var n=t.percents,r=t.lengths,i=n.length,o=c((i-1)*e),a=e*t.addedLength,s=0;if(o===i-1||0===o||a===r[o])return n[o];for(var u=r[o]>a?-1:1,l=!0;l;)if(r[o]<=a&&r[o+1]>a?(s=(a-r[o])/(r[o+1]-r[o]),l=!1):o+=u,o<0||o>=i-1){if(o===i-1)return n[o];l=!1}return n[o]+(n[o+1]-n[o])*s}var d=I("float32",8);return{getSegmentsLength:function(e){var t,r=xe.newElement(),i=e.c,o=e.v,a=e.o,s=e.i,u=e._length,l=r.lengths,c=0;for(t=0;t<u-1;t+=1)l[t]=n(o[t],o[t+1],a[t],s[t+1]),c+=l[t].addedLength;return i&&u&&(l[t]=n(o[t],o[0],a[t],s[0]),c+=l[t].addedLength),r.totalLength=c,r},getNewSegment:function(t,n,r,i,o,a,u){o<0?o=0:o>1&&(o=1);var l,c=s(o,u),f=s(a=a>1?1:a,u),h=t.length,p=1-c,v=1-f,m=p*p*p,g=c*p*p*3,y=c*c*p*3,b=c*c*c,_=p*p*v,E=c*p*v+p*c*v+p*p*f,w=c*c*v+p*c*f+c*p*f,S=c*c*f,T=p*v*v,k=c*v*v+p*f*v+p*v*f,x=c*f*v+p*f*f+c*v*f,A=c*f*f,P=v*v*v,O=f*v*v+v*f*v+v*v*f,C=f*f*v+v*f*f+f*v*f,I=f*f*f;for(l=0;l<h;l+=1)d[4*l]=e.round(1e3*(m*t[l]+g*r[l]+y*i[l]+b*n[l]))/1e3,d[4*l+1]=e.round(1e3*(_*t[l]+E*r[l]+w*i[l]+S*n[l]))/1e3,d[4*l+2]=e.round(1e3*(T*t[l]+k*r[l]+x*i[l]+A*n[l]))/1e3,d[4*l+3]=e.round(1e3*(P*t[l]+O*r[l]+C*i[l]+I*n[l]))/1e3;return d},getPointInSegment:function(t,n,r,i,o,a){var u=s(o,a),l=1-u;return[e.round(1e3*(l*l*l*t[0]+(u*l*l+l*u*l+l*l*u)*r[0]+(u*u*l+l*u*u+u*l*u)*i[0]+u*u*u*n[0]))/1e3,e.round(1e3*(l*l*l*t[1]+(u*l*l+l*u*l+l*l*u)*r[1]+(u*u*l+l*u*u+u*l*u)*i[1]+u*u*u*n[1]))/1e3]},buildBezierData:a,pointOnLine2D:t,pointOnLine3D:function(n,r,i,o,a,s,u,l,c){if(0===i&&0===s&&0===c)return t(n,r,o,a,u,l);var d,f=e.sqrt(e.pow(o-n,2)+e.pow(a-r,2)+e.pow(s-i,2)),h=e.sqrt(e.pow(u-n,2)+e.pow(l-r,2)+e.pow(c-i,2)),p=e.sqrt(e.pow(u-o,2)+e.pow(l-a,2)+e.pow(c-s,2));return(d=f>h?f>p?f-h-p:p-h-f:p>h?p-h-f:h-f-p)>-1e-4&&d<1e-4}}}(),H=function(){function e(i,o,a){var s,u,l,d,f,h,p=i.length;for(u=0;u<p;u+=1)if("ks"in(s=i[u])&&!s.completed){if(s.completed=!0,s.tt&&(i[u-1].td=s.tt),s.hasMask){var v=s.masksProperties;for(d=v.length,l=0;l<d;l+=1)if(v[l].pt.k.i)r(v[l].pt.k);else for(h=v[l].pt.k.length,f=0;f<h;f+=1)v[l].pt.k[f].s&&r(v[l].pt.k[f].s[0]),v[l].pt.k[f].e&&r(v[l].pt.k[f].e[0])}0===s.ty?(s.layers=t(s.refId,o),e(s.layers,o)):4===s.ty?n(s.shapes):5===s.ty&&c(s)}}function t(e,t){for(var n=0,r=t.length;n<r;){if(t[n].id===e)return t[n].layers.__used?JSON.parse(JSON.stringify(t[n].layers)):(t[n].layers.__used=!0,t[n].layers);n+=1}return null}function n(e){var t,i,o;for(t=e.length-1;t>=0;t-=1)if("sh"===e[t].ty)if(e[t].ks.k.i)r(e[t].ks.k);else for(o=e[t].ks.k.length,i=0;i<o;i+=1)e[t].ks.k[i].s&&r(e[t].ks.k[i].s[0]),e[t].ks.k[i].e&&r(e[t].ks.k[i].e[0]);else"gr"===e[t].ty&&n(e[t].it)}function r(e){var t,n=e.i.length;for(t=0;t<n;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function i(e,t){var n=t?t.split("."):[100,100,100];return e[0]>n[0]||!(n[0]>e[0])&&(e[1]>n[1]||!(n[1]>e[1])&&(e[2]>n[2]||!(n[2]>e[2])&&null))}var o,a=function(){var e=[4,4,14];function t(e){var t,n,r,i=e.length;for(t=0;t<i;t+=1)5===e[t].ty&&(r=void 0,r=(n=e[t]).t.d,n.t.d={k:[{s:r,t:0}]})}return function(n){if(i(e,n.v)&&(t(n.layers),n.assets)){var r,o=n.assets.length;for(r=0;r<o;r+=1)n.assets[r].layers&&t(n.assets[r].layers)}}}(),s=(o=[4,7,99],function(e){if(e.chars&&!i(o,e.v)){var t,n,a,s,u,l=e.chars.length;for(t=0;t<l;t+=1)if(e.chars[t].data&&e.chars[t].data.shapes)for(a=(u=e.chars[t].data.shapes[0].it).length,n=0;n<a;n+=1)(s=u[n].ks.k).__converted||(r(u[n].ks.k),s.__converted=!0)}}),u=function(){var e=[4,1,9];function t(e){var n,r,i,o=e.length;for(n=0;n<o;n+=1)if("gr"===e[n].ty)t(e[n].it);else if("fl"===e[n].ty||"st"===e[n].ty)if(e[n].c.k&&e[n].c.k[0].i)for(i=e[n].c.k.length,r=0;r<i;r+=1)e[n].c.k[r].s&&(e[n].c.k[r].s[0]/=255,e[n].c.k[r].s[1]/=255,e[n].c.k[r].s[2]/=255,e[n].c.k[r].s[3]/=255),e[n].c.k[r].e&&(e[n].c.k[r].e[0]/=255,e[n].c.k[r].e[1]/=255,e[n].c.k[r].e[2]/=255,e[n].c.k[r].e[3]/=255);else e[n].c.k[0]/=255,e[n].c.k[1]/=255,e[n].c.k[2]/=255,e[n].c.k[3]/=255}function n(e){var n,r=e.length;for(n=0;n<r;n+=1)4===e[n].ty&&t(e[n].shapes)}return function(t){if(i(e,t.v)&&(n(t.layers),t.assets)){var r,o=t.assets.length;for(r=0;r<o;r+=1)t.assets[r].layers&&n(t.assets[r].layers)}}}(),l=function(){var e=[4,4,18];function t(e){var n,r,i;for(n=e.length-1;n>=0;n-=1)if("sh"===e[n].ty)if(e[n].ks.k.i)e[n].ks.k.c=e[n].closed;else for(i=e[n].ks.k.length,r=0;r<i;r+=1)e[n].ks.k[r].s&&(e[n].ks.k[r].s[0].c=e[n].closed),e[n].ks.k[r].e&&(e[n].ks.k[r].e[0].c=e[n].closed);else"gr"===e[n].ty&&t(e[n].it)}function n(e){var n,r,i,o,a,s,u=e.length;for(r=0;r<u;r+=1){if((n=e[r]).hasMask){var l=n.masksProperties;for(o=l.length,i=0;i<o;i+=1)if(l[i].pt.k.i)l[i].pt.k.c=l[i].cl;else for(s=l[i].pt.k.length,a=0;a<s;a+=1)l[i].pt.k[a].s&&(l[i].pt.k[a].s[0].c=l[i].cl),l[i].pt.k[a].e&&(l[i].pt.k[a].e[0].c=l[i].cl)}4===n.ty&&t(n.shapes)}}return function(t){if(i(e,t.v)&&(n(t.layers),t.assets)){var r,o=t.assets.length;for(r=0;r<o;r+=1)t.assets[r].layers&&n(t.assets[r].layers)}}}();function c(e){0!==e.t.a.length||"m"in e.t.p||(e.singleShape=!0)}var d={completeData:function(t,n){t.__complete||(u(t),a(t),s(t),l(t),e(t.layers,t.assets),t.__complete=!0)}};return d.checkColors=u,d.checkChars=s,d.checkShapes=l,d.completeLayers=e,d}();function W(e){for(var t=e.fStyle?e.fStyle.split(" "):[],n="normal",r="normal",i=t.length,o=0;o<i;o+=1)switch(t[o].toLowerCase()){case"italic":r="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200"}return{style:r,weight:e.fWeight||n}}var K=function(){var e={w:0,size:0,shapes:[]},t=[];t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],r=[65039,8205];function i(e,t){var n=D("span");n.setAttribute("aria-hidden",!0),n.style.fontFamily=t;var r=D("span");r.innerText="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(r),document.body.appendChild(n);var i=r.offsetWidth;return r.style.fontFamily=function(e){var t,n=e.split(","),r=n.length,i=[];for(t=0;t<r;t+=1)"sans-serif"!==n[t]&&"monospace"!==n[t]&&i.push(n[t]);return i.join(",")}(e)+", "+t,{node:r,w:i,parent:n}}function o(e,t){var n=N("text");n.style.fontSize="100px";var r=W(t);return n.setAttribute("font-family",t.fFamily),n.setAttribute("font-style",r.style),n.setAttribute("font-weight",r.weight),n.textContent="1",t.fClass?(n.style.fontFamily="inherit",n.setAttribute("class",t.fClass)):n.style.fontFamily=t.fFamily,e.appendChild(n),D("canvas").getContext("2d").font=t.fWeight+" "+t.fStyle+" 100px "+t.fFamily,n}var a=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};a.isModifier=function(e,t){var r=e.toString(16)+t.toString(16);return-1!==n.indexOf(r)},a.isZeroWidthJoiner=function(e,t){return t?e===r[0]&&t===r[1]:e===r[1]},a.isCombinedCharacter=function(e){return-1!==t.indexOf(e)};var s={addChars:function(e){if(e){var t;this.chars||(this.chars=[]);var n,r,i=e.length,o=this.chars.length;for(t=0;t<i;t+=1){for(n=0,r=!1;n<o;)this.chars[n].style===e[t].style&&this.chars[n].fFamily===e[t].fFamily&&this.chars[n].ch===e[t].ch&&(r=!0),n+=1;r||(this.chars.push(e[t]),o+=1)}}},addFonts:function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);var n,r=e.list,a=r.length,s=a;for(n=0;n<a;n+=1){var u,l,c=!0;if(r[n].loaded=!1,r[n].monoCase=i(r[n].fFamily,"monospace"),r[n].sansCase=i(r[n].fFamily,"sans-serif"),r[n].fPath){if("p"===r[n].fOrigin||3===r[n].origin){if((u=document.querySelectorAll('style[f-forigin="p"][f-family="'+r[n].fFamily+'"], style[f-origin="3"][f-family="'+r[n].fFamily+'"]')).length>0&&(c=!1),c){var d=D("style");d.setAttribute("f-forigin",r[n].fOrigin),d.setAttribute("f-origin",r[n].origin),d.setAttribute("f-family",r[n].fFamily),d.type="text/css",d.innerText="@font-face {font-family: "+r[n].fFamily+"; font-style: normal; src: url('"+r[n].fPath+"');}",t.appendChild(d)}}else if("g"===r[n].fOrigin||1===r[n].origin){for(u=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),l=0;l<u.length;l+=1)-1!==u[l].href.indexOf(r[n].fPath)&&(c=!1);if(c){var f=D("link");f.setAttribute("f-forigin",r[n].fOrigin),f.setAttribute("f-origin",r[n].origin),f.type="text/css",f.rel="stylesheet",f.href=r[n].fPath,document.body.appendChild(f)}}else if("t"===r[n].fOrigin||2===r[n].origin){for(u=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),l=0;l<u.length;l+=1)r[n].fPath===u[l].src&&(c=!1);if(c){var h=D("link");h.setAttribute("f-forigin",r[n].fOrigin),h.setAttribute("f-origin",r[n].origin),h.setAttribute("rel","stylesheet"),h.setAttribute("href",r[n].fPath),t.appendChild(h)}}}else r[n].loaded=!0,s-=1;r[n].helper=o(t,r[n]),r[n].cache={},this.fonts.push(r[n])}0===s?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,n,r){for(var i=0,o=this.chars.length;i<o;){if(this.chars[i].ch===t&&this.chars[i].style===n&&this.chars[i].fFamily===r)return this.chars[i];i+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,n,r)),e},getFontByName:function(e){for(var t=0,n=this.fonts.length;t<n;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},measureText:function(e,t,n){var r=this.getFontByName(t),i=e.charCodeAt(0);if(!r.cache[i+1]){var o=r.helper;if(" "===e){o.textContent="|"+e+"|";var a=o.getComputedTextLength();o.textContent="||";var s=o.getComputedTextLength();r.cache[i+1]=(a-s)/100}else o.textContent=e,r.cache[i+1]=o.getComputedTextLength()/100}return r.cache[i+1]*n},checkLoadedFonts:function(){var e,t,n,r=this.fonts.length,i=r;for(e=0;e<r;e+=1)this.fonts[e].loaded?i-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,n=this.fonts[e].monoCase.w,t.offsetWidth!==n?(i-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,n=this.fonts[e].sansCase.w,t.offsetWidth!==n&&(i-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==i&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return a.prototype=s,a}(),Y=function(){var e=i,t=Math.abs;function n(e,t){var n,i=this.offsetTime;"multidimensional"===this.propType&&(n=I("float32",this.pv.length));for(var o,a,s,u,l,c,d,f,h=t.lastIndex,v=h,m=this.keyframes.length-1,g=!0;g;){if(o=this.keyframes[v],a=this.keyframes[v+1],v===m-1&&e>=a.t-i){o.h&&(o=a),h=0;break}if(a.t-i>e){h=v;break}v<m-1?v+=1:(h=0,g=!1)}var y,b,_,E,w,S,T,k,x,A,P=a.t-i,O=o.t-i;if(o.to){o.bezierData||(o.bezierData=q.buildBezierData(o.s,a.s||o.e,o.to,o.ti));var C=o.bezierData;if(e>=P||e<O){var L=e>=P?C.points.length-1:0;for(u=C.points[L].point.length,s=0;s<u;s+=1)n[s]=C.points[L].point[s]}else{o.__fnct?f=o.__fnct:(f=B.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y,o.n).get,o.__fnct=f),l=f((e-O)/(P-O));var N,D=C.segmentLength*l,R=t.lastFrame<e&&t._lastKeyframeIndex===v?t._lastAddedLength:0;for(d=t.lastFrame<e&&t._lastKeyframeIndex===v?t._lastPoint:0,g=!0,c=C.points.length;g;){if(R+=C.points[d].partialLength,0===D||0===l||d===C.points.length-1){for(u=C.points[d].point.length,s=0;s<u;s+=1)n[s]=C.points[d].point[s];break}if(D>=R&&D<R+C.points[d+1].partialLength){for(N=(D-R)/C.points[d+1].partialLength,u=C.points[d].point.length,s=0;s<u;s+=1)n[s]=C.points[d].point[s]+(C.points[d+1].point[s]-C.points[d].point[s])*N;break}d<c-1?d+=1:g=!1}t._lastPoint=d,t._lastAddedLength=R-C.points[d].partialLength,t._lastKeyframeIndex=v}}else{var M,j,F,V,U;if(m=o.s.length,y=a.s||o.e,this.sh&&1!==o.h)e>=P?(n[0]=y[0],n[1]=y[1],n[2]=y[2]):e<=O?(n[0]=o.s[0],n[1]=o.s[1],n[2]=o.s[2]):(b=n,_=function(e,t,n){var r,i,o,a,s,u=[],l=e[0],c=e[1],d=e[2],f=e[3],h=t[0],p=t[1],v=t[2],m=t[3];return(i=l*h+c*p+d*v+f*m)<0&&(i=-i,h=-h,p=-p,v=-v,m=-m),1-i>1e-6?(r=Math.acos(i),o=Math.sin(r),a=Math.sin((1-n)*r)/o,s=Math.sin(n*r)/o):(a=1-n,s=n),u[0]=a*l+s*h,u[1]=a*c+s*p,u[2]=a*d+s*v,u[3]=a*f+s*m,u}(r(o.s),r(y),(e-O)/(P-O)),E=_[0],w=_[1],S=_[2],T=_[3],k=Math.atan2(2*w*T-2*E*S,1-2*w*w-2*S*S),x=Math.asin(2*E*w+2*S*T),A=Math.atan2(2*E*T-2*w*S,1-2*E*E-2*S*S),b[0]=k/p,b[1]=x/p,b[2]=A/p);else for(v=0;v<m;v+=1)1!==o.h&&(e>=P?l=1:e<O?l=0:(o.o.x.constructor===Array?(o.__fnct||(o.__fnct=[]),o.__fnct[v]?f=o.__fnct[v]:(M=void 0===o.o.x[v]?o.o.x[0]:o.o.x[v],j=void 0===o.o.y[v]?o.o.y[0]:o.o.y[v],F=void 0===o.i.x[v]?o.i.x[0]:o.i.x[v],V=void 0===o.i.y[v]?o.i.y[0]:o.i.y[v],f=B.getBezierEasing(M,j,F,V).get,o.__fnct[v]=f)):o.__fnct?f=o.__fnct:(M=o.o.x,j=o.o.y,F=o.i.x,V=o.i.y,f=B.getBezierEasing(M,j,F,V).get,o.__fnct=f),l=f((e-O)/(P-O)))),y=a.s||o.e,U=1===o.h?o.s[v]:o.s[v]+(y[v]-o.s[v])*l,"multidimensional"===this.propType?n[v]=U:n=U}return t.lastIndex=h,n}function r(e){var t=e[0]*p,n=e[1]*p,r=e[2]*p,i=Math.cos(t/2),o=Math.cos(n/2),a=Math.cos(r/2),s=Math.sin(t/2),u=Math.sin(n/2),l=Math.sin(r/2);return[s*u*a+i*o*l,s*o*a+i*u*l,i*u*a-s*o*l,i*o*a-s*u*l]}function o(){var t=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==e&&(this._caching.lastFrame>=r&&t>=r||this._caching.lastFrame<n&&t<n))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var i=this.interpolateValue(t,this._caching);this.pv=i}return this._caching.lastFrame=t,this.pv}function a(e){var n;if("unidimensional"===this.propType)n=e*this.mult,t(this.v-n)>1e-5&&(this.v=n,this._mdf=!0);else for(var r=0,i=this.v.length;r<i;)n=e[r]*this.mult,t(this.v[r]-n)>1e-5&&(this.v[r]=n,this._mdf=!0),r+=1}function s(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e;this.lock=!0,this._mdf=this._isFirstFrame;var t=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)n=this.effectsSequence[e](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function u(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(e,t,n,r){this.propType="unidimensional",this.mult=n||1,this.data=t,this.v=n?t.k*n:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=r,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=s,this.setVValue=a,this.addEffect=u}function c(e,t,n,r){var i;this.propType="multidimensional",this.mult=n||1,this.data=t,this._mdf=!1,this.elem=e,this.container=r,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var o=t.k.length;for(this.v=I("float32",o),this.pv=I("float32",o),this.vel=I("float32",o),i=0;i<o;i+=1)this.v[i]=t.k[i]*this.mult,this.pv[i]=t.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=s,this.setVValue=a,this.addEffect=u}function d(t,r,i,l){this.propType="unidimensional",this.keyframes=r.k,this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=r,this.mult=i||1,this.elem=t,this.container=l,this.comp=t.comp,this.v=e,this.pv=e,this._isFirstFrame=!0,this.getValue=s,this.setVValue=a,this.interpolateValue=n,this.effectsSequence=[o.bind(this)],this.addEffect=u}function f(t,r,i,l){var c;this.propType="multidimensional";var d,f,h,p,v=r.k.length;for(c=0;c<v-1;c+=1)r.k[c].to&&r.k[c].s&&r.k[c+1]&&r.k[c+1].s&&(d=r.k[c].s,f=r.k[c+1].s,h=r.k[c].to,p=r.k[c].ti,(2===d.length&&(d[0]!==f[0]||d[1]!==f[1])&&q.pointOnLine2D(d[0],d[1],f[0],f[1],d[0]+h[0],d[1]+h[1])&&q.pointOnLine2D(d[0],d[1],f[0],f[1],f[0]+p[0],f[1]+p[1])||3===d.length&&(d[0]!==f[0]||d[1]!==f[1]||d[2]!==f[2])&&q.pointOnLine3D(d[0],d[1],d[2],f[0],f[1],f[2],d[0]+h[0],d[1]+h[1],d[2]+h[2])&&q.pointOnLine3D(d[0],d[1],d[2],f[0],f[1],f[2],f[0]+p[0],f[1]+p[1],f[2]+p[2]))&&(r.k[c].to=null,r.k[c].ti=null),d[0]===f[0]&&d[1]===f[1]&&0===h[0]&&0===h[1]&&0===p[0]&&0===p[1]&&(2===d.length||d[2]===f[2]&&0===h[2]&&0===p[2])&&(r.k[c].to=null,r.k[c].ti=null));this.effectsSequence=[o.bind(this)],this.data=r,this.keyframes=r.k,this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=i||1,this.elem=t,this.container=l,this.comp=t.comp,this.getValue=s,this.setVValue=a,this.interpolateValue=n,this.frameId=-1;var m=r.k[0].s.length;for(this.v=I("float32",m),this.pv=I("float32",m),c=0;c<m;c+=1)this.v[c]=e,this.pv[c]=e;this._caching={lastFrame:e,lastIndex:0,value:I("float32",m)},this.addEffect=u}var h={getProp:function(e,t,n,r,i){var o;if(t.k.length)if("number"==typeof t.k[0])o=new c(e,t,r,i);else switch(n){case 0:o=new d(e,t,r,i);break;case 1:o=new f(e,t,r,i)}else o=new l(e,t,r,i);return o.effectsSequence.length&&i.addDynamicProperty(o),o}};return h}(),X=function(){var e=[0,0];function t(e,t,n){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new U,this.pre=new U,this.appliedTransformations=0,this.initDynamicPropertyContainer(n||e),t.p&&t.p.s?(this.px=Y.getProp(e,t.p.x,0,0,this),this.py=Y.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=Y.getProp(e,t.p.z,0,0,this))):this.p=Y.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=Y.getProp(e,t.rx,0,p,this),this.ry=Y.getProp(e,t.ry,0,p,this),this.rz=Y.getProp(e,t.rz,0,p,this),t.or.k[0].ti){var r,i=t.or.k.length;for(r=0;r<i;r+=1)t.or.k[r].to=null,t.or.k[r].ti=null}this.or=Y.getProp(e,t.or,1,p,this),this.or.sh=!0}else this.r=Y.getProp(e,t.r||{k:0},0,p,this);t.sk&&(this.sk=Y.getProp(e,t.sk,0,p,this),this.sa=Y.getProp(e,t.sa,0,p,this)),this.a=Y.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=Y.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=Y.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){var n;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var r,i;if(n=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(r=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),i=this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(r=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),i=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/n,0)):(r=this.p.pv,i=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){r=[],i=[];var o=this.px,a=this.py;o._caching.lastFrame+o.offsetTime<=o.keyframes[0].t?(r[0]=o.getValueAtTime((o.keyframes[0].t+.01)/n,0),r[1]=a.getValueAtTime((a.keyframes[0].t+.01)/n,0),i[0]=o.getValueAtTime(o.keyframes[0].t/n,0),i[1]=a.getValueAtTime(a.keyframes[0].t/n,0)):o._caching.lastFrame+o.offsetTime>=o.keyframes[o.keyframes.length-1].t?(r[0]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/n,0),r[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/n,0),i[0]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/n,0),i[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/n,0)):(r=[o.pv,a.pv],i[0]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/n,o.offsetTime),i[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/n,a.offsetTime))}else r=i=e;this.v.rotate(-Math.atan2(r[1]-i[1],r[0]-i[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},z([R],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=R.prototype.addDynamicProperty,{getTransformProperty:function(e,n,r){return new t(e,n,r)}}}();function $(){this.c=!1,this._length=0,this._maxLength=8,this.v=L(this._maxLength),this.o=L(this._maxLength),this.i=L(this._maxLength)}$.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var n=0;n<t;)this.v[n]=Se.newElement(),this.o[n]=Se.newElement(),this.i[n]=Se.newElement(),n+=1},$.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},$.prototype.doubleArrayLength=function(){this.v=this.v.concat(L(this._maxLength)),this.i=this.i.concat(L(this._maxLength)),this.o=this.o.concat(L(this._maxLength)),this._maxLength*=2},$.prototype.setXYAt=function(e,t,n,r,i){var o;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o;break;default:o=[]}(!o[r]||o[r]&&!i)&&(o[r]=Se.newElement()),o[r][0]=e,o[r][1]=t},$.prototype.setTripleAt=function(e,t,n,r,i,o,a,s){this.setXYAt(e,t,"v",a,s),this.setXYAt(n,r,"o",a,s),this.setXYAt(i,o,"i",a,s)},$.prototype.reverse=function(){var e=new $;e.setPathData(this.c,this._length);var t=this.v,n=this.o,r=this.i,i=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],r[0][0],r[0][1],n[0][0],n[0][1],0,!1),i=1);var o,a=this._length-1,s=this._length;for(o=i;o<s;o+=1)e.setTripleAt(t[a][0],t[a][1],r[a][0],r[a][1],n[a][0],n[a][1],o,!1),a-=1;return e};var Q,J,Z=function(){var e=-999999;function t(e,t,n){var r,i,o,a,s,u,l,c,d,f=n.lastIndex,h=this.keyframes;if(e<h[0].t-this.offsetTime)r=h[0].s[0],o=!0,f=0;else if(e>=h[h.length-1].t-this.offsetTime)r=h[h.length-1].s?h[h.length-1].s[0]:h[h.length-2].e[0],o=!0;else{for(var p,v,m=f,g=h.length-1,y=!0;y&&(p=h[m],!((v=h[m+1]).t-this.offsetTime>e));)m<g-1?m+=1:y=!1;if(f=m,!(o=1===p.h)){if(e>=v.t-this.offsetTime)c=1;else if(e<p.t-this.offsetTime)c=0;else{var b;p.__fnct?b=p.__fnct:(b=B.getBezierEasing(p.o.x,p.o.y,p.i.x,p.i.y).get,p.__fnct=b),c=b((e-(p.t-this.offsetTime))/(v.t-this.offsetTime-(p.t-this.offsetTime)))}i=v.s?v.s[0]:p.e[0]}r=p.s[0]}for(u=t._length,l=r.i[0].length,n.lastIndex=f,a=0;a<u;a+=1)for(s=0;s<l;s+=1)d=o?r.i[a][s]:r.i[a][s]+(i.i[a][s]-r.i[a][s])*c,t.i[a][s]=d,d=o?r.o[a][s]:r.o[a][s]+(i.o[a][s]-r.o[a][s])*c,t.o[a][s]=d,d=o?r.v[a][s]:r.v[a][s]+(i.v[a][s]-r.v[a][s])*c,t.v[a][s]=d}function n(){var t=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime,i=this._caching.lastFrame;return i!==e&&(i<n&&t<n||i>r&&t>r)||(this._caching.lastIndex=i<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function r(){this.paths=this.localShapeCollection}function i(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var n,r=e._length;for(n=0;n<r;n+=1)if(e.v[n][0]!==t.v[n][0]||e.v[n][1]!==t.v[n][1]||e.o[n][0]!==t.o[n][0]||e.o[n][1]!==t.o[n][1]||e.i[n][0]!==t.i[n][0]||e.i[n][1]!==t.i[n][1])return!1;return!0})(this.v,e)||(this.v=Te.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function o(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e,t;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var n=this.effectsSequence.length;for(t=0;t<n;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function a(e,t,n){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var i=3===n?t.pt.k:t.ks.k;this.v=Te.clone(i),this.pv=Te.clone(this.v),this.localShapeCollection=ke.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function s(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function u(t,i,o){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===o?i.pt.k:i.ks.k,this.k=!0,this.kf=!0;var a=this.keyframes[0].s[0].i.length;this.v=Te.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,a),this.pv=Te.clone(this.v),this.localShapeCollection=ke.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=r,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[n.bind(this)]}a.prototype.interpolateShape=t,a.prototype.getValue=o,a.prototype.setVValue=i,a.prototype.addEffect=s,u.prototype.getValue=o,u.prototype.interpolateShape=t,u.prototype.setVValue=i,u.prototype.addEffect=s;var l=function(){var e=v;function t(e,t){this.v=Te.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=ke.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=Y.getProp(e,t.p,1,0,this),this.s=Y.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],n=this.p.v[1],r=this.s.v[0]/2,i=this.s.v[1]/2,o=3!==this.d,a=this.v;a.v[0][0]=t,a.v[0][1]=n-i,a.v[1][0]=o?t+r:t-r,a.v[1][1]=n,a.v[2][0]=t,a.v[2][1]=n+i,a.v[3][0]=o?t-r:t+r,a.v[3][1]=n,a.i[0][0]=o?t-r*e:t+r*e,a.i[0][1]=n-i,a.i[1][0]=o?t+r:t-r,a.i[1][1]=n-i*e,a.i[2][0]=o?t+r*e:t-r*e,a.i[2][1]=n+i,a.i[3][0]=o?t-r:t+r,a.i[3][1]=n+i*e,a.o[0][0]=o?t+r*e:t-r*e,a.o[0][1]=n-i,a.o[1][0]=o?t+r:t-r,a.o[1][1]=n+i*e,a.o[2][0]=o?t-r*e:t+r*e,a.o[2][1]=n+i,a.o[3][0]=o?t-r:t+r,a.o[3][1]=n-i*e}},z([R],t),t}(),c=function(){function e(e,t){this.v=Te.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=Y.getProp(e,t.ir,0,0,this),this.is=Y.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=Y.getProp(e,t.pt,0,0,this),this.p=Y.getProp(e,t.p,1,0,this),this.r=Y.getProp(e,t.r,0,p,this),this.or=Y.getProp(e,t.or,0,0,this),this.os=Y.getProp(e,t.os,0,.01,this),this.localShapeCollection=ke.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,n,r,i=2*Math.floor(this.pt.v),o=2*Math.PI/i,a=!0,s=this.or.v,u=this.ir.v,l=this.os.v,c=this.is.v,d=2*Math.PI*s/(2*i),f=2*Math.PI*u/(2*i),h=-Math.PI/2;h+=this.r.v;var p=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<i;e+=1){n=a?l:c,r=a?d:f;var v=(t=a?s:u)*Math.cos(h),m=t*Math.sin(h),g=0===v&&0===m?0:m/Math.sqrt(v*v+m*m),y=0===v&&0===m?0:-v/Math.sqrt(v*v+m*m);v+=+this.p.v[0],m+=+this.p.v[1],this.v.setTripleAt(v,m,v-g*r*n*p,m-y*r*n*p,v+g*r*n*p,m+y*r*n*p,e,!0),a=!a,h+=o*p}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),n=2*Math.PI/t,r=this.or.v,i=this.os.v,o=2*Math.PI*r/(4*t),a=.5*-Math.PI,s=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var u=r*Math.cos(a),l=r*Math.sin(a),c=0===u&&0===l?0:l/Math.sqrt(u*u+l*l),d=0===u&&0===l?0:-u/Math.sqrt(u*u+l*l);u+=+this.p.v[0],l+=+this.p.v[1],this.v.setTripleAt(u,l,u-c*o*i*s,l-d*o*i*s,u+c*o*i*s,l+d*o*i*s,e,!0),a+=n*s}this.paths.length=0,this.paths[0]=this.v}},z([R],e),e}(),f=function(){function e(e,t){this.v=Te.newElement(),this.v.c=!0,this.localShapeCollection=ke.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=Y.getProp(e,t.p,1,0,this),this.s=Y.getProp(e,t.s,1,0,this),this.r=Y.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],n=this.s.v[0]/2,r=this.s.v[1]/2,i=d(n,r,this.r.v),o=i*(1-v);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+n,t-r+i,e+n,t-r+i,e+n,t-r+o,0,!0),this.v.setTripleAt(e+n,t+r-i,e+n,t+r-o,e+n,t+r-i,1,!0),0!==i?(this.v.setTripleAt(e+n-i,t+r,e+n-i,t+r,e+n-o,t+r,2,!0),this.v.setTripleAt(e-n+i,t+r,e-n+o,t+r,e-n+i,t+r,3,!0),this.v.setTripleAt(e-n,t+r-i,e-n,t+r-i,e-n,t+r-o,4,!0),this.v.setTripleAt(e-n,t-r+i,e-n,t-r+o,e-n,t-r+i,5,!0),this.v.setTripleAt(e-n+i,t-r,e-n+i,t-r,e-n+o,t-r,6,!0),this.v.setTripleAt(e+n-i,t-r,e+n-o,t-r,e+n-i,t-r,7,!0)):(this.v.setTripleAt(e-n,t+r,e-n+o,t+r,e-n,t+r,2),this.v.setTripleAt(e-n,t-r,e-n,t-r+o,e-n,t-r,3))):(this.v.setTripleAt(e+n,t-r+i,e+n,t-r+o,e+n,t-r+i,0,!0),0!==i?(this.v.setTripleAt(e+n-i,t-r,e+n-i,t-r,e+n-o,t-r,1,!0),this.v.setTripleAt(e-n+i,t-r,e-n+o,t-r,e-n+i,t-r,2,!0),this.v.setTripleAt(e-n,t-r+i,e-n,t-r+i,e-n,t-r+o,3,!0),this.v.setTripleAt(e-n,t+r-i,e-n,t+r-o,e-n,t+r-i,4,!0),this.v.setTripleAt(e-n+i,t+r,e-n+i,t+r,e-n+o,t+r,5,!0),this.v.setTripleAt(e+n-i,t+r,e+n-o,t+r,e+n-i,t+r,6,!0),this.v.setTripleAt(e+n,t+r-i,e+n,t+r-i,e+n,t+r-o,7,!0)):(this.v.setTripleAt(e-n,t-r,e-n+o,t-r,e-n,t-r,1,!0),this.v.setTripleAt(e-n,t+r,e-n,t+r-o,e-n,t+r,2,!0),this.v.setTripleAt(e+n,t+r,e+n-o,t+r,e+n,t+r,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},z([R],e),e}(),h={getShapeProp:function(e,t,n){var r;return 3===n||4===n?r=(3===n?t.pt:t.ks).k.length?new u(e,t,n):new a(e,t,n):5===n?r=new f(e,t):6===n?r=new l(e,t):7===n&&(r=new c(e,t)),r.k&&e.addDynamicProperty(r),r},getConstructorFunction:function(){return a},getKeyframedConstructorFunction:function(){return u}};return h}(),ee=(J={},(Q={}).registerModifier=function(e,t){J[e]||(J[e]=t)},Q.getModifier=function(e,t,n){return new J[e](t,n)},Q);function te(){}function ne(){}function re(){}function ie(){}function oe(){}function ae(){this._length=0,this._maxLength=4,this.shapes=L(this._maxLength)}function se(e,t,n,r){var i;this.elem=e,this.frameId=-1,this.dataProps=L(t.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=I("float32",t.length?t.length-1:0),this.dashoffset=I("float32",1),this.initDynamicPropertyContainer(r);var o,a=t.length||0;for(i=0;i<a;i+=1)o=Y.getProp(e,t[i].v,0,0,this),this.k=o.k||this.k,this.dataProps[i]={n:t[i].n,p:o};this.k||this.getValue(!0),this._isAnimated=this.k}function ue(e,t,n){this.data=t,this.c=I("uint8c",4*t.p);var r=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=I("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(n),this.prop=Y.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}te.prototype.initModifierProperties=function(){},te.prototype.addShapeToModifier=function(){},te.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:ke.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},te.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=i,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},te.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},z([R],te),z([te],ne),ne.prototype.initModifierProperties=function(e,t){this.s=Y.getProp(e,t.s,0,.01,this),this.e=Y.getProp(e,t.e,0,.01,this),this.o=Y.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},ne.prototype.addShapeToModifier=function(e){e.pathsData=[]},ne.prototype.calculateShapeEdges=function(e,t,n,r,i){var o=[];t<=1?o.push({s:e,e:t}):e>=1?o.push({s:e-1,e:t-1}):(o.push({s:e,e:1}),o.push({s:0,e:t-1}));var a,s,u=[],l=o.length;for(a=0;a<l;a+=1){var c,d;(s=o[a]).e*i<r||s.s*i>r+n||(c=s.s*i<=r?0:(s.s*i-r)/n,d=s.e*i>=r+n?1:(s.e*i-r)/n,u.push([c,d]))}return u.length||u.push([0,0]),u},ne.prototype.releasePathsData=function(e){var t,n=e.length;for(t=0;t<n;t+=1)xe.release(e[t]);return e.length=0,e},ne.prototype.processShapes=function(e){var t,n,r,i;if(this._mdf||e){var o=this.o.v%360/360;if(o<0&&(o+=1),(t=this.s.v>1?1+o:this.s.v<0?0+o:this.s.v+o)>(n=this.e.v>1?1+o:this.e.v<0?0+o:this.e.v+o)){var a=t;t=n,n=a}t=1e-4*Math.round(1e4*t),n=1e-4*Math.round(1e4*n),this.sValue=t,this.eValue=n}else t=this.sValue,n=this.eValue;var s,u,l,c,d,f=this.shapes.length,h=0;if(n===t)for(i=0;i<f;i+=1)this.shapes[i].localShapeCollection.releaseShapes(),this.shapes[i].shape._mdf=!0,this.shapes[i].shape.paths=this.shapes[i].localShapeCollection,this._mdf&&(this.shapes[i].pathsData.length=0);else if(1===n&&0===t||0===n&&1===t){if(this._mdf)for(i=0;i<f;i+=1)this.shapes[i].pathsData.length=0,this.shapes[i].shape._mdf=!0}else{var p,v,m=[];for(i=0;i<f;i+=1)if((p=this.shapes[i]).shape._mdf||this._mdf||e||2===this.m){if(u=(r=p.shape.paths)._length,d=0,!p.shape._mdf&&p.pathsData.length)d=p.totalShapeLength;else{for(l=this.releasePathsData(p.pathsData),s=0;s<u;s+=1)c=q.getSegmentsLength(r.shapes[s]),l.push(c),d+=c.totalLength;p.totalShapeLength=d,p.pathsData=l}h+=d,p.shape._mdf=!0}else p.shape.paths=p.localShapeCollection;var g,y=t,b=n,_=0;for(i=f-1;i>=0;i-=1)if((p=this.shapes[i]).shape._mdf){for((v=p.localShapeCollection).releaseShapes(),2===this.m&&f>1?(g=this.calculateShapeEdges(t,n,p.totalShapeLength,_,h),_+=p.totalShapeLength):g=[[y,b]],u=g.length,s=0;s<u;s+=1){y=g[s][0],b=g[s][1],m.length=0,b<=1?m.push({s:p.totalShapeLength*y,e:p.totalShapeLength*b}):y>=1?m.push({s:p.totalShapeLength*(y-1),e:p.totalShapeLength*(b-1)}):(m.push({s:p.totalShapeLength*y,e:p.totalShapeLength}),m.push({s:0,e:p.totalShapeLength*(b-1)}));var E=this.addShapes(p,m[0]);if(m[0].s!==m[0].e){if(m.length>1)if(p.shape.paths.shapes[p.shape.paths._length-1].c){var w=E.pop();this.addPaths(E,v),E=this.addShapes(p,m[1],w)}else this.addPaths(E,v),E=this.addShapes(p,m[1]);this.addPaths(E,v)}}p.shape.paths=v}}},ne.prototype.addPaths=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)t.addShape(e[n])},ne.prototype.addSegment=function(e,t,n,r,i,o,a){i.setXYAt(t[0],t[1],"o",o),i.setXYAt(n[0],n[1],"i",o+1),a&&i.setXYAt(e[0],e[1],"v",o),i.setXYAt(r[0],r[1],"v",o+1)},ne.prototype.addSegmentFromArray=function(e,t,n,r){t.setXYAt(e[1],e[5],"o",n),t.setXYAt(e[2],e[6],"i",n+1),r&&t.setXYAt(e[0],e[4],"v",n),t.setXYAt(e[3],e[7],"v",n+1)},ne.prototype.addShapes=function(e,t,n){var r,i,o,a,s,u,l,c,d=e.pathsData,f=e.shape.paths.shapes,h=e.shape.paths._length,p=0,v=[],m=!0;for(n?(s=n._length,c=n._length):(n=Te.newElement(),s=0,c=0),v.push(n),r=0;r<h;r+=1){for(u=d[r].lengths,n.c=f[r].c,o=f[r].c?u.length:u.length+1,i=1;i<o;i+=1)if(p+(a=u[i-1]).addedLength<t.s)p+=a.addedLength,n.c=!1;else{if(p>t.e){n.c=!1;break}t.s<=p&&t.e>=p+a.addedLength?(this.addSegment(f[r].v[i-1],f[r].o[i-1],f[r].i[i],f[r].v[i],n,s,m),m=!1):(l=q.getNewSegment(f[r].v[i-1],f[r].v[i],f[r].o[i-1],f[r].i[i],(t.s-p)/a.addedLength,(t.e-p)/a.addedLength,u[i-1]),this.addSegmentFromArray(l,n,s,m),m=!1,n.c=!1),p+=a.addedLength,s+=1}if(f[r].c&&u.length){if(a=u[i-1],p<=t.e){var g=u[i-1].addedLength;t.s<=p&&t.e>=p+g?(this.addSegment(f[r].v[i-1],f[r].o[i-1],f[r].i[0],f[r].v[0],n,s,m),m=!1):(l=q.getNewSegment(f[r].v[i-1],f[r].v[0],f[r].o[i-1],f[r].i[0],(t.s-p)/g,(t.e-p)/g,u[i-1]),this.addSegmentFromArray(l,n,s,m),m=!1,n.c=!1)}else n.c=!1;p+=a.addedLength,s+=1}if(n._length&&(n.setXYAt(n.v[c][0],n.v[c][1],"i",c),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),p>t.e)break;r<h-1&&(n=Te.newElement(),m=!0,v.push(n),s=0)}return v},ee.registerModifier("tm",ne),z([te],re),re.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=Y.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},re.prototype.processPath=function(e,t){var n,r=Te.newElement();r.c=e.c;var i,o,a,s,u,l,c,d,f,h,p,m,g=e._length,y=0;for(n=0;n<g;n+=1)i=e.v[n],a=e.o[n],o=e.i[n],i[0]===a[0]&&i[1]===a[1]&&i[0]===o[0]&&i[1]===o[1]?0!==n&&n!==g-1||e.c?(s=0===n?e.v[g-1]:e.v[n-1],l=(u=Math.sqrt(Math.pow(i[0]-s[0],2)+Math.pow(i[1]-s[1],2)))?Math.min(u/2,t)/u:0,c=p=i[0]+(s[0]-i[0])*l,d=m=i[1]-(i[1]-s[1])*l,f=c-(c-i[0])*v,h=d-(d-i[1])*v,r.setTripleAt(c,d,f,h,p,m,y),y+=1,s=n===g-1?e.v[0]:e.v[n+1],l=(u=Math.sqrt(Math.pow(i[0]-s[0],2)+Math.pow(i[1]-s[1],2)))?Math.min(u/2,t)/u:0,c=f=i[0]+(s[0]-i[0])*l,d=h=i[1]+(s[1]-i[1])*l,p=c-(c-i[0])*v,m=d-(d-i[1])*v,r.setTripleAt(c,d,f,h,p,m,y),y+=1):(r.setTripleAt(i[0],i[1],a[0],a[1],o[0],o[1],y),y+=1):(r.setTripleAt(e.v[n][0],e.v[n][1],e.o[n][0],e.o[n][1],e.i[n][0],e.i[n][1],y),y+=1);return r},re.prototype.processShapes=function(e){var t,n,r,i,o,a,s=this.shapes.length,u=this.rd.v;if(0!==u)for(n=0;n<s;n+=1){if(a=(o=this.shapes[n]).localShapeCollection,o.shape._mdf||this._mdf||e)for(a.releaseShapes(),o.shape._mdf=!0,t=o.shape.paths.shapes,i=o.shape.paths._length,r=0;r<i;r+=1)a.addShape(this.processPath(t[r],u));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ee.registerModifier("rd",re),z([te],ie),ie.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=Y.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},ie.prototype.processPath=function(e,t){var n=t/100,r=[0,0],i=e._length,o=0;for(o=0;o<i;o+=1)r[0]+=e.v[o][0],r[1]+=e.v[o][1];r[0]/=i,r[1]/=i;var a,s,u,l,c,d,f=Te.newElement();for(f.c=e.c,o=0;o<i;o+=1)a=e.v[o][0]+(r[0]-e.v[o][0])*n,s=e.v[o][1]+(r[1]-e.v[o][1])*n,u=e.o[o][0]+(r[0]-e.o[o][0])*-n,l=e.o[o][1]+(r[1]-e.o[o][1])*-n,c=e.i[o][0]+(r[0]-e.i[o][0])*-n,d=e.i[o][1]+(r[1]-e.i[o][1])*-n,f.setTripleAt(a,s,u,l,c,d,o);return f},ie.prototype.processShapes=function(e){var t,n,r,i,o,a,s=this.shapes.length,u=this.amount.v;if(0!==u)for(n=0;n<s;n+=1){if(a=(o=this.shapes[n]).localShapeCollection,o.shape._mdf||this._mdf||e)for(a.releaseShapes(),o.shape._mdf=!0,t=o.shape.paths.shapes,i=o.shape.paths._length,r=0;r<i;r+=1)a.addShape(this.processPath(t[r],u));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ee.registerModifier("pb",ie),z([te],oe),oe.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=Y.getProp(e,t.c,0,null,this),this.o=Y.getProp(e,t.o,0,null,this),this.tr=X.getTransformProperty(e,t.tr,this),this.so=Y.getProp(e,t.tr.so,0,.01,this),this.eo=Y.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new U,this.rMatrix=new U,this.sMatrix=new U,this.tMatrix=new U,this.matrix=new U},oe.prototype.applyTransforms=function(e,t,n,r,i,o){var a=o?-1:1,s=r.s.v[0]+(1-r.s.v[0])*(1-i),u=r.s.v[1]+(1-r.s.v[1])*(1-i);e.translate(r.p.v[0]*a*i,r.p.v[1]*a*i,r.p.v[2]),t.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),t.rotate(-r.r.v*a*i),t.translate(r.a.v[0],r.a.v[1],r.a.v[2]),n.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),n.scale(o?1/s:s,o?1/u:u),n.translate(r.a.v[0],r.a.v[1],r.a.v[2])},oe.prototype.init=function(e,t,n,r){for(this.elem=e,this.arr=t,this.pos=n,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[n]);n>0;)n-=1,this._elements.unshift(t[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},oe.prototype.resetElements=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},oe.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},oe.prototype.changeGroupRender=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)e[n]._render=t,"gr"===e[n].ty&&this.changeGroupRender(e[n].it,t)},oe.prototype.processShapes=function(e){var t,n,r,i,o,a=!1;if(this._mdf||e){var s,u=Math.ceil(this.c.v);if(this._groups.length<u){for(;this._groups.length<u;){var l={it:this.cloneElements(this._elements),ty:"gr"};l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,l),this._groups.splice(0,0,l),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}for(o=0,r=0;r<=this._groups.length-1;r+=1){if(s=o<u,this._groups[r]._render=s,this.changeGroupRender(this._groups[r].it,s),!s){var c=this.elemsData[r].it,d=c[c.length-1];0!==d.transform.op.v?(d.transform.op._mdf=!0,d.transform.op.v=0):d.transform.op._mdf=!1}o+=1}this._currentCopies=u;var f=this.o.v,h=f%1,p=f>0?Math.floor(f):Math.ceil(f),v=this.pMatrix.props,m=this.rMatrix.props,g=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var y,b,_=0;if(f>0){for(;_<p;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),_+=1;h&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,h,!1),_+=h)}else if(f<0){for(;_>p;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),_-=1;h&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-h,!0),_-=h)}for(r=1===this.data.m?0:this._currentCopies-1,i=1===this.data.m?1:-1,o=this._currentCopies;o;){if(b=(n=(t=this.elemsData[r].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),0!==_){for((0!==r&&1===i||r!==this._currentCopies-1&&-1===i)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),y=0;y<b;y+=1)n[y]=this.matrix.props[y];this.matrix.reset()}else for(this.matrix.reset(),y=0;y<b;y+=1)n[y]=this.matrix.props[y];_+=1,o-=1,r+=i}}else for(o=this._currentCopies,r=0,i=1;o;)n=(t=this.elemsData[r].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,o-=1,r+=i;return a},oe.prototype.addShape=function(){},ee.registerModifier("rp",oe),ae.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(L(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ae.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)Te.release(this.shapes[e]);this._length=0},se.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,n=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<n;t+=1)"o"!==this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},z([R],se),ue.prototype.comparePoints=function(e,t){for(var n=0,r=this.o.length/2;n<r;){if(Math.abs(e[4*n]-e[4*t+2*n])>.01)return!1;n+=1}return!0},ue.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},ue.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,n,r,i=4*this.data.p;for(t=0;t<i;t+=1)n=t%4==0?100:255,r=Math.round(this.prop.v[t]*n),this.c[t]!==r&&(this.c[t]=r,this._cmdf=!e);if(this.o.length)for(i=this.prop.v.length,t=4*this.data.p;t<i;t+=1)n=t%2==0?100:1,r=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==r&&(this.o[t-4*this.data.p]=r,this._omdf=!e);this._mdf=!e}},z([R],ue);var le=function(e,t,n,r){if(0===t)return"";var i,o=e.o,a=e.i,s=e.v,u=" M"+r.applyToPointStringified(s[0][0],s[0][1]);for(i=1;i<t;i+=1)u+=" C"+r.applyToPointStringified(o[i-1][0],o[i-1][1])+" "+r.applyToPointStringified(a[i][0],a[i][1])+" "+r.applyToPointStringified(s[i][0],s[i][1]);return n&&t&&(u+=" C"+r.applyToPointStringified(o[i-1][0],o[i-1][1])+" "+r.applyToPointStringified(a[0][0],a[0][1])+" "+r.applyToPointStringified(s[0][0],s[0][1]),u+="z"),u},ce=function(){function e(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,n=this.audios.length;for(t=0;t<n;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):Howl?new Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),de=function(){var e=function(){var e=D("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(e,t,n){var r="";if(e.e)r=e.p;else if(t){var i=e.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),r=t+i}else r=n,r+=e.u?e.u:"",r+=e.p;return r}function i(e){var t=0,n=setInterval(function(){(e.getBBox().width||t>500)&&(this._imageLoaded(),clearInterval(n)),t+=1}.bind(this),50)}function o(e){var t={assetData:e},n=r(e,this.assetsPath,this.path);return pe.load(n,function(e){t.img=e,this._footageLoaded()}.bind(this),function(){t.img={},this._footageLoaded()}.bind(this)),t}function a(){this._imageLoaded=t.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=i.bind(this),this.createFootageData=o.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return a.prototype={loadAssets:function(e,t){var n;this.imagesLoadedCb=t;var r=e.length;for(n=0;n<r;n+=1)e[n].layers||(e[n].t&&"seq"!==e[n].t?3===e[n].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(e[n]))):(this.totalImages+=1,this.images.push(this._createImageData(e[n]))))},setAssetsPath:function(e){this.assetsPath=e||""},setPath:function(e){this.path=e||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(e){for(var t=0,n=this.images.length;t<n;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}return null},createImgData:function(t){var n=r(t,this.assetsPath,this.path),i=D("img");i.crossOrigin="anonymous",i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){o.img=e,this._imageLoaded()}.bind(this),!1),i.src=n;var o={img:i,assetData:t};return o},createImageData:function(t){var n=r(t,this.assetsPath,this.path),i=N("image");s?this.testImageLoaded(i):i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){o.img=e,this._imageLoaded()}.bind(this),!1),i.setAttributeNS("http://www.w3.org/1999/xlink","href",n),this._elementHelper.append?this._elementHelper.append(i):this._elementHelper.appendChild(i);var o={img:i,assetData:t};return o},imageLoaded:t,footageLoaded:n,setCacheType:function(e,t){"svg"===e?(this._elementHelper=t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},a}(),fe=function(){var e={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),e}(),he=function(){var e={createFilter:function(e,t){var n=N("filter");return n.setAttribute("id",e),!0!==t&&(n.setAttribute("filterUnits","objectBoundingBox"),n.setAttribute("x","0%"),n.setAttribute("y","0%"),n.setAttribute("width","100%"),n.setAttribute("height","100%")),n},createAlphaToLuminanceFilter:function(){var e=N("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}};return e}(),pe=function(){function e(e){return e.response&&"object"==typeof e.response?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):null}return{load:function(t,n,r){var i,o=new XMLHttpRequest;try{o.responseType="json"}catch(e){}o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)i=e(o),n(i);else try{i=e(o),n(i)}catch(e){r&&r(e)}},o.open("GET",t,!0),o.send()}}}();function ve(e,t,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=n,this._animatorsData=L(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function me(e,t,n){var r={propType:!1},i=Y.getProp,o=t.a;this.a={r:o.r?i(e,o.r,0,p,n):r,rx:o.rx?i(e,o.rx,0,p,n):r,ry:o.ry?i(e,o.ry,0,p,n):r,sk:o.sk?i(e,o.sk,0,p,n):r,sa:o.sa?i(e,o.sa,0,p,n):r,s:o.s?i(e,o.s,1,.01,n):r,a:o.a?i(e,o.a,1,0,n):r,o:o.o?i(e,o.o,0,.01,n):r,p:o.p?i(e,o.p,1,0,n):r,sw:o.sw?i(e,o.sw,0,0,n):r,sc:o.sc?i(e,o.sc,1,0,n):r,fc:o.fc?i(e,o.fc,1,0,n):r,fh:o.fh?i(e,o.fh,0,0,n):r,fs:o.fs?i(e,o.fs,0,.01,n):r,fb:o.fb?i(e,o.fb,0,.01,n):r,t:o.t?i(e,o.t,0,0,n):r},this.s=_e.getTextSelectorProp(e,t.s,n),this.s.t=t.s.t}function ge(e,t,n,r,i,o){this.o=e,this.sw=t,this.sc=n,this.fc=r,this.m=i,this.p=o,this._mdf={o:!0,sw:!!t,sc:!!n,fc:!!r,m:!0,p:!0}}function ye(e,t){this._frameId=i,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}ve.prototype.searchProperties=function(){var e,t,n=this._textData.a.length,r=Y.getProp;for(e=0;e<n;e+=1)t=this._textData.a[e],this._animatorsData[e]=new me(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},ve.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,r,i,o,a,s,u,l,c,d,f,h,p,v,m,g,y,b,_,E=this._moreOptions.alignment.v,w=this._animatorsData,S=this._textData,T=this.mHelper,k=this._renderType,x=this.renderedLetters.length,C=e.l;if(this._hasMaskedPath){if(_=this._pathData.m,!this._pathData.n||this._pathData._mdf){var I,L=_.v;for(this._pathData.r&&(L=L.reverse()),a={tLength:0,segments:[]},o=L._length-1,g=0,i=0;i<o;i+=1)I=q.buildBezierData(L.v[i],L.v[i+1],[L.o[i][0]-L.v[i][0],L.o[i][1]-L.v[i][1]],[L.i[i+1][0]-L.v[i+1][0],L.i[i+1][1]-L.v[i+1][1]]),a.tLength+=I.segmentLength,a.segments.push(I),g+=I.segmentLength;i=o,_.v.c&&(I=q.buildBezierData(L.v[i],L.v[0],[L.o[i][0]-L.v[i][0],L.o[i][1]-L.v[i][1]],[L.i[0][0]-L.v[0][0],L.i[0][1]-L.v[0][1]]),a.tLength+=I.segmentLength,a.segments.push(I),g+=I.segmentLength),this._pathData.pi=a}if(a=this._pathData.pi,s=this._pathData.f.v,f=0,d=1,l=0,c=!0,v=a.segments,s<0&&_.v.c)for(a.tLength<Math.abs(s)&&(s=-Math.abs(s)%a.tLength),d=(p=v[f=v.length-1].points).length-1;s<0;)s+=p[d].partialLength,(d-=1)<0&&(d=(p=v[f-=1].points).length-1);h=(p=v[f].points)[d-1],m=(u=p[d]).partialLength}o=C.length,n=0,r=0;var N,D,R,M,j,F=1.2*e.finalSize*.714,V=!0;R=w.length;var U,B,z,G,H,W,K,Y,X,$,Q,J,Z=-1,ee=s,te=f,ne=d,re=-1,ie="",oe=this.defaultPropsArray;if(2===e.j||1===e.j){var ae=0,se=0,ue=2===e.j?-.5:-1,le=0,ce=!0;for(i=0;i<o;i+=1)if(C[i].n){for(ae&&(ae+=se);le<i;)C[le].animatorJustifyOffset=ae,le+=1;ae=0,ce=!0}else{for(D=0;D<R;D+=1)(N=w[D].a).t.propType&&(ce&&2===e.j&&(se+=N.t.v*ue),(j=w[D].s.getMult(C[i].anIndexes[D],S.a[D].s.totalChars)).length?ae+=N.t.v*j[0]*ue:ae+=N.t.v*j*ue);ce=!1}for(ae&&(ae+=se);le<i;)C[le].animatorJustifyOffset=ae,le+=1}for(i=0;i<o;i+=1){if(T.reset(),G=1,C[i].n)n=0,r+=e.yOffset,r+=V?1:0,s=ee,V=!1,this._hasMaskedPath&&(d=ne,h=(p=v[f=te].points)[d-1],m=(u=p[d]).partialLength,l=0),ie="",Q="",X="",J="",oe=this.defaultPropsArray;else{if(this._hasMaskedPath){if(re!==C[i].line){switch(e.j){case 1:s+=g-e.lineWidths[C[i].line];break;case 2:s+=(g-e.lineWidths[C[i].line])/2}re=C[i].line}Z!==C[i].ind&&(C[Z]&&(s+=C[Z].extra),s+=C[i].an/2,Z=C[i].ind),s+=E[0]*C[i].an*.005;var de=0;for(D=0;D<R;D+=1)(N=w[D].a).p.propType&&((j=w[D].s.getMult(C[i].anIndexes[D],S.a[D].s.totalChars)).length?de+=N.p.v[0]*j[0]:de+=N.p.v[0]*j),N.a.propType&&((j=w[D].s.getMult(C[i].anIndexes[D],S.a[D].s.totalChars)).length?de+=N.a.v[0]*j[0]:de+=N.a.v[0]*j);for(c=!0;c;)l+m>=s+de||!p?(y=(s+de-l)/u.partialLength,B=h.point[0]+(u.point[0]-h.point[0])*y,z=h.point[1]+(u.point[1]-h.point[1])*y,T.translate(-E[0]*C[i].an*.005,-E[1]*F*.01),c=!1):p&&(l+=u.partialLength,(d+=1)>=p.length&&(d=0,v[f+=1]?p=v[f].points:_.v.c?(d=0,p=v[f=0].points):(l-=u.partialLength,p=null)),p&&(h=u,m=(u=p[d]).partialLength));U=C[i].an/2-C[i].add,T.translate(-U,0,0)}else U=C[i].an/2-C[i].add,T.translate(-U,0,0),T.translate(-E[0]*C[i].an*.005,-E[1]*F*.01,0);for(D=0;D<R;D+=1)(N=w[D].a).t.propType&&(j=w[D].s.getMult(C[i].anIndexes[D],S.a[D].s.totalChars),0===n&&0===e.j||(this._hasMaskedPath?j.length?s+=N.t.v*j[0]:s+=N.t.v*j:j.length?n+=N.t.v*j[0]:n+=N.t.v*j));for(e.strokeWidthAnim&&(W=e.sw||0),e.strokeColorAnim&&(H=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(K=[e.fc[0],e.fc[1],e.fc[2]]),D=0;D<R;D+=1)(N=w[D].a).a.propType&&((j=w[D].s.getMult(C[i].anIndexes[D],S.a[D].s.totalChars)).length?T.translate(-N.a.v[0]*j[0],-N.a.v[1]*j[1],N.a.v[2]*j[2]):T.translate(-N.a.v[0]*j,-N.a.v[1]*j,N.a.v[2]*j));for(D=0;D<R;D+=1)(N=w[D].a).s.propType&&((j=w[D].s.getMult(C[i].anIndexes[D],S.a[D].s.totalChars)).length?T.scale(1+(N.s.v[0]-1)*j[0],1+(N.s.v[1]-1)*j[1],1):T.scale(1+(N.s.v[0]-1)*j,1+(N.s.v[1]-1)*j,1));for(D=0;D<R;D+=1){if(N=w[D].a,j=w[D].s.getMult(C[i].anIndexes[D],S.a[D].s.totalChars),N.sk.propType&&(j.length?T.skewFromAxis(-N.sk.v*j[0],N.sa.v*j[1]):T.skewFromAxis(-N.sk.v*j,N.sa.v*j)),N.r.propType&&(j.length?T.rotateZ(-N.r.v*j[2]):T.rotateZ(-N.r.v*j)),N.ry.propType&&(j.length?T.rotateY(N.ry.v*j[1]):T.rotateY(N.ry.v*j)),N.rx.propType&&(j.length?T.rotateX(N.rx.v*j[0]):T.rotateX(N.rx.v*j)),N.o.propType&&(j.length?G+=(N.o.v*j[0]-G)*j[0]:G+=(N.o.v*j-G)*j),e.strokeWidthAnim&&N.sw.propType&&(j.length?W+=N.sw.v*j[0]:W+=N.sw.v*j),e.strokeColorAnim&&N.sc.propType)for(Y=0;Y<3;Y+=1)j.length?H[Y]+=(N.sc.v[Y]-H[Y])*j[0]:H[Y]+=(N.sc.v[Y]-H[Y])*j;if(e.fillColorAnim&&e.fc){if(N.fc.propType)for(Y=0;Y<3;Y+=1)j.length?K[Y]+=(N.fc.v[Y]-K[Y])*j[0]:K[Y]+=(N.fc.v[Y]-K[Y])*j;N.fh.propType&&(K=j.length?O(K,N.fh.v*j[0]):O(K,N.fh.v*j)),N.fs.propType&&(K=j.length?A(K,N.fs.v*j[0]):A(K,N.fs.v*j)),N.fb.propType&&(K=j.length?P(K,N.fb.v*j[0]):P(K,N.fb.v*j))}}for(D=0;D<R;D+=1)(N=w[D].a).p.propType&&(j=w[D].s.getMult(C[i].anIndexes[D],S.a[D].s.totalChars),this._hasMaskedPath?j.length?T.translate(0,N.p.v[1]*j[0],-N.p.v[2]*j[1]):T.translate(0,N.p.v[1]*j,-N.p.v[2]*j):j.length?T.translate(N.p.v[0]*j[0],N.p.v[1]*j[1],-N.p.v[2]*j[2]):T.translate(N.p.v[0]*j,N.p.v[1]*j,-N.p.v[2]*j));if(e.strokeWidthAnim&&(X=W<0?0:W),e.strokeColorAnim&&($="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),e.fillColorAnim&&e.fc&&(Q="rgb("+Math.round(255*K[0])+","+Math.round(255*K[1])+","+Math.round(255*K[2])+")"),this._hasMaskedPath){if(T.translate(0,-e.ls),T.translate(0,E[1]*F*.01+r,0),S.p.p){b=(u.point[1]-h.point[1])/(u.point[0]-h.point[0]);var fe=180*Math.atan(b)/Math.PI;u.point[0]<h.point[0]&&(fe+=180),T.rotate(-fe*Math.PI/180)}T.translate(B,z,0),s-=E[0]*C[i].an*.005,C[i+1]&&Z!==C[i+1].ind&&(s+=C[i].an/2,s+=.001*e.tr*e.finalSize)}else{switch(T.translate(n,r,0),e.ps&&T.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:T.translate(C[i].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[C[i].line]),0,0);break;case 2:T.translate(C[i].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[C[i].line])/2,0,0)}T.translate(0,-e.ls),T.translate(U,0,0),T.translate(E[0]*C[i].an*.005,E[1]*F*.01,0),n+=C[i].l+.001*e.tr*e.finalSize}"html"===k?ie=T.toCSS():"svg"===k?ie=T.to2dCSS():oe=[T.props[0],T.props[1],T.props[2],T.props[3],T.props[4],T.props[5],T.props[6],T.props[7],T.props[8],T.props[9],T.props[10],T.props[11],T.props[12],T.props[13],T.props[14],T.props[15]],J=G}x<=i?(M=new ge(J,X,$,Q,ie,oe),this.renderedLetters.push(M),x+=1,this.lettersChangedFlag=!0):(M=this.renderedLetters[i],this.lettersChangedFlag=M.update(J,X,$,Q,ie,oe)||this.lettersChangedFlag)}}},ve.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},ve.prototype.mHelper=new U,ve.prototype.defaultPropsArray=[],z([R],ve),ge.prototype.update=function(e,t,n,r,i,o){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,a=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,a=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,a=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,a=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,a=!0),!o.length||this.p[0]===o[0]&&this.p[1]===o[1]&&this.p[4]===o[4]&&this.p[5]===o[5]&&this.p[12]===o[12]&&this.p[13]===o[13]||(this.p=o,this._mdf.p=!0,a=!0),a},ye.prototype.defaultBoxWidth=[0,0],ye.prototype.copyData=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},ye.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},ye.prototype.searchProperty=function(){return this.searchKeyframes()},ye.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},ye.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},ye.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var r;this.lock=!0,this._mdf=!1;var i=this.effectsSequence.length,o=e||this.data.d.k[this.keysIndex].s;for(r=0;r<i;r+=1)o=n!==this.keysIndex?this.effectsSequence[r](o,o.t):this.effectsSequence[r](this.currentData,o.t);t!==o&&this.setCurrentData(o),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},ye.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,n=0,r=e.length;n<=r-1&&!(n===r-1||e[n+1].t>t);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},ye.prototype.buildFinalText=function(e){for(var t,n,r=[],i=0,o=e.length,a=!1;i<o;)t=e.charCodeAt(i),K.isCombinedCharacter(t)?r[r.length-1]+=e.charAt(i):t>=55296&&t<=56319?(n=e.charCodeAt(i+1))>=56320&&n<=57343?(a||K.isModifier(t,n)?(r[r.length-1]+=e.substr(i,2),a=!1):r.push(e.substr(i,2)),i+=1):r.push(e.charAt(i)):t>56319?(n=e.charCodeAt(i+1),K.isZeroWidthJoiner(t,n)?(a=!0,r[r.length-1]+=e.substr(i,2),i+=1):r.push(e.charAt(i))):K.isZeroWidthJoiner(t)?(r[r.length-1]+=e.charAt(i),a=!0):r.push(e.charAt(i)),i+=1;return r},ye.prototype.completeTextData=function(e){e.__complete=!0;var t,n,r,i,o,a,s,u=this.elem.globalData.fontManager,l=this.data,c=[],d=0,f=l.m.g,h=0,p=0,v=0,m=[],g=0,y=0,b=u.getFontByName(e.f),_=0,E=W(b);e.fWeight=E.weight,e.fStyle=E.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),n=e.finalText.length,e.finalLineHeight=e.lh;var w,S=e.tr/1e3*e.finalSize;if(e.sz)for(var T,k,x=!0,A=e.sz[0],P=e.sz[1];x;){T=0,g=0,n=(k=this.buildFinalText(e.t)).length,S=e.tr/1e3*e.finalSize;var O=-1;for(t=0;t<n;t+=1)w=k[t].charCodeAt(0),r=!1," "===k[t]?O=t:13!==w&&3!==w||(g=0,r=!0,T+=e.finalLineHeight||1.2*e.finalSize),u.chars?(s=u.getCharData(k[t],b.fStyle,b.fFamily),_=r?0:s.w*e.finalSize/100):_=u.measureText(k[t],e.f,e.finalSize),g+_>A&&" "!==k[t]?(-1===O?n+=1:t=O,T+=e.finalLineHeight||1.2*e.finalSize,k.splice(t,O===t?1:0,"\r"),O=-1,g=0):(g+=_,g+=S);T+=b.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&P<T?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=k,n=e.finalText.length,x=!1)}g=-S,_=0;var C,I=0;for(t=0;t<n;t+=1)if(r=!1,13===(w=(C=e.finalText[t]).charCodeAt(0))||3===w?(I=0,m.push(g),y=g>y?g:y,g=-2*S,i="",r=!0,v+=1):i=C,u.chars?(s=u.getCharData(C,b.fStyle,u.getFontByName(e.f).fFamily),_=r?0:s.w*e.finalSize/100):_=u.measureText(i,e.f,e.finalSize)," "===C?I+=_+S:(g+=_+S+I,I=0),c.push({l:_,an:_,add:h,n:r,anIndexes:[],val:i,line:v,animatorJustifyOffset:0}),2==f){if(h+=_,""===i||" "===i||t===n-1){for(""!==i&&" "!==i||(h-=_);p<=t;)c[p].an=h,c[p].ind=d,c[p].extra=_,p+=1;d+=1,h=0}}else if(3==f){if(h+=_,""===i||t===n-1){for(""===i&&(h-=_);p<=t;)c[p].an=h,c[p].ind=d,c[p].extra=_,p+=1;h=0,d+=1}}else c[d].ind=d,c[d].extra=0,d+=1;if(e.l=c,y=g>y?g:y,m.push(g),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=y,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=m;var L,N,D,R,M=l.a;a=M.length;var j=[];for(o=0;o<a;o+=1){for((L=M[o]).a.sc&&(e.strokeColorAnim=!0),L.a.sw&&(e.strokeWidthAnim=!0),(L.a.fc||L.a.fh||L.a.fs||L.a.fb)&&(e.fillColorAnim=!0),R=0,D=L.s.b,t=0;t<n;t+=1)(N=c[t]).anIndexes[o]=R,(1==D&&""!==N.val||2==D&&""!==N.val&&" "!==N.val||3==D&&(N.n||" "==N.val||t==n-1)||4==D&&(N.n||t==n-1))&&(1===L.s.rn&&j.push(R),R+=1);l.a[o].s.totalChars=R;var F,V=-1;if(1===L.s.rn)for(t=0;t<n;t+=1)V!=(N=c[t]).anIndexes[o]&&(V=N.anIndexes[o],F=j.splice(Math.floor(Math.random()*j.length),1)[0]),N.anIndexes[o]=F}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=b.ascent*e.finalSize/100},ye.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var n=this.copyData({},this.data.d.k[t].s);n=this.copyData(n,e),this.data.d.k[t].s=n,this.recalculate(t),this.elem.addDynamicProperty(this)},ye.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},ye.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},ye.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var be,_e=function(){var e=Math.max,t=Math.min,n=Math.floor;function r(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=Y.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?Y.getProp(e,t.e,0,0,this):{v:100},this.o=Y.getProp(e,t.o||{k:0},0,0,this),this.xe=Y.getProp(e,t.xe||{k:0},0,0,this),this.ne=Y.getProp(e,t.ne||{k:0},0,0,this),this.a=Y.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return r.prototype={getMult:function(r){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var i=0,o=0,a=1,s=1;this.ne.v>0?i=this.ne.v/100:o=-this.ne.v/100,this.xe.v>0?a=1-this.xe.v/100:s=1+this.xe.v/100;var u=B.getBezierEasing(i,o,a,s).get,l=0,c=this.finalS,d=this.finalE,f=this.data.sh;if(2===f)l=u(l=d===c?r>=d?1:0:e(0,t(.5/(d-c)+(r-c)/(d-c),1)));else if(3===f)l=u(l=d===c?r>=d?0:1:1-e(0,t(.5/(d-c)+(r-c)/(d-c),1)));else if(4===f)d===c?l=0:(l=e(0,t(.5/(d-c)+(r-c)/(d-c),1)))<.5?l*=2:l=1-2*(l-.5),l=u(l);else if(5===f){if(d===c)l=0;else{var h=d-c,p=-h/2+(r=t(e(0,r+.5-c),d-c)),v=h/2;l=Math.sqrt(1-p*p/(v*v))}l=u(l)}else 6===f?(d===c?l=0:(r=t(e(0,r+.5-c),d-c),l=(1+Math.cos(Math.PI+2*Math.PI*r/(d-c)))/2),l=u(l)):(r>=n(c)&&(l=e(0,t(r-c<0?t(d,1)-(c-r):d-r,1))),l=u(l));return l*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,n=this.o.v/t,r=this.s.v/t+n,i=this.e.v/t+n;if(r>i){var o=r;r=i,i=o}this.finalS=r,this.finalE=i}},z([R],r),{getTextSelectorProp:function(e,t,n){return new r(e,t)}}}(),Ee=function(e,t,n){var r=0,i=e,o=L(i);return{newElement:function(){return r?o[r-=1]:t()},release:function(e){r===i&&(o=we.double(o),i*=2),n&&n(e),o[r]=e,r+=1}}},we={double:function(e){return e.concat(L(e.length))}},Se=Ee(8,(function(){return I("float32",2)})),Te=(be=Ee(4,(function(){return new $}),(function(e){var t,n=e._length;for(t=0;t<n;t+=1)Se.release(e.v[t]),Se.release(e.i[t]),Se.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1})),be.clone=function(e){var t,n=be.newElement(),r=void 0===e._length?e.v.length:e._length;for(n.setLength(r),n.c=e.c,t=0;t<r;t+=1)n.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return n},be),ke=function(){var e={newShapeCollection:function(){return t?r[t-=1]:new ae},release:function(e){var i,o=e._length;for(i=0;i<o;i+=1)Te.release(e.shapes[i]);e._length=0,t===n&&(r=we.double(r),n*=2),r[t]=e,t+=1}},t=0,n=4,r=L(n);return e}(),xe=Ee(8,(function(){return{lengths:[],totalLength:0}}),(function(e){var t,n=e.lengths.length;for(t=0;t<n;t+=1)Ae.release(e.lengths[t]);e.lengths.length=0})),Ae=Ee(8,(function(){return{addedLength:0,percents:I("float32",h),lengths:I("float32",h)}})),Pe=function(){function e(e){for(var t,n=e.split("\r\n"),r={},i=0,o=0;o<n.length;o+=1)2===(t=n[o].split(":")).length&&(r[t[0]]=t[1].trim(),i+=1);if(0===i)throw new Error;return r}return function(t){for(var n=[],r=0;r<t.length;r+=1){var i=t[r],o={time:i.tm,duration:i.dr};try{o.payload=JSON.parse(t[r].cm)}catch(n){try{o.payload=e(t[r].cm)}catch(e){o.payload={name:t[r]}}}n.push(o)}return n}}();function Oe(){}function Ce(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=N("svg");var n="";if(t&&t.title){var r=N("title"),i=T();r.setAttribute("id",i),r.textContent=t.title,this.svgElement.appendChild(r),n+=i}if(t&&t.description){var o=N("desc"),a=T();o.setAttribute("id",a),o.textContent=t.description,this.svgElement.appendChild(o),n+=" "+a}n&&this.svgElement.setAttribute("aria-labelledby",n);var s=N("defs");this.svgElement.appendChild(s);var u=N("g");this.svgElement.appendChild(u),this.layerElement=u,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&!1===t.hideOnTransparent),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:s,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function Ie(e,t,n){this.data=e,this.element=t,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var i,o,a=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=L(s),this.solidPath="";var u,l,c,d,f,h,p=this.masksProperties,v=0,m=[],g=T(),y="clipPath",b="clip-path";for(i=0;i<s;i+=1)if(("a"!==p[i].mode&&"n"!==p[i].mode||p[i].inv||100!==p[i].o.k||p[i].o.x)&&(y="mask",b="mask"),"s"!==p[i].mode&&"i"!==p[i].mode||0!==v?c=null:((c=N("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),o=N("path"),"n"===p[i].mode)this.viewData[i]={op:Y.getProp(this.element,p[i].o,0,.01,this.element),prop:Z.getShapeProp(this.element,p[i],3),elem:o,lastPath:""},a.appendChild(o);else{var _;if(v+=1,o.setAttribute("fill","s"===p[i].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero"),0!==p[i].x.k?(y="mask",b="mask",h=Y.getProp(this.element,p[i].x,0,null,this.element),_=T(),(d=N("filter")).setAttribute("id",_),(f=N("feMorphology")).setAttribute("operator","erode"),f.setAttribute("in","SourceGraphic"),f.setAttribute("radius","0"),d.appendChild(f),a.appendChild(d),o.setAttribute("stroke","s"===p[i].mode?"#000000":"#ffffff")):(f=null,h=null),this.storedData[i]={elem:o,x:h,expan:f,lastPath:"",lastOperator:"",filterId:_,lastRadius:0},"i"===p[i].mode){l=m.length;var E=N("g");for(u=0;u<l;u+=1)E.appendChild(m[u]);var w=N("mask");w.setAttribute("mask-type","alpha"),w.setAttribute("id",g+"_"+v),w.appendChild(o),a.appendChild(w),E.setAttribute("mask","url("+r+"#"+g+"_"+v+")"),m.length=0,m.push(E)}else m.push(o);p[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:o,lastPath:"",op:Y.getProp(this.element,p[i].o,0,.01,this.element),prop:Z.getShapeProp(this.element,p[i],3),invRect:c},this.viewData[i].prop.k||this.drawPath(p[i],this.viewData[i].prop.v,this.viewData[i])}for(this.maskElement=N(y),s=m.length,i=0;i<s;i+=1)this.maskElement.appendChild(m[i]);v>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(b,"url("+r+"#"+g+")"),a.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function Le(){}function Ne(){}function De(){}function Re(){}function Me(){}function je(e,t){this.elem=e,this.pos=t}function Fe(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=N("path"),this.msElem=null}function Ve(e,t,n){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=n,this.lvl=t,this._isAnimated=!!n.k;for(var r=0,i=e.length;r<i;){if(e[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function Ue(e,t,n){this.transform={mProps:e,op:t,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function Be(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=Y.getProp(e,t.o,0,.01,this),this.w=Y.getProp(e,t.w,0,null,this),this.d=new se(e,t.d||{},"svg",this),this.c=Y.getProp(e,t.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function ze(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=Y.getProp(e,t.o,0,.01,this),this.c=Y.getProp(e,t.c,1,255,this),this.style=n}function Ge(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,n)}function qe(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=Y.getProp(e,t.w,0,null,this),this.d=new se(e,t.d||{},"svg",this),this.initGradientData(e,t,n),this._isAnimated=!!this._isAnimated}function He(){this.it=[],this.prevViewData=[],this.gr=N("g")}Oe.prototype.checkLayers=function(e){var t,n,r=this.layers.length;for(this.completeLayers=!0,t=r-1;t>=0;t-=1)this.elements[t]||(n=this.layers[t]).ip-n.st<=e-this.layers[t].st&&n.op-n.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},Oe.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:default:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e)}},Oe.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},Oe.prototype.createAudio=function(e){return new tt(e,this.globalData,this)},Oe.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},Oe.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},Oe.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var n,r=e.length,i=this.layers.length;for(t=0;t<r;t+=1)for(n=0;n<i;){if(this.layers[n].id===e[t].id){this.layers[n]=e[t];break}n+=1}},Oe.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},Oe.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},Oe.prototype.buildElementParenting=function(e,t,n){for(var r=this.elements,i=this.layers,o=0,a=i.length;o<a;)i[o].ind==t&&(r[o]&&!0!==r[o]?(n.push(r[o]),r[o].setAsParent(),void 0!==i[o].parent?this.buildElementParenting(e,i[o].parent,n):e.setHierarchy(n)):(this.buildItem(o),this.addPendingElement(e))),o+=1},Oe.prototype.addPendingElement=function(e){this.pendingElements.push(e)},Oe.prototype.searchExtraCompositions=function(e){var t,n=e.length;for(t=0;t<n;t+=1)if(e[t].xt){var r=this.createComp(e[t]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},Oe.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new K,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},z([Oe],Ce),Ce.prototype.createNull=function(e){return new Ye(e,this.globalData,this)},Ce.prototype.createShape=function(e){return new it(e,this.globalData,this)},Ce.prototype.createText=function(e){return new rt(e,this.globalData,this)},Ce.prototype.createImage=function(e){return new Ze(e,this.globalData,this)},Ce.prototype.createComp=function(e){return new nt(e,this.globalData,this)},Ce.prototype.createSolid=function(e){return new et(e,this.globalData,this)},Ce.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var n=N("clipPath"),i=N("rect");i.setAttribute("width",e.w),i.setAttribute("height",e.h),i.setAttribute("x",0),i.setAttribute("y",0);var o=T();n.setAttribute("id",o),n.appendChild(i),this.layerElement.setAttribute("clip-path","url("+r+"#"+o+")"),t.appendChild(n),this.layers=e.layers,this.elements=L(e.layers.length)},Ce.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},Ce.prototype.updateContainerSize=function(){},Ce.prototype.buildItem=function(e){var n=this.elements;if(!n[e]&&99!==this.layers[e].ty){n[e]=!0;var r=this.createItem(this.layers[e]);n[e]=r,t&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,e),this.layers[e].tt&&(this.elements[e-1]&&!0!==this.elements[e-1]?r.setMatte(n[e-1].layerId):(this.buildItem(e-1),this.addPendingElement(r)))}},Ce.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,n=this.elements.length;t<n;){if(this.elements[t]===e){e.setMatte(this.elements[t-1].layerId);break}t+=1}}},Ce.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var n=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=n-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<n;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},Ce.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){for(var r,i=0;i<t;)this.elements[i]&&!0!==this.elements[i]&&this.elements[i].getBaseElement()&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(n,r):this.layerElement.appendChild(n)}},Ce.prototype.hide=function(){this.layerElement.style.display="none"},Ce.prototype.show=function(){this.layerElement.style.display="block"},Ie.prototype.getMaskProperty=function(e){return this.viewData[e].prop},Ie.prototype.renderFrame=function(e){var t,n=this.element.finalTransform.mat,i=this.masksProperties.length;for(t=0;t<i;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var o=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+r+"#"+this.storedData[t].filterId+")")),o.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},Ie.prototype.getMaskelement=function(){return this.maskElement},Ie.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,(e+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},Ie.prototype.drawPath=function(e,t,n){var r,i,o=" M"+t.v[0][0]+","+t.v[0][1];for(i=t._length,r=1;r<i;r+=1)o+=" C"+t.o[r-1][0]+","+t.o[r-1][1]+" "+t.i[r][0]+","+t.i[r][1]+" "+t.v[r][0]+","+t.v[r][1];if(t.c&&i>1&&(o+=" C"+t.o[r-1][0]+","+t.o[r-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),n.lastPath!==o){var a="";n.elem&&(t.c&&(a=e.inv?this.solidPath+o:o),n.elem.setAttribute("d",a)),n.lastPath=o}},Ie.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},Le.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},Ne.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var n,r=this.dynamicProperties.length;for(n=0;n<r;n+=1)(t||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},De.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?X.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new U},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,n=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<r;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),n=0;n<r;n+=1)e=this.hierarchy[n].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var n,r=!0,i=this.comp;r;)i.finalTransform?(i.data.hasMask&&t.splice(0,0,i.finalTransform),i=i.comp):r=!1;var o,a=t.length;for(n=0;n<a;n+=1)o=t[n].mat.applyToPointArray(0,0,0),e=[e[0]-o[0],e[1]-o[1],0];return e},mHelper:new U},Re.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},z([Re,G({initElement:function(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initTransform(e,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],Me),Fe.prototype.reset=function(){this.d="",this._mdf=!1},Ve.prototype.setAsAnimated=function(){this._isAnimated=!0},z([R],Be),z([R],ze),Ge.prototype.initGradientData=function(e,t,n){this.o=Y.getProp(e,t.o,0,.01,this),this.s=Y.getProp(e,t.s,1,null,this),this.e=Y.getProp(e,t.e,1,null,this),this.h=Y.getProp(e,t.h||{k:0},0,.01,this),this.a=Y.getProp(e,t.a||{k:0},0,p,this),this.g=new ue(e,t.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,t),this.setGradientOpacity(t,n),this._isAnimated=!!this._isAnimated},Ge.prototype.setGradientData=function(e,t){var n=T(),i=N(1===t.t?"linearGradient":"radialGradient");i.setAttribute("id",n),i.setAttribute("spreadMethod","pad"),i.setAttribute("gradientUnits","userSpaceOnUse");var o,a,s,u=[];for(s=4*t.g.p,a=0;a<s;a+=4)o=N("stop"),i.appendChild(o),u.push(o);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+r+"#"+n+")"),this.gf=i,this.cst=u},Ge.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var n,i,o,a=N("mask"),s=N("path");a.appendChild(s);var u=T(),l=T();a.setAttribute("id",l);var c=N(1===e.t?"linearGradient":"radialGradient");c.setAttribute("id",u),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),o=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var d=this.stops;for(i=4*e.g.p;i<o;i+=2)(n=N("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(n),d.push(n);s.setAttribute("gf"===e.ty?"fill":"stroke","url("+r+"#"+u+")"),"gs"===e.ty&&(s.setAttribute("stroke-linecap",F[e.lc||2]),s.setAttribute("stroke-linejoin",V[e.lj||2]),1===e.lj&&s.setAttribute("stroke-miterlimit",e.ml)),this.of=c,this.ms=a,this.ost=d,this.maskId=l,t.msElem=s}},z([R],Ge),z([Ge,R],qe);var We=function(){var e=new U,t=new U;function n(e,t,n){(n||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(n||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function r(n,r,i){var o,a,s,u,l,c,d,f,h,p,v,m=r.styles.length,g=r.lvl;for(c=0;c<m;c+=1){if(u=r.sh._mdf||i,r.styles[c].lvl<g){for(f=t.reset(),p=g-r.styles[c].lvl,v=r.transformers.length-1;!u&&p>0;)u=r.transformers[v].mProps._mdf||u,p-=1,v-=1;if(u)for(p=g-r.styles[c].lvl,v=r.transformers.length-1;p>0;)h=r.transformers[v].mProps.v.props,f.transform(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]),p-=1,v-=1}else f=e;if(a=(d=r.sh.paths)._length,u){for(s="",o=0;o<a;o+=1)(l=d.shapes[o])&&l._length&&(s+=le(l,l._length,l.c,f));r.caches[c]=s}else s=r.caches[c];r.styles[c].d+=!0===n.hd?"":s,r.styles[c]._mdf=u||r.styles[c]._mdf}}function i(e,t,n){var r=t.style;(t.c._mdf||n)&&r.pElem.setAttribute("fill","rgb("+c(t.c.v[0])+","+c(t.c.v[1])+","+c(t.c.v[2])+")"),(t.o._mdf||n)&&r.pElem.setAttribute("fill-opacity",t.o.v)}function o(e,t,n){a(e,t,n),s(e,t,n)}function a(e,t,n){var r,i,o,a,s,u=t.gf,l=t.g._hasOpacity,c=t.s.v,d=t.e.v;if(t.o._mdf||n){var f="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(f,t.o.v)}if(t.s._mdf||n){var h=1===e.t?"x1":"cx",p="x1"===h?"y1":"cy";u.setAttribute(h,c[0]),u.setAttribute(p,c[1]),l&&!t.g._collapsable&&(t.of.setAttribute(h,c[0]),t.of.setAttribute(p,c[1]))}if(t.g._cmdf||n){r=t.cst;var v=t.g.c;for(o=r.length,i=0;i<o;i+=1)(a=r[i]).setAttribute("offset",v[4*i]+"%"),a.setAttribute("stop-color","rgb("+v[4*i+1]+","+v[4*i+2]+","+v[4*i+3]+")")}if(l&&(t.g._omdf||n)){var m=t.g.o;for(o=(r=t.g._collapsable?t.cst:t.ost).length,i=0;i<o;i+=1)a=r[i],t.g._collapsable||a.setAttribute("offset",m[2*i]+"%"),a.setAttribute("stop-opacity",m[2*i+1])}if(1===e.t)(t.e._mdf||n)&&(u.setAttribute("x2",d[0]),u.setAttribute("y2",d[1]),l&&!t.g._collapsable&&(t.of.setAttribute("x2",d[0]),t.of.setAttribute("y2",d[1])));else if((t.s._mdf||t.e._mdf||n)&&(s=Math.sqrt(Math.pow(c[0]-d[0],2)+Math.pow(c[1]-d[1],2)),u.setAttribute("r",s),l&&!t.g._collapsable&&t.of.setAttribute("r",s)),t.e._mdf||t.h._mdf||t.a._mdf||n){s||(s=Math.sqrt(Math.pow(c[0]-d[0],2)+Math.pow(c[1]-d[1],2)));var g=Math.atan2(d[1]-c[1],d[0]-c[0]),y=t.h.v;y>=1?y=.99:y<=-1&&(y=-.99);var b=s*y,_=Math.cos(g+t.a.v)*b+c[0],E=Math.sin(g+t.a.v)*b+c[1];u.setAttribute("fx",_),u.setAttribute("fy",E),l&&!t.g._collapsable&&(t.of.setAttribute("fx",_),t.of.setAttribute("fy",E))}}function s(e,t,n){var r=t.style,i=t.d;i&&(i._mdf||n)&&i.dashStr&&(r.pElem.setAttribute("stroke-dasharray",i.dashStr),r.pElem.setAttribute("stroke-dashoffset",i.dashoffset[0])),t.c&&(t.c._mdf||n)&&r.pElem.setAttribute("stroke","rgb("+c(t.c.v[0])+","+c(t.c.v[1])+","+c(t.c.v[2])+")"),(t.o._mdf||n)&&r.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||n)&&(r.pElem.setAttribute("stroke-width",t.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){switch(e.ty){case"fl":return i;case"gf":return a;case"gs":return o;case"st":return s;case"sh":case"el":case"rc":case"sr":return r;case"tr":return n;default:return null}}}}();function Ke(){}function Ye(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initFrame(),this.initTransform(e,t,n),this.initHierarchy()}function Xe(){}function $e(){}function Qe(){}function Je(){}function Ze(e,t,n){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function et(e,t,n){this.initElement(e,t,n)}function tt(e,t,n){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,n),this._isPlaying=!1,this._canPlay=!1;var r=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(r),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=e.tm?Y.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function nt(e,t,n){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?L(this.layers.length):[],this.initElement(e,t,n),this.tm=e.tm?Y.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function rt(e,t,n){this.textSpans=[],this.renderType="svg",this.initElement(e,t,n)}function it(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,n),this.prevViewData=[]}function ot(){}Ke.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var e=j(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,n){this.globalData=t,this.comp=n,this.data=e,this.layerId=T(),this.data.sr||(this.data.sr=1),this.effectsManager=new ut(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},Ye.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},Ye.prototype.renderFrame=function(){},Ye.prototype.getBaseElement=function(){return null},Ye.prototype.destroy=function(){},Ye.prototype.sourceRectAtTime=function(){},Ye.prototype.hide=function(){},z([Ke,De,Le,Ne],Ye),Xe.prototype={initRendererElement:function(){this.layerElement=N("g")},createContainerElements:function(){this.matteElement=N("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e,t,n,i=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var o=N("mask");o.setAttribute("id",this.layerId),o.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),o.appendChild(this.layerElement),i=o,this.globalData.defs.appendChild(o),fe.maskType||1!=this.data.td||(o.setAttribute("mask-type","luminance"),e=T(),t=he.createFilter(e),this.globalData.defs.appendChild(t),t.appendChild(he.createAlphaToLuminanceFilter()),(n=N("g")).appendChild(this.layerElement),i=n,o.appendChild(n),n.setAttribute("filter","url("+r+"#"+e+")"))}else if(2==this.data.td){var a=N("mask");a.setAttribute("id",this.layerId),a.setAttribute("mask-type","alpha");var s=N("g");a.appendChild(s),e=T(),t=he.createFilter(e);var u=N("feComponentTransfer");u.setAttribute("in","SourceGraphic"),t.appendChild(u);var l=N("feFuncA");l.setAttribute("type","table"),l.setAttribute("tableValues","1.0 0.0"),u.appendChild(l),this.globalData.defs.appendChild(t);var c=N("rect");c.setAttribute("width",this.comp.data.w),c.setAttribute("height",this.comp.data.h),c.setAttribute("x","0"),c.setAttribute("y","0"),c.setAttribute("fill","#ffffff"),c.setAttribute("opacity","0"),s.setAttribute("filter","url("+r+"#"+e+")"),s.appendChild(c),s.appendChild(this.layerElement),i=s,fe.maskType||(a.setAttribute("mask-type","luminance"),t.appendChild(he.createAlphaToLuminanceFilter()),n=N("g"),s.appendChild(c),n.appendChild(this.layerElement),i=n,s.appendChild(n)),this.globalData.defs.appendChild(a)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),i=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var d=N("clipPath"),f=N("path");f.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var h=T();if(d.setAttribute("id",h),d.appendChild(f),this.globalData.defs.appendChild(d),this.checkMasks()){var p=N("g");p.setAttribute("clip-path","url("+r+"#"+h+")"),p.appendChild(this.layerElement),this.transformedElement=p,i?i.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+r+"#"+h+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new Ie(this.data,this,this.globalData),this.renderableEffectsManager=new ot},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+r+"#"+e+")")}},$e.prototype={addShapeToModifiers:function(e){var t,n=this.shapeModifiers.length;for(t=0;t<n;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},searchProcessedElement:function(e){for(var t=this.processedElements,n=0,r=t.length;n<r;){if(t[n].elem===e)return t[n].pos;n+=1}return 0},addProcessedElement:function(e,t){for(var n=this.processedElements,r=n.length;r;)if(n[r-=1].elem===e)return void(n[r].pos=t);n.push(new je(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}},Qe.prototype.initElement=function(e,t,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,n),this.textProperty=new ye(this,e.t,this.dynamicProperties),this.textAnimator=new ve(e.t,this.renderType,this),this.initTransform(e,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},Qe.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},Qe.prototype.createPathShape=function(e,t){var n,r,i=t.length,o="";for(n=0;n<i;n+=1)r=t[n].ks.k,o+=le(r,r.i.length,!0,e);return o},Qe.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},Qe.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},Qe.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},Qe.prototype.applyTextPropertiesToMatrix=function(e,t,n,r,i){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n])/2,0,0)}t.translate(r,i,0)},Qe.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},Qe.prototype.emptyProp=new ge,Qe.prototype.destroy=function(){},z([Ke,De,Le,Ne,Me],Je),Je.prototype.initElement=function(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initTransform(e,t,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},Je.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var n,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},Je.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},Je.prototype.setElements=function(e){this.elements=e},Je.prototype.getElements=function(){return this.elements},Je.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},Je.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},z([Ke,De,Xe,Le,Ne,Me],Ze),Ze.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=N("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},Ze.prototype.sourceRectAtTime=function(){return this.sourceRect},z([Ze],et),et.prototype.createContent=function(){var e=N("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},tt.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}},z([Re,Ke,Ne],tt),tt.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},tt.prototype.show=function(){},tt.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},tt.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},tt.prototype.resume=function(){this._canPlay=!0},tt.prototype.setRate=function(e){this.audio.rate(e)},tt.prototype.volume=function(e){this.audio.volume(e)},tt.prototype.getBaseElement=function(){return null},tt.prototype.destroy=function(){},tt.prototype.sourceRectAtTime=function(){},tt.prototype.initExpressions=function(){},z([Ce,Je,Xe],nt),z([Ke,De,Xe,Le,Ne,Me,Qe],rt),rt.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=N("text"))},rt.prototype.buildTextContents=function(e){for(var t=0,n=e.length,r=[],i="";t<n;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(r.push(i),i=""):i+=e[t],t+=1;return r.push(i),r},rt.prototype.buildNewText=function(){var e,t,n=this.textProperty.currentData;this.renderedLetters=L(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var r=this.globalData.fontManager.getFontByName(n.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var i=n.fWeight,o=n.fStyle;this.layerElement.setAttribute("font-style",o),this.layerElement.setAttribute("font-weight",i)}this.layerElement.setAttribute("aria-label",n.t);var a,s=n.l||[],u=!!this.globalData.fontManager.chars;t=s.length;var l,c=this.mHelper,d="",f=this.data.singleShape,h=0,p=0,v=!0,m=.001*n.tr*n.finalSize;if(!f||u||n.sz){var g,y,b=this.textSpans.length;for(e=0;e<t;e+=1)u&&f&&0!==e||(a=b>e?this.textSpans[e]:N(u?"path":"text"),b<=e&&(a.setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4"),this.textSpans[e]=a,this.layerElement.appendChild(a)),a.style.display="inherit"),c.reset(),c.scale(n.finalSize/100,n.finalSize/100),f&&(s[e].n&&(h=-m,p+=n.yOffset,p+=v?1:0,v=!1),this.applyTextPropertiesToMatrix(n,c,s[e].line,h,p),h+=s[e].l||0,h+=m),u?(l=(g=(y=this.globalData.fontManager.getCharData(n.finalText[e],r.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily))&&y.data||{}).shapes?g.shapes[0].it:[],f?d+=this.createPathShape(c,l):a.setAttribute("d",this.createPathShape(c,l))):(f&&a.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),a.textContent=s[e].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));f&&a&&a.setAttribute("d",d)}else{var _=this.textContainer,E="start";switch(n.j){case 1:E="end";break;case 2:E="middle";break;default:E="start"}_.setAttribute("text-anchor",E),_.setAttribute("letter-spacing",m);var w=this.buildTextContents(n.finalText);for(t=w.length,p=n.ps?n.ps[1]+n.ascent:0,e=0;e<t;e+=1)(a=this.textSpans[e]||N("tspan")).textContent=w[e],a.setAttribute("x",0),a.setAttribute("y",p),a.style.display="inherit",_.appendChild(a),this.textSpans[e]=a,p+=n.finalLineHeight;this.layerElement.appendChild(_)}for(;e<this.textSpans.length;)this.textSpans[e].style.display="none",e+=1;this._sizeChanged=!0},rt.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},rt.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var n,r,i=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(t=o.length,e=0;e<t;e+=1)o[e].n||(n=i[e],r=this.textSpans[e],n._mdf.m&&r.setAttribute("transform",n.m),n._mdf.o&&r.setAttribute("opacity",n.o),n._mdf.sw&&r.setAttribute("stroke-width",n.sw),n._mdf.sc&&r.setAttribute("stroke",n.sc),n._mdf.fc&&r.setAttribute("fill",n.fc))}},z([Ke,De,Xe,$e,Le,Ne,Me],it),it.prototype.initSecondaryElement=function(){},it.prototype.identityMatrix=new U,it.prototype.buildExpressionInterface=function(){},it.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},it.prototype.filterUniqueShapes=function(){var e,t,n,r,i=this.shapes.length,o=this.stylesList.length,a=[],s=!1;for(n=0;n<o;n+=1){for(r=this.stylesList[n],s=!1,a.length=0,e=0;e<i;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(r)&&(a.push(t),s=t._isAnimated||s);a.length>1&&s&&this.setShapesAsAnimated(a)}},it.prototype.setShapesAsAnimated=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t].setAsAnimated()},it.prototype.createStyleElement=function(e,t){var n,i=new Fe(e,t),o=i.pElem;return"st"===e.ty?n=new Be(this,e,i):"fl"===e.ty?n=new ze(this,e,i):"gf"!==e.ty&&"gs"!==e.ty||(n=new("gf"===e.ty?Ge:qe)(this,e,i),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),o.setAttribute("mask","url("+r+"#"+n.maskId+")"))),"st"!==e.ty&&"gs"!==e.ty||(o.setAttribute("stroke-linecap",F[e.lc||2]),o.setAttribute("stroke-linejoin",V[e.lj||2]),o.setAttribute("fill-opacity","0"),1===e.lj&&o.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&o.setAttribute("fill-rule","evenodd"),e.ln&&o.setAttribute("id",e.ln),e.cl&&o.setAttribute("class",e.cl),e.bm&&(o.style["mix-blend-mode"]=j(e.bm)),this.stylesList.push(i),this.addToAnimatedContents(e,n),n},it.prototype.createGroupElement=function(e){var t=new He;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=j(e.bm)),t},it.prototype.createTransformElement=function(e,t){var n=X.getTransformProperty(this,e,this),r=new Ue(n,n.o,t);return this.addToAnimatedContents(e,r),r},it.prototype.createShapeElement=function(e,t,n){var r=4;"rc"===e.ty?r=5:"el"===e.ty?r=6:"sr"===e.ty&&(r=7);var i=new Ve(t,n,Z.getShapeProp(this,e,r,this));return this.shapes.push(i),this.addShapeToModifiers(i),this.addToAnimatedContents(e,i),i},it.prototype.addToAnimatedContents=function(e,t){for(var n=0,r=this.animatedContents.length;n<r;){if(this.animatedContents[n].element===t)return;n+=1}this.animatedContents.push({fn:We.createRenderFunction(e),element:t,data:e})},it.prototype.setElementStyles=function(e){var t,n=e.styles,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||n.push(this.stylesList[t])},it.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},it.prototype.searchShapes=function(e,t,n,r,i,o,a){var s,u,l,c,d,f,h=[].concat(o),p=e.length-1,v=[],m=[];for(s=p;s>=0;s-=1){if((f=this.searchProcessedElement(e[s]))?t[s]=n[f-1]:e[s]._render=a,"fl"===e[s].ty||"st"===e[s].ty||"gf"===e[s].ty||"gs"===e[s].ty)f?t[s].style.closed=!1:t[s]=this.createStyleElement(e[s],i),e[s]._render&&r.appendChild(t[s].style.pElem),v.push(t[s].style);else if("gr"===e[s].ty){if(f)for(l=t[s].it.length,u=0;u<l;u+=1)t[s].prevViewData[u]=t[s].it[u];else t[s]=this.createGroupElement(e[s]);this.searchShapes(e[s].it,t[s].it,t[s].prevViewData,t[s].gr,i+1,h,a),e[s]._render&&r.appendChild(t[s].gr)}else"tr"===e[s].ty?(f||(t[s]=this.createTransformElement(e[s],r)),c=t[s].transform,h.push(c)):"sh"===e[s].ty||"rc"===e[s].ty||"el"===e[s].ty||"sr"===e[s].ty?(f||(t[s]=this.createShapeElement(e[s],h,i)),this.setElementStyles(t[s])):"tm"===e[s].ty||"rd"===e[s].ty||"ms"===e[s].ty||"pb"===e[s].ty?(f?(d=t[s]).closed=!1:((d=ee.getModifier(e[s].ty)).init(this,e[s]),t[s]=d,this.shapeModifiers.push(d)),m.push(d)):"rp"===e[s].ty&&(f?(d=t[s]).closed=!0:(d=ee.getModifier(e[s].ty),t[s]=d,d.init(this,e,s,t),this.shapeModifiers.push(d),a=!1),m.push(d));this.addProcessedElement(e[s],s+1)}for(p=v.length,s=0;s<p;s+=1)v[s].closed=!0;for(p=m.length,s=0;s<p;s+=1)m[s].closed=!0},it.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},it.prototype.renderShape=function(){var e,t,n=this.animatedContents.length;for(e=0;e<n;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},it.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};var at=function(){var t={},n=[],r=0,i=0,o=0,a=!0,s=!1;function u(e){for(var t=0,r=e.target;t<i;)n[t].animation===r&&(n.splice(t,1),t-=1,i-=1,r.isPaused||d()),t+=1}function l(e,t){if(!e)return null;for(var r=0;r<i;){if(n[r].elem===e&&null!==n[r].elem)return n[r].animation;r+=1}var o=new st;return f(o,e),o.setData(e,t),o}function c(){o+=1,v()}function d(){o-=1}function f(e,t){e.addEventListener("destroy",u),e.addEventListener("_active",c),e.addEventListener("_idle",d),n.push({elem:t,animation:e}),i+=1}function h(t){var u,l=t-r;for(u=0;u<i;u+=1)n[u].animation.advanceTime(l);r=t,o&&!s?e.requestAnimationFrame(h):a=!0}function p(t){r=t,e.requestAnimationFrame(h)}function v(){!s&&o&&a&&(e.requestAnimationFrame(p),a=!1)}return t.registerAnimation=l,t.loadAnimation=function(e){var t=new st;return f(t,null),t.setParams(e),t},t.setSpeed=function(e,t){var r;for(r=0;r<i;r+=1)n[r].animation.setSpeed(e,t)},t.setDirection=function(e,t){var r;for(r=0;r<i;r+=1)n[r].animation.setDirection(e,t)},t.play=function(e){var t;for(t=0;t<i;t+=1)n[t].animation.play(e)},t.pause=function(e){var t;for(t=0;t<i;t+=1)n[t].animation.pause(e)},t.stop=function(e){var t;for(t=0;t<i;t+=1)n[t].animation.stop(e)},t.togglePause=function(e){var t;for(t=0;t<i;t+=1)n[t].animation.togglePause(e)},t.searchAnimations=function(e,t,n){var r,i=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),o=i.length;for(r=0;r<o;r+=1)n&&i[r].setAttribute("data-bm-type",n),l(i[r],e);if(t&&0===o){n||(n="svg");var a=document.getElementsByTagName("body")[0];a.innerText="";var s=D("div");s.style.width="100%",s.style.height="100%",s.setAttribute("data-bm-type",n),a.appendChild(s),l(s,e)}},t.resize=function(){var e;for(e=0;e<i;e+=1)n[e].animation.resize()},t.goToAndStop=function(e,t,r){var o;for(o=0;o<i;o+=1)n[o].animation.goToAndStop(e,t,r)},t.destroy=function(e){var t;for(t=i-1;t>=0;t-=1)n[t].animation.destroy(e)},t.freeze=function(){s=!0},t.unfreeze=function(){s=!1,v()},t.setVolume=function(e,t){var r;for(r=0;r<i;r+=1)n[r].animation.setVolume(e,t)},t.mute=function(e){var t;for(t=0;t<i;t+=1)n[t].animation.mute(e)},t.unmute=function(e){var t;for(t=0;t<i;t+=1)n[t].animation.unmute(e)},t.getRegisteredAnimations=function(){var e,t=n.length,r=[];for(e=0;e<t;e+=1)r.push(n[e].animation);return r},t}(),st=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=T(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=o,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface={},this.imagePreloader=new de,this.audioController=ce(),this.markers=[]};function ut(){this.effectElements=[]}z([C],st),st.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";switch(e.animType?t=e.animType:e.renderer&&(t=e.renderer),t){case"canvas":this.renderer=new CanvasRenderer(this,e.rendererSettings);break;case"svg":this.renderer=new Ce(this,e.rendererSettings);break;default:this.renderer=new HybridRenderer(this,e.rendererSettings)}this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||void 0===e.loop||!0===e.loop?this.loop=!0:!1===e.loop?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.configAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),pe.load(e.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},st.prototype.setData=function(e,t){t&&"object"!=typeof t&&(t=JSON.parse(t));var n={wrapper:e,animationData:t},r=e.attributes;n.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",n.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:"canvas";var i=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";"false"===i?n.loop=!1:"true"===i?n.loop=!0:""!==i&&(n.loop=parseInt(i,10));var o=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:!r.getNamedItem("bm-autoplay")||r.getNamedItem("bm-autoplay").value;n.autoplay="false"!==o,n.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"","false"===(r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"")&&(n.prerender=!1),this.setParams(n)},st.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var n,r,i=this.animationData.layers,o=i.length,a=e.layers,s=a.length;for(r=0;r<s;r+=1)for(n=0;n<o;){if(i[n].id===a[r].id){i[n]=a[r];break}n+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(o=e.assets.length,n=0;n<o;n+=1)this.animationData.assets.push(e.assets[n]);this.animationData.__complete=!1,H.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(e.layers),t&&t.initExpressions(this),this.loadNextSegment()},st.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,pe.load(n,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},st.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},st.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},st.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},st.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=Pe(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},st.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},st.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,H.completeData(this.animationData,this.renderer.globalData.fontManager),t&&t.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},st.prototype.resize=function(){this.renderer.updateContainerSize()},st.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},st.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},st.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},st.prototype.play=function(e){e&&this.name!==e||!0===this.isPaused&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},st.prototype.pause=function(e){e&&this.name!==e||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},st.prototype.togglePause=function(e){e&&this.name!==e||(!0===this.isPaused?this.play():this.pause())},st.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},st.prototype.getMarkerData=function(e){for(var t,n=0;n<this.markers.length;n+=1)if((t=this.markers[n]).payload&&t.payload.name===e)return t;return null},st.prototype.goToAndStop=function(e,t,n){if(!n||this.name===n){var r=Number(e);if(isNaN(r)){var i=this.getMarkerData(e);i&&this.goToAndStop(i.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},st.prototype.goToAndPlay=function(e,t,n){if(!n||this.name===n){var r=Number(e);if(isNaN(r)){var i=this.getMarkerData(e);i&&(i.duration?this.playSegments([i.time,i.time+i.duration],!0):this.goToAndStop(i.time,!0))}else this.goToAndStop(r,t,n);this.play()}},st.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,n=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(n=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(n=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),n&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},st.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},st.prototype.setSegment=function(e,t){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?n=e:this.currentRawFrame+this.firstFrame>t&&(n=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,-1!==n&&this.goToAndStop(n,!0)},st.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"==typeof e[0]){var n,r=e.length;for(n=0;n<r;n+=1)this.segments.push(e[n])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},st.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},st.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},st.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},st.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},st.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},st.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},st.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},st.prototype.getVolume=function(){return this.audioController.getVolume()},st.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},st.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},st.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},st.prototype.getPath=function(){return this.path},st.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var n=e.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),t=this.assetsPath+n}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},st.prototype.getAssetData=function(e){for(var t=0,n=this.assets.length;t<n;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},st.prototype.hide=function(){this.renderer.hide()},st.prototype.show=function(){this.renderer.show()},st.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},st.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new m(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(e,new y(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new g(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new b(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new _(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new m(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new y(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new g(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new b(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new _(e,this))},st.prototype.triggerRenderFrameError=function(e){var t=new E(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},st.prototype.triggerConfigError=function(e){var t=new w(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var lt,ct={};function dt(){at.searchAnimations()}ct.play=at.play,ct.pause=at.pause,ct.setLocationHref=function(e){r=e},ct.togglePause=at.togglePause,ct.setSpeed=at.setSpeed,ct.setDirection=at.setDirection,ct.stop=at.stop,ct.searchAnimations=dt,ct.registerAnimation=at.registerAnimation,ct.loadAnimation=function(e){return at.loadAnimation(e)},ct.setSubframeRendering=function(e){o=e},ct.resize=at.resize,ct.goToAndStop=at.goToAndStop,ct.destroy=at.destroy,ct.setQuality=function(e){if("string"==typeof e)switch(e){case"high":h=200;break;default:case"medium":h=50;break;case"low":h=10}else!isNaN(e)&&e>1&&(h=e)},ct.inBrowser=function(){return"undefined"!=typeof navigator},ct.installPlugin=function(e,n){"expressions"===e&&(t=n)},ct.freeze=at.freeze,ct.unfreeze=at.unfreeze,ct.setVolume=at.setVolume,ct.mute=at.mute,ct.unmute=at.unmute,ct.getRegisteredAnimations=at.getRegisteredAnimations,ct.setIDPrefix=function(e){a=e},ct.__getFactory=function(e){switch(e){case"propertyFactory":return Y;case"shapePropertyFactory":return Z;case"matrix":return U;default:return null}},ct.version="5.7.13";var ft=document.getElementsByTagName("script"),ht=ft[ft.length-1]||{src:""};lt=ht.src.replace(/^[^\?]+\??/,""),function(e){for(var t=lt.split("&"),n=0;n<t.length;n+=1){var r=t[n].split("=");if(decodeURIComponent(r[0])==e)return decodeURIComponent(r[1])}}("renderer");var pt=setInterval((function(){"complete"===document.readyState&&(clearInterval(pt),dt())}),100);return ct}))}(eAe);var tAe=eAe.exports,nAe="Lottie_wrap__rQgKT",rAe="Lottie_svg__mtVpZ";function iAe(e){var t=e.animationData,n=e.rendererSettings,r=void 0===n?{preserveAspectRatio:"xMidYMid slice",viewBoxOnly:!0}:n,o=e.options,a=void 0===o?{}:o,s=e.styles,l=void 0===s?{}:s,c=e.onAnimationComplete,d=TR(e,["animationData","rendererSettings","options","styles","onAnimationComplete"]),f=a.loop,h=void 0!==f&&f,p=a.autoplay,v=void 0===p||p,m=a.renderer,g=void 0===m?"svg":m,y=a.name,b=i.useRef(null);return i.useEffect((function(){var e=null;return t&&b.current&&(e=tAe.loadAnimation(SR(SR({container:b.current,renderer:g,loop:h,autoplay:v,animationData:t},y?{name:y}:{}),{rendererSettings:SR(SR({},r),{className:rAe})})),c&&e.addEventListener("complete",c)),function(){e&&(c&&e.removeEventListener("complete",c),e.destroy(),e=null)}}),[t,h,v,g,y]),u.default.createElement("div",SR({className:nAe,style:l,ref:b},d))}var oAe,aAe,sAe={Like:{v:"5.0.6",fr:60,ip:0,op:90,w:180,h:180,nm:"BlogEndLike_light",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:3,nm:"Null 10",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[91.75,90,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[83,83,100],ix:6}},ao:0,ip:0,op:88,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"S 8",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:22.441,s:[100],e:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:32.209,s:[0],e:[50]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:41.977,s:[50],e:[0]},{t:51.744140625}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.142},n:"0_1_0p167_0p142",t:19,s:[-2.25,-62.55,0],e:[-2.25,-103.05,0],to:[0,-6.75,0],ti:[0,6.75,0]},{t:89}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[360,360,100],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[3,3],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.537254989147,.439215987921,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:23,op:70,st:19,bm:0},{ddd:0,ind:3,ty:4,nm:"S 7",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:27.326,s:[100],e:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:37.094,s:[0],e:[50]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:43.605,s:[50],e:[0]},{t:50.1171875}],ix:11},r:{a:0,k:-45,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.142},n:"0_1_0p167_0p142",t:19,s:[-44.889,-44.889,0],e:[-73.526,-73.526,0],to:[-4.77297067642212,-4.77297067642212,0],ti:[4.77297067642212,4.77297067642212,0]},{t:89}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[225,225,100],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[3,3],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.537254989147,.439215987921,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:23,op:69,st:19,bm:0},{ddd:0,ind:4,ty:4,nm:"S 6",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:22.441,s:[100],e:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:32.209,s:[0],e:[50]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:41.977,s:[50],e:[0]},{t:51.744140625}],ix:11},r:{a:0,k:-90,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.142},n:"0_1_0p167_0p142",t:19,s:[-62.55,-2.25,0],e:[-103.05,-2.25,0],to:[-6.75,0,0],ti:[6.75,0,0]},{t:89}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[360,360,100],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[3,3],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.537254989147,.439215987921,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:23,op:70,st:19,bm:0},{ddd:0,ind:5,ty:4,nm:"S 5",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:27.326,s:[100],e:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:37.094,s:[0],e:[50]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:46.861,s:[50],e:[0]},{t:56.62890625}],ix:11},r:{a:0,k:-135,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.142},n:"0_1_0p167_0p142",t:19,s:[-44.889,40.389,0],e:[-73.526,69.026,0],to:[-4.77297067642212,4.77297067642212,0],ti:[4.77297067642212,-4.77297067642212,0]},{t:89}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[225,225,100],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[3,3],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.537254989147,.439215987921,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:23,op:70,st:19,bm:0},{ddd:0,ind:6,ty:4,nm:"S 4",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:22.441,s:[100],e:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:32.209,s:[0],e:[50]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:41.977,s:[50],e:[0]},{t:51.744140625}],ix:11},r:{a:0,k:180,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.142},n:"0_1_0p167_0p142",t:19,s:[-2.25,58.05,0],e:[-2.25,98.55,0],to:[0,6.75,0],ti:[0,-6.75,0]},{t:89}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[360,360,100],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[3,3],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.537254989147,.439215987921,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:23,op:70,st:19,bm:0},{ddd:0,ind:7,ty:4,nm:"S 3",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:27.326,s:[100],e:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:37.094,s:[0],e:[50]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:46.861,s:[50],e:[0]},{t:56.62890625}],ix:11},r:{a:0,k:135,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.142},n:"0_1_0p167_0p142",t:19,s:[40.389,40.389,0],e:[69.026,69.026,0],to:[4.77297067642212,4.77297067642212,0],ti:[-4.77297067642212,-4.77297067642212,0]},{t:89}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[225,225,100],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[3,3],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.537254989147,.439215987921,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:23,op:67,st:19,bm:0},{ddd:0,ind:8,ty:4,nm:"S 2",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:22.441,s:[100],e:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:32.209,s:[0],e:[50]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:41.977,s:[50],e:[0]},{t:51.744140625}],ix:11},r:{a:0,k:90,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.142},n:"0_1_0p167_0p142",t:19,s:[58.05,-2.25,0],e:[98.55,-2.25,0],to:[6.75,0,0],ti:[-6.75,0,0]},{t:89}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[360,360,100],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[3,3],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.537254989147,.439215987921,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:23,op:70,st:19,bm:0},{ddd:0,ind:9,ty:4,nm:"S",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:27.326,s:[100],e:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:37.094,s:[0],e:[50]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:46.861,s:[50],e:[0]},{t:55}],ix:11},r:{a:0,k:45,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.142},n:"0_1_0p167_0p142",t:19,s:[40.389,-44.889,0],e:[69.026,-73.526,0],to:[4.77297067642212,-4.77297067642212,0],ti:[-4.77297067642212,4.77297067642212,0]},{t:89}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[225,225,100],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[3,3],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.537254989147,.439215987921,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:23,op:72,st:19,bm:0},{ddd:0,ind:10,ty:4,nm:"B 8",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:247.5,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.046},n:"0_1_0p167_0p046",t:15,s:[-55.71,23.076,0],e:[-93.127,38.574,0],to:[-6.23618698120117,2.58311319351196,0],ti:[6.23618698120117,-2.58311319351196,0]},{t:36}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},n:["0p667_1_0p333_0","0p667_1_0p333_0","0p667_1_0p333_0"],t:15,s:[180,180,100],e:[180,180,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:22,s:[180,180,100],e:[94.5,94.5,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:31,s:[94.5,94.5,100],e:[0,0,100]},{t:36}],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[6,6],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.176470994949,.513724982738,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:16,op:36,st:15,bm:0},{ddd:0,ind:11,ty:4,nm:"B 7",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:157.5,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.046},n:"0_1_0p167_0p046",t:15,s:[23.076,55.71,0],e:[38.574,93.127,0],to:[2.58311319351196,6.23618698120117,0],ti:[-2.58311319351196,-6.23618698120117,0]},{t:36}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},n:["0p667_1_0p333_0","0p667_1_0p333_0","0p667_1_0p333_0"],t:15,s:[180,180,100],e:[202.5,202.5,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:22,s:[202.5,202.5,100],e:[117,117,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:31,s:[117,117,100],e:[0,0,100]},{t:36}],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[6,6],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.176470994949,.513724982738,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:17,op:36,st:15,bm:0},{ddd:0,ind:12,ty:4,nm:"B 6",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:67.5,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.046},n:"0_1_0p167_0p046",t:15,s:[55.71,-23.076,0],e:[93.127,-38.574,0],to:[6.23618698120117,-2.58311319351196,0],ti:[-6.23618698120117,2.58311319351196,0]},{t:36}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},n:["0p667_1_0p333_0","0p667_1_0p333_0","0p667_1_0p333_0"],t:15,s:[180,180,100],e:[270,270,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:22,s:[270,270,100],e:[184.5,184.5,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:31,s:[184.5,184.5,100],e:[0,0,100]},{t:36}],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[6,6],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.176470994949,.513724982738,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:18,op:36,st:15,bm:0},{ddd:0,ind:13,ty:4,nm:"B 5",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-22.5,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.046},n:"0_1_0p167_0p046",t:15,s:[-23.076,-55.71,0],e:[-38.574,-93.127,0],to:[-2.58311319351196,-6.23618698120117,0],ti:[2.58311319351196,6.23618698120117,0]},{t:36}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},n:["0p667_1_0p333_0","0p667_1_0p333_0","0p667_1_0p333_0"],t:15,s:[180,180,100],e:[225,225,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:22,s:[225,225,100],e:[139.5,139.5,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:31,s:[139.5,139.5,100],e:[0,0,100]},{t:36}],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[6,6],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.176470994949,.513724982738,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:16,op:36,st:15,bm:0},{ddd:0,ind:14,ty:4,nm:"B 4",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:292.5,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.046},n:"0_1_0p167_0p046",t:20,s:[-55.71,-23.076,0],e:[-93.127,-38.574,0],to:[-6.23618698120117,-2.58311319351196,0],ti:[6.23618698120117,2.58311319351196,0]},{t:41}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},n:["0p667_1_0p333_0","0p667_1_0p333_0","0p667_1_0p333_0"],t:20,s:[180,180,100],e:[517.5,517.5,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:27,s:[517.5,517.5,100],e:[315,315,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:36,s:[315,315,100],e:[0,0,100]},{t:41}],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[6,6],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.176470994949,.513724982738,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:20,op:41,st:20,bm:0},{ddd:0,ind:15,ty:4,nm:"B 2",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:202.5,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.046},n:"0_1_0p167_0p046",t:14,s:[-23.076,55.71,0],e:[-38.574,93.127,0],to:[-2.58311319351196,6.23618698120117,0],ti:[2.58311319351196,-6.23618698120117,0]},{t:35}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},n:["0p667_1_0p333_0","0p667_1_0p333_0","0p667_1_0p333_0"],t:14,s:[180,180,100],e:[450,450,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:21,s:[450,450,100],e:[270,270,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:32,s:[270,270,100],e:[0,0,100]},{t:35}],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[6,6],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.176470994949,.513724982738,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:17,op:35,st:14,bm:0},{ddd:0,ind:16,ty:4,nm:"B 3",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:112.5,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.044},n:"0_1_0p167_0p044",t:16,s:[55.71,23.076,0],e:[93.127,38.574,0],to:[6.23618698120117,2.58311319351196,0],ti:[-6.23618698120117,-2.58311319351196,0]},{t:36}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},n:["0p667_1_0p333_0","0p667_1_0p333_0","0p667_1_0p333_0"],t:16,s:[180,180,100],e:[405,405,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:22,s:[405,405,100],e:[270,270,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:31,s:[270,270,100],e:[0,0,100]},{t:36}],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[6,6],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.176470994949,.513724982738,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:16,op:37,st:16,bm:0},{ddd:0,ind:17,ty:4,nm:"B",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:22.5,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.167,y:.046},n:"0_1_0p167_0p046",t:15,s:[23.076,-55.71,0],e:[38.574,-93.127,0],to:[2.58311319351196,-6.23618698120117,0],ti:[-2.58311319351196,6.23618698120117,0]},{t:36}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},n:["0p667_1_0p333_0","0p667_1_0p333_0","0p667_1_0p333_0"],t:15,s:[180,180,100],e:[603,603,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:22,s:[603,603,100],e:[450,450,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},n:["0p833_1_0p167_0","0p833_1_0p167_0","0p833_1_0p167_0"],t:32,s:[450,450,100],e:[0,0,100]},{t:36}],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[6,6],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,.176470994949,.513724982738,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:15,op:36,st:15,bm:0},{ddd:0,ind:18,ty:3,nm:"Null 14",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[90,90,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},n:["0p833_0p833_0p167_0p167","0p833_0p833_0p167_0p167","0p833_0p833_0p167_0p167"],t:10,s:[96,96,100],e:[103,103,100]},{t:86}],ix:6}},ao:0,ip:0,op:88,st:0,bm:0},{ddd:0,ind:19,ty:3,nm:"Null 13",parent:18,sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.524,.524,.667],y:[1,1,1]},o:{x:[.526,.526,.333],y:[0,0,0]},n:["0p524_1_0p526_0","0p524_1_0p526_0","0p667_1_0p333_0"],t:7,s:[0,0,100],e:[106,106,100]},{i:{x:[.375,.375,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},n:["0p375_1_0p333_0","0p375_1_0p333_0","0p667_1_0p333_0"],t:15,s:[106,106,100],e:[100,100,100]},{i:{x:[0,0,0],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},n:["0_1_0p333_0","0_1_0p333_0","0_1_0p333_0"],t:19,s:[100,100,100],e:[100,100,100]},{i:{x:[.5,.5,0],y:[1,1,1]},o:{x:[.526,.526,.167],y:[0,0,0]},n:["0p5_1_0p526_0","0p5_1_0p526_0","0_1_0p167_0"],t:84,s:[100,100,100],e:[0,0,100]},{t:88}],ix:6}},ao:0,ip:0,op:88,st:0,bm:0},{ddd:0,ind:20,ty:4,nm:"heart_left",parent:19,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.179],y:[1]},o:{x:[.333],y:[0]},n:["0p179_1_0p333_0"],t:11,s:[45],e:[-3]},{i:{x:[.475],y:[1]},o:{x:[.545],y:[0]},n:["0p475_1_0p545_0"],t:23,s:[-3],e:[0]},{t:62}],ix:10},p:{a:0,k:[-.75,5.375,0],ix:2},a:{a:0,k:[11.75,6.375,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},n:"0p667_1_0p333_0",t:13,s:[{i:[[7.56,0],[5.77,-5.71],[0,0],[-11.55,-11.42],[0,0],[0,0],[-10.139,10.139],[0,0],[0,0],[11.55,11.42],[0,0],[0,0]],o:[[-7.57,0],[0,0],[-11.55,11.41],[0,0],[0,0],[10.033,10.033],[0,0],[0,0],[11.55,-11.41],[0,0],[0,0],[-5.78,-5.71]],v:[[-11.94,-45],[-32.84,-36.44],[-32.84,-36.44],[-32.84,4.88],[-32.84,4.88],[-8.129,29.17],[31.367,29.755],[31.499,29.71],[32.84,28.49],[32.84,-12.84],[32.84,-12.84],[8.96,-36.44]],c:!0}],e:[{i:[[7.56,0],[5.77,-5.71],[0,0],[-11.55,-11.42],[0,0],[0,0],[-3.96,3.91],[0,0],[0,0],[11.55,11.42],[0,0],[0,0]],o:[[-7.57,0],[0,0],[-11.55,11.41],[0,0],[0,0],[3.96,3.91],[0,0],[0,0],[11.55,-11.41],[0,0],[0,0],[-5.78,-5.71]],v:[[-11.94,-45],[-32.84,-36.44],[-32.84,-36.44],[-32.84,4.88],[-32.84,4.88],[4.78,42.07],[19.11,42.07],[19.11,42.07],[32.84,28.49],[32.84,-12.84],[32.84,-12.84],[8.96,-36.44]],c:!0}]},{t:19}],ix:2},nm:"heart_left_Path",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,g:{p:3,k:{a:0,k:[0,.968,.356,.538,.5,.984,.317,.5,1,.999,.277,.462],ix:9}},s:{a:0,k:[-41.5,-45],ix:5},e:{a:0,k:[41.5,45],ix:6},t:1,nm:"heart_left_Gradient Fill",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"heart_left_shape",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:88,st:0,bm:0},{ddd:0,ind:21,ty:4,nm:"heart_right",parent:19,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.179],y:[1]},o:{x:[.333],y:[0]},n:["0p179_1_0p333_0"],t:11,s:[-45],e:[3]},{i:{x:[.475],y:[1]},o:{x:[.545],y:[0]},n:["0p475_1_0p545_0"],t:23,s:[3],e:[0]},{t:62}],ix:10},p:{a:0,k:[-.75,6.625,0],ix:2},a:{a:0,k:[-12.25,7.625,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[7.56,0],[5.77,-5.71],[0,0],[-11.55,-11.41],[0,0],[-3.96,3.91],[0,0],[11.55,11.41]],o:[[-7.56,0],[0,0],[-11.55,11.42],[0,0],[3.96,3.91],[0,0],[11.55,-11.42],[-5.77,-5.71]],v:[[11.94,-45],[-8.96,-36.44],[-32.84,-12.84],[-27.965,23.74],[-16.61,34.07],[10.97,26.07],[32.84,4.88],[32.84,-36.44]],c:!0},ix:2},nm:"heart_right_Path",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,g:{p:3,k:{a:0,k:[0,1,.008,.353,.5,.829,.03,.345,1,.657,.053,.338],ix:9}},s:{a:0,k:[41.5,-45],ix:5},e:{a:0,k:[-41.5,45],ix:6},t:1,nm:"heart_right_Gradient Fill",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"heart_right_shape",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:88,st:0,bm:0},{ddd:0,ind:22,ty:4,nm:"BGheart2",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},n:["0p667_1_0p333_0"],t:15,s:[20],e:[0]},{t:53}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[89.427,92.142,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[0,0,0],y:[1,1,1]},o:{x:[0,0,.167],y:[0,0,0]},n:["0_1_0_0","0_1_0_0","0_1_0p167_0"],t:15,s:[270,270,100],e:[405,405,100]},{t:53}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[.85,.01],[.65,.65],[0,0],[-3.77,3.75],[-2.48,0],[-1.89,-1.87],[0,0],[0,0],[-2.47,0],[-1.89,-1.87],[3.78,-3.75]],o:[[-.65,.65],[-.86,.01],[0,0],[-3.77,-3.75],[1.89,-1.87],[2.47,0],[0,0],[0,0],[1.89,-1.87],[2.48,0],[3.78,3.75],[0,0]],v:[[2.364,13.829],[.004,14.789],[-2.366,13.829],[-14.646,1.599],[-14.646,-11.981],[-7.796,-14.791],[-.956,-11.981],[.004,-11.031],[.954,-11.981],[7.794,-14.791],[14.644,-11.981],[14.644,1.599]],c:!0},ix:2},nm:"BGheart1_Path",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,g:{p:3,k:{a:0,k:[0,1,.188,.506,.5,1,.363,.473,1,1,.537,.439],ix:9}},s:{a:0,k:[-17.476,-14.791],ix:5},e:{a:0,k:[18.175,15.087],ix:6},t:1,nm:"BGheart1_Gradient Fill",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"BGheart1_shape",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:15,op:54,st:9,bm:0},{ddd:0,ind:23,ty:4,nm:"Path 3",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},n:["0p667_1_0p333_0"],t:15,s:[25],e:[0]},{t:37}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[89.93,92.737,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[0,0,0],y:[1,1,1]},o:{x:[0,0,.167],y:[0,0,0]},n:["0_1_0_0","0_1_0_0","0_1_0p167_0"],t:15,s:[270,270,100],e:[405,405,100]},{t:53}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[1.14,.01],[.87,.86],[0,0],[-5.01,4.99],[-3.28,0],[-2.51,-2.49],[0,0],[0,0],[-3.29,0],[-2.51,-2.49],[5.02,-4.99]],o:[[-.86,.86],[-1.13,.01],[0,0],[-5.01,-4.99],[2.51,-2.49],[3.29,0],[0,0],[0,0],[2.51,-2.49],[3.29,0],[5.02,4.99],[0,0]],v:[[3.138,18.4],[-.002,19.68],[-3.142,18.4],[-19.432,2.13],[-19.432,-15.94],[-10.352,-19.68],[-1.272,-15.94],[-.002,-14.67],[1.268,-15.94],[10.348,-19.68],[19.428,-15.94],[19.428,2.13]],c:!0},ix:2},nm:"BGheart2_Path",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,g:{p:3,k:{a:0,k:[0,1,.188,.506,.5,1,.363,.473,1,1,.537,.439],ix:9}},s:{a:0,k:[-23.192,-19.68],ix:5},e:{a:0,k:[24.12,20.074],ix:6},t:1,nm:"BGheart2_Gradient Fill",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"BGheart2_shape",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:15,op:54,st:-3,bm:0}],markers:[]},SkipForward:{v:"5.6.5",fr:60,ip:0,op:41,w:240,h:720,nm:"tap_circleanim_right",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:1,k:[{i:{x:[.2],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.6],y:[0]},t:10,s:[15]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:31,s:[15]},{t:40,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[359.991,360,0],ix:2},a:{a:0,k:[-240.009,0,0],ix:1},s:{a:1,k:[{i:{x:[0,0,.667],y:[1,1,1]},o:{x:[.167,.167,.167],y:[.167,.167,0]},t:0,s:[80,80,100]},{t:40,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[720,720],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-240.009,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0}],markers:[]},SkipBackward:{v:"5.6.5",fr:60,ip:0,op:41,w:240,h:720,nm:"tap_circleanim_left",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:1,k:[{i:{x:[.2],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.6],y:[0]},t:10,s:[15]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:31,s:[15]},{t:40,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[-120.009,360,0],ix:2},a:{a:0,k:[-240.009,0,0],ix:1},s:{a:1,k:[{i:{x:[0,0,.667],y:[1,1,1]},o:{x:[.167,.167,.167],y:[.167,.167,0]},t:0,s:[80,80,100]},{t:40,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[720,720],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-240.009,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0}],markers:[]},VibeEqualizer:{v:"5.7.4",fr:30,ip:30,op:60,w:62,h:62,nm:"EQ-Type2",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:3,nm:"Null 1",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[31,32,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[50,50,100],ix:6,l:2}},ao:0,ip:0,op:150,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 3",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[-21,0,0],ix:2,l:2},a:{a:0,k:[-39.571,.565,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:1,k:[{i:{x:[.8,.8],y:[1,1]},o:{x:[.333,.333],y:[0,0]},t:30,s:[10,10]},{i:{x:[.8,.8],y:[1,1]},o:{x:[.333,.333],y:[0,0]},t:45,s:[10,48]},{i:{x:[.8,.8],y:[1,1]},o:{x:[.333,.333],y:[0,0]},t:60,s:[10,10]},{i:{x:[.8,.8],y:[1,1]},o:{x:[.333,.333],y:[0,0]},t:75,s:[10,48]},{t:90,s:[10,10]}],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:48,ix:4},nm:"Rectangle Path 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[.537254961799,.494118006089,.094117998609,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-39.571,.565],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Rectangle 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Shape Layer 2",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[-1,0,0],ix:2,l:2},a:{a:0,k:[-39.571,.565,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:1,k:[{i:{x:[.8,.8],y:[1,1]},o:{x:[.333,.333],y:[0,0]},t:27,s:[10,10]},{i:{x:[.8,.8],y:[1,1]},o:{x:[.333,.333],y:[0,0]},t:42,s:[10,48]},{i:{x:[.8,.8],y:[1,1]},o:{x:[.333,.333],y:[0,0]},t:57,s:[10,10]},{i:{x:[.8,.8],y:[1,1]},o:{x:[.333,.333],y:[0,0]},t:72,s:[10,48]},{t:87,s:[10,10]}],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:48,ix:4},nm:"Rectangle Path 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[.537254961799,.494118006089,.094117998609,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-39.571,.565],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Rectangle 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Shape Layer 1",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[21,0,0],ix:2,l:2},a:{a:0,k:[-39.571,.565,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:1,k:[{i:{x:[.8,.8],y:[1,1]},o:{x:[.333,.333],y:[0,0]},t:24,s:[10,10]},{i:{x:[.8,.8],y:[1,1]},o:{x:[.333,.333],y:[0,0]},t:39,s:[10,48]},{i:{x:[.8,.8],y:[1,1]},o:{x:[.333,.333],y:[0,0]},t:54,s:[10,10]},{i:{x:[.8,.8],y:[1,1]},o:{x:[.333,.333],y:[0,0]},t:69,s:[10,48]},{t:84,s:[10,10]}],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:48,ix:4},nm:"Rectangle Path 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[.537254961799,.494118006089,.094117998609,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-39.571,.565],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Rectangle 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,bm:0}],markers:[]}},uAe=function(e){var t=e.isVisible,n=i.useContext(Cme).playerSize,r=t?VEe.SKIP_INFO_STATE:VEe.SKIP_NONE_STATE;return{width:.23*n.width,zIndex:r}},lAe=function(e){var t,n=e.isVisible,r=e.title,i=Dxe(),o=Jke().handleTapRight,a=uAe({isVisible:n});return u.default.createElement("div",{style:a,className:pEe(YEe,Bxe,Gxe,(t={},t[zxe]=i||!Rle.isMobile(),t)),onClick:o},n&&u.default.createElement("div",{className:qxe},u.default.createElement(iAe,{animationData:sAe.SkipForward,className:Hxe,role:"button","aria-label":sle("aria.go_forward")}),u.default.createElement("div",{className:Wxe},u.default.createElement($xe,null)),r.length>0&&u.default.createElement("span",{className:Kxe},r)))},cAe=function(e){var t,n=e.isVisible,r=e.title,i=Dxe(),o=Jke().handleTapLeft,a=uAe({isVisible:n});return u.default.createElement("div",{style:a,className:pEe(YEe,Bxe,Yxe,(t={},t[zxe]=i||!Rle.isMobile(),t)),onClick:o},n&&u.default.createElement("div",{className:qxe},u.default.createElement(iAe,{animationData:sAe.SkipBackward,className:Hxe,role:"button","aria-label":sle("aria.go_backward")}),u.default.createElement("div",{className:Wxe},u.default.createElement(Jxe,null)),r.length>0&&u.default.createElement("span",{className:Kxe},r)))},dAe=i.memo((function(){var e,t=null===(e=ZEe().indexes[Zxe().currentIndex])||void 0===e?void 0:e.title,n=Zce((function(e){return e.layer})),r=n.isForwardSkipVisible,i=n.isBackwardSkipVisible;return u.default.createElement(u.default.Fragment,null,u.default.createElement(lAe,{isVisible:r,title:t}),u.default.createElement(cAe,{isVisible:i,title:t}))})),fAe="SeekingThumbnail_wrap__IhKvx",hAe="SeekingThumbnail_thumbnail__hxQ8D",pAe="SeekingThumbnail_image__BuqcI",vAe="SeekingThumbnail_time__nbDzG",mAe="SeekingThumbnail_title__4g9Q3",gAe={allThumbnailCount:0,columnCount:0,interval:1e3,intervalType:"",rowCount:0,source:"",sourcePatternType:"",thumbnailHeight:0,thumbnailWidth:0,totalPage:0,type:""},yAe=function(e){var t,n=e.index,r=e.time,o=e.position,a=e.barWidth,s=e.currentTime,l=ZEe(),c=l.sprites,d=l.indexes,f=c.length>1,h=c[f?n:0]||gAe,p=ege(),v=p[0],m=p[1],g=i.useState(1),y=g[0],b=g[1],_=i.useCallback((function(e){return e&&b(e.offsetWidth)}),[]),E=xle(y-a+o-m.width/2-6,0,y-m.width);return h?u.default.createElement("div",{className:fAe,style:{display:"block"},ref:_},u.default.createElement("span",{ref:v,className:hAe,style:{transform:"translateX(".concat(E,"px)")}},u.default.createElement("span",{style:EEe({sprite:h,originSize:m,currentTime:f?s:r}),className:pAe}),u.default.createElement("span",{className:vAe},Ike(Math.round(r))),u.default.createElement("span",{className:mAe},null===(t=d[n])||void 0===t?void 0:t.title))):null},bAe="PlayButton_control_btn__hKUqe",_Ae="PlayButton_disabled__LUyA-";function EAe(){return EAe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EAe.apply(this,arguments)}function wAe(e){return l.createElement("svg",EAe({xmlns:"http://www.w3.org/2000/svg",width:24,height:24},e),oAe||(oAe=l.createElement("g",{transform:"translate(6 5)",fill:"#FFF",fillRule:"evenodd"},l.createElement("rect",{width:4,height:14,rx:1}),l.createElement("rect",{width:4,height:14,x:8,rx:1}))))}function SAe(){return SAe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SAe.apply(this,arguments)}function TAe(e){return l.createElement("svg",SAe({xmlns:"http://www.w3.org/2000/svg",width:24,height:24},e),aAe||(aAe=l.createElement("path",{d:"M18.337 12.846L7.532 19.641A1 1 0 016 18.794V5.206a1 1 0 011.532-.847l10.805 6.794a1.002 1.002 0 010 1.693z",fill:"#FFF",fillRule:"evenodd"})))}var kAe=function(){var t,n=Ime(),r=n.player,o=n.isPlaying,a=n.setPlaying,s=gSe().logEvent,l=Zce((function(e){return e.layer})).layerState,c=i.useState(!1),d=c[0],f=c[1],h=Tme(),p=Dxe(),v=i.useRef(null),m=Jke().handleTapRight,g=i.useCallback((function(t){return xR(void 0,void 0,void 0,(function(){var n;return AR(this,(function(i){switch(i.label){case 0:return t.persist(),r.isAtEndingPoint()?d?[4,r.replay()]:[3,2]:[3,3];case 1:return i.sent(),fEe(t.target,Pwe.Replay),s(Gwe.Tap,{screen:qwe.Player,category:Wwe.Replay}),a(!0),[3,3];case 2:o||m(t),i.label=3;case 3:return n=function(){a(!o),fEe(t.target,o?Pwe.Pause:Pwe.Play),!d&&s(Gwe.Tap,{screen:qwe.Player,category:o?Wwe.Pause:Wwe.Play})},r.off(e.PlayerEvents.CanPlay,n),r.core.readyState>e.PlayerReadyState.HaveMetadata?n():r.on(e.PlayerEvents.CanPlay,n,{once:!0}),[2]}}))}))}),[r,o,d,s]);return i.useEffect((function(){var t=function(){return f(!1)},n=function(){l===e.LayerState.MoreInfo&&f(!0)};return r.on(e.PlayerEvents.MomentLoaded,t),r.on(e.PlayerEvents.MomentEnded,n),function(){r.off(e.PlayerEvents.MomentLoaded,t),r.off(e.PlayerEvents.MomentEnded,n)}}),[r,l]),i.useEffect((function(){var e,t=function(e){return e.stopPropagation()};return null===(e=v.current)||void 0===e||e.addEventListener("touchstart",t),function(){var e;null===(e=v.current)||void 0===e||e.removeEventListener("touchstart",t)}}),[]),i.useEffect((function(){!r.core.muted&&r.core.autoplay&&a(!1)}),[]),u.default.createElement("button",{className:pEe(bAe,(t={},t[_Ae]=p,t)),onClick:g,ref:v},!o||h||p?u.default.createElement(TAe,null):u.default.createElement(wAe,null))},xAe=function(){return u.default.createElement("button",{className:pEe(bAe,_Ae)},u.default.createElement(TAe,null))},AAe="SeekingBarChapter_seeking_chapter__MPSq1",PAe="SeekingBarChapter_hover__0M17n",OAe="SeekingBarChapter_seeking_load__tn0Vc",CAe="SeekingBarChapter_seeking_play__3FYGE",IAe="SeekingBarChapter_seeking_load_wrap__GJ4GR",LAe=function(e){var t,n=e.width,r=e.loadingRates,i=e.playingRate,o=e.focused;return u.default.createElement("div",{className:pEe(AAe,(t={},t[PAe]=o,t)),style:{width:"".concat(n,"px")}},r.map((function(e,t){return u.default.createElement("div",{key:t,className:IAe,style:{transform:"translateX(".concat(100*e.start,"%)")}},u.default.createElement("div",{className:OAe,style:{width:"".concat(100*(e.end-e.start),"%")}}))})),u.default.createElement("div",{className:CAe,style:{width:"".concat(100*i,"%")}}))},NAe=function(t){var n=t.items,r=t.barWidth,o=t.playingRate,a=t.seekingRate,s=t.isDragging,l=Ime().player,c=i.useMemo((function(){return l.getTotalDuration()}),[]),d=i.useState(l.getLoadedTimeRanges()),f=d[0],h=d[1],p=i.useCallback((function(e){var t=e.start,n=e.end;return{start:t/c,end:n/c}}),[c]),v=f.map(p),m=n.map((function(e,t){var n=r*e.rate,i=2/n,u=function(t){return(t-e.accRate)/e.rate},l=function(e){var n=u(e);return xle(t>0?(n-i)/(1-i):n)},c=v.map((function(e){var t=e.start,n=e.end;return{start:l(t),end:l(n)}})).filter((function(e){return e.start!==e.end})),d=u(a);return{width:t>0?n-2:n,loadingRates:c,playingRate:l(o),focused:!!s&&d>=0&&d<=1}})),g=!n.length||m.some((function(e){return e.width<4}));return i.useEffect((function(){var t=function(){return h(l.getLoadedTimeRanges())};return l.on(e.PlayerEvents.Progress,t),function(){l.off(e.PlayerEvents.Progress,t)}}),[l]),g?u.default.createElement(LAe,{width:r,loadingRates:v,playingRate:o,focused:!!s}):u.default.createElement(u.default.Fragment,null,m.map((function(e,t){return u.default.createElement(LAe,SR({key:t},e))})))},DAe=function(){var e=Ime().isTransitionEnd,t=Zce((function(e){return e.layer})),n=t.isExtraLayerVisible,r=t.isMoreInfoOpen,i=t.popupState,o=t.activeStickerLayerId,a=tge().id;return!e||n||r||i||null!==o||!a},RAe=function(){var t=i.useContext(Cme),n=t.viewerSize,r=t.playerSize,o=i.useState(1),a=o[0],s=o[1],u=i.useState(1),l=u[0],c=u[1],d=i.useState(0),f=d[0],h=d[1];i.useEffect((function(){var t=_xe((function(){var e=document.body.getBoundingClientRect().width;h(e)}),e.Delay.Resize);return window.addEventListener("resize",t,!1),function(){window.removeEventListener("resize",t)}}),[]);var p=i.useCallback((function(e){var t;null!==e&&(s(e.offsetWidth-12),c((t=n.width<n.height?gle.Portrait:gle.Landscape,(Rle.isMobile()&&n.width<t?e.offsetLeft+0:e.getBoundingClientRect().left)+6)))}),[n,r,f]);return{barWidth:a,seekerOffset:l,barRef:p}},MAe=function(t){var n,r=t.onDrag,o=Ime(),a=o.viewer,s=o.player,l=o.isPlaying,c=o.setPlaying,d=i.useContext(swe),f=d.flickingRef,h=d.setFlicking,p=s.getTotalDuration(),v=ZEe().indexes,m=Zce((function(e){return e.layer})),g=m.layerState,y=m.isMoreInfoOpen,b=i.useMemo((function(){var e=0;return s.durations.map((function(t){var n={accPlaytime:e,accRate:e/p,rate:t/p,duration:t};return e+=t,n}))}),[v,p]),_=function(){var e=s.getAccumulatedCurrentTime();return xle(e/p)},E=Zxe(),w=E.currentIndex,S=E.isIndexChanging,T=i.useState(_()),k=T[0],x=T[1],A=i.useState(_()),P=A[0],O=A[1],C=i.useState(),I=C[0],L=C[1],N=RAe(),D=N.barWidth,R=N.seekerOffset,M=N.barRef,j=Jke().handleAutoNext,F=i.useRef(!1),V=i.useRef(!1),U=i.useRef(l),B=i.useRef(null),z=DAe(),G=i.useMemo((function(){var t;return(null===(t=null==a?void 0:a.use)||void 0===t?void 0:t.autoPlay)&&!z&&[e.LayerState.None,e.LayerState.Info].includes(g)&&!I&&l}),[z,g,I,l]),q=i.useCallback((function(e){var t,n=b.findIndex((function(t){return t.accRate>e})),r=-1===n?b.length-1:Math.max(n-1,0);return{currentTime:p*Math.min(e,1)-((null===(t=b[r])||void 0===t?void 0:t.accPlaytime)||0),index:r}}),[b]),H=i.useCallback((function(e){var t=q(e),n=t.currentTime,r=t.index;return s.updateTime({index:r,currentTime:n})}),[s,w,q]),W=q(P),K=i.useCallback((function(e){!I&&O(e),x(e)}),[I]),Y=i.useCallback((function(e){void 0===e&&(e=0);var t=xle((e-R)/D);O(t)}),[D,R]);return i.useEffect((function(){var t=function(){S||K(_()),s.getAccumulatedCurrentTime()/s.getTotalDuration()<.99&&(F.current=!1)},n=function(e){var t,n;G&&!F.current&&(((null===(t=f.current)||void 0===t?void 0:t.getIndex())||0)>=((null===(n=f.current)||void 0===n?void 0:n.getPanelCount())||0)-1&&(a instanceof zRe||a instanceof qRe&&a.autoClose)?(fEe(null,Pwe.Autoclose),a.close()):j(e)),F.current=!0};return s.on(e.PlayerEvents.TimeUpdate,t),s.on(e.PlayerEvents.MomentEnded,n),function(){s.off(e.PlayerEvents.TimeUpdate,t),s.off(e.PlayerEvents.MomentEnded,n)}}),[s,S,K,p,G]),i.useEffect((function(){!1===I?(V.current=!0,O(P),H(P).then((function(){V.current=!1,c(U.current)}))):!0===I&&(U.current=l),r(!!I)}),[I]),i.useEffect((function(){var e=function(){return h(!0)};return window.addEventListener("mouseup",e),function(){window.removeEventListener("mouseup",e)}}),[]),u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:pEe(Sxe,(n={},n[Nxe]=y,n)),ref:B,onTouchStart:function(){return h(!1)},onTouchEnd:function(){return h(!0)},onTouchCancel:function(){return h(!0)},onMouseDown:function(){return h(!1)}},u.default.createElement(kAe,null),u.default.createElement("div",{className:Txe},u.default.createElement("div",{ref:M,role:"presentation",className:kxe},u.default.createElement("div",{className:xxe},u.default.createElement(NAe,{items:b,barWidth:D+12-1,playingRate:k,seekingRate:P,isDragging:I})),u.default.createElement(Uxe,{barWidth:D,position:P*D,onDrag:L,isDragging:I,onUpdatePosition:Y}))),I&&u.default.createElement(yAe,SR({barWidth:D,position:P*D,time:P*p},W))),u.default.createElement(dAe,null))},jAe=function(){var e=Ime().isRestored,t=RAe(),n=t.barWidth,r=t.barRef,i=e?0:Yfe.get(Gfe);return u.default.createElement("div",{className:Sxe},u.default.createElement(xAe,null),u.default.createElement("div",{className:Txe},u.default.createElement("div",{ref:r,role:"presentation",className:kxe},u.default.createElement("div",{className:xxe},u.default.createElement(NAe,{items:[],barWidth:n+12,playingRate:i,seekingRate:i,isDragging:!1})),u.default.createElement(Uxe,{barWidth:n,position:i*n,onDrag:function(){},isDragging:!1,onUpdatePosition:function(){}}))))};function FAe(){return FAe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FAe.apply(this,arguments)}function VAe(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function UAe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function BAe(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var zAe=!1,GAe=u.default.createContext(null),qAe="unmounted",HAe="exited",WAe="entering",KAe="entered",YAe="exiting",XAe=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=HAe,r.appearStatus=WAe):i=KAe:i=t.unmountOnExit||t.mountOnEnter?qAe:HAe,r.state={status:i},r.nextCallback=null,r}UAe(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===qAe?{status:HAe}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==WAe&&n!==KAe&&(t=WAe):n!==WAe&&n!==KAe||(t=YAe)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===WAe?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===HAe&&this.setState({status:qAe})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[s.default.findDOMNode(this),r],o=i[0],a=i[1],u=this.getTimeouts(),l=r?u.appear:u.enter;!e&&!n||zAe?this.safeSetState({status:KAe},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:WAe},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:KAe},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.default.findDOMNode(this);t&&!zAe?(this.props.onExit(r),this.safeSetState({status:YAe},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:HAe},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:HAe},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.default.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===qAe)return null;var t=this.props,n=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var r=VAe(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return u.default.createElement(GAe.Provider,{value:null},"function"==typeof n?n(e,r):u.default.cloneElement(u.default.Children.only(n),r))},t}(u.default.Component);function $Ae(){}XAe.contextType=GAe,XAe.propTypes={},XAe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$Ae,onEntering:$Ae,onEntered:$Ae,onExit:$Ae,onExiting:$Ae,onExited:$Ae},XAe.UNMOUNTED=qAe,XAe.EXITED=HAe,XAe.ENTERING=WAe,XAe.ENTERED=KAe,XAe.EXITING=YAe;var QAe=XAe,JAe=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))},ZAe=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=BAe(n.className,r):n.setAttribute("class",BAe(n.className&&n.className.baseVal||"",r)));var n,r}))},ePe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}UAe(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,JAe(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&ZAe(e,r),i&&ZAe(e,i),o&&ZAe(e,o)},n.render=function(){var e=this.props;e.classNames;var t=VAe(e,["classNames"]);return u.default.createElement(QAe,FAe({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(u.default.Component);ePe.defaultProps={classNames:""},ePe.propTypes={};var tPe,nPe=ePe,rPe=function(e){var t=i.useState(Eme.NotAvailable),n=t[0],r=t[1];return i.useEffect((function(){var t=new Image,n=function(){return r(Eme.Loaded)},i=function(){return r(Eme.Failed)};return e&&(t.src=e,r(Eme.Loading),t.addEventListener("load",n),t.addEventListener("error",i)),function(){e&&(t.removeEventListener("load",n),t.removeEventListener("error",i))}}),[e]),n},iPe={thumbnail:"StickerThumbnail_thumbnail__HojXt",movie:"StickerThumbnail_movie__vcvHn",news:"StickerThumbnail_news__QkArj",shopping:"StickerThumbnail_shopping__m0R-a",oglink:"StickerThumbnail_oglink__AOm57",book:"StickerThumbnail_book__ZzkDL",default:"StickerThumbnail_default__n-Ti8",mask:"StickerThumbnail_mask__psEqP"},oPe=function(e){var t,n=e.src,r=e.type,i=rPe(n)===Eme.Loaded;return!n&&[nSe.Shopping,nSe.News,nSe.Link].includes(r)?null:u.default.createElement("div",{style:{backgroundImage:i?"url(".concat(n,")"):void 0},className:pEe(iPe.thumbnail,iPe[r],(t={},t[iPe.default]=!i,t))})},aPe="StickerShopping_wrap__-WBOt",sPe="StickerShopping_info_box__2qelc",uPe="StickerShopping_text_wrap__DphoT",lPe="StickerShopping_title__sdQjs",cPe="StickerShopping_mall__dJXVO",dPe="StickerPlace_wrap__GZ1fu",fPe="StickerPlace_info_box__PgsIi",hPe="StickerPlace_icon__3j4Z2",pPe="StickerPlace_title__NE9oI";!function(e){e.Black="#000000",e.White="#ffffff",e.LightGreen="#52f5a9",e.NaverGreen="#00C73C"}(tPe||(tPe={}));var vPe=function(e){return/^#(?:[a-f0-9]{4}){1,2}$/i.test(e)},mPe=function(e){var t=[255,255,255,255];if(!e)return t;var n=function(e){var t=e&&e.startsWith("#")?e:"#".concat(e);return function(e){return/^#(?:[a-f0-9]{3}){1,2}$/i.test(e)}(t)||vPe(t)?(vPe(t)||5===t.length||(t="".concat(t,"FF")),t):"#FFFFFFFF"}(e),r=n.substring(1).split(""),i=r[0],o=r[1],a=r[2],s=r[3],u=4===r.length?[i,i,o,o,a,a,s,s]:r,l=Number("0x".concat(u.join("")));return isNaN(l)?t:[l>>24&255,l>>16&255,l>>8&255,255&l]},gPe=function(e){return e.toLowerCase()===sSe.Naver},yPe=function(e,t){var n=mPe(e),r=n[0],i=n[1],o=n[2],a=mPe(t),s=a[0],u=a[1],l=a[2];return Math.pow(r-s,2)+Math.pow(i-u,2)+Math.pow(o-l,2)},bPe=function(e){var t=e.fillColor,n="M19.065 11.5v3.532L16.841 11.5H14.5v7h2.435v-3.533l2.24 3.533H21.5v-7z",r=yPe(t,tPe.NaverGreen)<50;return u.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36"},u.default.createElement("g",{fill:"none",fillRule:"evenodd"},u.default.createElement("path",{fill:t,d:"M26.436 20.822A10.457 10.457 0 0028 15.306C28 9.626 23.514 5.002 18.002 5 12.49 5.002 8.004 9.626 8 15.306c0 1.951.54 3.858 1.595 5.562 1.054 1.703 7.773 9.82 7.773 9.82.35.424.916.423 1.27-.008 0 0 6.776-8.206 7.798-9.858z ".concat(r?"":n)}),r&&u.default.createElement("path",{fill:"#FFFFFF",d:n})))},_Pe=function(e){var t=e.fillColor;return u.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36"},u.default.createElement("path",{d:"M18.002 5c5.512.002 9.997 4.626 9.998 10.306 0 1.957-.54 3.864-1.564 5.516-.474.767-2.19 2.947-3.89 5.062l-.392.487c-1.822 2.257-3.515 4.309-3.515 4.309-.355.431-.922.432-1.271.008 0 0-1.929-2.33-3.881-4.755l-.39-.485c-1.558-1.943-3.05-3.85-3.502-4.58A10.512 10.512 0 018 15.306C8.004 9.626 12.49 5.002 18.002 5zM18 11c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z",fill:t,fillRule:"evenodd"}))},EPe={wrap:"StickerLink_wrap__ZZ0lS",info_box:"StickerLink_info_box__YOoLS",text_wrap:"StickerLink_text_wrap__1tkDM",title:"StickerLink_title__ocXar",url:"StickerLink_url__t7HP3"},wPe="StickerNews_wrap__4gWfL",SPe="StickerNews_info_box__AehSf",TPe="StickerNews_text_wrap__NsE5n",kPe="StickerNews_title__-pGVY",xPe="StickerNews_url__DPIyL",APe={wrap:"StickerMovie_wrap__wl62Y",title:"StickerMovie_title__uz-b4",releaseDate:"StickerMovie_releaseDate__bblC3"},PPe={exports:{}};!function(e,t){e.exports=function(){function e(e,t){t=t||{};var n,r=window,i={clamp:t.clamp||2,useNativeClamp:void 0===t.useNativeClamp||t.useNativeClamp,splitOnChars:t.splitOnChars||[".","-","–","—"," "],animate:t.animate||!1,truncationChar:t.truncationChar||"…",truncationHTML:t.truncationHTML},o=e.style,a=e.innerHTML,s=void 0!==e.style.webkitLineClamp,u=i.clamp,l=u.indexOf&&(u.indexOf("px")>-1||u.indexOf("em")>-1);function c(e,t){return r.getComputedStyle||(r.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,(function(){return arguments[2].toUpperCase()}))),e.currentStyle&&e.currentStyle[t]?e.currentStyle[t]:null},this}),r.getComputedStyle(e,null).getPropertyValue(t)}function d(t){var n=t||e.clientHeight,r=h(e);return Math.max(Math.floor(n/r),0)}function f(t){return h(e)*t}function h(e){var t=c(e,"line-height");return"normal"==t&&(t=1.2*parseInt(c(e,"font-size"))),parseInt(t)}i.truncationHTML&&((n=document.createElement("span")).innerHTML=i.truncationHTML);var p,v,m,g=i.splitOnChars.slice(0),y=g[0];function b(t){return t.lastChild.children&&t.lastChild.children.length>0?b(Array.prototype.slice.call(t.children).pop()):t.lastChild&&t.lastChild.nodeValue&&""!==t.lastChild.nodeValue&&t.lastChild.nodeValue!=i.truncationChar?t.lastChild:(t.lastChild.parentNode.removeChild(t.lastChild),b(e))}function _(t,r){if(r){var o=t.nodeValue.replace(i.truncationChar,"");if(p||(y=g.length>0?g.shift():"",p=o.split(y)),p.length>1?(v=p.pop(),E(t,p.join(y))):p=null,n&&(t.nodeValue=t.nodeValue.replace(i.truncationChar,""),e.innerHTML=t.nodeValue+" "+n.innerHTML+i.truncationChar),p){if(e.clientHeight<=r){if(!(g.length>=0&&""!==y))return e.innerHTML;E(t,p.join(y)+y+v),p=null}}else""===y&&(E(t,""),t=b(e),a());if(!i.animate)return _(t,r);setTimeout((function(){_(t,r)}),!0===i.animate?10:i.animate)}function a(){g=i.splitOnChars.slice(0),y=g[0],p=null,v=null}}function E(e,t){e.nodeValue=t+i.truncationChar}if("auto"==u?u=d():l&&(u=d(parseInt(u))),s&&i.useNativeClamp)o.overflow="hidden",o.textOverflow="ellipsis",o.webkitBoxOrient="vertical",o.display="-webkit-box",o.webkitLineClamp=u,l&&(o.height=i.clamp+"px");else{var w=f(u);w<=e.clientHeight&&(m=_(b(e),w))}return{original:a,clamped:m}}return e}()}(PPe);var OPe,CPe,IPe=PPe.exports,LPe=function(e){var t=e.text,n=e.nodeType,r=void 0===n?"p":n,o=i.useRef(null);return i.useEffect((function(){o.current&&IPe(o.current,{clamp:2})}),[o.current,t]),u.default.createElement(r,{ref:o},t)},NPe="StickerBook_wrap__gyPda",DPe="StickerBook_info_box__XOSlO",RPe="StickerBook_text_wrap__4Rogw",MPe="StickerBook_title__Va3Rk",jPe="StickerBook_author_name__QPmJM",FPe="https://ssl.pstatic.net/static/blog/img_profile_default.png",VPe=function(e){var t=e.src,n=void 0===t?FPe:t,r=e.width,o=void 0===r?34:r,a=e.height,s=void 0===a?34:a,l=e.alt,c=i.useState(n),d=c[0],f=c[1],h=i.useCallback((function(){return f(FPe)}),[]);return i.useEffect((function(){f(n)}),[n]),u.default.createElement("img",{src:phe(d,she.Profile),width:o,height:s,alt:l||sle("aria.profile_image"),onError:h})},UPe="StickerBlog_wrap__oTHgM",BPe="StickerBlog_profile_pic__QzDRE",zPe="StickerBlog_nickname__FhPSa",GPe="StickerBlog_title_wrap__SrEKk",qPe="StickerBlog_title__JyrRw",HPe="StickerDate_wrap__0FOHS",WPe="StickerDate_default__3Nn3q",KPe="StickerDate_text__-y-2y",YPe="StickerDate_date__dgl92",XPe="StickerDate_bar__9Y7OT",$Pe="StickerDate_year__L5-lQ",QPe="StickerDate_day__RxDAW",JPe="StickerDate_trans_mode__GA3A-",ZPe="StickerDate_long_date__PQ0KC";!function(e){e[e.Primary=1]="Primary",e[e.Secondary=2]="Secondary"}(CPe||(CPe={}));var eOe,tOe=((OPe={})[tSe.Sun]="SUNDAY",OPe[tSe.Mon]="MONDAY",OPe[tSe.Tue]="TUESDAY",OPe[tSe.Wed]="WEDNESDAY",OPe[tSe.Thu]="THURSDAY",OPe[tSe.Fri]="FRIDAY",OPe[tSe.Sat]="SATURDAY",OPe),nOe={wrap:"StickerVibe_wrap__3JfIK",thumbnail_wrap:"StickerVibe_thumbnail_wrap__Y-FRK",thumbnail:"StickerVibe_thumbnail__y-oT7",equalizer:"StickerVibe_equalizer__keqfO",is_active:"StickerVibe_is_active__YZjwJ",icon:"StickerVibe_icon__-7fGc",equalizer_center:"StickerVibe_equalizer_center__GJmwc",equalizer_side:"StickerVibe_equalizer_side__Q6kxH",info_box:"StickerVibe_info_box__AfV-h",text_wrap:"StickerVibe_text_wrap__H-JIV",title:"StickerVibe_title__i0CdN",artist:"StickerVibe_artist__7UAQu"},rOe=u.default.createContext({}),iOe=function(){return i.useContext(rOe)},oOe=function(e){var t=e.stickerAudioPlayer,n=e.layerAudioPlayer,r=e.children;return u.default.createElement(rOe.Provider,{value:{stickerAudioPlayer:t,layerAudioPlayer:n}},r)};!function(e){e.Svg="svg",e.Canvas="canvas",e.Html="html"}(eOe||(eOe={}));var aOe,sOe,uOe,lOe,cOe,dOe,fOe={preserveAspectRatio:"xMidYMid slice",viewBoxOnly:!0},hOe=function(e){var t=e.options,n=void 0===t?{}:t,r=e.$container,o=e.animationData,a=e.onInit,s=e.enabled,u=void 0===s||s,l=i.useState(),c=l[0],d=l[1],f=n.loop,h=void 0===f||f,p=n.autoplay,v=void 0===p||p,m=n.renderer,g=void 0===m?eOe.Svg:m,y=n.name,b=n.rendererSettings;return i.useEffect((function(){var e=null;return u&&r.current&&(e=tAe.loadAnimation(SR(SR({container:r.current,renderer:g,loop:h,autoplay:v,animationData:o},y?{name:y}:{}),{rendererSettings:SR(SR({},fOe),b)})),d(e),a&&a(e)),function(){e&&e.destroy(),e=null}}),[u]),c},pOe=function(e){var t=e.isPlaying,n=e.isActive,r=i.useRef(null),o=hOe({animationData:sAe.VibeEqualizer,$container:r,options:{loop:!0,autoplay:!1,rendererSettings:{preserveAspectRatio:"xMidYMid meet"}}});return i.useEffect((function(){o&&(t?o.play():o.pause())}),[o,t]),u.default.createElement("div",{className:nOe.equalizer,style:{visibility:n?"visible":"hidden"},ref:r})},vOe=function(e){var t=e.onError,n=e.onLoad,r=e.alt,o=void 0===r?"":r,a=e.errorImageUrl,s=void 0===a?"":a,l=e.src,c=TR(e,["onError","onLoad","alt","errorImageUrl","src"]),d=i.useRef(null),f=i.useState(!1),h=f[0],p=f[1],v=l||s;return i.useEffect((function(){new Promise((function(e,t){var n=new Image;n.onerror=t,n.onload=e,n.src=v})).then((function(e){return null==n?void 0:n(e)})).catch((function(e){s&&d.current&&d.current.src!==s?d.current.src=s:(p(!0),null==t||t(e))}))}),[l]),h?null:u.default.createElement("img",SR({},c,{src:v,ref:d,alt:o}))},mOe=.68,gOe=363.5,yOe=((aOe={})[nSe.Link]=gOe,aOe[nSe.News]=gOe,aOe[nSe.Place]=385.8,aOe[nSe.Shopping]=gOe,aOe[nSe.Vibe]=gOe,aOe),bOe=function(e){var t=e.translateX,n=e.translateY,r=e.rotation,i=e.scale;return"translate(".concat(t,"px, ").concat(n,"px) rotate(").concat(r,"deg) scale(").concat(i,")")},_Oe=function(e){var t=e.measuredSize,n=e.version;return Sle(t)?function(e){return tce.exports.compare(e,"1.1.2","<")}(n)?function(e){var t=e.rect,n=e.region,r=e.measuredSize,i=e.type,o=n.position,a=n.size,s=n.rotation,u=a.width,l=i===nSe.Book?u/mOe:t.width*u/r.width,c=Eke[i]||0,d=t.width*o.x-r.width/2,f=t.height*o.y-r.height/2+c/2*l;return{transform:bOe({translateX:d,translateY:f,rotation:s,scale:l})}}(e):function(e){var t=e.rect,n=e.region,r=e.measuredSize,i=e.type,o=Object.keys(yOe).includes(i),a=n.position,s=n.size,u=n.rotation,l=s.width,c=s.height,d=o?t.height*c/r.height:t.width*l/r.width,f=Math.min(r.width,yOe[i]),h=Eke[i]||0,p=t.width*a.x-(o?f:r.width)/2,v=t.height*a.y-r.height/2+h/2*d;return{width:r.width>yOe[i]?"".concat(f,"px"):void 0,transform:bOe({translateX:p,translateY:v,rotation:u,scale:d})}}(e):{}},EOe=((sOe={})[nSe.Shopping]=function(e){var t=e.type,n=e.onClick,r=e.styles,i=e.title,o=e.isCompareType,a=e.thumbnail,s=e.mallName;return u.default.createElement(uwe,{onTap:function(e){return null==n?void 0:n(e)}},u.default.createElement("a",{href:"#",className:aPe,style:r},u.default.createElement("div",{className:sPe},u.default.createElement(oPe,{type:t,src:a}),u.default.createElement("div",{className:uPe},u.default.createElement("strong",{className:lPe},i),u.default.createElement("span",{className:cPe},o===oSe.Yes?sle("action.check_price_info"):s)))))},sOe[nSe.Place]=function(e){var t=e.onClick,n=e.styles,r=e.title,o=e.color,a=e.source,s=n.color,l=i.useMemo((function(){return yPe(o,tPe.White)<50?gPe(a)?tPe.NaverGreen:tPe.Black:s}),[o,s,a]);return u.default.createElement(uwe,{onTap:function(e){return null==t?void 0:t(e)}},u.default.createElement("a",{href:"#",className:dPe,style:n},u.default.createElement("div",{className:fPe},u.default.createElement("i",{className:hPe},gPe(a)?u.default.createElement(bPe,{fillColor:l}):u.default.createElement(_Pe,{fillColor:l})),u.default.createElement("strong",{className:pPe},r))))},sOe[nSe.News]=function(e){var t=e.type,n=e.onClick,r=e.styles,i=e.link,o=e.title,a=e.officeName,s=e.thumbnail;return u.default.createElement(uwe,{onTap:function(e){var t;null==n||n(e),null===(t=e.srcEvent)||void 0===t||t.stopPropagation()}},u.default.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer",onClick:function(e){return e.stopPropagation()},className:wPe,style:r},u.default.createElement("div",{className:SPe},u.default.createElement(oPe,{type:t,src:s}),u.default.createElement("div",{className:TPe},u.default.createElement("strong",{className:kPe},o),u.default.createElement("span",{className:xPe},a)))))},sOe[nSe.Link]=function(e){var t=e.type,n=e.onClick,r=e.styles,i=e.thumbnail,o=e.link,a=e.domain,s=e.title;return u.default.createElement(uwe,{onTap:function(e){var t;null==n||n(e),null===(t=e.srcEvent)||void 0===t||t.stopPropagation()}},u.default.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer",onClick:function(e){return e.stopPropagation()},className:EPe.wrap,style:r},u.default.createElement("div",{className:EPe.info_box},u.default.createElement(oPe,{type:t,src:i}),u.default.createElement("div",{className:EPe.text_wrap},u.default.createElement("strong",{className:pEe(EPe.text,EPe.title)},s),u.default.createElement("span",{className:pEe(EPe.text,EPe.url)},a)))))},sOe[nSe.Movie]=function(e){var t=e.type,n=e.onClick,r=e.styles,i=e.releaseDate,o=e.thumbnail,a=e.title;return u.default.createElement(uwe,{onTap:function(e){return null==n?void 0:n(e)}},u.default.createElement("a",{href:"#",className:APe.wrap,style:r},u.default.createElement("div",{className:APe.info_box},u.default.createElement(oPe,{type:t,src:o}),u.default.createElement("strong",{className:APe.title},a),u.default.createElement("span",{className:APe.releaseDate},Dke(i)))))},sOe[nSe.Book]=function(e){var t=e.type,n=e.onClick,r=e.styles,i=e.author,o=e.thumbnail,a=e.title,s=r.backgroundColor;return u.default.createElement(uwe,{onTap:function(e){return null==n?void 0:n(e)}},u.default.createElement("a",{href:"#",className:NPe,style:SR(SR({},r),{color:s})},u.default.createElement("div",{className:DPe},u.default.createElement(oPe,{type:t,src:o}),u.default.createElement("div",{className:RPe},u.default.createElement("strong",{className:MPe},u.default.createElement(LPe,{text:a})),u.default.createElement("span",{className:jPe},i.join(", "))))))},sOe[nSe.Blog]=function(e){var t=e.styles,n=e.onClick,r=e.link,i=e.title,o=e.userId,a=e.blogName,s=e.userImage;return u.default.createElement(uwe,{onTap:function(e){var t;null==n||n(e),null===(t=e.srcEvent)||void 0===t||t.stopPropagation()}},u.default.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer",onClick:function(e){return e.stopPropagation()},className:UPe,style:t},u.default.createElement("div",{className:BPe},u.default.createElement(VPe,{src:s,width:48,height:48,alt:"blog"})),u.default.createElement("span",{className:zPe},a||o),u.default.createElement("div",{className:GPe},u.default.createElement("strong",{className:qPe},i))))},sOe[nSe.Date]=function(e){var t,n=e.styles,r=e.layout,i=e.year,o=e.month,a=e.day,s=e.dayOfWeek,l=n.color,c=n.backgroundColor,d=r===CPe.Primary,f=tOe[s],h=a.toString().length+o.toString().length>3;return u.default.createElement("div",{className:pEe(HPe,d?WPe:JPe,(t={},t[ZPe]=h,t)),style:SR(SR({},n),{backgroundColor:d?c:"transparent",color:d?l:c})}," ",u.default.createElement("strong",{className:pEe(KPe,YPe)},o,".",a,u.default.createElement("span",{className:XPe,style:{backgroundColor:d?l:c}})),u.default.createElement("span",{className:pEe(KPe,$Pe)},i),u.default.createElement("span",{className:pEe(KPe,QPe)},d?f:f.toLowerCase())," ")},sOe[nSe.Vibe]=function(t){var n,r=t.trackId,o=t.title,a=t.artists,s=t.album,l=t.styles,c=t.onClick,d=t.method.range,f=a.map((function(e){return e.name})).join(", "),h=Xce(),p=null!==(n=null==d?void 0:d.startTime)&&void 0!==n?n:0,v=Ime().player,m=iOe().stickerAudioPlayer,g=Zce((function(e){return e.auth})),y=i.useState(!v.core.paused),b=y[0],_=y[1],E=i.useState(m.isAudioActive()),w=E[0],S=E[1],T=function(){var e=i.useRef(!1),t=i.useCallback((function(){return e.current}),[]);return i.useEffect((function(){return e.current=!0,function(){e.current=!1}}),[]),t}(),k=function(){return v.getAccumulatedCurrentTime()-p};return i.useEffect((function(){var t=k()<.2,n=function(){var e=!v.core.paused&&!m.isAtEndingPoint();!v.core.muted&&(e?m.play():m.pause()),T()&&(_(e),S(m.isAudioActive()))},i=function(){var e=k();m.updateTime(e).then((function(){n()}))},o=function(){var e=p+m.duration,t=v.getAccumulatedCurrentTime()>e;T()&&S(m.isAudioActive()&&!t)},a=function(){m.setMuted(v.core.muted),v.core.muted||i()},s=function(){m.pause()},u=function(){m.setMuted(v.core.muted),t?n():i()},l=function(){n(),i(),a()},c=function(e){e!==wve.ABORTED&&!v.core.muted&&h(gme(Zve.MusicError))};return Bve.vibe.getTrackInfo(r).then((function(e){if(T()){var t=e,n=t.adult,r=t.streaming,i=t.preview.media.url,o=g.loggedIn,a=g.isAdult;(!n||o&&a)&&r&&i&&m.load(i)}})).catch(c),v.on(e.PlayerEvents.Playing,n),v.on(e.PlayerEvents.Pause,n),v.on(e.PlayerEvents.Seeking,s),v.on(e.PlayerEvents.Seeked,i),v.on(e.PlayerEvents.TimeUpdate,o),v.on(e.PlayerEvents.Waiting,s),v.on(e.PlayerEvents.VolumeChange,a),m.on(Eve.CanPlay,u,{once:!0}),m.on(Eve.Error,c),m.on(Eve.Unlocked,l),function(){null==m||m.pause(),m.unload(),v.off(e.PlayerEvents.Playing,n),v.off(e.PlayerEvents.Pause,n),v.off(e.PlayerEvents.Seeking,s),v.off(e.PlayerEvents.Seeked,i),v.off(e.PlayerEvents.TimeUpdate,o),v.off(e.PlayerEvents.Waiting,s),v.off(e.PlayerEvents.VolumeChange,a),m.off(Eve.CanPlay,u),m.off(Eve.Error,c),m.off(Eve.Unlocked,l)}}),[m,v]),u.default.createElement(uwe,{onTap:function(e){return null==c?void 0:c(e)}},u.default.createElement("a",{href:"#",target:"_blank",rel:"noopener noreferrer",onClick:function(e){return e.preventDefault()},className:nOe.wrap,style:l},u.default.createElement("div",{className:nOe.info_box},u.default.createElement("div",{className:nOe.thumbnail_wrap},u.default.createElement(vOe,{src:s.thumbnail,className:nOe.thumbnail,alt:sle("label.thumbnail")}),u.default.createElement(pOe,{isPlaying:b,isActive:w})),u.default.createElement("div",{className:nOe.text_wrap},u.default.createElement("strong",{className:pEe(nOe.text,nOe.title)},o),u.default.createElement("span",{className:pEe(nOe.text,nOe.artist)},f||wke.UnRegistered)))))},sOe),wOe=[nSe.Vibe],SOe=function(t){var n=i.useState(Zle),r=n[0],o=n[1],a=t.type,s=t.region,l=t.containerRect,c=Sle(r),d=i.useMemo((function(){return ple.env===e.ServiceEnv.Real&&wOe.includes(a)?null:EOe[a]}),[a]),f=ZEe().version,h=i.useRef(null),p=s.color.bgColor,v=function(e){var t=mPe(e),n=t[0],r=t[1],i=t[2],o=t[3];return"rgba(".concat(n,", ").concat(r,", ").concat(i,", ").concat(o/255,")")}(p),m=function(e){var t=mPe(e);return.299*t[0]+.587*t[1]+.114*t[2]>175?tPe.Black:tPe.White}(p),g=SR({color:m,backgroundColor:v},_Oe({rect:l,region:s,measuredSize:r,type:a,version:f})),y=SR(SR({},g),c?{opacity:1,position:"absolute"}:{opacity:0,position:"static",display:[nSe.Movie,nSe.Blog].includes(a)?"block":"table"});return i.useEffect((function(){if(h.current&&!Sle(r)){var e=h.current,t=e.offsetWidth,n=e.offsetHeight;t>0&&n>0&&o({width:t,height:n})}}),[r]),d?u.default.createElement("div",{style:{position:"absolute"},ref:h},u.default.createElement(d,SR({},t,{styles:y,color:p}))):null},TOe=function(e){var t=e.children,n=e.url,r=e.onFail,o=e.onClick,a=e.clickCode,s=TR(e,["children","url","onFail","onClick","clickCode"]),l=i.useCallback((function(e){e.preventDefault(),n?(null==o||o(),function(e){var t="_blank";if(Rle.getBrowser().name===wle.IE){var n=document.createElement("a");return n.setAttribute("href",e),n.setAttribute("target",t),n.setAttribute("rel","noopener noreferrer"),void n.click()}window.open(e,t,"noopener,noreferrer")}(n),a&&fEe(e.currentTarget,a)):null==r||r()}),[n,o,a,r]);return u.default.createElement("a",SR({},s,{href:n,onClick:l}),t)},kOe={thumbnail:"StickerLayerThumbnail_thumbnail__ixx7o",book:"StickerLayerThumbnail_book__mBnLm",movie:"StickerLayerThumbnail_movie__BZtmc",shopping:"StickerLayerThumbnail_shopping__opooM",default:"StickerLayerThumbnail_default__Ouwmq"},xOe=function(e){var t,n=e.link,r=e.src,i=e.type,o=e.clickCode,a=e.onClick,s=e.onFail,l=rPe(r)===Eme.Loaded;return u.default.createElement(TOe,{url:n,clickCode:o,onClick:a,onFail:s,className:pEe(kOe.thumbnail,kOe[i],(t={},t[kOe.default]=!l,t)),style:l?{backgroundImage:"url(".concat(r,")")}:{}},u.default.createElement("div",null))},AOe=function(e){var t=gSe().logEvent;return i.useCallback((function(n,r){void 0===r&&(r=Gwe.Tap),t(r,{screen:e,category:n})}),[t])};function POe(){return POe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},POe.apply(this,arguments)}function OOe(e){return l.createElement("svg",POe({xmlns:"http://www.w3.org/2000/svg",width:24,height:24},e),uOe||(uOe=l.createElement("path",{opacity:.8,d:"M15.804 4.25a4.52 4.52 0 013.21 1.323 4.526 4.526 0 01.332 6.043l-.15.178-6.885 6.742a.75.75 0 01-.966.07l-.083-.07-6.677-6.54a4.529 4.529 0 010-6.423 4.52 4.52 0 013.21-1.323c.94 0 1.844.284 2.607.818a.75.75 0 11-.861 1.228 3.026 3.026 0 00-1.746-.546c-.815 0-1.576.314-2.151.886a3.029 3.029 0 00-.137 4.153l.132.14 6.148 6.021 6.323-6.19c1.041-1.174.978-2.997-.155-4.124a3.02 3.02 0 00-2.15-.886c-.673 0-1.307.212-1.832.607L12.581 7.7l-.25.25a.759.759 0 01-.06.054l-1.08 1.04a1.25 1.25 0 001.633 1.888l.103-.09 2.196-2.126a.75.75 0 011.118.994l-.074.083-2.197 2.128A2.75 2.75 0 0110.018 8.1l.131-.136 1.357-1.311 1.087-1.08c.125-.125.256-.242.393-.35l.04-.037a.75.75 0 01.196-.137c.753-.52 1.646-.8 2.582-.8z"})))}function COe(){return COe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},COe.apply(this,arguments)}function IOe(e){return l.createElement("svg",COe({xmlns:"http://www.w3.org/2000/svg",width:42,height:18},e),lOe||(lOe=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("path",{fill:"#FFF",d:"M1.337 16.663h15.326V1.337H1.337z"}),l.createElement("path",{fill:"#03C75A",d:"M1.543 16.457h14.914V1.543H1.543v14.914zM40.8 0H1.2A1.2 1.2 0 000 1.2v15.6A1.2 1.2 0 001.2 18h39.6a1.2 1.2 0 001.2-1.2V1.2A1.2 1.2 0 0040.8 0z"}),l.createElement("path",{fill:"#03C75A",d:"M10.496 4.8V9L7.381 4.8H4.8v8.4h2.704V9l3.115 4.2H13.2V4.8z"}),l.createElement("path",{fill:"#FFF",d:"M33.947 6.157l1.375 4.48h.045l1.386-4.48h1.476l-3.149 8.586-1.299-.451.782-1.993-2.158-6.142h1.542zm-3.7 3.456h-1.354c-.367 0-.622.07-.765.21-.143.139-.215.326-.215.56v.133c0 .198.07.352.21.462.139.11.344.165.616.165.565 0 .983-.135 1.255-.407a.727.727 0 00.22-.402c.022-.143.033-.328.033-.556v-.165zm-1.618 2.697c-.654 0-1.16-.148-1.52-.446-.36-.297-.539-.713-.539-1.249v-.352c0-.25.039-.479.116-.688.077-.21.205-.39.385-.545.18-.154.417-.275.71-.363.293-.088.653-.132 1.079-.132h1.387v-.231c0-.375-.087-.644-.259-.81-.172-.165-.446-.247-.82-.247-.631 0-1.204.202-1.717.605l-.683-1.012a5.884 5.884 0 011.046-.567c.389-.166.844-.248 1.365-.248.352 0 .679.044.98.132.3.088.56.215.776.38.216.165.385.367.506.605.121.239.182.512.182.82v4.26h-1.244l-.022-.748a.99.99 0 01-.281.357 1.782 1.782 0 01-.435.265c-.161.07-.33.122-.506.16a2.528 2.528 0 01-.506.054zm-6.991-6.847v2.521h1.398c.462 0 .825-.088 1.09-.264.263-.176.396-.495.396-.958v-.198c0-.22-.033-.4-.1-.54a.84.84 0 00-.28-.335 1.135 1.135 0 00-.435-.176 2.868 2.868 0 00-.55-.05h-1.52zm-1.41-1.177h2.995c.477 0 .886.057 1.227.17.341.114.622.272.842.473.22.202.384.443.49.722.106.279.16.58.16.902v.231c0 .324-.055.63-.166.92-.11.29-.279.543-.506.76-.227.216-.51.388-.848.517-.337.128-.737.192-1.2.192h-1.584v3.049h-1.41V4.286z"}))))}function LOe(){return LOe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LOe.apply(this,arguments)}function NOe(e){return l.createElement("svg",LOe({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:58,height:18},e),cOe||(cOe=l.createElement("defs",null,l.createElement("path",{id:"IconNpayPlus_svg__a",d:"M.02 0h20.462v18H.02z"}),l.createElement("path",{id:"IconNpayPlus_svg__c",d:"M0 18h57.83V0H0z"}))),dOe||(dOe=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("path",{fill:"#FFF",d:"M1.033.857h55.591V16.8H1.033z"}),l.createElement("g",{transform:"translate(37.347)"},l.createElement("mask",{id:"IconNpayPlus_svg__b",fill:"#fff"},l.createElement("use",{xlinkHref:"#IconNpayPlus_svg__a"})),l.createElement("path",{fill:"#1E9BF5",d:"M19.278 0L3.78.002.02 9.222 3.78 18l15.497-.002c.665 0 1.204-.538 1.204-1.2V1.2c0-.663-.539-1.2-1.204-1.2",mask:"url(#IconNpayPlus_svg__b)"})),l.createElement("path",{fill:"#FFF",d:"M51.383 7.807V4.243h-2.396v3.564h-3.578v2.386h9.552V7.807zm-2.385 2.703l-.01 3.247h2.395v-1.502c0-1.135-1.206-1.745-2.385-1.745"}),l.createElement("mask",{id:"IconNpayPlus_svg__d",fill:"#fff"},l.createElement("use",{xlinkHref:"#IconNpayPlus_svg__c"})),l.createElement("path",{fill:"#FFF",d:"M1.342 16.661h15.385V1.336H1.342z",mask:"url(#IconNpayPlus_svg__d)"}),l.createElement("path",{fill:"#03C75A",d:"M10.536 4.799v4.2l-3.127-4.2H4.818v8.399h2.715V8.999l3.126 4.199h2.591V4.799z",mask:"url(#IconNpayPlus_svg__d)"}),l.createElement("path",{fill:"#03C75A",d:"M1.566 16.438h14.937V1.559H1.566v14.879zM0 1.2v15.598c0 .662.54 1.2 1.205 1.2L41.128 18c.57 0 1.033-.46 1.033-1.029V1.031c0-.568-.463-1.029-1.033-1.029L1.205 0C.539 0 0 .537 0 1.2z",mask:"url(#IconNpayPlus_svg__d)"}),l.createElement("path",{fill:"#FFF",d:"M34.086 6.203l1.385 4.493h.044l1.397-4.493h1.485l-3.17 8.61-1.308-.453.787-1.997-2.172-6.16h1.552zM30.36 9.669h-1.363c-.37 0-.626.07-.77.21-.144.14-.216.327-.216.563v.132c0 .199.07.354.21.464.14.11.347.165.62.165.57 0 .99-.136 1.264-.408a.73.73 0 00.222-.403c.022-.143.033-.33.033-.557v-.166zm-1.629 2.705c-.658 0-1.168-.15-1.53-.447-.362-.299-.542-.716-.542-1.253v-.354c0-.25.038-.48.116-.69.077-.21.207-.391.388-.546.18-.154.419-.276.715-.364a3.843 3.843 0 011.086-.133h1.396v-.231c0-.376-.087-.646-.26-.812-.174-.165-.45-.248-.826-.248-.636 0-1.212.202-1.729.607l-.687-1.016c.31-.213.661-.402 1.053-.568.391-.166.85-.248 1.374-.248.355 0 .683.044.986.132.303.088.564.215.782.381.217.166.387.368.51.607.121.24.182.513.182.822v4.272h-1.252l-.022-.75a1 1 0 01-.283.358c-.13.107-.275.195-.438.265-.162.07-.332.124-.51.16a2.492 2.492 0 01-.509.056zm-7.038-6.866v2.527H23.1c.465 0 .831-.088 1.097-.264.266-.177.399-.497.399-.96v-.2c0-.22-.033-.4-.1-.54a.837.837 0 00-.282-.337 1.134 1.134 0 00-.438-.177 2.91 2.91 0 00-.554-.05h-1.53zm-1.42-1.181h3.015c.48 0 .893.057 1.236.17.344.115.626.273.848.475.222.203.386.444.493.723.107.28.16.582.16.905v.232c0 .324-.055.631-.166.922-.11.29-.28.545-.51.762-.228.217-.513.39-.853.519-.34.128-.742.193-1.208.193h-1.595v3.057h-1.42V4.327z",mask:"url(#IconNpayPlus_svg__d)"}))))}var DOe="StickerLayerShopping_content_box__a7XbL",ROe="StickerLayerShopping_info_box__V63-N",MOe="StickerLayerShopping_title__n5rLl",jOe="StickerLayerShopping_info__cBYHa",FOe="StickerLayerShopping_category__yniBh",VOe="StickerLayerShopping_mall_name__my7y7",UOe="StickerLayerShopping_text__I8GlQ",BOe="StickerLayerShopping_buttons__j6HnN",zOe="StickerLayerShopping_button__-9M9K",GOe="StickerLayerShopping_default__KGIBq",qOe="StickerLayerShopping_on__HbkbI",HOe={exports:{}};!function(e,t){var n;n=function(){return function(){var e={134:function(e,t,n){n.d(t,{default:function(){return _}});var r=n(279),i=n.n(r),o=n(370),a=n.n(o),s=n(817),u=n.n(s);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"createFakeElement",value:function(){var e="rtl"===document.documentElement.getAttribute("dir");this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var t=window.pageYOffset||document.documentElement.scrollTop;return this.fakeElem.style.top="".concat(t,"px"),this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.fakeElem}},{key:"selectFake",value:function(){var e=this,t=this.createFakeElement();this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.container.appendChild(t),this.selectedText=u()(t),this.copyText(),this.removeFake()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=u()(this.target),this.copyText()}},{key:"copyText",value:function(){var e;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==l(e)||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}(),f=d;function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function y(e,t){var n="data-clipboard-".concat(e);if(t.hasAttribute(n))return t.getAttribute(n)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(n,e);var t=m(n);function n(e,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(i=t.call(this)).resolveOptions(r),i.listenClick(e),i}return function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(n,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===h(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=a()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new f({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return y("action",e)}},{key:"defaultTarget",value:function(e){var t=y("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return y("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),n}(i()),_=b},828:function(e){if("undefined"!=typeof Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},438:function(e,t,n){var r=n(828);function i(e,t,n,r,i){var a=o.apply(this,arguments);return e.addEventListener(n,a,i),{destroy:function(){e.removeEventListener(n,a,i)}}}function o(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}e.exports=function(e,t,n,r,o){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return i(e,t,n,r,o)})))}},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:function(e,t,n){var r=n(879),i=n(438);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(r.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(e){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}},279:function(e){function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(134)}().default},e.exports=n()}(HOe);var WOe,KOe,YOe,XOe,$Oe,QOe,JOe,ZOe=d(HOe.exports);function eCe(){return eCe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eCe.apply(this,arguments)}function tCe(e){return l.createElement("svg",eCe({xmlns:"http://www.w3.org/2000/svg",width:24,height:24},e),WOe||(WOe=l.createElement("path",{d:"M16 4.75A1.247 1.247 0 0117.25 6h0v11.969L12 14.481l-5.136 3.487L6.75 6A1.247 1.247 0 018 4.75h0z",stroke:"#000",strokeWidth:1.5,fill:"none",fillRule:"evenodd",opacity:.8})))}function nCe(){return nCe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nCe.apply(this,arguments)}function rCe(e){return l.createElement("svg",nCe({xmlns:"http://www.w3.org/2000/svg",width:24,height:24},e),KOe||(KOe=l.createElement("path",{d:"M16 4a2 2 0 012 2v8.169l-.001-.001.001 3.973a.704.704 0 01-.069.303l-.052.09a.7.7 0 01-.882.238l-.09-.052L12 15.387 7.093 18.72A.7.7 0 016 18.141V6a2 2 0 012-2h8zm-4.007 2.5a.16.16 0 00-.145.11l-.75 2.322-2.439-.004a.159.159 0 00-.093.288l1.977 1.43-.76 2.32a.159.159 0 00.102.2.158.158 0 00.144-.022l1.97-1.438 1.972 1.438a.16.16 0 00.223-.035.158.158 0 00.022-.143l-.759-2.32 1.977-1.43a.16.16 0 00.036-.222.158.158 0 00-.13-.066l-2.439.004-.75-2.322a.16.16 0 00-.158-.11z",fill:"#00C73C",fillRule:"evenodd"})))}function iCe(){return iCe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iCe.apply(this,arguments)}function oCe(e){return l.createElement("svg",iCe({xmlns:"http://www.w3.org/2000/svg",width:24,height:24},e),YOe||(YOe=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("path",{d:"M9 2.5V4m6-1.5V4",stroke:"#000",strokeWidth:2}),l.createElement("path",{fill:"#000",d:"M4.5 7h15V4h-15zM9 5h5-5zm2.019 6.894L12.954 15H15V9h-2.018v3.106L11.047 9H9v6h2.019z"}),l.createElement("path",{stroke:"#000",d:"M19 5.5v13H5v-13h14z"}))))}function aCe(){return aCe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aCe.apply(this,arguments)}function sCe(e){return l.createElement("svg",aCe({xmlns:"http://www.w3.org/2000/svg",width:24,height:24},e),XOe||(XOe=l.createElement("path",{d:"M19.709 16.95l-2.04 2.04c-2.43.15-5.726-1.366-8.51-4.15-1.956-1.957-3.287-4.168-3.852-6.153-.239-.838-.341-1.635-.297-2.357l2.04-2.039a.995.995 0 011.406 0l3.517 3.517a.995.995 0 010 1.406l-1.407 1.407 2.814 2.813 1.407-1.407a.995.995 0 011.406 0l3.517 3.517a.995.995 0 010 1.406z",fill:"#000",fillRule:"evenodd",opacity:.8})))}function uCe(){return uCe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uCe.apply(this,arguments)}function lCe(e){return l.createElement("svg",uCe({xmlns:"http://www.w3.org/2000/svg",width:20,height:20},e),$Oe||($Oe=l.createElement("path",{d:"M9.5 2C13.146 2 16 5.028 16 8.711c0 3.847-3.646 6.547-6.104 9.166a.699.699 0 01-.792 0C6.646 15.258 3 12.557 3 8.711 3 5.028 5.933 2 9.5 2zm0 4a2.5 2.5 0 000 5 2.5 2.5 0 000-5z",fill:"#000",fillOpacity:.6,fillRule:"evenodd"})))}function cCe(){return cCe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cCe.apply(this,arguments)}function dCe(e){return l.createElement("svg",cCe({xmlns:"http://www.w3.org/2000/svg",width:20,height:20},e),QOe||(QOe=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("path",{d:"M0 0h20v20H0z"}),l.createElement("path",{fill:"#000",d:"M9.36 5c.2 0 .361.167.361.373v4.079l3.1 1.855c.173.103.23.33.13.508a.35.35 0 01-.49.134c-1.093-.653-2.19-1.31-3.28-1.96A.37.37 0 019 9.668V5.373C9 5.167 9.162 5 9.36 5m.14-2a6.5 6.5 0 100 13 6.5 6.5 0 000-13",opacity:.6}))))}function fCe(){return fCe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fCe.apply(this,arguments)}function hCe(e){return l.createElement("svg",fCe({xmlns:"http://www.w3.org/2000/svg",width:20,height:20},e),JOe||(JOe=l.createElement("path",{fill:"#00C73C",fillRule:"evenodd",d:"M14.71 3c.152 0 .29.144.29.302V5l1.71.001c.152 0 .29.144.29.302v8.675c0 .08-.031.16-.086.217L14.3 16.916a.289.289 0 01-.204.085H8.29c-.156 0-.29-.166-.29-.302L7.999 15H6.29c-.156 0-.29-.166-.29-.302V3.302C6 3.144 6.138 3 6.29 3h8.42zm.29 8.977c0 .08-.031.16-.086.217L12.3 14.915a.288.288 0 01-.204.085H8.999L9 16.001h5v-2h2v-8h-1v5.976zM14 4H7v10h5v-2h2V4zm-3.5 7v1h-2v-1h2zm2-2.5v1h-4v-1h4zm0-2.5v1h-4V6h4z"})))}var pCe,vCe="StickerLayerPlace_content_box__H0wtO",mCe="StickerLayerPlace_map_thumbnail__B0d1L",gCe="StickerLayerPlace_title__IRgcI",yCe="StickerLayerPlace_title_text__amL1p",bCe="StickerLayerPlace_category__zLpGP",_Ce="StickerLayerPlace_map_box__V-1t3",ECe="StickerLayerPlace_map__W9ua7",wCe="StickerLayerPlace_info__T0kUg",SCe="StickerLayerPlace_info_text__lCrE5",TCe="StickerLayerPlace_address__NFyr4",kCe="StickerLayerPlace_ell1__K-xlF",xCe="StickerLayerPlace_copy__pHQa0",ACe="StickerLayerPlace_buttons__gi3vx",PCe="StickerLayerPlace_button__hvjrG",OCe="StickerLayerPlace_default__1X2gt",CCe="StickerLayerPlace_on__OZUgg",ICe="StickerLayerPlace_save__LEfWF",LCe="copy-button";function NCe(){return NCe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NCe.apply(this,arguments)}function DCe(e){return l.createElement("svg",NCe({xmlns:"http://www.w3.org/2000/svg",width:17,height:17},e),pCe||(pCe=l.createElement("path",{fill:"#F33727",fillRule:"evenodd",d:"M8.483 0a.387.387 0 00-.352.268l-1.82 5.64-5.924-.012a.386.386 0 00-.227.7l4.8 3.473-1.843 5.634a.387.387 0 00.595.433L8.5 12.642l4.789 3.494a.386.386 0 00.595-.433L12.04 10.07l4.8-3.474a.386.386 0 00-.227-.7l-5.925.012L8.867.267A.386.386 0 008.483 0"})))}var RCe,MCe,jCe="StickerLayerMovie_content_box__7GCtg",FCe="StickerLayerMovie_info_box__X1HYu",VCe="StickerLayerMovie_title__x1-At",UCe="StickerLayerMovie_info__Us3k6",BCe="StickerLayerMovie_text__xyqGi",zCe="StickerLayerMovie_sub_category__loGS9",GCe="StickerLayerMovie_sub_category_next__N8N2D",qCe="StickerLayerMovie_category__P-5jo",HCe="StickerLayerBook_content_box__PNflz",WCe="StickerLayerBook_info_box__5H3Qw",KCe="StickerLayerBook_title__V3pxf",YCe="StickerLayerBook_info__RUBwu",XCe="StickerLayerBook_text__NDQ6W",$Ce="StickerLayerBook_category__cbfcx";function QCe(){return QCe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QCe.apply(this,arguments)}function JCe(e){return l.createElement("svg",QCe({width:16,height:16,xmlns:"http://www.w3.org/2000/svg"},e),RCe||(RCe=l.createElement("defs",null,l.createElement("filter",{x:"-1.1%",y:"-1.2%",width:"102.1%",height:"102.4%",filterUnits:"objectBoundingBox",id:"Icon19_svg__a"},l.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),l.createElement("feGaussianBlur",{stdDeviation:1,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),l.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0",in:"shadowBlurOuter1",result:"shadowMatrixOuter1"}),l.createElement("feMerge",null,l.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),l.createElement("feMergeNode",{in:"SourceGraphic"}))))),MCe||(MCe=l.createElement("g",{filter:"url(#Icon19_svg__a)",transform:"translate(-181 -164)",opacity:.5},l.createElement("path",{d:"M194 164a3 3 0 013 3v10a3 3 0 01-3 3h-10a3 3 0 01-3-3v-10a3 3 0 013-3h10zm0 1h-10a2 2 0 00-1.995 1.85L182 167v10a2 2 0 001.85 1.995l.15.005h10a2 2 0 001.995-1.85L196 177v-10a2 2 0 00-1.85-1.995L194 165z"}),l.createElement("path",{d:"M190.684 168.375c1.633 0 2.791 1.196 2.791 3.512 0 2.344-1.05 3.738-2.845 3.738-1.207 0-2.161-.638-2.439-1.626l-.038-.159.122-.15h.89l.12.088c.173.555.66.86 1.355.86.91 0 1.49-.648 1.675-1.868l.027-.209.015-.171c-.333.405-.85.677-1.442.76l-.2.02-.187.006c-1.406 0-2.455-1.008-2.455-2.363 0-1.41 1.104-2.438 2.61-2.438zm-3.61.117l.126.125v6.77l-.125.125h-.847l-.125-.125v-5.653l-1.683 1.131-.195-.104v-.849l.054-.103 1.94-1.317h.856zm3.62.893c-.832 0-1.486.62-1.486 1.4 0 .81.618 1.4 1.47 1.4.864 0 1.496-.585 1.496-1.377 0-.8-.645-1.423-1.48-1.423z"}))))}var ZCe="StickerLayerVibe_wrap__-pg1c",eIe="StickerLayerVibe_info_wrap__LsNcI",tIe="StickerLayerVibe_btn_area__MzHDO",nIe="StickerLayerVibe_link__kXd0J",rIe="StickerLayerVibe_logo_vibe__K1BTA",iIe="StickerLayerVibe_thumbnail_area__QQVkg",oIe="StickerLayerVibe_img__mpC25",aIe="StickerLayerVibe_text_area__w-lPF",sIe="StickerLayerVibe_title__ybHFt",uIe="StickerLayerVibe_text__F2MR4",lIe="StickerLayerVibe_icon_19__F58eG",cIe="StickerLayerVibe_artist__ZtwgW",dIe="StickerLayerVibe_likeit__uUH65",fIe="StickerLayerVibe_is_active__nJCsw",hIe="StickerLayerVibe_control_area__LEeyO",pIe="StickerLayerVibe_control_btn__G0iJL",vIe="StickerLayerVibe_pause__h2YXn",mIe="StickerLayerVibe_play__rAFoE",gIe="StickerLayerVibe_progressbar_wrap__TwsoG",yIe="StickerLayerVibe_progressbar__nIkuE",bIe="StickerLayerVibe_load__3PE-u",_Ie="StickerLayerVibe_running_time__yfuCO",EIe="StickerLayerVibe_desc_area__F3Svc",wIe="StickerLayerVibe_notplay__S07Nj",SIe={},TIe={},kIe={},xIe={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.Direction=void 0,(t=e.Direction||(e.Direction={})).Right="to right",t.Left="to left",t.Down="to bottom",t.Up="to top"}(xIe),function(e){var t=c&&c.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.useThumbOverlap=e.assertUnreachable=e.voidFn=e.getTrackBackground=e.replaceAt=e.schd=e.translate=e.getClosestThumbIndex=e.translateThumbs=e.getPaddingAndBorder=e.getMargin=e.checkInitialOverlap=e.checkValuesAgainstBoundaries=e.checkBoundaries=e.isVertical=e.relativeValue=e.normalizeValue=e.isStepDivisible=e.isTouchEvent=e.getStepDecimals=void 0;var n=u.default,r=xIe;function i(e){return e===r.Direction.Up||e===r.Direction.Down}function o(e,t,n){e.style.transform="translate("+t+"px, "+n+"px)"}e.getStepDecimals=function(e){var t=e.toString().split(".")[1];return t?t.length:0},e.isTouchEvent=function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length},e.isStepDivisible=function(e,t,n){var r=Number(((t-e)/n).toFixed(8));return parseInt(r.toString(),10)===r},e.normalizeValue=function(t,n,r,i,o,a,s){var u=1e11;if(t=Math.round(t*u)/u,!a){var l=s[n-1],c=s[n+1];if(l&&l>t)return l;if(c&&c<t)return c}if(t>i)return i;if(t<r)return r;var d=Math.floor(t*u-r*u)%Math.floor(o*u),f=Math.floor(t*u-Math.abs(d)),h=0===d?t:f/u,p=Math.abs(d/u)<o/2?h:h+o,v=e.getStepDecimals(o);return parseFloat(p.toFixed(v))},e.relativeValue=function(e,t,n){return(e-t)/(n-t)},e.isVertical=i,e.checkBoundaries=function(e,t,n){if(t>=n)throw new RangeError("min ("+t+") is equal/bigger than max ("+n+")");if(e<t)throw new RangeError("value ("+e+") is smaller than min ("+t+")");if(e>n)throw new RangeError("value ("+e+") is bigger than max ("+n+")")},e.checkValuesAgainstBoundaries=function(e,t,n){return e<t?t:e>n?n:e},e.checkInitialOverlap=function(e){if(!(e.length<2||e.slice(1).every((function(t,n){return e[n]<=t}))))throw new RangeError("values={["+e+"]} needs to be sorted when allowOverlap={false}")},e.getMargin=function(e){var t=window.getComputedStyle(e);return{top:parseInt(t["margin-top"],10),bottom:parseInt(t["margin-bottom"],10),left:parseInt(t["margin-left"],10),right:parseInt(t["margin-right"],10)}},e.getPaddingAndBorder=function(e){var t=window.getComputedStyle(e);return{top:parseInt(t["padding-top"],10)+parseInt(t["border-top-width"],10),bottom:parseInt(t["padding-bottom"],10)+parseInt(t["border-bottom-width"],10),left:parseInt(t["padding-left"],10)+parseInt(t["border-left-width"],10),right:parseInt(t["padding-right"],10)+parseInt(t["border-right-width"],10)}},e.translateThumbs=function(e,t,n){var r=n?-1:1;e.forEach((function(e,n){return o(e,r*t[n].x,t[n].y)}))},e.getClosestThumbIndex=function(e,t,n,r){for(var i=0,o=s(e[0],t,n,r),a=1;a<e.length;a++){var u=s(e[a],t,n,r);u<o&&(o=u,i=a)}return i},e.translate=o,e.schd=function(e){var t=[],n=null;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t=r,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))}},e.replaceAt=function(e,t,n){var r=e.slice(0);return r[t]=n,r},e.getTrackBackground=function(e){var t=e.values,n=e.colors,i=e.min,o=e.max,a=e.direction,s=void 0===a?r.Direction.Right:a,u=e.rtl,l=void 0!==u&&u;l&&s===r.Direction.Right?s=r.Direction.Left:l&&r.Direction.Left&&(s=r.Direction.Right);var c=t.slice(0).sort((function(e,t){return e-t})).map((function(e){return(e-i)/(o-i)*100})),d=c.reduce((function(e,t,r){return e+", "+n[r]+" "+t+"%, "+n[r+1]+" "+t+"%"}),"");return"linear-gradient("+s+", "+n[0]+" 0%"+d+", "+n[n.length-1]+" 100%)"},e.voidFn=function(){},e.assertUnreachable=function(e){throw new Error("Didn't expect to get here")};var a=function(e,n,r,i,o){return void 0===o&&(o=function(e){return e}),Math.ceil(t([e],Array.from(e.children)).reduce((function(e,t){var a=Math.ceil(t.getBoundingClientRect().width);if(t.innerText&&t.innerText.includes(r)&&0===t.childElementCount){var s=t.cloneNode(!0);s.innerHTML=o(n.toFixed(i)),s.style.visibility="hidden",document.body.appendChild(s),a=Math.ceil(s.getBoundingClientRect().width),document.body.removeChild(s)}return a>e?a:e}),e.getBoundingClientRect().width))};function s(e,t,n,r){var o=e.getBoundingClientRect(),a=o.left,s=o.top,u=o.width,l=o.height;return i(r)?Math.abs(n-(s+l/2)):Math.abs(t-(a+u/2))}e.useThumbOverlap=function(r,i,o,s,u,l){void 0===s&&(s=.1),void 0===u&&(u=" - "),void 0===l&&(l=function(e){return e});var c=e.getStepDecimals(s),d=n.useState({}),f=d[0],h=d[1],p=n.useState(l(i[o].toFixed(c))),v=p[0],m=p[1];return n.useEffect((function(){if(r){var e=r.getThumbs();if(e.length<1)return;var n={},s=r.getOffsets(),d=function(e,n,r,i,o,s,u){void 0===u&&(u=function(e){return e});var l=[],c=function(e){var d=a(r[e],i[e],o,s,u),f=n[e].x;n.forEach((function(n,h){var p=n.x,v=a(r[h],i[h],o,s,u);e!==h&&(f>=p&&f<=p+v||f+d>=p&&f+d<=p+v)&&(l.includes(h)||(l.push(e),l.push(h),l=t(l,[e,h]),c(h)))}))};return c(e),Array.from(new Set(l.sort()))}(o,s,e,i,u,c,l),f=l(i[o].toFixed(c));if(d.length){var p=d.reduce((function(e,n,r,i){return e.length?t(e,[s[i[r]].x]):[s[i[r]].x]}),[]);if(Math.min.apply(Math,p)===s[o].x){var v=[];d.forEach((function(e){v.push(i[e].toFixed(c))})),f=Array.from(new Set(v.sort((function(e,t){return parseFloat(e)-parseFloat(t)})))).map(l).join(u);var g=Math.min.apply(Math,p),y=Math.max.apply(Math,p),b=e[d[p.indexOf(y)]].getBoundingClientRect().width;n.left=Math.abs(g-(y+b))/2+"px",n.transform="translate(-50%, 0)"}else n.visibility="hidden"}m(f),h(n)}}),[r,i]),[v,f]}}(kIe);var AIe=c&&c.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PIe=c&&c.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),OIe=c&&c.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),CIe=c&&c.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&PIe(t,e,n);return OIe(t,e),t},IIe=c&&c.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(TIe,"__esModule",{value:!0});var LIe=CIe(u.default),NIe=kIe,DIe=xIe,RIe=["ArrowRight","ArrowUp","k","PageUp"],MIe=["ArrowLeft","ArrowDown","j","PageDown"],jIe=function(e){function t(t){var n=e.call(this,t)||this;if(n.trackRef=LIe.createRef(),n.thumbRefs=[],n.markRefs=[],n.state={draggedTrackPos:[-1,-1],draggedThumbIndex:-1,thumbZIndexes:new Array(n.props.values.length).fill(0).map((function(e,t){return t})),isChanged:!1,markOffsets:[]},n.getOffsets=function(){var e=n.props,t=e.direction,r=e.values,i=e.min,o=e.max,a=n.trackRef.current,s=a.getBoundingClientRect(),u=NIe.getPaddingAndBorder(a);return n.getThumbs().map((function(e,n){var a={x:0,y:0},l=e.getBoundingClientRect(),c=NIe.getMargin(e);switch(t){case DIe.Direction.Right:return a.x=-1*(c.left+u.left),a.y=-1*((l.height-s.height)/2+u.top),a.x+=s.width*NIe.relativeValue(r[n],i,o)-l.width/2,a;case DIe.Direction.Left:return a.x=-1*(c.right+u.right),a.y=-1*((l.height-s.height)/2+u.top),a.x+=s.width-s.width*NIe.relativeValue(r[n],i,o)-l.width/2,a;case DIe.Direction.Up:return a.x=-1*((l.width-s.width)/2+c.left+u.left),a.y=-u.left,a.y+=s.height-s.height*NIe.relativeValue(r[n],i,o)-l.height/2,a;case DIe.Direction.Down:return a.x=-1*((l.width-s.width)/2+c.left+u.left),a.y=-u.left,a.y+=s.height*NIe.relativeValue(r[n],i,o)-l.height/2,a;default:return NIe.assertUnreachable(t)}}))},n.getThumbs=function(){return n.trackRef&&n.trackRef.current?Array.from(n.trackRef.current.children).filter((function(e){return e.hasAttribute("aria-valuenow")})):(console.warn("No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?"),[])},n.getTargetIndex=function(e){return n.getThumbs().findIndex((function(t){return t===e.target||t.contains(e.target)}))},n.addTouchEvents=function(e){document.addEventListener("touchmove",n.schdOnTouchMove,{passive:!1}),document.addEventListener("touchend",n.schdOnEnd,{passive:!1}),document.addEventListener("touchcancel",n.schdOnEnd,{passive:!1})},n.addMouseEvents=function(e){document.addEventListener("mousemove",n.schdOnMouseMove),document.addEventListener("mouseup",n.schdOnEnd)},n.onMouseDownTrack=function(e){var t;if(0===e.button)if(e.persist(),e.preventDefault(),n.addMouseEvents(e.nativeEvent),n.props.values.length>1&&n.props.draggableTrack){if(n.thumbRefs.some((function(t){var n;return null===(n=t.current)||void 0===n?void 0:n.contains(e.target)})))return;n.setState({draggedTrackPos:[e.clientX,e.clientY]},(function(){return n.onMove(e.clientX,e.clientY)}))}else{var r=NIe.getClosestThumbIndex(n.thumbRefs.map((function(e){return e.current})),e.clientX,e.clientY,n.props.direction);null===(t=n.thumbRefs[r].current)||void 0===t||t.focus(),n.setState({draggedThumbIndex:r},(function(){return n.onMove(e.clientX,e.clientY)}))}},n.onResize=function(){NIe.translateThumbs(n.getThumbs(),n.getOffsets(),n.props.rtl),n.calculateMarkOffsets()},n.onTouchStartTrack=function(e){var t;if(e.persist(),n.addTouchEvents(e.nativeEvent),n.props.values.length>1&&n.props.draggableTrack){if(n.thumbRefs.some((function(t){var n;return null===(n=t.current)||void 0===n?void 0:n.contains(e.target)})))return;n.setState({draggedTrackPos:[e.touches[0].clientX,e.touches[0].clientY]},(function(){return n.onMove(e.touches[0].clientX,e.touches[0].clientY)}))}else{var r=NIe.getClosestThumbIndex(n.thumbRefs.map((function(e){return e.current})),e.touches[0].clientX,e.touches[0].clientY,n.props.direction);null===(t=n.thumbRefs[r].current)||void 0===t||t.focus(),n.setState({draggedThumbIndex:r},(function(){return n.onMove(e.touches[0].clientX,e.touches[0].clientY)}))}},n.onMouseOrTouchStart=function(e){if(!n.props.disabled){var t=NIe.isTouchEvent(e);if(t||0===e.button){var r=n.getTargetIndex(e);-1!==r&&(t?n.addTouchEvents(e):n.addMouseEvents(e),n.setState({draggedThumbIndex:r,thumbZIndexes:n.state.thumbZIndexes.map((function(e,t){return t===r?Math.max.apply(Math,n.state.thumbZIndexes):e<=n.state.thumbZIndexes[r]?e:e-1}))}))}}},n.onMouseMove=function(e){e.preventDefault(),n.onMove(e.clientX,e.clientY)},n.onTouchMove=function(e){e.preventDefault(),n.onMove(e.touches[0].clientX,e.touches[0].clientY)},n.onKeyDown=function(e){var t=n.props,r=t.values,i=t.onChange,o=t.step,a=t.rtl,s=n.state.isChanged,u=n.getTargetIndex(e.nativeEvent),l=a?-1:1;-1!==u&&(RIe.includes(e.key)?(e.preventDefault(),n.setState({draggedThumbIndex:u,isChanged:!0}),i(NIe.replaceAt(r,u,n.normalizeValue(r[u]+l*("PageUp"===e.key?10*o:o),u)))):MIe.includes(e.key)?(e.preventDefault(),n.setState({draggedThumbIndex:u,isChanged:!0}),i(NIe.replaceAt(r,u,n.normalizeValue(r[u]-l*("PageDown"===e.key?10*o:o),u)))):"Tab"===e.key?n.setState({draggedThumbIndex:-1},(function(){s&&n.fireOnFinalChange()})):s&&n.fireOnFinalChange())},n.onKeyUp=function(e){var t=n.state.isChanged;n.setState({draggedThumbIndex:-1},(function(){t&&n.fireOnFinalChange()}))},n.onMove=function(e,t){var r=n.state,i=r.draggedThumbIndex,o=r.draggedTrackPos,a=n.props,s=a.direction,u=a.min,l=a.max,c=a.onChange,d=a.values,f=a.step,h=a.rtl;if(-1===i&&-1===o[0]&&-1===o[1])return null;var p=n.trackRef.current;if(!p)return null;var v=p.getBoundingClientRect(),m=NIe.isVertical(s)?v.height:v.width;if(-1!==o[0]&&-1!==o[1]){var g=e-o[0],y=t-o[1],b=0;switch(s){case DIe.Direction.Right:case DIe.Direction.Left:b=g/m*(l-u);break;case DIe.Direction.Down:case DIe.Direction.Up:b=y/m*(l-u);break;default:NIe.assertUnreachable(s)}if(h&&(b*=-1),Math.abs(b)>=f/2){for(var _=0;_<n.thumbRefs.length;_++){if(d[_]===l&&1===Math.sign(b)||d[_]===u&&-1===Math.sign(b))return;var E=d[_]+b;E>l?b=l-d[_]:E<u&&(b=u-d[_])}var w=d.slice(0);for(_=0;_<n.thumbRefs.length;_++)w=NIe.replaceAt(w,_,n.normalizeValue(d[_]+b,_));n.setState({draggedTrackPos:[e,t]}),c(w)}}else{var S=0;switch(s){case DIe.Direction.Right:S=(e-v.left)/m*(l-u)+u;break;case DIe.Direction.Left:S=(m-(e-v.left))/m*(l-u)+u;break;case DIe.Direction.Down:S=(t-v.top)/m*(l-u)+u;break;case DIe.Direction.Up:S=(m-(t-v.top))/m*(l-u)+u;break;default:NIe.assertUnreachable(s)}h&&(S=l+u-S),Math.abs(d[i]-S)>=f/2&&c(NIe.replaceAt(d,i,n.normalizeValue(S,i)))}},n.normalizeValue=function(e,t){var r=n.props,i=r.min,o=r.max,a=r.step,s=r.allowOverlap,u=r.values;return NIe.normalizeValue(e,t,i,o,a,s,u)},n.onEnd=function(e){if(e.preventDefault(),document.removeEventListener("mousemove",n.schdOnMouseMove),document.removeEventListener("touchmove",n.schdOnTouchMove),document.removeEventListener("mouseup",n.schdOnEnd),document.removeEventListener("touchend",n.schdOnEnd),document.removeEventListener("touchcancel",n.schdOnEnd),-1===n.state.draggedThumbIndex&&-1===n.state.draggedTrackPos[0]&&-1===n.state.draggedTrackPos[1])return null;n.setState({draggedThumbIndex:-1,draggedTrackPos:[-1,-1]},(function(){n.fireOnFinalChange()}))},n.fireOnFinalChange=function(){n.setState({isChanged:!1});var e=n.props,t=e.onFinalChange,r=e.values;t&&t(r)},n.calculateMarkOffsets=function(){if(n.props.renderMark&&n.trackRef&&null!==n.trackRef.current){for(var e=window.getComputedStyle(n.trackRef.current),t=parseInt(e.width,10),r=parseInt(e.height,10),i=parseInt(e.paddingLeft,10),o=parseInt(e.paddingTop,10),a=[],s=0;s<n.numOfMarks+1;s++){var u=9999,l=9999;if(n.markRefs[s].current){var c=n.markRefs[s].current.getBoundingClientRect();u=c.height,l=c.width}n.props.direction===DIe.Direction.Left||n.props.direction===DIe.Direction.Right?a.push([Math.round(t/n.numOfMarks*s+i-l/2),-Math.round((u-r)/2)]):a.push([Math.round(r/n.numOfMarks*s+o-u/2),-Math.round((l-t)/2)])}n.setState({markOffsets:a})}},0===t.step)throw new Error('"step" property should be a positive number');n.numOfMarks=(t.max-t.min)/n.props.step,n.schdOnMouseMove=NIe.schd(n.onMouseMove),n.schdOnTouchMove=NIe.schd(n.onTouchMove),n.schdOnEnd=NIe.schd(n.onEnd),n.thumbRefs=t.values.map((function(){return LIe.createRef()}));for(var r=0;r<n.numOfMarks+1;r++)n.markRefs[r]=LIe.createRef();return n}return AIe(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.values,r=t.min,i=t.step;this.resizeObserver=window.ResizeObserver?new window.ResizeObserver(this.onResize):{observe:function(){return window.addEventListener("resize",e.onResize)},unobserve:function(){return window.removeEventListener("resize",e.onResize)}},document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),!this.props.allowOverlap&&NIe.checkInitialOverlap(this.props.values),this.props.values.forEach((function(t){return NIe.checkBoundaries(t,e.props.min,e.props.max)})),this.resizeObserver.observe(this.trackRef.current),NIe.translateThumbs(this.getThumbs(),this.getOffsets(),this.props.rtl),this.calculateMarkOffsets(),n.forEach((function(e){NIe.isStepDivisible(r,e,i)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")}))},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=n.max,i=n.min,o=n.step,a=n.values,s=n.rtl;if(e.max!==r||e.min!==i||e.step!==o){this.markRefs=[],this.numOfMarks=(r-i)/o;for(var u=0;u<this.numOfMarks+1;u++)this.markRefs[u]=LIe.createRef()}NIe.translateThumbs(this.getThumbs(),this.getOffsets(),s),e.max===r&&e.min===i&&e.step===o&&t.markOffsets.length===this.state.markOffsets.length||(this.calculateMarkOffsets(),a.forEach((function(e){NIe.isStepDivisible(i,e,o)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")})))},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchend",this.schdOnEnd),this.resizeObserver.unobserve(this.trackRef.current)},t.prototype.render=function(){var e=this,t=this.props,n=t.renderTrack,r=t.renderThumb,i=t.renderMark,o=void 0===i?function(){return null}:i,a=t.values,s=t.min,u=t.max,l=t.allowOverlap,c=t.disabled,d=this.state,f=d.draggedThumbIndex,h=d.thumbZIndexes,p=d.markOffsets;return n({props:{style:{transform:"scale(1)",cursor:f>-1?"grabbing":this.props.draggableTrack?NIe.isVertical(this.props.direction)?"ns-resize":"ew-resize":1!==a.length||c?"inherit":"pointer"},onMouseDown:c?NIe.voidFn:this.onMouseDownTrack,onTouchStart:c?NIe.voidFn:this.onTouchStartTrack,ref:this.trackRef},isDragged:this.state.draggedThumbIndex>-1,disabled:c,children:IIe(p.map((function(t,n,r){return o({props:{style:e.props.direction===DIe.Direction.Left||e.props.direction===DIe.Direction.Right?{position:"absolute",left:t[0]+"px",marginTop:t[1]+"px"}:{position:"absolute",top:t[0]+"px",marginLeft:t[1]+"px"},key:"mark"+n,ref:e.markRefs[n]},index:n})})),a.map((function(t,n){var i=e.state.draggedThumbIndex===n;return r({index:n,value:t,isDragged:i,props:{style:{position:"absolute",zIndex:h[n],cursor:c?"inherit":i?"grabbing":"grab",userSelect:"none",touchAction:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},key:n,tabIndex:c?void 0:0,"aria-valuemax":l?u:a[n+1]||u,"aria-valuemin":l?s:a[n-1]||s,"aria-valuenow":t,draggable:!1,ref:e.thumbRefs[n],role:"slider",onKeyDown:c?NIe.voidFn:e.onKeyDown,onKeyUp:c?NIe.voidFn:e.onKeyUp}})})))})},t.defaultProps={step:1,direction:DIe.Direction.Right,rtl:!1,disabled:!1,allowOverlap:!1,draggableTrack:!1,min:0,max:100},t}(LIe.Component);TIe.default=jIe,function(e){var t=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.checkValuesAgainstBoundaries=e.relativeValue=e.useThumbOverlap=e.Direction=e.getTrackBackground=e.Range=void 0;var n=t(TIe);e.Range=n.default;var r=kIe;Object.defineProperty(e,"getTrackBackground",{enumerable:!0,get:function(){return r.getTrackBackground}}),Object.defineProperty(e,"useThumbOverlap",{enumerable:!0,get:function(){return r.useThumbOverlap}}),Object.defineProperty(e,"relativeValue",{enumerable:!0,get:function(){return r.relativeValue}}),Object.defineProperty(e,"checkValuesAgainstBoundaries",{enumerable:!0,get:function(){return r.checkValuesAgainstBoundaries}});var i=xIe;Object.defineProperty(e,"Direction",{enumerable:!0,get:function(){return i.Direction}})}(SIe);var FIe,VIe=100,UIe=function(e){var t=e.url,n=Xce(),r=Ime().isDocumentFocused,o=iOe().layerAudioPlayer,a=i.useState(!1),s=a[0],l=a[1],c=i.useState(!1),d=c[0],f=c[1],h=i.useState([0]),p=h[0],v=h[1],m=i.useRef(!1),g=i.useRef(!1),y=i.useRef(!1),b=i.useRef(!1),_=i.useRef(!1),E=d?{onClick:function(e){o.pause(),fEe(e.currentTarget,Fwe.Pause)},className:vIe,children:sle("action.pause")}:{onClick:function(e){!s&&o.error&&o.load(t),o.play(),o.setMuted(!1),fEe(e.currentTarget,Fwe.Play)},className:mIe,children:sle("action.play")};i.useEffect((function(){if(t){var e=function(){l(!0)},r=function(){if(!m.current){if(Math.floor(o.currentTime)>59)return o.pause(),void o.updateTime(0);var e=o.duration?xle(o.currentTime/o.duration,0,1)*VIe:0;v([e])}},i=function(){f(!o.paused)},a=function(){f(!o.paused),Rle.isIE11()&&y.current&&(v([0]),y.current=!1)},s=function(){Rle.isIE11()?(o.pause(),f(!1),y.current=!0):v([0])},u=function(){n(gme(Zve.MusicError))};return o.load(t),o.on(Eve.CanPlay,e,{once:!0}),o.on(Eve.TimeUpdate,r),o.on(Eve.Playing,i),o.on(Eve.Pause,a),o.on(Eve.Error,u),o.on(Eve.Ended,s),function(){o.pause(),o.unload(),o.off(Eve.CanPlay,e),o.off(Eve.TimeUpdate,r),o.off(Eve.Playing,i),o.off(Eve.Pause,a),o.off(Eve.Error,u),o.off(Eve.Ended,s)}}}),[t]),i.useEffect((function(){r?b.current?o.play():o.pause():(b.current=!o.paused,o.pause())}),[r]);var w=i.useMemo((function(){return Math.floor(p[0]/VIe*o.duration)}),[p[0]]);return u.default.createElement("div",{className:hIe},u.default.createElement("div",{className:tIe},u.default.createElement("button",{type:"button",onClick:E.onClick,className:pEe(pIe,E.className)},E.children)),u.default.createElement(SIe.Range,{disabled:!s,min:0,max:VIe,values:p,onChange:function(e){m.current&&!g.current&&(g.current=!0),m.current=!0,v(e)},onFinalChange:function(e){var t=e[0];if(!_.current){var n=t/VIe,r=o.duration*n;m.current=!1,_.current=!0,n>=1?o.moveToEndingPoint().then((function(){_.current=!1})):o.updateTime(r).then((function(){_.current=!1})),fEe(null,g.current?Fwe.ScrollBar:Fwe.TapBar),g.current=!1}},renderTrack:function(e){var t,n=e.props,r=e.children;return u.default.createElement("div",SR({},n,{className:gIe}),u.default.createElement("div",{className:pEe(yIe,(t={},t[fIe]=g.current,t))},u.default.createElement("i",{className:bIe,style:{width:"".concat(p[0],"%")}},r)))},renderThumb:function(e){var t=e.props;return u.default.createElement("div",SR({},t,{style:{display:"none"}}))}}),u.default.createElement("div",{className:_Ie},Ike(w)))},BIe=function(){var e=Ime().viewer,t=ZEe(),n=i.useMemo((function(){var n,r=null===(n=null===history||void 0===history?void 0:history.state)||void 0===n?void 0:n.from,i=e.getUrl(t),o="".concat(location.origin).concat((null==i?void 0:i.startsWith("/"))?"":"/").concat(i),a=o.includes("?")?"&":"?",s=r?Tfe.stringify({from:r,useRedirect:!0},{encode:!1}):"";return"".concat(o).concat(r?a:"").concat(s)}),[e,t]);return n},zIe=function(e){var t=e.stickerType,n=e.clickCode,r=Xce(),o=i.useCallback((function(e){r(dhe({popupState:the.Login,popupSticker:t})),n&&fEe(e.target,n)}),[t,n]);return o},GIe={container:"StickerLayerItem_container__Bf-nM",wrap:"StickerLayerItem_wrap__sCjpE",top:"StickerLayerItem_top__5gwOT",place:"StickerLayerItem_place__ZwmFR",vibe:"StickerLayerItem_vibe__pg1UT",name:"StickerLayerItem_name__KlqCq",close:"StickerLayerItem_close__jafD2",loading_wrapper:"StickerLayerItem_loading_wrapper__TCZVM",error_wrap:"StickerLayerItem_error_wrap__zm3WE",content:"StickerLayerItem_content__2XVog",text:"StickerLayerItem_text__xIPAM"};function qIe(){return qIe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qIe.apply(this,arguments)}function HIe(e){return l.createElement("svg",qIe({xmlns:"http://www.w3.org/2000/svg",width:52,height:18},e),FIe||(FIe=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("path",{d:"M-162-5h375v23h-375z"}),l.createElement("path",{fill:"#D8D8D8",d:"M7.834 4.045l.1.028L26 9.79l18.066-5.717.05-.015.05-.013a1.48 1.48 0 011.786 1.093c.21.87-.29 1.754-1.143 2.024l-18.215 5.765a1.482 1.482 0 01-.594.062c-.16.016-.327.006-.494-.034l-.1-.028L7.19 7.162a1.703 1.703 0 01-1.143-2.024 1.48 1.48 0 011.786-1.093z"}))))}var WIe,KIe=function(e){var t=e.category[0];if(!t||!t.path)return"";if(t.path.includes(">")){var n=t.path.split(">");return n.length>1?n[1]:t.path}return t.path},YIe=function(e,t){var n,r,i,o;if(!(null===(n=null==t?void 0:t.message)||void 0===n?void 0:n.result))throw new Error(fle.NotAvailable);var a,s=e.placeId,u=e.source,l=e.link,c=e.coordinate,d=t.isKeep,f=t.isLogin,h=t.placeDetailMobileUrl,p=t.placeDetailPcUrl,v=t.mapMobileUrl,m=t.mapPcUrl,g=t.bookmarkIds,y=t.message,b=g[0],_=y.result,E=_.themes,w=_.categories,S=_.detail,T=_.base,k=E.naverbooking,x=null===(r=null==S?void 0:S.bizHour)||void 0===r?void 0:r.bizHourItem,A=null==k?void 0:k.reserve_url,P="1"===(null==k?void 0:k.is_imp)&&A;return{placeId:s,source:u.toLowerCase(),isKeep:d,isLogin:f,placeDetailUrl:Rle.isMobile()?h:p,name:T.name,address:T.address,phone:T.phone,location:{latitude:(null===(i=null==T?void 0:T.coordinate)||void 0===i?void 0:i.y)||c.latitude,longitude:(null===(o=null==T?void 0:T.coordinate)||void 0===o?void 0:o.x)||c.longitude},category:KIe(w),openHours:x.length>0?(a=x,a.filter((function(e){return e.type&&e.startTime&&e.endTime})).map((function(e){return 1===e.isDayOff?"".concat(e.type," ").concat(sle("label.store_closed")):"".concat(e.type," ").concat(e.startTime," - ").concat(e.endTime," ").concat(e.description)})).join(" | ")):"",link:(Rle.isMobile()?v:m)||l,bookmarkId:b,isBookable:P,reserveUrl:A}},XIe=function(e,t){var n,r;if(!(null==t?void 0:t.result))throw new Error(fle.NotAvailable);var i=e.placeId,o=e.source,a=e.link,s=e.coordinate,u=t.result,l=u.name,c=u.formatted_address,d=u.geometry,f=u.opening_hours,h=u.url;return{placeId:i,source:o.toLowerCase(),name:l,address:c,location:{latitude:(null===(n=null==d?void 0:d.location)||void 0===n?void 0:n.lat)||s.latitude,longitude:(null===(r=null==d?void 0:d.location)||void 0===r?void 0:r.lng)||s.longitude},placeDetailUrl:h||a,category:"",openHours:f?f.weekday_text.join(" | "):"",link:h||a}},$Ie=function(e){return e.split(",").join(", ")},QIe="LoadingRetry_delay__ice5Y",JIe="LoadingRetry_content__yhBFh",ZIe="LoadingRetry_text__Mkpx1",eLe="LoadingRetry_button__33Ehj";function tLe(){return tLe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tLe.apply(this,arguments)}function nLe(e){return l.createElement("svg",tLe({xmlns:"http://www.w3.org/2000/svg",width:19,height:19},e),WIe||(WIe=l.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#000",strokeWidth:1.5,opacity:.8},l.createElement("path",{d:"M16 9a6.5 6.5 0 11-1.904-4.596c.824.896 1.235 1.5 1.235 1.81"}),l.createElement("path",{d:"M16 2.499v4h-4"}))))}var rLe,iLe,oLe,aLe,sLe,uLe,lLe,cLe,dLe,fLe,hLe,pLe,vLe,mLe,gLe=function(e){var t=e.loadingState,n=e.message,r=e.className,i=void 0===r?"":r,o=e.onClickRetry,a=void 0===o?function(){}:o;return[Eme.NotAvailable,Eme.Loaded].includes(t)?null:u.default.createElement("div",{className:pEe(QIe,i)},u.default.createElement("div",{className:JIe},t===Eme.Loading?u.default.createElement(yEe,null):u.default.createElement(u.default.Fragment,null,u.default.createElement("p",{className:ZIe},n||sle("message.error_common"),u.default.createElement("br",null),sle("message.error_temporary")),u.default.createElement("button",{type:"button",className:eLe,onClick:a},u.default.createElement(nLe,null),sle("action.retry")))))},yLe=[nSe.Shopping,nSe.Place,nSe.Movie,nSe.Book,nSe.Vibe],bLe=((rLe={})[nSe.Shopping]=function(e){var t,n=e.productName,r=e.link,o=e.itemType,a=e.mallName,s=e.thumbnail,l=e.npayType,c=e.isKeep,d=e.isLogin,f=e.keepRequest,h=e.productLink,p=e.isNaverPay,v=e.lowestPrice,m=e.productCount,g=Xce(),y=i.useState(c),b=y[0],_=y[1],E=xme(),w=i.useState(!E),S=w[0],T=w[1],k=AOe(qwe.ShoppingLayer),x=i.useCallback((function(e){(b?Bve.shopping.removeKeep:Bve.shopping.doKeep)(f).then((function(){_((function(e){return!e}))})).catch((function(){g(gme(Zve.NetworkError)),T(!0)})),fEe(e.currentTarget,b?Rwe.UnSaved:Rwe.Saved),k(b?Qwe.CancelSave:Qwe.Save)}),[b]),A=i.useCallback((function(){g(gme(Zve.InvalidLink))}),[]);return i.useEffect((function(){E&&T(!1)}),[E]),u.default.createElement("div",{className:DOe},u.default.createElement("div",{className:ROe},u.default.createElement(TOe,{url:h,className:MOe,clickCode:Rwe.Name,onClick:function(){return k(Qwe.Name)},onFail:A},n),o===iSe.Compare?u.default.createElement(u.default.Fragment,null,u.default.createElement("p",{className:jOe},u.default.createElement("span",{className:FOe},sle("label.lowest_price")),u.default.createElement("span",{className:UOe},u.default.createElement("span",null,v))),u.default.createElement("p",{className:jOe},u.default.createElement("span",{className:FOe},sle("label.vendor")),u.default.createElement("span",{className:UOe},m))):u.default.createElement(u.default.Fragment,null,u.default.createElement("p",{className:jOe},u.default.createElement("span",{className:pEe(UOe,VOe)},a)),u.default.createElement("p",{className:jOe},u.default.createElement("span",{className:UOe},u.default.createElement("span",null,v),p&&(l===aSe.Normal?u.default.createElement(IOe,null):u.default.createElement(NOe,null))))),u.default.createElement(xOe,{link:r,type:nSe.Shopping,src:s,onClick:function(){return k(Qwe.Thumbnail)},onFail:A,clickCode:Rwe.Thumbnail})),u.default.createElement("div",{className:BOe},d&&u.default.createElement("button",{type:"button",className:pEe(zOe,(t={},t[qOe]=b,t)),onClick:x,"aria-label":sle("aria.".concat(b?"":"not_","selected_wish")),disabled:S},u.default.createElement(OOe,null),u.default.createElement("span",{className:GOe},sle("label.wish"))),u.default.createElement(TOe,{url:h,className:zOe,clickCode:Rwe.GoShop,onClick:function(){return k(Qwe.Shop)},onFail:A},u.default.createElement("span",{className:GOe},sle("label.go_to_buy")))))},rLe[nSe.Place]=function(e){var t,n=e.placeId,r=e.source,o=e.name,a=e.isKeep,s=e.isLogin,l=e.category,c=e.address,d=e.phone,f=e.openHours,h=e.mapImageUrl,p=e.link,v=e.isBookable,m=e.placeDetailUrl,g=e.reserveUrl,y=e.location,b=e.bookmarkId,_=Xce(),E="naver"===r&&s,w=i.useState(!1),S=w[0],T=w[1],k=i.useState(!1),x=k[0],A=k[1],P=i.useState(b),O=P[0],C=P[1],I=i.useRef(null),L=i.useState(),N=L[0],D=L[1],R=xme(),M=i.useState(!R),j=M[0],F=M[1],V=AOe(qwe.PlaceLayer),U=i.useCallback((function(e){var t,r={address:c,px:y.longitude,py:y.latitude,sid:n};T(!0),!a||x||S?(t=x?Bve.place.removeKeep({id:O,placeKeepRequest:r}).then((function(){A(!1),C(void 0)})):Bve.place.doKeep(r).then((function(e){var t=e.bookmarkId;A(!0),C(t)})),t.catch((function(){_(gme(Zve.NetworkError)),F(!0)})),fEe(e.currentTarget,x?Dwe.UnSaved:Dwe.Saved),V(x?$we.CancelSave:$we.Save)):A(!0)}),[a,x,S,O]),B=i.useCallback((function(e){_(gme(Zve.AddressCopied)),fEe(e.currentTarget,Dwe.Copy),V($we.Copy)}),[]),z=i.useCallback((function(e){fEe(e.currentTarget,Dwe.Call),V($we.Call)}),[]),G=i.useCallback((function(){_(gme(Zve.InvalidLink))}),[]),q=sle("aria.save".concat(x?"d":""));return i.useEffect((function(){return I.current&&!N&&D(new ZOe("#".concat(LCe))),function(){N&&N.destroy()}}),[I.current,N]),i.useEffect((function(){R&&F(!1)}),[R]),u.default.createElement("div",{className:vCe},u.default.createElement("div",{className:_Ce},u.default.createElement(TOe,{url:p,className:ECe,onClick:function(){return V($we.Map)},onFail:G,clickCode:Dwe.Map},u.default.createElement("div",{className:mCe,style:{backgroundImage:"url(".concat(h,")")}}))),u.default.createElement("strong",{className:gCe},u.default.createElement(TOe,{url:m,className:yCe,onClick:function(){return V($we.Name)},onFail:G,clickCode:Dwe.Name},o),u.default.createElement("span",{className:bCe},l)),u.default.createElement("p",{className:wCe},u.default.createElement("span",{className:pEe(SCe,TCe,kCe)},u.default.createElement(lCe,null),c,u.default.createElement("button",{id:LCe,type:"button",className:xCe,onClick:B,"data-clipboard-text":c,ref:I},u.default.createElement(hCe,null),sle("action.copy")))),u.default.createElement("p",{className:wCe},u.default.createElement("span",{className:pEe(SCe)},u.default.createElement(dCe,null),u.default.createElement(LPe,{text:f||wke.UnRegistered,nodeType:"span"}))),u.default.createElement("div",{className:ACe},E&&u.default.createElement("button",{type:"button",className:pEe(PCe,ICe,(t={},t[CCe]=x,t)),onClick:U,"aria-label":q,disabled:j},x?u.default.createElement(rCe,null):u.default.createElement(tCe,null),u.default.createElement("span",{className:OCe},q)),v&&u.default.createElement(TOe,{url:g,className:PCe,clickCode:Dwe.Reserve,onClick:function(){return V($we.Booking)},onFail:G},u.default.createElement(u.default.Fragment,null,u.default.createElement(oCe,null),u.default.createElement("span",{className:OCe},sle("label.reservation")))),d&&u.default.createElement("a",{href:"tel:".concat(d),className:PCe,onClick:z},u.default.createElement(sCe,null),u.default.createElement("span",{className:OCe},sle("label.telephone")))))},rLe[nSe.Movie]=function(e){var t=e.title,n=e.directors,r=e.actorLists,o=e.releaseDate,a=e.posterImage,s=e.thumbnail,l=e.reviewScore,c=e.genreLists,d=e.nationLists,f=e.runTime,h=e.link,p=e.url,v=Xce(),m=[c,d,f].filter(Boolean),g=p||h,y=AOe(qwe.MovieLayer),b=i.useCallback((function(){v(gme(Zve.InvalidLink))}),[]);return u.default.createElement("div",{className:jCe},u.default.createElement("div",{className:FCe},u.default.createElement(TOe,{url:g,className:VCe,clickCode:jwe.Name,onClick:function(){return y(Zwe.Name)},onFail:b},t),u.default.createElement("p",{className:UCe},u.default.createElement("span",{className:qCe},sle("label.director")),u.default.createElement("span",{className:BCe},n)),u.default.createElement("p",{className:UCe},u.default.createElement("span",{className:qCe},sle("label.appear")),u.default.createElement("span",{className:BCe},r)),u.default.createElement("p",{className:UCe},o?u.default.createElement(u.default.Fragment,null,u.default.createElement("span",{className:qCe},sle("label.summary")),u.default.createElement("span",{className:BCe},m.length>0?m.map((function(e,t){return u.default.createElement("span",{key:e,className:pEe(0===t?zCe:GCe)},e)})):u.default.createElement("span",{className:pEe(zCe)},wke.UnRegistered))):u.default.createElement("span",{className:pEe(BCe)},wke.UnRegistered)),u.default.createElement("p",{className:UCe},u.default.createElement("span",{className:qCe},sle("label.movie_released")),u.default.createElement("span",{className:BCe},o)),l&&u.default.createElement("p",{className:UCe},u.default.createElement("span",{className:qCe},sle("label.grade")),u.default.createElement("span",{className:BCe},u.default.createElement(DCe,null),u.default.createElement("span",null,l))),u.default.createElement(xOe,{link:g,type:nSe.Movie,src:a||s,clickCode:jwe.Image,onClick:function(){return y(Zwe.Thumbnail)},onFail:b})))},rLe[nSe.Book]=function(e){var t=e.author,n=e.link,r=e.publisher,o=e.thumbnail,a=e.title,s=e.publishDay,l=e.avgPoint,c=e.url,d=e.bookPrice,f=Xce(),h=c||n,p=AOe(qwe.BookLayer),v=i.useCallback((function(){f(gme(Zve.InvalidLink))}),[]);return u.default.createElement("div",{className:HCe},u.default.createElement("div",{className:WCe},u.default.createElement(TOe,{url:h,className:KCe,onClick:function(){return p(Jwe.Name)},onFail:v,clickCode:Mwe.Name},a),u.default.createElement("p",{className:YCe},u.default.createElement("span",{className:$Ce},sle("label.writer")),u.default.createElement("span",{className:XCe},t)),u.default.createElement("p",{className:YCe},u.default.createElement("span",{className:$Ce},sle("label.publish")),u.default.createElement("span",{className:XCe},r)),u.default.createElement("p",{className:YCe},u.default.createElement("span",{className:$Ce},sle("label.release")),u.default.createElement("span",{className:XCe},s)),u.default.createElement("p",{className:YCe},u.default.createElement("span",{className:$Ce},sle("label.price")),u.default.createElement("span",{className:XCe},d)),u.default.createElement("p",{className:YCe},u.default.createElement("span",{className:$Ce},sle("label.grade")),u.default.createElement("span",{className:XCe},u.default.createElement(DCe,null),u.default.createElement("span",null,l))),u.default.createElement(xOe,{link:h,type:nSe.Book,src:o,onClick:function(){return p(Jwe.Thumbnail)},onFail:v,clickCode:Mwe.Image})))},rLe[nSe.Vibe]=function(t){var n,r=t.album,o=t.title,a=t.artists,s=t.id,l=t.adult,c=t.streaming,d=t.link,f=t.preview,h=Ime().viewer,p=i.useState(!1),v=p[0],m=p[1],g=Xce(),y=a.map((function(e){return e.name})).join(", "),b=Zce((function(e){return e.auth})),_=b.loggedIn,E=b.isAdult,w=!l||_&&E,S=BIe(),T=zIe({stickerType:nSe.Vibe,clickCode:v?Fwe.DislikeLogin:Fwe.LikeLogin}),k=function(){$fe(),h.emit(e.ViewerEvents.RequestLogin)},x=function(){$fe();var e={type:11,rurl:S,surl:S};location.href="".concat("https://nid.naver.com/mobile/user/help/realNameCheck","?").concat(Tfe.stringify(e))},A=i.useCallback((function(){g(gme(Zve.InvalidLink))}),[]);return i.useEffect((function(){Bve.reaction.getVibeReactionInfo(s).then((function(e){var t=e.isReacted;m(t)}))}),[]),c?u.default.createElement("div",{className:ZCe},u.default.createElement("div",{className:eIe},u.default.createElement("div",{className:iIe},u.default.createElement(vOe,{src:r.images.baseImageUrl,className:oIe,alt:"".concat(o," ").concat(sle("label.thumbnail"))})),u.default.createElement("div",{className:aIe},u.default.createElement("strong",{className:sIe},u.default.createElement("span",{className:uIe},o),l&&u.default.createElement("i",{className:lIe,"aria-label":sle("label.for_adult")},u.default.createElement(JCe,null))),u.default.createElement("span",{className:cIe},y||wke.UnRegistered),u.default.createElement("button",{type:"button",className:pEe(dIe,(n={},n[fIe]=v,n)),onClick:function(e){_?(e.persist(),Bve.reaction.toggleVibeReaction(s,!v).then((function(t){var n=t.isReacted;m(n),n&&g(gme(Zve.VibeMusicLiked)),fEe(e.currentTarget,v?Fwe.Dislike:Fwe.Like)})).catch((function(t){4010===t.errorCode?T(e):(g(yme(t)),fEe(e.currentTarget,v?Fwe.DislikeError:Fwe.LikeError))}))):T(e)}},o," ",sle("action.like_it",{it:o}))),w?u.default.createElement(UIe,{url:f.media.url}):u.default.createElement("div",{className:EIe},u.default.createElement("p",{className:uIe},_?sle("message.need_confirm_adult",{button:function(e){return u.default.createElement("button",{onClick:x},e)}}):u.default.createElement(u.default.Fragment,null,sle("message.need_confirm_adult",{button:function(e){return e}})," ",sle("message.need_login",{button:function(e){return u.default.createElement("button",{onClick:k},e)}})))),u.default.createElement("div",{className:tIe},u.default.createElement(TOe,{url:d.trackEnd.href,className:nIe,onFail:A,clickCode:Fwe.Link},sle("label.shortcuts_to",{to:u.default.createElement("strong",{className:rIe,key:"vibe"},"VIBE")}))))):u.default.createElement("div",{className:ZCe},u.default.createElement("div",{className:wIe},u.default.createElement("p",{className:uIe},sle("message.error_play_music_by_right_company"))))},rLe),_Le=ule(((iLe={})[nSe.Shopping]="label.shopping",iLe[nSe.Place]="label.place",iLe[nSe.Movie]="label.movie",iLe[nSe.Book]="label.book",iLe)),ELe=((oLe={})[nSe.Shopping]=196,oLe[nSe.Place]=266,oLe[nSe.Movie]=188,oLe[nSe.Book]=244,oLe[nSe.Vibe]=266,oLe),wLe=ule(((aLe={})[nSe.Shopping]="message.error_purchase",aLe[nSe.Place]="message.error_place",aLe[nSe.Movie]="message.error_work",aLe[nSe.Book]="message.error_books",aLe[nSe.Vibe]="message.error_play_music_by_right_company",aLe)),SLe=((sLe={})[nSe.Shopping]=function(e){var t=e.productId;return Bve.shopping.getProductDetails({productNo:t}).then((function(t){return(null==t?void 0:t.result)?function(e,t){var n=t.result,r=t.keepRequest,i=t.isKeep,o=t.isLogin,a=n.npayMobileYn,s=n.npayYn,u=n.mobileProductUrl,l=n.productUrl,c=n.lowestPrice,d=n.productCount,f=e.productId,h=e.thumbnail,p=e.productType,v=e.productDetailType,m=e.link,g=Rle.isMobile();return SR(SR({productId:f,thumbnail:h,productType:p,productDetailType:v,link:m},n),{keepRequest:r,isKeep:i,isLogin:o,lowestPrice:c?"".concat(xke(c)," ").concat(sle("label.won")):wke.UnRegistered,productCount:d?xke(d):wke.UnRegistered,isNaverPay:g&&a||!g&&s,productLink:(g?u:l)||m})}(e,t):Promise.reject(new Error(fle.NotAvailable))}))},sLe[nSe.Place]=function(e){var t=e.placeId,n=e.source,r={naver:{detailRequest:Bve.place.getNaverPlaceInfo,staticMapRequest:Bve.place.getNaverStaticMap,parser:YIe},google:{detailRequest:Bve.place.getGooglePlaceDetails,staticMapRequest:Bve.place.getGoogleStaticMap,parser:XIe}}[n.toLowerCase()]||{},i=r.detailRequest,o=r.staticMapRequest,a=r.parser;return i&&a&&o?new Promise((function(n,r){i(t).then((function(t){return xR(void 0,void 0,void 0,(function(){var i,s,u,l,c,d;return AR(this,(function(f){switch(f.label){case 0:return i=a(e,t),s=i.location,[4,o({location:s})];case 1:return(u=f.sent().url)&&(l=new Image,c=function(){l.onload=null,n(SR(SR({},i),{mapImageUrl:u}))},d=function(e){l.onerror=null,r(e)},l.onload=c,l.onerror=d,l.src=u),[2]}}))}))})).catch((function(e){return r(e)}))})):Promise.reject()},sLe[nSe.Movie]=function(e){var t=e.movieId;return Bve.movie.getMovieDetails({mcode:t}).then((function(t){var n=t.title,r=t.releaseDate,i=t.genreLists,o=t.nationLists,a=t.reviewScore,s=t.runTime;if(!n)throw new Error;var u=["directors","actorLists"].reduce((function(e,n){var r;return SR(SR({},e),((r={})[n]=t[n]?$Ie(t[n]):wke.UnRegistered,r))}),{}),l=((null==i?void 0:i.split(","))||[])[0];return SR(SR(SR(SR({},e),t),{releaseDate:Dke(r),reviewScore:r?a||wke.UnRegistered:null,genreLists:l||null,nationLists:o?$Ie(o):null,runTime:s?sle("label.n_minute",{minute:s}):null}),u)}))},sLe[nSe.Book]=function(e){var t=e.bookId;return Bve.book.getBookDetails({bid:t}).then((function(t){var n,r=t.title,i=t.publishDay,o=t.author,a=t.avgPoint,s=t.bookPrice;if(!r)throw new Error;return SR(SR(SR({},e),t),{author:o.split("|").join(", "),publishDay:Nke(i),avgPoint:a?(n=a,"0.00"===n?"0.0":n):wke.UnRegistered,bookPrice:(null==s?void 0:s.bookPrice)?"".concat(xke(null==s?void 0:s.bookPrice)).concat(sle("label.won")):sle("label.no_price_info")})}))},sLe[nSe.Vibe]=function(e){var t=e.trackId;return Bve.vibe.getTrackInfo(t)},sLe),TLe=((uLe={})[nSe.Shopping]=Rwe.DimmedClose,uLe[nSe.Place]=Dwe.DimmedClose,uLe[nSe.Movie]=jwe.DimmedClose,uLe[nSe.Book]=Mwe.DimmedClose,uLe[nSe.Vibe]=Fwe.DimmedClose,uLe),kLe=((lLe={})[nSe.Shopping]=Rwe.Close,lLe[nSe.Place]=Dwe.Close,lLe[nSe.Movie]=jwe.Close,lLe[nSe.Book]=Mwe.Close,lLe[nSe.Vibe]=Fwe.Close,lLe),xLe=((cLe={})[nSe.Shopping]=qwe.ShoppingLayer,cLe[nSe.Place]=qwe.PlaceLayer,cLe[nSe.Movie]=qwe.MovieLayer,cLe[nSe.Book]=qwe.BookLayer,cLe),ALe=((dLe={})[nSe.Shopping]=Qwe.Dim,dLe[nSe.Place]=$we.Dim,dLe[nSe.Movie]=Zwe.Dim,dLe[nSe.Book]=Jwe.Dim,dLe),PLe=((fLe={})[nSe.Shopping]=Qwe.CloseHandle,fLe[nSe.Place]=$we.CloseHandle,fLe[nSe.Movie]=Zwe.CloseHandle,fLe[nSe.Book]=Jwe.CloseHandle,fLe),OLe=function(e){var t=Xce(),n=Zce((function(e){return e.toast})).message,r=gSe().logEvent,o=e.onClose,a=TR(e,["onClose"]),s=a.type,l=i.useMemo((function(){return bLe[s]}),[s]),c=yLe.includes(s),d=i.useState(Eme.NotAvailable),f=d[0],h=d[1],p=i.useState(null),v=p[0],m=p[1],g=i.useCallback((function(e){o(e);var t=TLe[a.type],n=xLe[a.type],i=ALe[a.type];t&&fEe(e.target,t),n&&i&&r(Gwe.Tap,{screen:n,category:i})}),[o,r]),y=i.useCallback((function(e){return e.stopPropagation()}),[]),b=i.useCallback((function(e){o(e);var t=kLe[a.type],n=xLe[a.type],i=PLe[a.type];t&&fEe(e.target,t),n&&i&&r(Gwe.Tap,{screen:n,category:i})}),[o,r]),_=i.useCallback((function(e){m(e),h(Eme.Loaded)}),[]),E=i.useCallback((function(e){m(null),e.message===fle.NotAvailable?h(Eme.NotAvailable):(h(Eme.Failed),t(function(e){return function(t){var n=pme(e);t(mme(cme[n]))}}(e)))}),[]),w=i.useCallback((function(){s&&(h(Eme.Loading),SLe[s](a).then(_).catch(E))}),[s]);return i.useEffect((function(){w()}),[w]),c?u.default.createElement("div",{className:GIe.container,onClick:g},u.default.createElement("div",{className:GIe.wrap,onClick:y}," ",u.default.createElement("div",{className:pEe(GIe.top,GIe[s])},u.default.createElement("span",{className:GIe.name},_Le[s]),u.default.createElement("button",{type:"button",className:GIe.close,onClick:b,"aria-label":sle("action.close")},u.default.createElement(HIe,null))),function(){switch(f){case Eme.Loaded:return u.default.createElement(l,SR({},v));case Eme.NotAvailable:return u.default.createElement("div",{className:GIe.error_wrap,style:{height:ELe[s]}},u.default.createElement("div",{className:GIe.content},u.default.createElement("span",{className:GIe.text},wLe[s])));case Eme.Loading:case Eme.Failed:default:return u.default.createElement("div",{className:GIe.loading_wrapper,style:{height:ELe[s]}},u.default.createElement(gLe,{loadingState:f,message:n,onClickRetry:function(){return w()}}))}}())):null},CLe="Sticker_enter__Zk-MT",ILe="Sticker_enter-active__X2vJX",LLe="Sticker_enter-done__EyQfq",NLe="Sticker_exit__LuZTC",DLe="Sticker_exit-active__hNGZc",RLe=((hLe={})[nSe.Shopping]=Nwe.Shopping,hLe[nSe.Place]=Nwe.Place,hLe[nSe.News]=Nwe.News,hLe[nSe.Link]=Nwe.Link,hLe[nSe.Movie]=Nwe.Movie,hLe[nSe.Book]=Nwe.Book,hLe[nSe.Blog]=Nwe.Blog,hLe[nSe.Vibe]=Nwe.Vibe,hLe),MLe=((pLe={})[nSe.Shopping]=Ywe.Shopping,pLe[nSe.Place]=Ywe.Place,pLe[nSe.News]=Ywe.News,pLe[nSe.Link]=Ywe.Link,pLe[nSe.Movie]=Ywe.Movie,pLe[nSe.Book]=Ywe.Book,pLe[nSe.Blog]=Ywe.Blog,pLe),jLe=[nSe.Shopping,nSe.Place,nSe.Movie,nSe.Book,nSe.Vibe],FLe=function(t){var n=t.item,r=t.containerRect,o=Xce(),a=Ime(),s=a.player,l=a.isPlaying,c=Zce((function(e){return e.layer})),d=c.previousLayerState,f=c.activeStickerLayerId,h=gSe().logEvent,p=i.useState(!1),v=p[0],m=p[1],g=Dxe(),y=n.eventId,b=n.customData,_=n.regions[0],E=i.useCallback((function(t){jLe.includes(b.type)&&o(fhe(e.LayerState.StickerLayer,{activeStickerLayerId:y}));var n=RLe[b.type],r=MLe[b.type];fEe(t.target,Nwe.All),n&&fEe(t.target,n),r&&h(Gwe.Tap,{screen:qwe.Player,category:r})}),[b,h]),w=i.useCallback((function(){var e=s.getAccumulatedCurrentTime(),t=n.method.range,r=t.startTime,i=t.endTime;e>=r&&e<i?!v&&m(!0):v&&m(!1)}),[v,n]);return i.useEffect((function(){w()}),[]),i.useEffect((function(){return s.on(e.PlayerEvents.TimeUpdate,w),function(){s.off(e.PlayerEvents.TimeUpdate,w)}}),[s,w]),v&&!g?u.default.createElement(u.default.Fragment,null,b.type&&u.default.createElement(SOe,SR({},b,{containerRect:r,region:_,onClick:E,method:n.method})),u.default.createElement(nPe,{in:f===y,timeout:400,unmountOnExit:!0,classNames:{enter:CLe,enterActive:ILe,enterDone:LLe,exit:NLe,exitActive:DLe}},u.default.createElement(OLe,SR({},b,{onClose:function(){o(fhe(l?d:e.LayerState.Info,{activeStickerLayerId:null}))}})))):null},VLe="StickerLayer_wrap__j9n7l",ULe={position:"absolute",display:"flex",justifyContent:"center",top:0,left:0,right:0,bottom:0,overflow:"hidden",margin:"auto",width:"inherit"},BLe=Object.values(nSe),zLe=function(){var t=function(){var t=Ime().player,n=i.useState(t.getShadowRootSize()),r=n[0],o=n[1];return i.useEffect((function(){var n=function(){return o(t.getShadowRootSize())};return t.on(e.PlayerEvents.Resize,n),function(){t.off(e.PlayerEvents.Resize,n)}}),[t]),r}(),n=ZEe().events;return u.default.createElement("div",{className:VLe},u.default.createElement("div",{style:ULe},u.default.createElement("div",{style:Sle(t)?t:Zle,onClick:function(e){return e.preventDefault()}},n.map((function(e){return BLe.includes(e.customData.type)?u.default.createElement(FLe,{key:e.eventId,item:e,containerRect:t}):null})))))};!function(e){e.MomentTagView="BlogMomentTagView.naver"}(mLe||(mLe={}));var GLe=Rle.isMobile(),qLe=((vLe={})[e.ServiceEnv.Dev]="http://dev.".concat(GLe?"m.":"","blog.naver.com"),vLe[e.ServiceEnv.Stage]="https://stage.".concat(GLe?"m.":"","blog.naver.com"),vLe[e.ServiceEnv.Real]="https://".concat(GLe?"m.":"","blog.naver.com"),vLe),HLe=function(e,t){return"".concat(qLe[ple.env],"/").concat(e).concat(t?"?".concat(Tfe.stringify(t)):"")},WLe=function(e){return HLe(e)},KLe=function(e,t){return HLe(mLe.MomentTagView,{blogId:e,tagName:t})},YLe=Tfe.stringify(Rle.isMobile()?{scrollToMoment:!0}:{}),XLe=Rle.isMobile()?"#momentlist_block":"";function $Le(){var e=ZEe(),t=i.useCallback((function(e){return"".concat(WLe(e)).concat(YLe?"?".concat(YLe):"").concat(XLe)}),[]),n=i.useMemo((function(){return t(e.blogId)}),[e]),r=i.useCallback((function(t){return KLe(e.blogId,t)}),[e]);return{blogHomeUrl:n,getBlogHomeUrl:t,getBlogMomentTagUrl:r}}var QLe,JLe,ZLe={wrap:"HeaderProfile_wrap__WF-B4",pic_box:"HeaderProfile_pic_box__Bfq15",info_box:"HeaderProfile_info_box__-UBop",pic:"HeaderProfile_pic__uPh-q",link:"HeaderProfile_link__UjxVt",nickname:"HeaderProfile_nickname__ARsbf",meta:"HeaderProfile_meta__3BWxh",play_count:"HeaderProfile_play_count__bPISO"},eNe=function(t){void 0===t&&(t=[]);var n=Xce(),r=Zce((function(e){return e.layer})).layerState;return i.useCallback((function(){switch(r){case e.LayerState.MoreInfo:n(fhe(e.LayerState.Info));break;case e.LayerState.Info:n(fhe(e.LayerState.None))}}),PR([r],t,!0))},tNe=Rle.isMobile()?{}:{target:"_blank",rel:"noopener noreferrer"},nNe=function(e){var t=e.date,n=e.playCount,r=e.profileThumbnailUrl,i=e.nickname,o=e.blogId,a=(0,$Le().getBlogHomeUrl)(o),s=gSe().logEvent,l=eNe(),c=Zce((function(e){return e.layer})).isMoreInfoOpen;return u.default.createElement("div",{className:ZLe.wrap,onClick:function(e){e.target.isSameNode(e.currentTarget)&&l()}},u.default.createElement("span",{className:ZLe.pic_box},u.default.createElement("a",SR({href:a},tNe,{className:ZLe.link,onClick:function(e){fEe(e.target,c?Lwe.ProfileImage:Pwe.ProfileImage),s(Gwe.Tap,c?{screen:qwe.PlayerInfo,category:Xwe.ProfileImage}:{screen:qwe.Player,category:Wwe.ProfileImage})}}),u.default.createElement("span",{className:ZLe.pic},u.default.createElement(VPe,{src:r})))),u.default.createElement("div",{className:ZLe.info_box},u.default.createElement("a",SR({href:a},tNe,{className:ZLe.nickname,onClick:function(e){fEe(e.target,c?Lwe.Nickname:Pwe.Nickname),s(Gwe.Tap,c?{screen:qwe.PlayerInfo,category:Xwe.ProfileInfo}:{screen:qwe.Player,category:Wwe.ProfileInfo})}}),i),u.default.createElement("div",{className:ZLe.meta},u.default.createElement("span",{className:ZLe.date},Pke(t.getTime())),u.default.createElement("span",{className:ZLe.play_count},sle("label.play")," ",u.default.createElement("em",null,Cke(n))))))},rNe=function(e){var t=e.date,n=e.playCount,r=e.profileThumbnailUrl,i=e.nickname,o=function(e){return e.preventDefault()};return u.default.createElement("div",{className:ZLe.wrap},u.default.createElement("span",{className:ZLe.pic_box},u.default.createElement("a",{href:"#",className:ZLe.link,onClick:o},u.default.createElement("span",{className:ZLe.pic},u.default.createElement(VPe,{src:r})))),u.default.createElement("div",{className:ZLe.info_box},u.default.createElement("a",{className:ZLe.nickname,onClick:o},i),u.default.createElement("div",{className:ZLe.meta},u.default.createElement("span",{className:ZLe.date},Pke(t.getTime())),u.default.createElement("span",{className:ZLe.play_count},sle("label.play")," ",u.default.createElement("em",null,Cke(n))))))},iNe={wrap:"HeaderMenuBox_wrap__Pd6Ov",button:"HeaderMenuBox_button__Ig7Mt",close:"HeaderMenuBox_close__W2wzl"};function oNe(){return oNe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oNe.apply(this,arguments)}function aNe(e){return l.createElement("svg",oNe({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),QLe||(QLe=l.createElement("path",{d:"M8 8l15.556 15.556m0-15.556L8 23.556",stroke:"#FFF",strokeWidth:2,fill:"none",fillRule:"evenodd",strokeLinecap:"round"})))}function sNe(){return sNe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sNe.apply(this,arguments)}function uNe(e){return l.createElement("svg",sNe({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),JLe||(JLe=l.createElement("g",{transform:"translate(14 7)",fill:"#FFF",fillRule:"evenodd"},l.createElement("circle",{cx:1.5,cy:16.5,r:1.5,transform:"rotate(90 1.5 16.5)"}),l.createElement("circle",{cx:1.5,cy:9,r:1.5,transform:"rotate(90 1.5 9)"}),l.createElement("circle",{cx:1.5,cy:1.5,r:1.5,transform:"rotate(90 1.5 1.5)"}))))}var lNe,cNe,dNe="VolumeButton_wrap__DeGvb",fNe="VolumeButton_btn_soundoff__3wCwr";function hNe(){return hNe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hNe.apply(this,arguments)}function pNe(e){return l.createElement("svg",hNe({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),lNe||(lNe=l.createElement("g",{stroke:"#FFF",strokeWidth:2,fill:"none",fillRule:"evenodd"},l.createElement("path",{d:"M21 23c2.919-1.054 5-3.791 5-7s-2.081-5.947-5-7"}),l.createElement("path",{d:"M20 19c1.184-.554 2-1.686 2-3 0-1.313-.816-2.445-2-3"}),l.createElement("path",{strokeLinejoin:"round",d:"M5 11.894v8.371h4l7 5.235v-19l-7 5.394z"}))))}function vNe(){return vNe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vNe.apply(this,arguments)}function mNe(e){return l.createElement("svg",vNe({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),cNe||(cNe=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("path",{fill:"#FFF",d:"M27.745 18.485a.886.886 0 01-.005 1.254.894.894 0 01-1.261-.003l-2.48-2.478-2.478 2.478a.893.893 0 01-1.261.003.886.886 0 01-.005-1.254l.003-.003L22.74 16l-2.485-2.485a.887.887 0 01-.075-1.163l.08-.09a.893.893 0 011.261.002L24 14.74l2.479-2.477a.893.893 0 011.261-.003c.348.346.35.907.005 1.254l-.003.003-2.483 2.481z"}),l.createElement("path",{stroke:"#FFF",strokeLinejoin:"round",strokeWidth:2,d:"M5 11.894v8.371h4l7 5.235v-19l-7 5.394z"}))))}var gNe=function(){var t=Ime().player,n=gSe().logEvent,r=i.useState(t.core.muted),o=r[0],a=r[1],s=i.useCallback((function(e){var r=!t.core.muted;t.core.muted=r,fEe(e.target,r?Pwe.SoundOff:Pwe.SoundOn),n(Gwe.Tap,{screen:qwe.Player,category:Wwe.More})}),[t,n]);return i.useEffect((function(){var n=function(){return a(t.core.muted)};return t.on(e.PlayerEvents.VolumeChange,n),function(){t.off(e.PlayerEvents.VolumeChange,n)}}),[t]),u.default.createElement("div",{className:dNe},u.default.createElement(uwe,{onTap:s},u.default.createElement("button",{type:"button",className:pEe(fNe),"aria-label":sle(o?"aria.off_volume":"aria.on_volume")},o?u.default.createElement(mNe,null):u.default.createElement(pNe,null))))},yNe=Rle.isMobile(),bNe=function(){var e=Xce(),t=Zce((function(e){return e.error})),n=Ime().viewer,r="close"in n,i=ZEe().id,o=gSe().logEvent;return u.default.createElement("div",{className:iNe.wrap},i&&yNe&&u.default.createElement(uwe,{onTap:function(n){n.preventDefault(),t||(e(dhe({popupState:the.Header})),fEe(n.target,Pwe.More),o(Gwe.Tap,{screen:qwe.Player,category:Wwe.More}))},options:{inputClass:abe.TouchMouseInput}},u.default.createElement("button",{type:"button",className:pEe(iNe.button,iNe.menu),"aria-label":sle("action.more")},u.default.createElement(uNe,null))),i&&u.default.createElement(gNe,null),r&&n.closable&&u.default.createElement(uwe,{onTap:function(e){e.preventDefault(),r&&n.close(),fEe(e.target,Pwe.Close),o(Gwe.Tap,{screen:qwe.Player,category:Wwe.Close})},options:{inputClass:abe.TouchMouseInput}},u.default.createElement("button",{type:"button",className:pEe(iNe.button,iNe.close),"aria-label":sle("aria.close_layer")},u.default.createElement(aNe,null))))},_Ne=function(){var e=Ime().viewer,t=gSe().logEvent,n="close"in e;return u.default.createElement("div",{className:iNe.wrap},n&&e.closable&&u.default.createElement(uwe,{onTap:function(r){r.preventDefault(),n&&e.close(),fEe(r.target,Pwe.Close),t(Gwe.Tap,{screen:qwe.Player,category:Wwe.Close})},options:{inputClass:abe.TouchMouseInput}},u.default.createElement("button",{type:"button",className:pEe(iNe.button,iNe.close),"aria-label":sle("aria.close_layer")},u.default.createElement(aNe,null))))},ENe="Header_header__o5jKg",wNe="Header_active__U8-0x",SNe="Header_disabled__KWrke",TNe="Header_animate__J9ssr",kNe=function(e){var t,n=e.visible,r=e.MoreInfoHeaderRightButtons,i=Dxe(),o=Zce((function(e){return e.layer})).isMoreInfoOpen,a=ewe(),s=a.moment,l=a.$viewerContainer;return u.default.createElement("header",{className:pEe(ENe,TNe,(t={},t[wNe]=n,t[SNe]=i,t))},s.id&&u.default.createElement(nNe,SR({},s)),r&&o?u.default.createElement(r,SR({},{$container:l})):u.default.createElement(bNe,null))},xNe=function(){var e=ZEe();return u.default.createElement("header",{className:pEe(ENe,wNe,SNe)},e.id&&u.default.createElement(rNe,SR({},e)),e.id?u.default.createElement(bNe,null):u.default.createElement(_Ne,null))},ANe={exports:{}};!function(e,t){e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var n=e.HTMLElement||e.Element,r=468,i={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:n.prototype.scroll||s,scrollIntoView:n.prototype.scrollIntoView},o=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,a=function(e){return new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(e)}(e.navigator.userAgent)?1:0;e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==u(arguments[0])?h.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):i.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(u(arguments[0])?i.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},n.prototype.scroll=n.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==u(arguments[0])){var e=arguments[0].left,t=arguments[0].top;h.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},n.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==u(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},n.prototype.scrollIntoView=function(){if(!0!==u(arguments[0])){var n=function(e){for(;e!==t.body&&!1===d(e);)e=e.parentNode||e.host;return e}(this),r=n.getBoundingClientRect(),o=this.getBoundingClientRect();n!==t.body?(h.call(this,n,n.scrollLeft+o.left-r.left,n.scrollTop+o.top-r.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):e.scrollBy({left:o.left,top:o.top,behavior:"smooth"})}else i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(e,t){this.scrollLeft=e,this.scrollTop=t}function u(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function l(e,t){return"Y"===t?e.clientHeight+a<e.scrollHeight:"X"===t?e.clientWidth+a<e.scrollWidth:void 0}function c(t,n){var r=e.getComputedStyle(t,null)["overflow"+n];return"auto"===r||"scroll"===r}function d(e){var t=l(e,"Y")&&c(e,"Y"),n=l(e,"X")&&c(e,"X");return t||n}function f(t){var n,i,a,s=(o()-t.startTime)/r;n=function(e){return.5*(1-Math.cos(Math.PI*e))}(s=s>1?1:s),i=t.startX+(t.x-t.startX)*n,a=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,i,a),i===t.x&&a===t.y||e.requestAnimationFrame(f.bind(e,t))}function h(n,r,a){var u,l,c,d,h=o();n===t.body?(u=e,l=e.scrollX||e.pageXOffset,c=e.scrollY||e.pageYOffset,d=i.scroll):(u=n,l=n.scrollLeft,c=n.scrollTop,d=s),f({scrollable:u,method:d,startTime:h,startX:l,startY:c,x:r,y:a})}}}}(ANe);var PNe="ClipIndexList_wrap__Otkle",ONe="ClipIndexList_list_box__Ml7-Q",CNe="ClipIndexList_visible__sTo6d",INe="ClipIndexList_list__VU72G",LNe="ClipIndexList_item__q0W2O",NNe="ClipIndexList_title__xoe16",DNe="ClipIndexList_thumbnail__yKPjN",RNe="ClipIndexList_on__6qtTM",MNe="ClipIndexList_info_more__MMb9l";Ple&&ANe.exports.polyfill();var jNe,FNe=function(t){var n,r,o=t.indexes,a=Xce(),s=Ime(),l=s.player,c=s.setPlaying,d=i.useRef(null),f=i.useRef(null),h=Zxe().currentIndex,p=Zce((function(e){return e.layer})).isMoreInfoOpen,v=i.useMemo((function(){return o.some((function(e){return!!e.title}))}),[o]),m=gSe().logEvent,g=i.useCallback((function(t,n){l.changeIndex(n).then((function(){c(!0)})),a(fhe(e.LayerState.None)),fEe(t.target,Lwe.TapIndex),m(Gwe.Tap,{screen:qwe.PlayerInfo,category:Xwe.IndexThumbnail})}),[m]),y=i.useCallback(_xe((function(e){fEe(e.target,Lwe.ScrollIndex),m(Gwe.Scroll,{screen:qwe.PlayerInfo,category:Xwe.IndexScroll})}),e.Delay.ScrollLog),[m]);return i.useEffect((function(){var e;return e=new IntersectionObserver((function(t){if(!t[0].isIntersecting&&p){var n=88*(h+1)+Math.ceil(window.innerWidth/88)-window.innerWidth+16;d.current.scrollTo({left:n,behavior:"smooth"}),e.disconnect()}}),{rootMargin:"0px -".concat(16,"px")}),f.current&&e.observe(f.current),function(){e.disconnect()}}),[h]),i.useEffect((function(){if(p){var e=88*h;d.current.scrollLeft=e}}),[p]),i.useEffect((function(){var e=Rle.isIos()&&[11,12].includes(Rle.getMajorVersion());if(d.current&&e){var t=function(e){return e.stopPropagation()};return d.current.addEventListener("touchmove",t),function(){var e;null===(e=d.current)||void 0===e||e.removeEventListener("touchmove",t)}}}),[d.current]),u.default.createElement("div",{className:pEe(PNe,(n={},n[MNe]=p,n))},u.default.createElement("div",{className:pEe(ONe,(r={},r[CNe]=!Rle.isMobile(),r)),ref:d,onScroll:function(e){e.persist(),y(e)}},u.default.createElement("ul",{className:INe},o.map((function(e,t){var n,r=t===h;return u.default.createElement(uwe,{key:t,onTap:function(e){return g(e,t)}},u.default.createElement("li",{className:r?pEe(LNe,RNe):LNe,ref:r?f:null},u.default.createElement(BEe,{className:pEe(DNe,(n={},n[RNe]=r,n)),width:"118",height:"210",src:e.thumbnail}),v&&u.default.createElement("span",{className:NNe},e.title)))})))))},VNe=new Uint8Array(16);function UNe(){if(!jNe&&!(jNe="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jNe(VNe)}for(var BNe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,zNe=[],GNe=0;GNe<256;++GNe)zNe.push((GNe+256).toString(16).substr(1));function qNe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(zNe[e[t+0]]+zNe[e[t+1]]+zNe[e[t+2]]+zNe[e[t+3]]+"-"+zNe[e[t+4]]+zNe[e[t+5]]+"-"+zNe[e[t+6]]+zNe[e[t+7]]+"-"+zNe[e[t+8]]+zNe[e[t+9]]+"-"+zNe[e[t+10]]+zNe[e[t+11]]+zNe[e[t+12]]+zNe[e[t+13]]+zNe[e[t+14]]+zNe[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&BNe.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n}function HNe(e,t,n){var r=(e=e||{}).random||(e.rng||UNe)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return qNe(r)}var WNe,KNe="MoreInfoLayer_fold__bCQxr",YNe="MoreInfoLayer_active__H7NtM",XNe="MoreInfoLayer_disabled__wmkl-",$Ne="MoreInfoLayer_text__yOEBe",QNe="MoreInfoLayer_tag__vTUe4",JNe="MoreInfoLayer_wrap__pKiuN",ZNe="MoreInfoLayer_content__oow13",eDe="MoreInfoLayer_text_wrap__QnahD",tDe="MoreInfoLayer_scroll__v38BJ",nDe="MoreInfoLayer_animate__5spbJ",rDe="MoreInfoLayer_wrap_close__IYf5t",iDe="MoreInfoLayer_wrap_open__czayG",oDe="MoreInfoLayer_wrap_visible__CnbNP",aDe="MoreInfoLayer_wrap_hidden__fYraf",sDe="MoreInfoLayer_mobile_view__N4dQW",uDe="MoreInfoLayer_info_more__S1un-",lDe=function(e){var t,n=e.text,r=e.tags,o=e.isAnchorTag,a=void 0!==o&&o,s=gSe().logEvent,l=/(#[_|\d|A-Z|a-z|ㄱ-ㅎ|ㅏ-ㅣ|가-힣]+)/g,c=n.split("\n"),d=new Set(null===(t=n.match(l))||void 0===t?void 0:t.map((function(e){return e.substring(1)}))),f=$Le().getBlogMomentTagUrl,h=function(e){var t="".concat(e,"_").concat(HNe());return a?u.default.createElement("a",{href:f(e),key:t,className:QNe,onClick:function(e){fEe(e.currentTarget,Lwe.Tag),s(Gwe.Tap,{screen:qwe.PlayerInfo,category:Xwe.Tag})}},"#".concat(e)):u.default.createElement("em",{key:t,className:QNe},"#".concat(e))};return u.default.createElement("div",{className:$Ne},c.map((function(e,t){var n=e.split(l);return u.default.createElement(i.Fragment,{key:HNe()},t>0&&u.default.createElement("br",null),n.map((function(e){return e.match(l)?h(e.substring(1)):e})))})),r.filter((function(e){return!d.has(e)})).map(h))};!function(e){e[e.Up=abe.DIRECTION_UP]="Up",e[e.Down=abe.DIRECTION_DOWN]="Down",e[e.Left=abe.DIRECTION_LEFT]="Left",e[e.Right=abe.DIRECTION_RIGHT]="Right"}(WNe||(WNe={}));var cDe,dDe,fDe=function(t){var n,r=((n={})[WNe.Up]=t.onSwipeUp,n[WNe.Down]=t.onSwipeDown,n[WNe.Left]=t.onSwipeLeft,n[WNe.Right]=t.onSwipeRight,n),o=i.useContext(swe).isFlicking;return u.default.createElement(awe,{recognizers:[{type:e.GestureType.Swipe,callback:function(e){var n=e.direction;if(!o.current)if(t.onSwipe)t.onSwipe(e);else{var i=r[n];i&&i(e)}}}]},t.children)},hDe=function(t){void 0===t&&(t=[]);var n=Dxe(),r=i.useContext(swe).isFlicking,o=Xce(),a=gSe().logEvent,s=Zce((function(e){return e.layer})).layerState,u=eNe(),l=i.useCallback((function(t){t.direction===WNe.Up&&(n||(o(fhe(e.LayerState.MoreInfo)),fEe(t.target,Cwe.MoreInfo),a(Gwe.Scroll,{screen:qwe.Player,category:Wwe.SwipeUpToMoreInfo})))}),[n,a]),c=i.useCallback((function(t){t.direction===WNe.Down&&s===e.LayerState.MoreInfo&&(u(),fEe(t.target,Lwe.SwipeClose),a(Gwe.Scroll,{screen:qwe.PlayerInfo,category:Xwe.SwipeDown}))}),[s,a]),d=i.useCallback((function(t){s===e.LayerState.StickerLayer||r.current||(l(t),c(t))}),PR([l,c],t,!0));return{handleSwipeUp:l,handleSwipeDown:c,handleSwipe:d}},pDe=function(t){var n,r=t.visible,o=Xce(),a=Dxe(),s=ZEe(),l=s.title,c=s.tags,d=gSe().logEvent,f=hDe().handleSwipe,h=i.useCallback((function(e){f(e),fEe(e.target,Lwe.SwipeOpen)}),[f]),p=i.useCallback((function(t){t.preventDefault(),o(fhe(e.LayerState.MoreInfo)),d(Gwe.Tap,{screen:qwe.Player,category:Wwe.TitleInfo}),fEe(t.target,Lwe.Open)}),[d]);return u.default.createElement(fDe,{onSwipeUp:h},u.default.createElement("div",{className:pEe(KNe,(n={},n[YNe]=r,n[XNe]=a,n)),id:"see_more",onClick:p},u.default.createElement(lDe,{text:l,tags:c,isAnchorTag:!1})))},vDe=function(){var e=ZEe(),t=e.title,n=e.tags;return u.default.createElement("div",{className:pEe(KNe,YNe,XNe)},u.default.createElement(lDe,{text:t,tags:n,isAnchorTag:!1}))},mDe=function(){var t,n,r,o=i.useContext(Cme).viewerSize,a=ZEe(),s=a.indexes,l=a.title,c=a.tags,d=gSe().logEvent,f=Zce((function(e){return e.layer})),h=f.isInfoVisible,p=f.isMoreInfoOpen,v=f.isMoreInfoVisible,m=f.previousLayerState,g=eNe(),y=hDe().handleSwipe,b=i.useCallback((function(e){g(),fEe(e.target,Lwe.Close),d(Gwe.Tap,{screen:qwe.PlayerInfo,category:Xwe.Title})}),[m,g,d]),_=i.useMemo((function(){return{maxHeight:"".concat(o.height-174,"px")}}),[o.height]),E=i.useRef(null),w=i.useState(!1),S=w[0],T=w[1],k=i.useCallback(_xe((function(e){p&&(fEe(e.target,Lwe.ScrollDesc),d(Gwe.Scroll,{screen:qwe.PlayerInfo,category:Xwe.DescScroll}))}),e.Delay.ScrollLog),[p,d]);return i.useEffect((function(){if(E.current){var e=E.current,t=e.clientHeight,n=e.scrollHeight;T(n>t)}}),[]),u.default.createElement(u.default.Fragment,null,u.default.createElement(pDe,{visible:h&&!p}),u.default.createElement("div",{className:pEe(JNe,p?iDe:rDe,v?oDe:aDe,nDe,(t={},t[sDe]=Rle.isMobile(),t),(n={},n[uDe]=p,n))},u.default.createElement("div",{className:ZNe,style:_},u.default.createElement(fDe,{onSwipeDown:y},u.default.createElement("div",{ref:E,className:pEe(eDe,(r={},r[tDe]=S,r)),id:"hide",onClick:b,onScroll:function(e){e.persist(),k(e)}},u.default.createElement(lDe,{text:l,tags:c,isAnchorTag:Rle.isMobile()}))),u.default.createElement(FNe,{indexes:s}))))};function gDe(){return gDe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gDe.apply(this,arguments)}function yDe(e){return l.createElement("svg",gDe({xmlns:"http://www.w3.org/2000/svg",width:36,height:36},e),cDe||(cDe=l.createElement("path",{d:"M18 6c6.627 0 12 5.373 12 12s-5.373 12-12 12a11.95 11.95 0 01-6.26-1.76l-3.743.985a1.002 1.002 0 01-1.222-1.222l.985-3.743A11.95 11.95 0 016 18c0-6.627 5.373-12 12-12zm-5.5 10.5a1.5 1.5 0 10.001 3.001A1.5 1.5 0 0012.5 16.5zm5.5 0a1.5 1.5 0 10.001 3.001A1.5 1.5 0 0018 16.5zm5.5 0a1.5 1.5 0 10.001 3.001A1.5 1.5 0 0023.5 16.5z",fill:"#FFF",fillRule:"evenodd"})))}function bDe(){return bDe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bDe.apply(this,arguments)}function _De(e){return l.createElement("svg",bDe({xmlns:"http://www.w3.org/2000/svg",width:36,height:36},e),dDe||(dDe=l.createElement("path",{d:"M31.854 18.982c.633-.542.631-1.423 0-1.964l-11.33-9.71C19.684 6.584 19 6.888 19 8v6.308h-4C8.584 14.308 4.559 21.18 4 27c0 0 2.977-5.204 11-5.308h4V28c0 1.104.675 1.421 1.525.693l11.33-9.711z",fill:"#FFF",fillRule:"evenodd"})))}var EDe={wrap:"NaverFooter_wrap__1HUg0",active:"NaverFooter_active__hwmYm",disabled:"NaverFooter_disabled__a7Bth",animate:"NaverFooter_animate__c0eCG",button:"NaverFooter_button__UxvlO",count:"NaverFooter_count__eGY1b",lottie:"NaverFooter_lottie__dGSvg"},wDe=u.default.createContext({addHandler:function(){},removeHandler:function(){}}),SDe=function(){return i.useContext(wDe)},TDe=function(){},kDe=function(e){var t=e.type,n=e.handlers;return function(e){return n.current[t].forEach((function(t){var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,e)}))}},xDe=function(e){var t=e.enabled,n=e.type,r=e.handlers;return t?kDe({type:n,handlers:r}):TDe},ADe=function(t){var n,r=t.enabled,o=t.children,a=Ime().viewer,s=i.useRef(null),l=gSe().logEvent,c=i.useRef(((n={})[e.GestureType.DoubleTap]=[],n[e.GestureType.Tap]=[],n[e.GestureType.Swipe]=[],n));return i.useEffect((function(){var e,t=function(e){return e.preventDefault()};return null===(e=s.current)||void 0===e||e.addEventListener("touchstart",t),function(){var e;null===(e=s.current)||void 0===e||e.removeEventListener("touchstart",t)}}),[]),u.default.createElement(wDe.Provider,{value:{addHandler:function(e){var t=e.type,n=e.handler,r=c.current[t];Array.isArray(r)&&r.push(n),c.current[t]=[n]},removeHandler:function(e){var t=e.type,n=e.handler;c.current[t]=c.current[t].filter((function(e){return n!==e}))}}},o,u.default.createElement(awe,{recognizers:[{type:e.GestureType.Swipe,callback:function(t){kDe({type:e.GestureType.Swipe,handlers:c})(t),function(e){if("close"in a){if(e.direction!==WNe.Down)return;a.close(),fEe(e.target,Pwe.SwipeClose),l(Gwe.Scroll,{screen:qwe.Player,category:Wwe.SwipeClose})}}(t)}},{type:e.GestureType.DoubleTap,options:{event:"doubletap",taps:2},callback:xDe({enabled:r,handlers:c,type:e.GestureType.DoubleTap})},{type:e.GestureType.Tap,callback:xDe({enabled:r,handlers:c,type:e.GestureType.Tap})}]},u.default.createElement(exe,{ref:s})))},PDe={};Object.defineProperty(PDe,"__esModule",{value:!0});var ODe=u.default,CDe=PDe.default=function(e){var t=ODe.useRef(e);return ODe.useEffect((function(){t.current=e}),[e]),t},IDe=function(){var e=Xce(),t=ZEe(),n=i.useCallback((function(n){e(rme(SR({id:t.id},n)))}),[t.id]);return{moment:t,updateMomentData:n}},LDe=function(){var e=Xce();return{auth:Zce((function(e){return e.auth})),updateAuthData:function(t){return e(ihe(t))},resetAuthData:function(){return e({type:Qfe.Reset})}}},NDe=function(e){var t,n,r,i=e.onClickReactionCount,o=e.onLikeClick,a=ZEe(),s=a.reactionCount,l=void 0===s?0:s,c=a.isLiked,d=void 0!==c&&c,f=(null===(n=null===(t=ple.defaultCustomLayerOptions)||void 0===t?void 0:t.reaction)||void 0===n?void 0:n.options)||{},h=f.highlightCount,p=f.highlightClassname,v=p&&h&&l>=h,m=void 0===i&&void 0===o;return u.default.createElement("div",{className:"u_likeit_list_module",style:m?{pointerEvents:"none"}:void 0},u.default.createElement("div",null,u.default.createElement("div",{className:"u_likeit_list_module _reactionModule"},u.default.createElement("button",{onClick:o,className:pEe("u_likeit_list_btn _button",d?"on":"off",v?p:"")},u.default.createElement("span",{className:"u_ico _icon"})))),u.default.createElement("button",{className:"u_cnt",onClick:i},(r=l)?r<Tke?xke(r):"9,999+":"0"))},DDe=138,RDe={position:"absolute",right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:"".concat(DDe,"px"),height:"".concat(DDe,"px"),top:"50%",left:"50%",marginTop:"-".concat(69,"px"),marginLeft:"-".concat(69,"px"),zIndex:65},MDe=function(){var n,r,o=Xce(),a=LDe().auth.loggedIn,s=Ime().viewer,l=gSe().logEvent,c=IDe(),d=c.moment,f=c.updateMomentData,h=d.isLiked,p=Zce((function(e){return e.layer})).layerState,v=SDe().addHandler,m=Dxe(),g=ewe(),y=g.enabled,b=g.$viewerContainer,_=i.useRef(null),E=hOe({animationData:sAe.Like,$container:_,options:{loop:!1,autoplay:!1,rendererSettings:{preserveAspectRatio:"xMidYMid meet",viewBoxOnly:!1,viewBoxSize:"0 0 180 180"}},enabled:y}),w=((null===(r=null===(n=ple.defaultCustomLayerOptions)||void 0===n?void 0:n.reaction)||void 0===r?void 0:r.options)||{}).isBlockReaction,S=i.useCallback((function(e){var t=e.count,n=e.isReacted;f({reactionCount:t,isLiked:n})}),[d.id]),T=zIe({clickCode:h?Owe.UnlikeLogin:Owe.LikeLogin}),k=i.useCallback((function(e){(null==w?void 0:w(e))||(a?Bve.reaction.toggleMomentReaction(d,!d.isLiked).then((function(t){var n=t.count,r=t.isReacted;r&&(null==E||E.goToAndPlay(0)),S({count:n,isReacted:r}),fEe(null==e?void 0:e.target,h?Owe.Unlike:Owe.Like)})).catch((function(t){4010===t.errorCode?T(e):(o(yme(t)),fEe(null==e?void 0:e.target,h?Owe.UnlikeError:Owe.LikeError))})):T(e))}),[a,d,E]),x=CDe(i.useCallback((function(t){if(!m){var n=t.srcEvent;[e.LayerState.None,e.LayerState.Info].includes(p)&&(h?(null==E?void 0:E.isPaused)&&(null==E||E.goToAndPlay(0)):k(n),fEe(n.target,Owe.DoubleTap),l(Gwe.DoubleTap,{screen:qwe.Player,category:Wwe.DoubleTap}))}}),[m,p,E,h]));i.useEffect((function(){Bve.reaction.getMomentReactionInfo(d).then(S),v({type:e.GestureType.DoubleTap,handler:x})}),[]);var A=i.useCallback((function(t){s.emit(e.ViewerEvents.ClickReaction,{moment:d}),fEe(t.currentTarget,Owe.LikeMore),l(Gwe.Tap,{screen:qwe.Player,category:Wwe.ReactionCount})}),[l]);return u.default.createElement(u.default.Fragment,null,E&&u.default.createElement(NDe,{onLikeClick:function(e){e.persist(),k(e),l(Gwe.Tap,{screen:qwe.Player,category:h?Wwe.Unlike:Wwe.Like})},onClickReactionCount:A}),(null==b?void 0:b.current)&&t.createPortal(u.default.createElement("div",{className:EDe.lottie,style:RDe,ref:_}),b.current))},jDe=["#naver-splugin-wrap","#naver-splugin-dimmed"],FDe={evKey:"blog",serviceName:"블로그",likeServiceId:"BLOG"},VDe=(Rle.isMobile()?[pde.Kakaostory]:[pde.Band,pde.Line,pde.Kakaotalk,pde.Kakaostory,pde.Friend]).reduce((function(e,t){return e[t]={display:lde.Off},e}),{}),UDe=function(){var t,n,r,o,a=Xce(),s=gSe().logEvent,l=ewe(),c=l.moment,d=l.enabled,f=c.title,h=c.blogName,p=c.thumbnailUrl,v=null===(o=null===(r=null===(n=null===(t=ple.defaultCustomLayerOptions)||void 0===t?void 0:t.reaction)||void 0===n?void 0:n.options)||void 0===r?void 0:r.contentsId)||void 0===o?void 0:o.call(r,c),m=i.useCallback((function(e){e.touches.length>1&&e.preventDefault()}),[]),g=i.useCallback((function(){a(dhe({isExtraLayerVisible:!0}))}),[]),y=i.useCallback((function(e){jDe.forEach((function(e){var t=document.querySelector(e);null==t||t.addEventListener("touchstart",m)})),fEe(e,Owe.Share),s(Gwe.Tap,{screen:qwe.Player,category:Wwe.SocialPlugin})}),[s]),b=i.useCallback((function(){jDe.forEach((function(e){var t=document.querySelector(e);null==t||t.removeEventListener("touchstart",m)})),a(dhe({isExtraLayerVisible:!1}))}),[]),_=BIe();return i.useEffect((function(){var e;d&&(null===(e=Ede.getPluginInstance(KEe))||void 0===e||e.hide(),a(dhe({isExtraLayerVisible:!1})))}),[d]),u.default.createElement("div",{className:EDe.button,onClick:g},u.default.createElement(Sde,SR({instanceKey:KEe},FDe,{likeContentsId:v,sourceName:h,classnames:EDe.button,title:f,isMobile:!0,env:ple.env===e.ServiceEnv.Dev?ade.Dev:ade.Real,onShow:y,onHide:b},function(e){var t,n=e.title,r=e.thumbnailUrl;return(t={})[pde.Kakaotalk]={display:lde.On,title:n},t[pde.Friend]={display:lde.On,imageUrl:phe(r,she.VideoPost)},t}({title:"".concat(f," : ").concat(sle("label.moment")),thumbnailUrl:p}),VDe,{returnUrl:_}),u.default.createElement(_De,null)))},BDe=function(t){var n,r,o,a=t.visible,s=Dxe(),l=ple.defaultCustomLayerOptions,c=Ime().viewer,d=gSe().logEvent,f=ZEe(),h=f.commentCount,p=void 0===h?0:h,v=i.useCallback((function(t){c.emit(e.ViewerEvents.ClickComment,{moment:f}),fEe(t.currentTarget,Owe.Reply),d(Gwe.Tap,{screen:qwe.Player,category:Wwe.CommentCount})}),[d]);return u.default.createElement("div",{className:pEe(EDe.wrap,EDe.animate,(n={},n[EDe.active]=a,n[EDe.disabled]=s,n))},!(null===(r=l.socialPlugin)||void 0===r?void 0:r.disabled)&&u.default.createElement(UDe,null),u.default.createElement("button",{onClick:v,className:EDe.button,"aria-label":sle("label.comment")},u.default.createElement(yDe,null),u.default.createElement("em",{className:EDe.count},Oke(p))),!(null===(o=l.reaction)||void 0===o?void 0:o.disabled)&&u.default.createElement(MDe,null))},zDe=function(){var e,t,n=ZEe().commentCount,r=void 0===n?0:n,i=ple.defaultCustomLayerOptions;return u.default.createElement("div",{className:pEe(EDe.wrap,EDe.animate,EDe.active,EDe.disabled)},u.default.createElement("div",null,!(null===(e=i.socialPlugin)||void 0===e?void 0:e.disabled)&&u.default.createElement("button",{className:pEe(EDe.button,EDe.share),"aria-label":sle("label.share")},u.default.createElement(_De,null)),u.default.createElement("button",{className:EDe.button,"aria-label":sle("label.comment")},u.default.createElement(yDe,null),u.default.createElement("em",{className:EDe.count},Oke(r))),!(null===(t=i.reaction)||void 0===t?void 0:t.disabled)&&u.default.createElement(NDe,null)))},GDe="BasicDimmed_animate_top__tICYi",qDe="BasicDimmed_animate_bottom__1oggu",HDe="BasicDimmed_basic_top__EtBr8",WDe="BasicDimmed_active__-ufN5",KDe="BasicDimmed_basic_bottom__pnyQF",YDe=function(){var e,t,n=Zce((function(e){return e.layer})).isInfoVisible;return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:pEe(HDe,GDe,(e={},e[WDe]=n,e))}),u.default.createElement("div",{className:pEe(KDe,qDe,(t={},t[WDe]=n,t))}))},XDe="ExtendedDimmed_extend__lZkxZ",$De="ExtendedDimmed_active__ZlNZi",QDe="ExtendedDimmed_animate__cjxzR",JDe=function(){var t,n=Zce((function(e){return e.layer})),r=n.isMoreInfoVisible,o=n.layerState,a=eNe(),s=hDe().handleSwipe,l=gSe().logEvent,c=i.useCallback((function(t){a(),o===e.LayerState.Info?(fEe(t.target,Cwe.Hide),l(Gwe.Tap,{screen:qwe.Player,category:Wwe.HideInfo})):o===e.LayerState.MoreInfo&&(fEe(t.target,Lwe.TapClose),l(Gwe.Tap,{screen:qwe.PlayerInfo,category:Xwe.Tap}))}),[a,o,l]);return u.default.createElement(awe,{recognizers:[{type:e.GestureType.Swipe,callback:s},{type:e.GestureType.Tap,callback:c}]},u.default.createElement("div",{className:pEe(XDe,QDe,(t={},t[$De]=r,t)),onClick:function(e){return e.preventDefault()}}))},ZDe=function(t){var n=t.isDragging,r=t.moreInfoHeader,o=gSe().logEvent,a=Ime(),s=a.player,l=a.isPlaying,c=a.networkLoadingState,d=a.isDocumentFocused,f=hDe().handleSwipeUp,h=SDe().addHandler,p=Xce(),v=Zce((function(e){return e.layer})),m=v.isInfoVisible,g=v.isFooterVisible,y=v.popupState,b=v.isExtraLayerVisible,_=v.activeStickerLayerId,E=v.layerState,w=E===e.LayerState.Info&&!b&&!y,S=jxe(d),T=function(e,t,n){var r=this,o=i.useRef(null),a=i.useRef(0),s=i.useRef(null),u=i.useRef([]),l=i.useRef(),c=i.useRef(),d=i.useRef(e),f=i.useRef(!0);d.current=e;var h=!t&&0!==t&&"undefined"!=typeof window;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var p=!!(n=n||{}).leading,v=!("trailing"in n)||!!n.trailing,m="maxWait"in n,g=m?Math.max(+n.maxWait||0,t):null;i.useEffect((function(){return f.current=!0,function(){f.current=!1}}),[]);var y=i.useMemo((function(){var e=function(e){var t=u.current,n=l.current;return u.current=l.current=null,a.current=e,c.current=d.current.apply(n,t)},n=function(e,t){h&&cancelAnimationFrame(s.current),s.current=h?requestAnimationFrame(e):setTimeout(e,t)},i=function(e){if(!f.current)return!1;var n=e-o.current,r=e-a.current;return!o.current||n>=t||n<0||m&&r>=g},y=function(t){return s.current=null,v&&u.current?e(t):(u.current=l.current=null,c.current)},b=function(){var e=Date.now();if(i(e))return y(e);if(f.current){var r=e-o.current,s=e-a.current,u=t-r,l=m?Math.min(u,g-s):u;n(b,l)}},_=function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var v=Date.now(),g=i(v);if(u.current=d,l.current=r,o.current=v,g){if(!s.current&&f.current)return a.current=o.current,n(b,t),p?e(o.current):c.current;if(m)return n(b,t),e(o.current)}return s.current||n(b,t),c.current};return _.cancel=function(){s.current&&(h?cancelAnimationFrame(s.current):clearTimeout(s.current)),a.current=0,u.current=o.current=l.current=s.current=null},_.isPending=function(){return!!s.current},_.flush=function(){return s.current?y(Date.now()):c.current},_}),[p,m,t,g,v,h]);return y}((function(){[e.LayerState.None,e.LayerState.MoreInfo].includes(E)||y||b||(null==n?void 0:n.current)||s.core.paused||c!==Eme.Loading&&(p(fhe(e.LayerState.None)),o(Gwe.Auto,{screen:qwe.Player,category:Wwe.AutoHideInfo}))}),e.HideDelay.Auto),k=CDe(i.useCallback((function(t){_||(m?(p(fhe(e.LayerState.None)),fEe(t.target,Cwe.Hide),o(Gwe.Tap,{screen:qwe.Player,category:Wwe.HideInfo})):(p(fhe(e.LayerState.Info)),fEe(t.target,Cwe.Show),o(Gwe.Tap,{screen:qwe.Player,category:Wwe.ShowInfo})))}),[_,m,o])),x=CDe(f);return i.useEffect((function(){!(null==n?void 0:n.current)&&T()}),[null==n?void 0:n.current]),i.useEffect((function(){w&&c===Eme.Loaded&&T()}),[w,c]),i.useEffect((function(){w&&Xfe()&&T()}),[]),i.useEffect((function(){var t="PointerEvent"in window||"MSPointerEvent"in window,n=document.querySelectorAll(".".concat(HEe," .").concat(YEe)),r=function(e){Array.from(n).some((function(t){return t.isSameNode(e.target)||t.contains(e.target)}))||T()},i=document.getElementsByClassName(HEe)[0],o=new abe.Manager(i,{touchAction:"manipulation",recognizers:[[abe.Tap],[abe.Pan,{direction:abe.DIRECTION_ALL,threshold:5}]],inputClass:t?abe.PointerEventInput:abe.TouchMouseInput});return o.on("tap panmove",r),h({type:e.GestureType.Tap,handler:k}),h({type:e.GestureType.Swipe,handler:x}),function(){null==o||o.off("tap panmove",r),null==o||o.destroy(),o=null,T.cancel()}}),[]),i.useEffect((function(){void 0!==S&&(S||!d||l||p((function(t,n){n().layer.layerState===e.LayerState.None&&t({type:nhe.UpdateState,payload:SR(SR({},lhe[e.LayerState.Info]),{layerState:e.LayerState.Info})})})))}),[d]),u.default.createElement(u.default.Fragment,null,u.default.createElement(kNe,SR({},SR({visible:m},r))),u.default.createElement(mDe,null),u.default.createElement(JDe,null),u.default.createElement(YDe,null),u.default.createElement(BDe,{visible:g}))},eRe=function(){var t,n=Ime(),r=n.viewer,o=n.networkLoadingState,a=n.retry,s=Xce(),l=r.customLayer||(ple.defaultCustomLayerOptions.disabled?null:ZDe),c=Zce((function(e){return e.layer})).isMoreInfoOpen,d=Zce((function(e){return e.error})),f=Jke(),h=f.handleTapLeft,p=f.handleTapRight;i.useEffect((function(){return r.on(e.ViewerEvents.Prev,h),r.on(e.ViewerEvents.Next,p),function(){r.off(e.ViewerEvents.Prev,h),r.off(e.ViewerEvents.Next,p)}}),[r,h,p]),i.useEffect((function(){d&&d.code===Kle.Blocked&&s(yme(d))}),[d]),function(){var t=Xce(),n=Ime().networkLoadingState,r=i.useRef(!0);i.useEffect((function(){switch(n){case Eme.Loading:break;case Eme.Loaded:r.current=!0;break;case Eme.Failed:t(fhe(e.LayerState.Info)),r.current&&t(gme(Zve.NetworkError)),r.current=!1}}),[n])}();var v=i.useRef(!1);return u.default.createElement(u.default.Fragment,null,u.default.createElement(Xke,null),u.default.createElement(exe,{className:pEe((t={},t[$ke]=c,t))},u.default.createElement(MAe,{onDrag:function(e){return v.current=e}}),u.default.createElement(zLe,null),u.default.createElement(Fke,null),u.default.createElement(qke,null),l&&u.default.createElement(l,SR({},{isDragging:v})),u.default.createElement(wSe,null)),!d&&o===Eme.Failed&&u.default.createElement(rxe,{onClick:a}))},tRe=function(e){var t=e.clickable,n=void 0===t||t,r=e.id;return u.default.createElement(u.default.Fragment,null,n?u.default.createElement(kNe,{visible:!0}):u.default.createElement(xNe,null),r&&u.default.createElement(vDe,null),r&&u.default.createElement(zDe,null))},nRe=function(e){var t=e.clickable,n=void 0===t||t,r=ZEe().id,i=Ime().viewer,o=i.defaultCustomLayer||i.customLayer||(ple.defaultCustomLayerOptions.disabled?null:tRe);return u.default.createElement(exe,{style:{pointerEvents:n?"auto":"none"}},o&&u.default.createElement(o,SR({},{clickable:n,id:r})),u.default.createElement(jAe,null),u.default.createElement(YDe,null))},rRe=function(){return u.default.createElement(nRe,{clickable:!1})},iRe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];history.replaceState.apply(history,e),function(){var e=hfe();if(mfe!==e){var t=mfe;try{mfe=e;var n=bfe(Vde)||[],r=n.indexOf(t);r>=0&&(n.splice(r,1),rfe(pfe(t)));var i=n.indexOf(e);i>=0&&(n.splice(i,1),rfe(pfe(e))),n.push(e),yfe(Vde,n),yfe(Ude,e)}catch(e){throw mfe=t,e}}}()},oRe=function(e){var t,n,r=Xce(),o=Ime(),a=o.viewer,s=o.player,u=o.isTransitionEnd,l=o.startingPoint,c=tge(),d=i.useState(null),f=d[0],h=d[1],p=i.useState(!1),v=p[0],m=p[1];return t=function(){f&&u&&s.setSource({moment:c,playInfoList:f,playingPoint:l}).catch((function(e){r(Xve(e))}))},void 0===(n=[f,u])&&(n=[]),i.useEffect((function(){return kme()?t():window.addEventListener("load",t),function(){return window.removeEventListener("load",t)}}),n),i.useEffect((function(){var t,n,i;if("getUrl"in a){var o=a.getUrl(c);location.href.includes(o)||iRe({from:null===(t=null===history||void 0===history?void 0:history.state)||void 0===t?void 0:t.from,useRedirect:null===(n=null===history||void 0===history?void 0:history.state)||void 0===n?void 0:n.useRedirect,referer:encodeURIComponent(location.href),isMomentPage:!0,historyIndex:null===(i=null===history||void 0===history?void 0:history.state)||void 0===i?void 0:i.historyIndex},document.title,o)}e&&c.id?Gve.getPlayInfo(c).then((function(e){h(e),m(!0)})).catch((function(e){var t,n;c.id&&c.encodingType!==Nle.Done?r($ve(c.encodingType,c.userRelationType)):r(rme(SR(SR({},c),{error:Yve((null===(n=null===(t=e.response)||void 0===t?void 0:t.data)||void 0===n?void 0:n.error)||e)})))})):m(!1)}),[e]),{isPlayInfoLoaded:v,playInfoList:f}},aRe=function(e){var t=e.error,n=Xce(),r=Ime(),i=r.viewer,o=r.reset,a=ZEe();return t?!a.id&&Kve(t)?u.default.createElement(xwe,{title:t.code,description:t.message,onConfirm:function(){return bSe(i)}}):u.default.createElement(u.default.Fragment,null,u.default.createElement(nRe,null),Kve(t)?u.default.createElement(rxe,{onClick:function(){o(),n(ime(a))}}):u.default.createElement("div",{className:xEe},u.default.createElement(Twe,{message:t.message,separator:"\\n"}))):null},sRe=function(){var e=Ime().viewer,t=Zce((function(e){return e.error})),n=e.customErrorPanel||aRe;return u.default.createElement(n,{error:t})},uRe=SR({},Rle.isIE11()&&{left:0}),lRe={position:"absolute",top:0,left:0,right:0,marginRight:"auto",marginLeft:"auto"},cRe=new dme,dRe=function(t){var n,r=t.enabled,o=t.moment,a=xme(),s=Ime(),l=s.viewer,c=s.player,d=s.networkLoadingState,f=s.isRestored,h=s.startingPoint,p=gSe().logEvent,v=Xce(),m=Zce((function(e){return e.error})),g=i.useContext(Cme),y=g.viewerSize,b=g.playerSize,_=i.useContext(swe).flickingRef,E=i.useState(Eme.NotAvailable),w=E[0],S=E[1],T=i.useRef(null),k=function(){var t=Ime().player,n=tge().id,r=i.useState(!1),o=r[0],a=r[1];return i.useEffect((function(){var n=function(){return a(!0)};return t.on(e.PlayerEvents.MomentLoaded,n),function(){t.off(e.PlayerEvents.MomentLoaded,n)}}),[t]),i.useEffect((function(){a(!1)}),[n]),o}(),x=oRe(r&&!Wve(o.error)),A=x.isPlayInfoLoaded,P=x.playInfoList,O=A&&k;i.useEffect((function(){var e;O&&(null===(e=_.current)||void 0===e||e.resize())}),[O]),i.useEffect((function(){return r?(o.id&&p(Gwe.ScreenView,{screen:qwe.Player,momentId:o.id}),cRe.set((function(){return S(Eme.Loading)}),e.Delay.LoadingScreen),o.error&&Kve(o.error)&&a&&(v(rme({error:void 0})),v(ime(o)))):S(Eme.NotAvailable),function(){cRe.clear()}}),[r]),i.useEffect((function(){r&&(o.error?v(Xve(o.error)):v(Qve()))}),[r,o.error]),i.useEffect((function(){r&&O&&(S(Eme.Loaded),cRe.clear())}),[r,O]),i.useEffect((function(){if(r&&T.current&&P&&O){var e=P.map((function(e){var t,n;return(null===(n=null===(t=e.thumbnails)||void 0===t?void 0:t.sprites)||void 0===n?void 0:n[0])||null}));v(rme({sprites:e})),function(e){e.forEach((function(e){if(e)for(var t=e.totalPage,n=e.source,r=new Image,i=0;i<t;i++){var o=_Ee(n,i);r.src=o}}))}(e),c.moveInto(T.current)}}),[r,P,O]),i.useEffect((function(){m&&(l.emit(e.ViewerEvents.MomentError,{code:Qle[m.code]||m.code,message:m.message}),cRe.clear(),S(Eme.Failed))}),[m]);var C=f||Ale(h),I=i.useRef(null);return u.default.createElement("div",{className:wEe,style:y,ref:I},u.default.createElement(JEe.Provider,{value:{moment:o,enabled:r,$viewerContainer:I}},u.default.createElement(ADe,{enabled:r&&O},u.default.createElement(twe,null),u.default.createElement("div",{className:pEe(SEe,(n={},n[TEe]=!O||d===Eme.Failed,n)),ref:T,style:uRe}),w!==Eme.Failed&&u.default.createElement(bEe,{loading:!O&&w===Eme.Loading}),w===Eme.NotAvailable&&C&&u.default.createElement(BEe,{className:kEe,src:o.thumbnailUrl,style:SR(SR({},b),lRe)}),r&&O&&!Wve(m)?u.default.createElement(eRe,null):r&&Wve(m)?u.default.createElement(sRe,null):u.default.createElement(rRe,null))))},fRe=function(){var t=Xce(),n=Ime(),r=n.viewer,o=n.player,a=n.isPlaying,s=n.setPlaying,l=n.isTransitionEnd,c=n.reset,d=i.useRef(a),f=Zce((function(e){return e.moment})),h=f.items,p=f.currentIndex,v=i.useMemo((function(){var e=h.slice(Math.max(0,p-1),p+2);return{renderItems:e,renderIndex:e.findIndex((function(e){return e.id===h[p].id}))}}),[h,p]),m=v.renderItems,g=v.renderIndex,y=i.useContext(Cme).viewerSize,b=gSe().logEvent,_=i.useRef(null),E=i.useRef(!1),w=i.useState(!0),S=w[0],T=w[1],k=.2*y.width,x=DAe(),A=i.useCallback((function(){E.current=!0,d.current=a,s(!1)}),[a]),P=i.useCallback(XR((function(e){var t=e.currentTarget,n=null==t?void 0:t.getVisiblePanels();n&&n.forEach((function(e){var t=e.getElement().querySelector("#".concat(WEe)),n=Math.abs(e.getProgress())<.5;t&&(n&&t.classList.contains(GEe)?t.classList.remove(GEe):n||t.classList.contains(GEe)||t.classList.add(GEe))}))}),e.Delay.FlickingMove),[]),O=i.useCallback((function(n){if(-1!==g&&n.index!==g){if(o.destroy(),t(fhe(e.LayerState.Info)),t(Qve()),t(vme()),c(),n.index<g?(t(sme(p-1)),p-1<=0&&t(ome())):n.index>g&&(t(sme(p+1)),p+1>=h.length-1&&t(ame())),t({type:qve.RefreshList}),s(!0),n.isTrusted){var r=n.index>g;fEe(n.currentTarget.wrapper,r?Cwe.NextMoment:Cwe.PrevMoment),b(Gwe.Scroll,{screen:qwe.Player,category:r?Wwe.NextMoment:Wwe.PrevMoment})}}else d.current&&s(!0);E.current=!1}),[g,h.length,p,b]);return i.useEffect((function(){!r.isSingleMoment&&l&&(t(ome()),t(ame()))}),[r,l]),i.useEffect((function(){var e,t;x||!S?null===(e=_.current)||void 0===e||e.disableInput():null===(t=_.current)||void 0===t||t.enableInput()}),[x,S]),i.useEffect((function(){_.current&&(_.current.flicking.options.threshold=k)}),[k]),i.useEffect((function(){r.prevMoment=h[p-1],r.nextMoment=h[p+1]}),[h,p]),i.useEffect((function(){var e;null===(e=_.current)||void 0===e||e.resize()}),[y.height]),u.default.createElement(swe.Provider,{value:{flickingRef:_,isFlicking:E,setFlicking:T}},u.default.createElement(aEe,{ref:_,autoResize:!0,bounce:!r.isSingleMoment&&Rle.isMobile()?"100%":"0%",threshold:k,gap:2,renderOnlyVisible:!0,defaultIndex:g,onMoveStart:A,onMove:P,onMoveEnd:O},m.map((function(e,t){return u.default.createElement(dRe,{key:e.id,enabled:g===t,moment:e})}))))},hRe=function(){return HNe().replace(/-/g,"")},pRe=function(e){return xTe(new Date(e),"yyyy-MM-dd'T'HH:mm:ss.SSSxxx")},vRe=function(e){var t=e.start,n=e.end,r=Math.floor(1e3*t),i=Math.floor(1e3*n);return{mediaStartTime:r,mediaEndTime:i,playTime:i-r,loggedTime:Date.now()}},mRe=function(e){var t=e.moment,n=e.playId,r=e.logStart,i=e.statsType,o=e.logs,a=void 0===o?[]:o,s=e.referer,u=t.blogId,l=t.duration,c=t.momentId,d=[{event_ts:pRe(Date.now())}],f=Math.max.apply(Math,a.map((function(e){return e.loggedTime}))),h=a.map((function(e){return{media_start_time:e.mediaStartTime,media_end_time:e.mediaEndTime,play_time:e.playTime,event_ts:pRe(f)}}));return{channel:u,moment_id:c,moment_length:1e3*l,osid:2,h:i,play_ts:pRe(r),playInfos:i===Hpe.PlayCount?d:h,play_id:n,sid:"2",url:location.href,referer:s}},gRe=function(){var t=Ime().player,n=Zxe().isIndexChanging,r=i.useRef(0),o=i.useRef(0),a=i.useState(!0),s=a[0],u=a[1],l=i.useState(ece),c=l[0],d=l[1],f=function(){r.current=0,o.current=0};return i.useEffect((function(){u(n)}),[n]),i.useEffect((function(){var n=function(){if(!s){var e=t.getAccumulatedCurrentTime(),n=e-o.current;(n>1||n<0)&&(o.current-r.current>.1&&d({start:r.current,end:o.current}),r.current=e),o.current=e}},i=function(){f(),u(!1)},a=function(){o.current-r.current>.1&&d({start:r.current,end:o.current}),f(),u(!0)};return t.on(e.PlayerEvents.TimeUpdate,n),t.on(e.PlayerEvents.MomentLoaded,i),t.on(e.PlayerEvents.MomentEnded,a),function(){t.off(e.PlayerEvents.TimeUpdate,n),t.off(e.PlayerEvents.MomentLoaded,i),t.off(e.PlayerEvents.MomentEnded,a)}}),[t,s]),{playRange:c,start:r.current,end:o.current}},yRe=Ple&&"onpagehide"in window,bRe="pagehide",_Re=function(){var e,t;return(null===(e=null===history||void 0===history?void 0:history.state)||void 0===e?void 0:e.from)?decodeURIComponent(null===(t=null===history||void 0===history?void 0:history.state)||void 0===t?void 0:t.from):document.referrer},ERe=function(){var t=Ime(),n=t.player,r=t.viewer,o=t.isTransitionEnd,a=tge();!function(){var t=Ime().player,n=i.useRef(),r=i.useRef(),o=i.useState(0),a=o[0],s=o[1],u=i.useState(0),l=u[0],c=u[1],d=i.useRef(0),f=i.useRef(0),h=i.useRef(0),p=i.useRef(0),v=gRe(),m=v.playRange,g=v.start,y=v.end,b=function(e){var t=e.count,i=e.duration;if(t>0&&i>0){var o={count:t,duration:Math.floor(1e3*i),accessUrl:Wpe.Viewer};n.current&&r.current?Bve.stats.updateInternalStats(SR({id:n.current,createdDate:r.current},o)):Bve.stats.registerInternalStats(o).then((function(e){var t=e.index.split(".")[1];e.id&&(n.current=e.id),t&&(r.current=t)}))}};i.useEffect((function(){var n=function(){s((function(e){var t=e+1;return h.current=t,t}))};return t.on(e.PlayerEvents.MomentLoaded,n),function(){t.off(e.PlayerEvents.MomentLoaded,n)}}),[t]),i.useEffect((function(){var e=m.end-m.start;e>0&&c((function(t){var n=t+e;return p.current=n,n}))}),[m]),i.useEffect((function(){b({count:a,duration:l})}),[a,l]),i.useEffect((function(){d.current=g,f.current=y}),[g,y]),i.useEffect((function(){return function(){f.current-d.current>0&&b({count:h.current,duration:p.current+(f.current-d.current)})}}),[])}();var s=i.useState(Date.now()),u=s[0],l=s[1],c=i.useState(hRe()),d=c[0],f=c[1],h=i.useState(0),p=h[0],v=h[1],m=function(e){var t=i.useState({previous:void 0,current:e}),n=t[0],r=n.previous,o=n.current,a=t[1],s=i.useCallback((function(e){a((function(t){return{previous:t.current,current:e}}))}),[]);return{previous:r,current:o,update:s}}(_Re()),g=m.previous,y=m.current,b=m.update,_=i.useRef(0),E=i.useRef(0),w=gRe(),S=w.playRange,T=w.start,k=w.end,x=function(e){if(e.start<e.end&&d){var t=mRe({statsType:Hpe.PlayTime,playId:d,moment:a,logStart:u,logs:[vRe(e)],referer:p>1?g||"":_Re()});Bve.stats.registerCommonStats(t)}};i.useEffect((function(){var t=function(){var t=hRe(),i=Date.now(),s=mRe({statsType:Hpe.PlayCount,playId:t,moment:a,logStart:i,referer:p>0?y:_Re()}),u=function(){return Bve.stats.registerCommonStats(s)},c=function(){return Zoe.log(n.core,"customInfo.serviceContentId",String(a.momentId))};o?(u(),c()):r.once(e.ViewerEvents.OpenTransitionEnd,(function(){u(),c()})),l(i),f(t),v((function(e){return e+1})),b(location.href)};return n.on(e.PlayerEvents.MomentLoaded,t),function(){n.off(e.PlayerEvents.MomentLoaded,t)}}),[n,r,a,d,p,y,u,o]),i.useEffect((function(){x(S)}),[S]),i.useEffect((function(){_.current=T,E.current=k}),[T,k]),i.useEffect((function(){return function(){x({start:_.current,end:E.current})}}),[]);var A,P=i.useCallback((function(){var e={start:_.current,end:E.current},t=mRe({statsType:Hpe.PlayTime,playId:d,moment:a,logStart:u,logs:[vRe(e)],referer:p>1?g||"":_Re()});Bve.stats.registerCommonStatsBeacon(t)}),[a,d,u,p,g]);return A=P,i.useEffect((function(){return yRe&&window.addEventListener(bRe,A),function(){yRe&&window.removeEventListener(bRe,A)}}),[A]),null},wRe=function(){var t,n,r,o,a,s=Ime(),l=s.viewer,c=s.player,d=ige(),f=d.viewerRef,h=d.viewerSize,p=d.layerSize,v=d.playerSize;return i.useEffect((function(){var t=function(){return l.emit(e.ViewerEvents.IndexChange,{currentIndex:c.currentIndex})};return c.on(e.PlayerEvents.IndexChange,t),function(){c.off(e.PlayerEvents.IndexChange,t)}}),[c]),a={light:"black",dark:"black"},i.useEffect((function(){var e=document.createElement("template");if(e.content){e.innerHTML=Object.entries(a).map((function(e){var t=e[0],n=e[1];return'<meta name="theme-color" content="'.concat(n,'" media="(prefers-color-scheme: ').concat(t,')">')})).join("");var t=Array.from(e.content.children);return document.head.insertBefore(e.content,document.head.firstChild),function(){t.forEach((function(e){document.head.removeChild(e)}))}}}),[]),u.default.createElement(Cme.Provider,{value:{viewerSize:h,playerSize:v,layerSize:p}},u.default.createElement(mSe,{config:null===(n=null===(t=null==l?void 0:l.log)||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.config},(null===(r=l.use)||void 0===r?void 0:r.playCount)&&u.default.createElement(oge,null),u.default.createElement(age,null,u.default.createElement("div",{ref:f,className:l.viewerContainerClassName},Sle(h)&&u.default.createElement(fRe,null))),(null===(o=null==l?void 0:l.log)||void 0===o?void 0:o.commonStat)&&u.default.createElement(ERe,null)))};function SRe(t){var n=t.store,r=t.viewer,o=t.player,a=t.audioPlayers,s=t.playingPoint,l=a[0],c=a[1];return i.useEffect((function(){var t=function(e){n.dispatch(fhe(e))};return r.on(e.ViewerEvents.UpdateLayerState,t),function(){r.off(e.ViewerEvents.UpdateLayerState,t)}}),[r]),i.useEffect((function(){return function(){var e,t;(null===(e=ple.defaultCustomLayerOptions.socialPlugin)||void 0===e?void 0:e.disabled)||(null===(t=Ede.getPluginInstance(KEe))||void 0===t||t.kill(),Ede.kill(null,{instanceKey:KEe}))}}),[]),u.default.createElement(bce,{store:n},u.default.createElement(Sme,{viewer:r},u.default.createElement(Ome,{player:o,playingPoint:s},u.default.createElement(oOe,{stickerAudioPlayer:l,layerAudioPlayer:c},u.default.createElement(wRe,null)))))}function TRe(t){var n,r=t.props,i=t.store,o=t.momentDataResult,a=t.userDataResult,s=r.playingPoint,u=r.viewer,l=Yfe.get(Bfe),c=Yfe.get(zfe),d=u.openType===e.ViewerOpenType.Page;return i.dispatch(ume(o)),i.dispatch(ihe(a)),d&&l&&i.dispatch((n=SR(SR({},l),{isExtraLayerVisible:!1}),{type:nhe.Set,payload:n})),SR(SR({playingPoint:d?c:s},r),{store:i})}function kRe(e){var t=e.props,n=e.store,r=e.momentDataResult;return n.dispatch(ume(r)),SR(SR({},t),{store:n,playingPoint:Xae})}function xRe(e,n){return xR(this,void 0,void 0,(function(){var r,i,o,a,s,l,c,d,f,h;return AR(this,(function(p){switch(p.label){case 0:r=n.viewer,i=n.moment,o=_me(r),p.label=1;case 1:return p.trys.push([1,4,5,6]),[4,Gve.getMoment(i)];case 2:return c=p.sent(),[4,Gve.getAuthData()];case 3:return d=p.sent(),s=c,l=d,a=TRe,function(){var e=Tfe.parse(location.search,{decode:!1}).useRedirect,t=sessionStorage.getItem(Kfe);if(e&&t){var n=JSON.parse(t);Object.entries(n).forEach((function(e){var t=e[0],n=e[1];Yfe.set(t,n)}))}}(),[3,6];case 4:return f=p.sent(),s=SR(SR({},i),{error:f}),a=kRe,[3,6];case 5:return h=null==a?void 0:a({store:o,props:n,momentDataResult:s,userDataResult:l}),t.render(u.default.createElement(SRe,SR({},h)),e),sessionStorage.removeItem(Kfe),[7];case 6:return[2]}}))}))}var ARe={isSingleMoment:!1,ratio:e.ViewerRatio.FitWidth,customLayer:void 0,defaultCustomLayer:void 0,viewerContainerClassName:void 0,log:void 0,use:{},customErrorPanel:void 0},PRe=function(n){function r(t,r,i){var o=this,a=r.coreOptions,s=r.serviceConfig,u=r.serviceData,l=r.intl,c=TR(r,["coreOptions","serviceConfig","serviceData","intl"]),d=void 0===i?{}:i,f=d.required,h=void 0===f?[]:f,p=d.optional,v=void 0===p?{}:p;return(o=n.call(this)||this).isSingleMoment=!1,o.ratio=e.ViewerRatio.FitWidth,o.opened=!1,o.loadedMoment=null,o.isInitialMuted=!0,o.handleMomentLoaded=function(t){var n,r=t.moment;(null===(n=o.loadedMoment)||void 0===n?void 0:n.id)!==(null==r?void 0:r.id)&&(o.loadedMoment=r),o.emit(e.ViewerEvents.MomentLoaded,r)},o.handleTimeUpdate=function(){if(o.container&&o.player&&o.opened){var e=o.player.getCurrentPoint(),t=o.player.getAccumulatedCurrentTime(),n=o.player.getTotalDuration();Yfe.set(zfe,e),Yfe.set(Gfe,t/n)}},o.throttledTimeUpdate=XR(o.handleTimeUpdate,e.Delay.TimeUpdate),ale.initialize(l),o.container=ble(t),o.container?(h.forEach((function(e){var t=c[e];if(void 0===t)throw new Error("Required option not given: ".concat(e));o[e]=t})),Object.entries(SR(SR({},ARe),v)).forEach((function(e){var t=e[0],n=e[1];o[t]=c[t]||n})),ple.initialize(s),o.registerServiceData(u),o.player=new cce(a),o.audioPlayers=[new Pve({requireUnlock:!0}),new Pve],o.renderApp=c.renderApp||xRe,o):o}return wR(r,n),r.prototype.attachEvent=function(){this.player.on(e.PlayerEvents.MomentLoaded,this.handleMomentLoaded),this.player.on(e.PlayerEvents.TimeUpdate,this.throttledTimeUpdate)},r.prototype.detachEvent=function(){this.player.off(e.PlayerEvents.MomentLoaded,this.handleMomentLoaded),this.player.off(e.PlayerEvents.TimeUpdate,this.throttledTimeUpdate)},r.prototype.render=function(e){if(!this.container)return Promise.reject();Rle.isNaverApp()&&Rle.isIos()&&(location.href="naverapp://setstatusbar?color=1E1E1E&style=1");var t=SR(SR({},e),{viewer:this,player:this.player,audioPlayers:this.audioPlayers});return this.renderApp(this.container,t)},r.prototype.destroy=function(){this.container&&t.unmountComponentAtNode(this.container),this.opened=!1,this.detachEvent(),this.player.resetConsecutivePlayCount(),this.player.destroy(),this.player.core.src="",Rle.isNaverApp()&&Rle.isIos()&&(location.href="naverapp://setstatusbar?cancel=true")},r.prototype.updateIndex=function(e){var t=this.player.currentIndex,n="function"==typeof e?e(t):e;return this.player.changeIndex(n)},r.prototype.prev=function(){this.emit(e.ViewerEvents.Prev)},r.prototype.next=function(){this.emit(e.ViewerEvents.Next)},r.prototype.getPlayerState=function(){return{isPaused:this.player.core.paused,currentIndex:this.player.currentIndex,totalIndex:this.player.totalIndex}},r.prototype.registerServiceData=function(e){Gve.initialize(e,this.use)},r}(CR),ORe=function(t){function n(e,n){return t.call(this,e,SR(SR({},n),{serviceConfig:SR(SR({},null==n?void 0:n.serviceConfig),{defaultCustomLayerOptions:{disabled:!0,reaction:{disabled:!0},socialPlugin:{disabled:!0}}})}))||this}return wR(n,t),n.prototype.show=function(t,n){return xR(this,void 0,void 0,(function(){return AR(this,(function(r){switch(r.label){case 0:if(!this.container||!this.player||!t)return[2];this.opened&&this.destroy(),this.opened=!0,this.loadedMoment=null,this.attachEvent(),this.emit(e.ViewerEvents.Open,{moment:t,playingPoint:(null==n?void 0:n.playingPoint)||Xae}),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.render(SR({moment:t},n))];case 2:return r.sent(),[3,4];case 3:return r.sent(),this.opened=!1,[3,4];case 4:return[2]}}))}))},n}(PRe),CRe={timeout:300},IRe="naverapp://fullscreen";function LRe(){return new Promise((function(e){location.href=IRe+"?top=show&bottom=show",e()}))}function NRe(){return e=IRe,t=window.naverapp_sizeChange_response,new Promise((function(n){var r=null;window.naverapp_sizeChange_response=function(){r&&(window.clearTimeout(r),r=null),t(),n()},location.href=e,r=window.setTimeout((function(){window.naverapp_sizeChange_response=t,n()}),CRe.timeout)}));var e,t}function DRe(){var e=Yfe.get(Hfe)||{},t=e.html||{},n=e.body||{};return{html:{overflow:t.overflow,height:t.height},body:{overflow:n.overflow,overscrollBehaviorY:n.overscrollBehaviourY,height:n.height}}}function RRe(){var e=DRe(),t=e.html,n=e.body,r=document.documentElement.style,i=document.body.style;Yfe.set(Hfe,{html:{overflow:r.overflow||t.overflow,height:r.height||t.height},body:{overflow:i.overflow||n.overflow,overscrollBehaviorY:i.overscrollBehaviorY||n.overscrollBehaviorY,height:i.height||n.height}})}function MRe(){!function(){RRe();var e="calc(var(".concat(nge,") - 1px)");document.documentElement.style.overflow="hidden",document.documentElement.style.height=e,document.body.style.overscrollBehaviorY="contain",document.body.style.overflow="hidden",document.body.style.height=e}()}function jRe(){!function(){var e,t,n,r,i,o=DRe(),a=o.html,s=o.body;document.documentElement.style.overflow=null!==(e=a.overflow)&&void 0!==e?e:null,document.documentElement.style.height=null!==(t=a.height)&&void 0!==t?t:null,document.documentElement.style.removeProperty(nge),document.body.style.overscrollBehaviorY=null!==(n=s.overscrollBehaviorY)&&void 0!==n?n:null,document.body.style.overflow=null!==(r=s.overflow)&&void 0!==r?r:null,document.body.style.height=null!==(i=s.height)&&void 0!==i?i:null,document.body.style.removeProperty(nge)}(),Rle.isIos()&&window.dispatchEvent(new Event("resize"))}var FRe="FullScreenViewer_wrap__A-48S",VRe=["openType","getUrl"],URe={closable:!0},BRe=function(t){function n(e,n,r){var i=(void 0===r?{}:r).optional,o=void 0===i?{}:i,a=t.call(this,e,SR(SR({},n),{viewerContainerClassName:FRe}),{required:VRe,optional:SR(SR({},URe),o)})||this;return a.closable=!0,a.isClosing=!1,a.initializeContainer(),a}return wR(n,t),n.prototype.initializeContainer=function(){var e;this.setContainerStyle({display:"none"}),Rle.isIE11()&&this.setContainerStyle({position:"relative"}),null===(e=this.container)||void 0===e||e.classList.add(HEe,this.openType)},n.prototype.destroy=function(){t.prototype.destroy.call(this),this.container&&this.setContainerStyle({visibility:"hidden"}),this.isClosing=!1},n.prototype.show=function(t,n){return xR(this,void 0,void 0,(function(){return AR(this,(function(r){switch(r.label){case 0:if(!this.container||!this.player||this.opened||!t)return[2];RRe(),this.onBeforeRender(),this.emit(e.ViewerEvents.Open,{moment:t,playingPoint:(null==n?void 0:n.playingPoint)||Xae}),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.render(SR({moment:t},n))];case 2:return r.sent(),[3,4];case 3:return r.sent(),this.opened=!1,Rle.isNaverApp()&&LRe(),[2];case 4:return this.changeUrl(t),this.onRenderComplete(),[2]}}))}))},n.prototype.onBeforeRender=function(){this.setContainerStyle({display:"block"}),this.opened=!0,this.loadedMoment=null,this.attachEvent()},n.prototype.onRenderComplete=function(){var e;this.setContainerStyle({visibility:"visible"}),null===(e=this.container)||void 0===e||e.classList.add("active"),function(e){var t=void 0===e?{}:e,n=t.clickLog,r=t.pageLog,i=Rle.isMobile(),o=n&&(i?n.mobile:n.pc),a=r&&(i?r.mobile:r.pc);o&&uEe.initialize({serviceCode:o}),a&&cEe.log({sti:a}),dEe=!!o}(this.log)},n.prototype.hide=function(){if(this.container&&this.opened&&kme()){this.container.classList.remove("active"),Rle.isNaverApp()&&LRe();var t=this.player.getCurrentPoint(),n=t.index,r=t.currentTime;this.emit(e.ViewerEvents.Close,{moment:this.loadedMoment,index:n,currentTime:r})}},n.prototype.close=function(){this.player.pause()},n.prototype.setContainerStyle=function(e){var t=this;this.container&&Object.keys(e).forEach((function(n){t.container.style[n]=e[n]}))},n}(PRe),zRe=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.handlePopState=function(e){var t;(null===(t=e.state)||void 0===t?void 0:t.isMomentPage)||n.hide()},n.handleTransitionEnd=function(t){var r=t.target.isSameNode(t.currentTarget)&&"transform"===t.propertyName,i=t.target.classList.contains("active");n.container&&r&&(i?(MRe(),n.emit(e.ViewerEvents.OpenTransitionEnd)):n.destroy())},n}return wR(n,t),n.prototype.attachEvent=function(){var e;t.prototype.attachEvent.call(this),window.addEventListener("popstate",this.handlePopState),null===(e=this.container)||void 0===e||e.addEventListener("transitionend",this.handleTransitionEnd)},n.prototype.detachEvent=function(){var e;t.prototype.detachEvent.call(this),window.removeEventListener("popstate",this.handlePopState),null===(e=this.container)||void 0===e||e.removeEventListener("transitionend",this.handleTransitionEnd)},n.prototype.onBeforeRender=function(){t.prototype.onBeforeRender.call(this),Rle.isNaverApp()&&NRe()},n.prototype.changeUrl=function(e){var t=encodeURIComponent(location.href);!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];history.pushState.apply(history,e),_fe()}({from:t,referer:t,isMomentPage:!0,historyIndex:history.length+1},document.title,this.getUrl(e))},n.prototype.hide=function(){t.prototype.hide.call(this),jRe()},n.prototype.close=function(){t.prototype.close.call(this),this.closable&&(!this.isClosing&&history.back(),this.isClosing=!0)},n}(BRe),GRe={autoClose:!1},qRe=function(e){function t(t,n){var r=e.call(this,t,n,{optional:GRe})||this;return r.isHistoryGoingBack=!1,r}return wR(t,e),t.prototype.onBeforeRender=function(){e.prototype.onBeforeRender.call(this),Rle.isNaverApp()&&LRe()},t.prototype.changeUrl=function(e){var t,n=Tfe.parse(location.search,{decode:!1}),r=n.from,i=n.useRedirect,o=SR({isMomentPage:!0,historyIndex:(null===(t=history.state)||void 0===t?void 0:t.historyIndex)||history.length},r?{from:r,useRedirect:i,referer:r}:{});iRe(o,document.title,this.getUrl(e))},t.prototype.hide=function(){e.prototype.hide.call(this),this.setContainerStyle({display:"none"}),this.destroy()},t.prototype.close=function(){var t,n,r,i,o=this;e.prototype.close.call(this),this.closable&&(((null===(t=history.state)||void 0===t?void 0:t.historyIndex)||history.length)<=1||window.opener?window.close():(null===(n=history.state)||void 0===n?void 0:n.from)&&(null===(r=history.state)||void 0===r?void 0:r.useRedirect)?window.location.href=decodeURIComponent(null===(i=history.state)||void 0===i?void 0:i.from):(window.addEventListener("popstate",(function(){o.isHistoryGoingBack=!0}),{once:!0}),history.back(),setTimeout((function(){o.isHistoryGoingBack||window.close()}),200)))},t}(BRe);function HRe(t,n){switch(n.openType){case e.ViewerOpenType.Inline:return new ORe(t,n);case e.ViewerOpenType.Layer:return new zRe(t,n);case e.ViewerOpenType.Page:default:return new qRe(t,n)}}var WRe,KRe=u.default.createContext({}),YRe=function(e){var t=e.player,n=e.children;return u.default.createElement(KRe.Provider,{value:{player:t}},n)},XRe="index_container__buppv",$Re="index_thumbnail__tP5JX",QRe="index_loading__EFHXy",JRe={position:"relative"},ZRe=function(t){var n,r=t.moment,o=t.playingPoint,a=void 0===o?Xae:o,s=t.onClick,l=t.onEnd,c=t.onLoad,d=t.onError,f=i.useContext(KRe).player,h=i.useState(!0),p=h[0],v=h[1],m=(r.meta||{}).resolution,g=function(e){var t=e.resolution,n=Ime().player,r=ege(),o=r[0],a=r[1],s=i.useRef(null),u=i.useMemo((function(){return kle({size:a,resolution:t})}),[a,t]),l=i.useMemo((function(){var e=a.width,n=e>a.height,r={width:"100%",height:"100%"};return e<gle.Portrait?r:n?e<gle.Landscape?r:u:Tle({size:a,resolution:t}).width>e?r:u}),[u,a,t]);return i.useEffect((function(){n.setShadowRootSize(u)}),[n,u]),{viewerRef:o,videoRef:s,viewerSize:a,layerSize:l,playerSize:u}}({resolution:void 0===m?Zle:m}),y=g.viewerRef,b=g.videoRef,_=g.layerSize,E=i.useMemo((function(){return phe(r.meta.thumbnailUrl,she.FeedList)||""}),[r.meta.thumbnailUrl]),w=i.useMemo((function(){return SR(SR({},_),{position:"absolute"})}),[_]),S=i.useCallback((function(){var e=f.getCurrentPoint();f.pause(),null==s||s(r.meta,e)}),[f,r,s]);return i.useEffect((function(){f&&r.meta&&b.current&&r.playInfoList.length&&(v(!0),f.setSource({moment:r.meta,playInfoList:r.playInfoList,playingPoint:a}).then((function(){f.moveInto(b.current)})))}),[f,b.current,r]),i.useEffect((function(){var t=function(){null==c||c(),f.play(),v(!1)},n=function(){return null==l?void 0:l()},r=function(e){return null==d?void 0:d(e)};return f.on(e.PlayerEvents.MomentLoaded,t),f.on(e.PlayerEvents.MomentEnded,n),f.on(e.PlayerEvents.Error,r),function(){f.off(e.PlayerEvents.MomentLoaded,t),f.off(e.PlayerEvents.MomentEnded,n),f.off(e.PlayerEvents.Error,r)}}),[f,c,l,d,a]),u.default.createElement("div",{className:XRe,ref:y,onClick:S,style:JRe},u.default.createElement("div",{ref:b}),u.default.createElement("div",{style:w},u.default.createElement("img",{className:pEe($Re,(n={},n[QRe]=p,n)),src:E,width:"100%",height:"100%",alt:"".concat(r.meta.title||""," ").concat(sle("label.moment"))}),p?u.default.createElement(yEe,null):u.default.createElement(bEe,{loading:p})))},eMe=function(e){var t=i.useState(!1),n=t[0],r=t[1],o=e.env,a=e.onInitialize,s=i.useMemo((function(){return new cce({preload:"none"})}),[]);return i.useEffect((function(){n||(ple.initialize({env:o}),r(!0))}),[o,n]),i.useEffect((function(){s&&(null==a||a(s))}),[s]),{isInitialized:n,player:s}};e.LottieGroup=void 0,(WRe=e.LottieGroup||(e.LottieGroup={})).Active="active",WRe.Fancy="fancy",WRe.Mono="mono",WRe.Picnic="picnic",WRe.Plain="plain",WRe.Retro="retro",WRe.Romantic="romantic",WRe.Senti="sentimental",WRe.Spring="spring",WRe.Sweet="sweet",WRe.Daily="daily",WRe.Cozy="cozy";var tMe=function(){function e(){this.cacheMap={}}return e.prototype.fetchUrls=function(){return Bve.style.getCoverLottie().then((function(e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n][0],t}),{})}))},e.prototype.fetchLottieJson=function(e){var t=e.url;return Ype.get("".concat(t,"?requestedDate=").concat(Date.now())).then((function(e){return e.data}))},e.prototype.getUrl=function(e){return this.lottieInfos[e]},e.prototype.getLottieData=function(e){return xR(this,void 0,void 0,(function(){var t,n=this;return AR(this,(function(r){switch(r.label){case 0:return e?this.cacheMap[e]?[2,Promise.resolve(this.cacheMap[e])]:this.lottieInfos?[3,2]:(t=this,[4,this.fetchUrls()]):[2,Promise.resolve()];case 1:t.lottieInfos=r.sent(),r.label=2;case 2:return[2,this.fetchLottieJson(this.getUrl(e)).then((function(t){return n.cacheMap[e]=t,t}))]}}))}))},e}(),nMe=new tMe,rMe={position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},iMe={preserveAspectRatio:"xMidYMid meet",viewBoxOnly:!0};e.BlogMomentInlinePlayer=function(e){var t=e.blogId,n=e.docNo,r=TR(e,["blogId","docNo"]).onError,o=i.useState(),a=o[0],s=o[1],l=i.useState(!1),c=l[0],d=l[1],f=eMe(e),h=f.isInitialized,p=f.player;return i.useEffect((function(){h&&t&&n&&(d(!1),Promise.all([Bve.blog.getMoment({blogId:t,docNo:n}),Bve.blog.getPlayInfo({blogId:t,docNo:n})]).then((function(e){var t=e[0],n=e[1];s({meta:t,playInfoList:n}),d(!0)})).catch((function(e){return null==r?void 0:r(e)})))}),[h,t,n]),h&&c&&a?u.default.createElement(Ome,{player:p},u.default.createElement(YRe,{player:p},u.default.createElement(ZRe,SR({moment:a},e)))):null},e.ControlLayer=ZDe,e.DEFAULT_PLAYING_POINT=Xae,e.DefaultControlLayer=tRe,e.FLICKING_TRANSITION_DURATION=_R,e.FullScreenViewer=BRe,e.InlineViewer=ORe,e.MIN_RETRY_WAIT_DURATION=1e3,e.MomentError=aRe,e.MomentInlinePlayer=function(e){var t=e.viewer,n=TR(e,["viewer"]),r=eMe(n),i=r.isInitialized,o=r.player,a=_me(t);return i?u.default.createElement(bce,{store:a},u.default.createElement(Sme,{viewer:t},u.default.createElement(Ome,{player:o},u.default.createElement(YRe,{player:o},u.default.createElement(ZRe,SR({},n)))))):null},e.MomentStyle=function(t){var n=t.group,r=t.styles,o=void 0===r?{}:r,a=t.className,s=void 0===a?"":a,l=t.loop,c=void 0===l||l,d=t.children,f=i.useMemo((function(){return function(e,t){return Object.values(e).some((function(e){return e===t}))}(e.LottieGroup,n)}),[n]),h=i.useState(),p=h[0],v=h[1];return i.useEffect((function(){nMe.getLottieData(n).then((function(e){e&&v(e)}))}),[n]),f&&p?u.default.createElement("div",{className:s,style:o},d,u.default.createElement(iAe,{animationData:p,rendererSettings:iMe,options:{loop:c},styles:rMe})):null},e.createMomentViewer=HRe,e.disableScroll=MRe,e.enableScroll=jRe,e.useFirebase=gSe,e.useGestureContext=SDe,e.useMomentAuthData=LDe,e.useMomentData=IDe,e.useMomentLayer=function(){var e=Xce();return{showCustomLayer:function(t){e(dhe({popupState:the.Custom,customComponent:t}))},closeLayer:function(){return e(dhe({popupState:the.None}))}}},e.useMomentToast=ESe,e.useMomentViewer=function(e){var t=i.useState(null),n=t[0],r=t[1],o=i.useState(),a=o[0],s=o[1],u=i.useCallback((function(e){null!==e&&s(e)}),[]);return i.useEffect((function(){if(a){var t=HRe(a,e);r(t)}}),[a]),i.useEffect((function(){return function(){null==n||n.destroy()}}),[n]),i.useEffect((function(){null==n||n.registerServiceData(e.serviceData)}),[n,e.serviceData]),[n,u]},e.usePanelMoment=ZEe,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(73961),n(89526))}}]);
